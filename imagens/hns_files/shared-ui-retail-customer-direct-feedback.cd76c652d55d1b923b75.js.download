/*@license For license information please refer to shared-ui-retail-customer-direct-feedback.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[8688],{20465:function(e,n,t){t.d(n,{CW:function(){return Vt},Fk:function(){return Me},jE:function(){return Ft}});var a=t(56195),r=t(43888),i=t(934),o=t(89438),c=t(23726),l=t(97778),u=t(70882),d=t(51213),m=t(46559),s=t(4611),f=t(91056),p=t(10554),g=t(50270),v=t(1226),b=t(47540),E=t(64341),y=t(522),k=t(99828),h=t(47958),D=t(73492),S=t(42534),F=t(74071),I=t(70833),x=t(32380),C=t(89962),_=t(2557),G=t(27102),T=t(37292),P=t(72402),N=t(92444),L=t(64512),A=t(4664),O=t(56934),w=t(66862),R=t(76580),B=t(29366),M=t(87993),V=t(30169),U=t(9010),j=t(36145),J=t(76606),q=t(95519);function H(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function $(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Q(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function X(e){return X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},X(e)}function W(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.forEach(function(n){Q(e,n,t[n])})}return e}function Y(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e}function Z(e,n){return Z=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},Z(e,n)}function ee(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var a,r,i=[],o=!0,c=!1;try{for(t=t.call(e);!(o=(a=t.next()).done)&&(i.push(a.value),!n||i.length!==n);o=!0);}catch(l){c=!0,r=l}finally{try{o||null==t.return||t.return()}finally{if(c)throw r}}return i}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return H(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return H(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function te(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function ae(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var t,a=X(e);if(n){var r=X(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return function(e,n){return!n||"object"!==te(n)&&"function"!=typeof n?z(e):n}(this,t)}}function re(){var e=ne(["\n  fragment EGDSIconFragment on Icon {\n    __typename\n    description\n    id\n    size\n    theme\n    title\n    withBackground\n  }\n"]);return re=function(){return e},e}function ie(){var e=ne(["\n  fragment EGDSIconTextFragment on EGDSIconText {\n    icon {\n      ...EGDSIconFragment\n    }\n    text\n  }\n\n  ","\n"]);return ie=function(){return e},e}function oe(){var e=ne(["\n  fragment EGDSInlineLinkFragment on EGDSInlineLink {\n    uiLinkAction: action {\n      accessibility\n      analytics {\n        linkName\n        referrerId\n      }\n      resource {\n        value\n      }\n      target\n    }\n    disabled\n    size\n    text\n  }\n"]);return oe=function(){return e},e}function ce(){var e=ne(["\n  fragment EGDSPlainTextFragment on EGDSPlainText {\n    __typename\n    text\n  }\n"]);return ce=function(){return e},e}function le(){var e=ne(["\n  fragment EGDSStandardLinkFragment on EGDSStandardLink {\n    uiLinkAction: action {\n      accessibility\n      analytics {\n        linkName\n        referrerId\n      }\n      resource {\n        value\n      }\n      target\n    }\n    disabled\n    standardLinkIcon: icon {\n      ...EGDSIconFragment\n    }\n    iconPosition\n    size\n    text\n  }\n\n  ","\n"]);return le=function(){return e},e}function ue(){var e=ne(["\n  fragment EGDSTextFragment on EGDSText {\n    __typename\n    text\n    ...EGDSPlainTextFragment\n    ...EGDSInlineLinkFragment\n    ...EGDSStandardLinkFragment\n    ...EGDSIconTextFragment\n  }\n\n  ","\n  ","\n  ","\n  ","\n"]);return ue=function(){return e},e}function de(){var e=ne(["\n  fragment EGDSSpannableTextFragment on EGDSSpannableText {\n    __typename\n    text\n    egdsElementId\n    contents {\n      ...EGDSTextFragment\n    }\n  }\n\n  ","\n"]);return de=function(){return e},e}function me(){var e=ne(["\n  fragment DirectFeedbackTextListFragment on DirectFeedbackTextList {\n    __typename\n    bullet\n    listItems {\n      egdsElementId\n      icon {\n        ...EGDSIconFragment\n      }\n      text {\n        ...EGDSSpannableTextFragment\n      }\n      style\n    }\n  }\n\n  ","\n  ","\n"]);return me=function(){return e},e}function se(){var e=ne(["\n  fragment EGDSErrorSummaryFragment on EGDSErrorSummary {\n    __typename\n    heading\n    body {\n      text\n    }\n  }\n"]);return se=function(){return e},e}function fe(){var e=ne(["\n  fragment EGDSHeadingFragment on EGDSHeading {\n    __typename\n    text\n    headingType\n  }\n"]);return fe=function(){return e},e}function pe(){var e=ne(["\n  fragment DirectFeedbackDisplayElementFragment on DirectFeedbackFormDisplayElement {\n    __typename\n    ...EGDSErrorSummaryFragment\n    ...EGDSPlainTextFragment\n    ...EGDSHeadingFragment\n    ...EGDSSpannableTextFragment\n    ...DirectFeedbackTextListFragment\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return pe=function(){return e},e}function ge(){var e=ne(["\n  fragment EGDSMaxLengthInputValidationFragment on EGDSMaxLengthInputValidation {\n    errorMessage\n    maxLength\n  }\n"]);return ge=function(){return e},e}function ve(){var e=ne(["\n  fragment EGDSMinLengthInputValidationFragment on EGDSMinLengthInputValidation {\n    errorMessage\n    minLength\n  }\n"]);return ve=function(){return e},e}function be(){var e=ne(["\n  fragment EGDSRegexInputValidationFragment on EGDSRegexInputValidation {\n    errorMessage\n    pattern\n  }\n"]);return be=function(){return e},e}function Ee(){var e=ne(["\n  fragment EGDSRequiredInputValidationFragment on EGDSRequiredInputValidation {\n    errorMessage\n  }\n"]);return Ee=function(){return e},e}function ye(){var e=ne(["\n  fragment EGDSInputValidationFragment on EGDSInputValidation {\n    ...EGDSRegexInputValidationFragment\n    ...EGDSMaxLengthInputValidationFragment\n    ...EGDSMinLengthInputValidationFragment\n    ...EGDSRequiredInputValidationFragment\n  }\n\n  ","\n  ","\n  ","\n  ","\n"]);return ye=function(){return e},e}function ke(){var e=ne(["\n  fragment DirectFeedbackInputFieldFragment on DirectFeedbackInputField {\n    __typename\n    label\n    value\n    name\n    placeholder\n    validations {\n      ...EGDSInputValidationFragment\n    }\n    instructions\n    leftIcon {\n      ...EGDSIconFragment\n    }\n    rightIcon {\n      ...EGDSIconFragment\n    }\n    required\n  }\n  ","\n  ","\n"]);return ke=function(){return e},e}function he(){var e=ne(["\n  fragment EGDSBasicPillFragment on EGDSBasicPill {\n    __typename\n    accessibility\n    disabled\n    id\n    name\n    primary\n    selected\n    value\n  }\n"]);return he=function(){return e},e}function De(){var e=ne(["\n  fragment EGDSCheckBoxFragment on EGDSCheckBox {\n    __typename\n    description\n    enabled\n    errorMessage\n    label {\n      text\n    }\n    name\n    required\n    state\n  }\n"]);return De=function(){return e},e}function Se(){var e=ne(["\n  fragment DirectFeedbackMultiSelectGroupFragment on DirectFeedbackMultiSelectGroup {\n    __typename\n    errorMessage\n    groupName\n    multiSelectOptions: options {\n      ...EGDSCheckBoxFragment\n    }\n    multiSelectPillOptions: pillOptions {\n      ...EGDSBasicPillFragment\n    }\n    selected\n    required\n    legend\n    style\n  }\n  ","\n  ","\n"]);return Se=function(){return e},e}function Fe(){var e=ne(["\n  fragment DirectFeedbackRadioGroupFragment on DirectFeedbackRadioGroup {\n    __typename\n    errorMessage\n    groupName\n    radioGroupOptions: options {\n      description\n      disabled\n      label\n      labelSuffix\n      value\n    }\n    selected\n    required\n    legend\n  }\n"]);return Fe=function(){return e},e}function Ie(){var e=ne(["\n  fragment DirectFeedbackTextAreaFragment on DirectFeedbackTextArea {\n    __typename\n    label\n    value\n    name\n    placeholder\n    required\n    isEditable\n    minRows\n    maxRows\n    validations {\n      ...EGDSInputValidationFragment\n    }\n    instructions\n    leftIcon {\n      ...EGDSIconFragment\n    }\n    rightIcon {\n      ...EGDSIconFragment\n    }\n  }\n\n  ","\n  ","\n"]);return Ie=function(){return e},e}function xe(){var e=ne(["\n  fragment DirectFeedbackElementFragment on DirectFeedbackFormPageElement {\n    __typename\n    ...EGDSErrorSummaryFragment\n    ...EGDSPlainTextFragment\n    ...EGDSHeadingFragment\n    ...DirectFeedbackMultiSelectGroupFragment\n    ...EGDSSpannableTextFragment\n    ...DirectFeedbackRadioGroupFragment\n    ...DirectFeedbackInputFieldFragment\n    ...DirectFeedbackTextAreaFragment\n    ...DirectFeedbackTextListFragment\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return xe=function(){return e},e}function Ce(){var e=ne(["\n  fragment EGDSButtonFragment on EGDSButton {\n    __typename\n    accessibility\n    analytics {\n      __typename\n      referrerId\n      linkName\n    }\n    action {\n      ...UIActionFragment\n    }\n    disabled\n    icon {\n      ...EGDSIconFragment\n    }\n    primary\n  }\n\n  fragment UIActionFragment on UIAction {\n    __typename\n    analytics {\n      __typename\n      referrerId\n      linkName\n    }\n    accessibility\n  }\n"]);return Ce=function(){return e},e}function _e(){var e=ne(["\n  fragment UIPrimaryButtonFragment on UIPrimaryButton {\n    ...EGDSButtonFragment\n  }\n\n  ","\n"]);return _e=function(){return e},e}function Ge(){var e=ne(["\n  fragment UISecondaryButtonFragment on UISecondaryButton {\n    ...EGDSButtonFragment\n  }\n\n  ","\n"]);return Ge=function(){return e},e}function Te(){var e=ne(["\n  fragment DirectFeedbackPageFragment on DirectFeedbackFormPage {\n    title\n    subtitle {\n      ...EGDSTextFragment\n    }\n    id\n    commands {\n      action {\n        ...DirectFeedbackOpenNextPageActionFragment\n\n        ...DirectFeedbackOpenPreviousPageActionFragment\n\n        ...DirectFeedbackSubmitFormActionFragment\n      }\n\n      ...EGDSButtonFragment\n    }\n    commandOrientation\n    displayConditions {\n      fieldId\n      expectedValue\n      conditionType\n    }\n    elements {\n      __typename\n      ...DirectFeedbackElementFragment\n    }\n    footer {\n      __typename\n      ...DirectFeedbackDisplayElementFragment\n    }\n  }\n\n  fragment DirectFeedbackOpenNextPageActionFragment on DirectFeedbackOpenNextPageAction {\n    __typename\n    destinationId\n  }\n\n  fragment DirectFeedbackOpenPreviousPageActionFragment on DirectFeedbackOpenPreviousPageAction {\n    __typename\n    analytics {\n      linkName\n    }\n  }\n\n  fragment DirectFeedbackSubmitFormActionFragment on DirectFeedbackSubmitFormAction {\n    __typename\n    analytics {\n      linkName\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n"]);return Te=function(){return e},e}function Pe(){var e=ne(["\n  fragment DirectFeedbackPagesFragment on DirectFeedbackPrompt {\n    pages {\n      ...DirectFeedbackPageFragment\n    }\n  }\n\n  ","\n"]);return Pe=function(){return e},e}function Ne(){var e=ne(["\n  query DirectFeedbackQuery($context: ContextInput!, $promptId: ID!) {\n    directFeedbackPromptById(context: $context, id: $promptId) {\n      ...DirectFeedbackPromptByIdFragment\n    }\n  }\n\n  fragment DirectFeedbackPromptByIdFragment on DirectFeedbackPrompt {\n    title\n    challenges {\n      action {\n        ... on ArkoseChallenge {\n          apiKey\n          src\n        }\n      }\n    }\n    ...DirectFeedbackPagesFragment\n  }\n\n  ","\n"]);return Ne=function(){return e},e}function Le(){var e=ne(["\n  mutation DirectFeedbackSubmit($context: ContextInput!, $id: ID!, $feedback: DirectFeedbackValuesInput!) {\n    directFeedbackSubmit(context: $context, id: $id, feedback: $feedback) {\n      errors {\n        ...DirectFeedbackSubmitErrorFragment\n      }\n      serviceError {\n        ...EGDSErrorSummaryFragment\n      }\n    }\n  }\n\n  fragment DirectFeedbackSubmitErrorFragment on DirectFeedbackFieldError {\n    fieldId\n    error\n  }\n\n  ","\n"]);return Le=function(){return e},e}function Ae(){var e=ne(["\n  fragment EGDSImageLinkFragment on EGDSImageLink {\n    uiLinkAction: action {\n      accessibility\n      analytics {\n        linkName\n        referrerId\n      }\n      resource {\n        value\n      }\n      target\n    }\n    image {\n      altText\n      aspectRatio\n      description\n      thumbnailClickAnalytics {\n        linkName\n        referrerId\n      }\n      url\n    }\n  }\n"]);return Ae=function(){return e},e}function Oe(){var e=ne(["\n  fragment UITertiaryButtonFragment on UITertiaryButton {\n    ...EGDSButtonFragment\n  }\n\n  ","\n"]);return Oe=function(){return e},e}function we(){var e=ne(["\n  fragment DirectFeedbackCallToActionFragment on DirectFeedbackCallToAction {\n    promptId\n    eager\n    callToAction {\n      __typename\n      ...UIPrimaryButtonFragment\n      ...UISecondaryButtonFragment\n      ...UITertiaryButtonFragment\n      ...EGDSStandardLinkFragment\n      ...EGDSImageLinkFragment\n      ...EGDSInlineLinkFragment\n    }\n    postSubmitDisplay {\n      __typename\n      ...UIPrimaryButtonFragment\n      ...UISecondaryButtonFragment\n      ...UITertiaryButtonFragment\n      ...EGDSStandardLinkFragment\n      ...EGDSSpannableTextFragment\n      ...EGDSInlineLinkFragment\n      ...EGDSImageLinkFragment\n    }\n    contextValues {\n      ...GraphQLPairFragment\n    }\n  }\n\n  fragment GraphQLPairFragment on GraphQLPair {\n    key\n    value\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return we=function(){return e},e}var Re=Object.defineProperty,Be=function(e,n,t){return function(e,n,t){n in e?Re(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t}(e,"symbol"!==(void 0===n?"undefined":te(n))?n+"":n,t),t},Me=function(e){return e[e.Submit=0]="Submit",e[e.Close=1]="Close",e[e.Error=2]="Error",e[e.Load=3]="Load",e[e.SetValue=4]="SetValue",e[e.Open=5]="Open",e}(Me||{}),Ve=function e(n,t){K(this,e),Be(this,"type",2),Be(this,"promptId"),Be(this,"error"),this.promptId=n,this.error=t},Ue=function e(n){K(this,e),Be(this,"type",1),Be(this,"promptId"),this.promptId=n},je=function e(n,t,a){K(this,e),Be(this,"type",0),Be(this,"promptId"),Be(this,"context"),Be(this,"formValues"),this.promptId=n,this.context=t,this.formValues=a},Je=function e(n,t){K(this,e),Be(this,"type",3),Be(this,"promptId"),Be(this,"data"),this.promptId=n,this.data=t},qe=function e(n,t,a){K(this,e),Be(this,"type",4),Be(this,"fieldId"),Be(this,"promptId"),Be(this,"value"),this.fieldId=t,this.promptId=n,this.value=a},He=function e(n){K(this,e),Be(this,"type",0),Be(this,"action"),this.action=n},ze=function e(n){K(this,e),Be(this,"type",1),Be(this,"action"),this.action=n},Ke=function e(n){K(this,e),Be(this,"type",2),Be(this,"action"),this.action=n},$e=function e(n,t,a){K(this,e),Be(this,"type",3),Be(this,"fieldId"),Be(this,"value"),Be(this,"isValid"),this.fieldId=n,this.value=t,this.isValid=a},Qe=function(){return a.createElement(y.X,{justifyContent:"center"},a.createElement(k.C,null,a.createElement(h.v,null)))},Xe=(0,s.J1)(re()),We=0,Ye=function(e){var n,t,r=e.data,i=(0,a.useMemo)(function(){return We+=1},[]);return a.createElement(_.LD,{description:r.description,name:r.id,id:"uitk-icon-".concat(r.id,"-").concat(i),size:r.size?_.So[r.size]:void 0,title:null!==(n=r.title)&&void 0!==n?n:void 0,theme:null!==(t=r.theme)&&void 0!==t?t:void 0,shadow:Boolean(r.withBackground)})};Ye.displayName="CustomerEGDSIcon",Ye.fragment=Xe;var Ze=(0,s.J1)(ie(),Ye.fragment),en=function(e){var n=e.data,t=n.icon,r=n.text;return a.createElement(a.Fragment,null,a.createElement(S.N,{margin:{inlineend:"one"}},a.createElement(Ye,{data:t})),a.createElement(S.N,{margin:{inlineend:"one"}},a.createElement(G.D,{inline:!0},r)))};en.fragment=Ze,en.displayName="EGDSIconText";var nn,tn,an=(0,s.J1)(oe()),rn=(Q(nn={},"SMALL","small"),Q(nn,"MEDIUM","medium"),Q(nn,"LARGE","large"),nn),on=(Q(tn={},"EXTERNAL","_blank"),Q(tn,"INTERNAL","_self"),tn),cn=function(e){var n=e.onClick,t=e.data,r=t.uiLinkAction,i=r.analytics,o=r.resource,c=r.target,u=r.accessibility,d=t.disabled,m=(t.size,t.text),s=(0,l.useClickTracker)(),f=(0,a.useMemo)(function(){return{id:i.referrerId,description:i.linkName,callback:function(e,n,t){s(e,n)}}},[i,s]);return a.createElement(T.i,{size:"large",disabled:d,analytics:f,onClick:n,inline:!0},a.createElement("a",{href:o.value,target:on[c]},m,u&&a.createElement("span",{className:"is-visually-hidden"},u)))};cn.fragment=an,cn.displayName="EGDSInlineLink";var ln=(0,s.J1)(ce()),un=function(e){var n=e.data,t=e.inline,r=void 0!==t&&t;return a.createElement(G.D,{size:400,inline:r},n.text)};un.fragment=ln,un.displayName="EGDSPlainText";var dn=(0,s.J1)(le(),Ye.fragment),mn=function(e){var n=e.icon,t=e.iconPosition,r=e.iconPositionToMatch;return n&&t===r?a.createElement(Ye,{data:n}):null},sn=function(e){var n=e.className,t=e.inline,r=e.onClick,i=e.data,o=i.uiLinkAction,c=o.resource,l=o.target,u=o.accessibility,d=i.disabled,m=i.iconPosition,s=i.standardLinkIcon,f=i.size,p=i.text;return a.createElement(T.i,{className:n,size:rn[f],inline:t,disabled:d,onClick:r},a.createElement("a",{target:on[l],href:c.value},a.createElement(mn,{icon:s,iconPosition:m,iconPositionToMatch:"LEADING"}),p,a.createElement(mn,{icon:s,iconPosition:m,iconPositionToMatch:"TRAILING"}),u&&a.createElement(G.D,{className:"is-visually-hidden"},u)))};sn.fragment=dn,sn.displayName="EGDSStandardLink";var fn=(0,s.J1)(ue(),en.fragment,un.fragment,cn.fragment,sn.fragment),pn={EGDSPlainText:un,EGDSInlineLink:cn,EGDSStandardLink:sn,EGDSIconText:en},gn=function(e){var n=e.data,t=e.inline,r=void 0!==t&&t,i=pn[n.__typename]||un;return a.createElement(i,{inline:r,data:n})};gn.fragment=fn,gn.displayName="CustomerEGDSText";var vn=(0,s.J1)(de(),gn.fragment),bn=function(e){var n=e.data;return a.createElement(a.Fragment,null,n.contents?n.contents.map(function(e,n){return a.createElement(gn,{inline:!0,data:e,key:"EGDSSpannableTextContents_".concat(n)})}):a.createElement(gn,{data:n}))};bn.fragment=vn,bn.displayName="EGDSSpannableText";var En,yn=(0,s.J1)(me(),Ye.fragment,bn.fragment),kn=(Q(En={},"DEFAULT","default"),Q(En,"ICON_ALTERNATE","icon-alternate"),Q(En,"ICON_STANDARD","icon-standard"),Q(En,"NO_BULLET","no-bullet"),Q(En,"UNRECOGNIZED",void 0),En),hn=function(e){var n=e.data;return n.listItems.length?a.createElement(x.y,{bullet:kn[n.bullet]},n.listItems.map(function(e){var n=e.icon,t=e.egdsElementId,r=e.text;return a.createElement(C.x,{key:t},n?a.createElement(Ye,{data:n}):null,"EGDSSpannableText"===r.__typename&&a.createElement(bn,{data:r}))})):null};hn.fragment=yn,hn.displayName="DirectFeedbackTextList";var Dn=(0,s.J1)(se()),Sn=function(e){var n=e.data,t=n.heading,r=n.body,i=null==r?void 0:r.text;return a.createElement(g.K,{heading:t,description:i})};Sn.displayName="ErrorSummary",Sn.fragment=Y(W({},Dn),{__typename:"EGDSErrorSummary"});var Fn,In=(0,s.J1)(fe()),xn=(Q(Fn={},"H1","h1"),Q(Fn,"H2","h2"),Q(Fn,"H3","h3"),Q(Fn,"H4","h4"),Q(Fn,"H5","h5"),Q(Fn,"H6","h6"),Q(Fn,"H7","h6"),Q(Fn,"H8","h6"),Fn),Cn=function(e){var n=e.data;return a.createElement(F.M,{tag:n.headingType?xn[n.headingType]:void 0},n.text)};Cn.fragment=In,Cn.displayName="CustomerEGDSHeading";var _n=(0,s.J1)(pe(),Sn.fragment,un.fragment,Cn.fragment,bn.fragment,hn.fragment),Gn={EGDSPlainText:un,EGDSHeading:Cn,EGDSSpannableText:bn,DirectFeedbackTextList:hn,EGDSErrorSummary:Sn},Tn=function(e){var n=e.data,t=Gn[n.__typename];return t?a.createElement(t,{data:n}):a.createElement("pre",null,JSON.stringify(n,null,2))};Tn.fragment=_n,Tn.displayName="DirectFeedbackDisplayElement",Tn.supportedTypes=Object.keys(Gn);var Pn=(0,s.J1)(ge()),Nn=function(e){return{validate:function(n){return function(e,n){return e&&e.length>n.maxLength?{invalid:n.errorMessage}:{}}(n,e)}}};Nn.fragment=Pn;var Ln=(0,s.J1)(ve()),An=function(e){return{validate:function(n){return function(e,n){return e&&e.length<n.minLength?{invalid:n.errorMessage}:{}}(n,e)}}};An.fragment=Ln;var On=(0,s.J1)(be()),wn=function(e){return{validate:function(n){return function(e,n){var t=new RegExp(n.pattern);return(null==e?void 0:e.trim())&&!e.match(t)?{invalid:n.errorMessage}:{}}(n,e)}}};wn.fragment=On;var Rn=(0,s.J1)(Ee()),Bn=function(e){return{validate:function(n){return function(e,n){return(null==e?void 0:e.trim())?{}:{invalid:n.errorMessage}}(n,e)}}};Bn.fragment=Rn;var Mn=(0,s.J1)(ye(),wn.fragment,Bn.fragment,Nn.fragment,An.fragment),Vn=function(e){var n=function(e){return e.map(function(e){switch(e.__typename){case"EGDSRegexInputValidation":return W({},e,wn(e));case"EGDSMaxLengthInputValidation":return W({},e,Nn(e));case"EGDSMinLengthInputValidation":return W({},e,An(e));case"EGDSRequiredInputValidation":return W({},e,Bn(e));default:return{validate:function(){return{}}}}})}(e||[]);return{validate:function(e){return n.map(function(n){return n.validate(e)}).find(function(e){return void 0!==(null==e?void 0:e.invalid)})||{}}}},Un=(0,s.J1)(ke(),Mn,Ye.fragment),jn=0,Jn=function(e){var n=e.data,t=n.label,r=n.required,i=n.placeholder,o=n.value,c=n.name,l=n.leftIcon,u=n.validations,d=e.onChange,m=e.value,s=(0,a.useMemo)(function(){return jn+=1},[]),f=(0,a.useMemo)(function(){return Vn(u)},[u]),p=ee((0,a.useState)(void 0),2),g=p[0],v=p[1],b=(0,a.useCallback)(function(e){if(d){var n=f.validate(e.target.value).invalid;v(n),d(e.target.name,e.target.value,!(void 0!==n||r&&!e.target.value))}},[d,r,f]);return a.createElement(P.V,{id:"uitk-text-input-".concat(c,"-").concat(s),label:t||"",value:m||o||void 0,name:c||void 0,hasVisibleLabel:""!==t,placeholder:i||void 0,required:r||!1,onChange:b,icon:(null==l?void 0:l.id)||void 0,invalid:g})};Jn.fragment=Un,Jn.displayName="DirectFeedbackInputField";var qn=(0,s.J1)(he()),Hn=function(e){var n=e.checked,t=e.data,r=e.onChange;return a.createElement(A.B,{id:"basic-pill-".concat(t.name),key:t.name,checked:n,onChange:function(e){r&&r(t.name,e.currentTarget.checked)}},t.primary)};Hn.displayName="EGDSBasicPill",Hn.fragment=qn;var zn=(0,s.J1)(De()),Kn=function(e){var n,t=e.data,r=e.onChange,i=e.checked,o=e.required;return a.createElement(O.x,{checked:null!==i?i:"CHECKED"===t.state,indeterminate:null!==i&&"INDETERMINATE"===t.state,description:t.description||void 0,required:t.required||o,label:null===(n=t.label)||void 0===n?void 0:n.text,disabled:!t.enabled,name:t.name||void 0,id:t.name||void 0,errorMessage:t.errorMessage||void 0,onChange:function(e){r&&r(t.name,e.currentTarget.checked)}},t.label.text)};Kn.fragment=zn,Kn.displayName="EGDSCheckBox";var $n=(0,s.J1)(Se(),Hn.fragment,Kn.fragment),Qn=function(e){var n,t=e.data,r=e.onChange,i=e.value,o=t.groupName,c=t.errorMessage,l=t.multiSelectOptions,u=t.multiSelectPillOptions,d=t.required,m=t.legend,s=t.style,f=ee((0,a.useState)({values:i||(null===(n=t.selected)||void 0===n?void 0:n.split(","))||[]}),2),p=f[0],g=f[1],v=(0,a.useCallback)(function(e,n){var t,a=function(e,n){var t=e.values;return n.value?e.values.includes(n.name)||(t=t.concat([n.name])):t=t.filter(function(e){return e!==n.name}),{values:t}}(p,{name:e,value:n});(g(Y(W({},p),{values:a.values})),r)&&r(o,a.values,!d||!!(null===(t=a.values)||void 0===t?void 0:t.length))},[r,o,d,p]);return"PILL"===s?a.createElement(L.g,{wrap:!0},u.map(function(e,n){return a.createElement(Hn,{checked:p.values.includes(e.name||""),key:"".concat(e.name,"_").concat(n),data:e,onChange:v})})):a.createElement(N.o,{group:o,errorMessage:c||void 0,legendLabel:m},l.map(function(e,n){return a.createElement(Kn,{checked:p.values.includes(e.name||""),required:t.required?0===p.values.length:void 0,data:e,key:"".concat(e.name,"_").concat(n),onChange:v})}))};Qn.fragment=$n,Qn.displayName="DirectFeedbackMultiSelectGroup";var Xn=(0,s.J1)(Fe()),Wn=function(e){var n=e.data,t=e.onChange,r=e.value,i=n.groupName,o=n.errorMessage,c=n.radioGroupOptions,l=n.required,u=n.legend,d=ee((0,a.useState)({value:r||n.selected||void 0}),2),m=d[0],s=d[1],f=(0,a.useCallback)(function(e){var n={value:e.currentTarget.value};s(n),t&&t(i,n.value,!l||!!n.value)},[t,i,l]);return a.createElement(w.S,{group:i,errorMessage:o||void 0,selected:m.value,onChange:f,legendLabel:u},c.map(function(e,n){return a.createElement(S.N,{key:"".concat(i,"_option").concat(n),margin:{blockend:"two"}},a.createElement("div",null,a.createElement(R.P,{id:e.value||"".concat(i,"_option").concat(n),value:e.value||"".concat(i,"_option").concat(n),labelSuffix:e.labelSuffix||void 0,description:e.description||void 0},e.label)))}))};Wn.fragment=Xn,Wn.displayName="DirectFeedbackRadioGroup";var Yn=(0,s.J1)(Ie(),Mn,Ye.fragment),Zn=0,et=function(e){var n=e.data,t=n.isEditable,r=n.label,i=n.maxRows,o=n.minRows,c=n.placeholder,l=n.value,u=n.name,d=n.required,m=n.validations,s=e.onChange,f=e.value,p=(0,a.useMemo)(function(){return Zn+=1},[]),g=(0,a.useMemo)(function(){return Vn(m)},[m]),v=ee((0,a.useState)(void 0),2),b=v[0],E=v[1],y=(0,a.useCallback)(function(e){if(s){var n=g.validate(e.target.value).invalid;E(n),s(e.target.name,e.target.value,!(void 0!==n||d&&!e.target.value))}},[s,d,g]);return a.createElement(B._,{id:"uitk-text-area-".concat(u,"-").concat(p),label:r||"",value:f||l||void 0,name:u||void 0,disabled:!t,hasVisibleLabel:""!==r,maxRows:i||void 0,minRows:o||void 0,placeholder:c||void 0,onChange:y,required:d||!1,invalid:b})};et.fragment=Yn,et.displayName="DirectFeedbackTextArea";var nt=(0,s.J1)(xe(),Sn.fragment,un.fragment,Cn.fragment,Qn.fragment,bn.fragment,Wn.fragment,Jn.fragment,et.fragment,hn.fragment),tt={DirectFeedbackMultiSelectGroup:Qn,DirectFeedbackRadioGroup:Wn,DirectFeedbackInputField:Jn,DirectFeedbackTextArea:et},at={DirectFeedbackMultiSelectGroup:function(e,n){return n.get(e.groupName)},DirectFeedbackRadioGroup:function(e,n){return n.get(e.groupName)},DirectFeedbackInputField:function(e,n){return e.name?n.get(e.name):null},DirectFeedbackTextArea:function(e,n){return e.name?n.get(e.name):null}};var rt=function(e){var n=e.data,t=e.onChange,r=e.values,i=tt[n.__typename],o=(0,a.useCallback)(function(e,n,a){null==t||t(e,n,a)},[t]);if(i){var c=at[n.__typename];return c?a.createElement(i,{data:n,value:c(n,r),onChange:o}):null}return function(e){return!!Tn.supportedTypes.find(function(n){return e.__typename===n})}(n)?a.createElement(Tn,{data:n}):a.createElement("pre",null,JSON.stringify(n,null,2))};rt.fragment=nt,rt.displayName="DirectFeedbackElement";var it=(0,s.J1)(Ce()),ot=(0,s.J1)(_e(),it),ct=function(){function e(e){var n=e.actionDispatch,t=e.buttonProps,r=void 0===t?{}:t,i=e.data,o=i.action,c=r.onClick,l=(0,a.useCallback)(function(e){n&&o&&n(o),c&&c(e)},[n,o,c]);return a.createElement(M.y,Y(W({type:"button",disabled:i.disabled},r),{onClick:l}),i.primary," ",i.icon&&a.createElement(Ye,{data:i.icon}))}return e.displayName="UIPrimaryButton",e.fragment=ot,e}(),lt=(0,s.J1)(Ge(),it),ut=function(){function e(e){var n=e.actionDispatch,t=e.buttonProps,r=void 0===t?{}:t,i=e.data,o=i.action,c=r.onClick,l=(0,a.useCallback)(function(e){n&&o&&n(o),c&&c(e)},[n,o,c]);return a.createElement(V.y,Y(W({type:"button"},r),{onClick:l,disabled:i.disabled}),i.primary," ",i.icon&&a.createElement(Ye,{data:i.icon}))}return e.displayName="UISecondaryButton",e.fragment=lt,e}(),dt={UIPrimaryButton:ct,UISecondaryButton:ut},mt=function(){function e(e){var n=e.actionDispatch,t=e.buttonProps,r=e.data,i=dt[r.__typename]||ut,o=r.analytics,c=(0,l.useClickTracker)(),u=W({},t),d=u.onClick;return u.onClick=(0,a.useCallback)(function(e){o&&c("".concat(o.referrerId),o.linkName,!1),d&&d(e)},[o,c,d]),a.createElement(i,{data:r,buttonProps:u,actionDispatch:n})}return e.displayName="EGDSButtonRender",e.fragment=it,e}(),st=(0,s.J1)(Te(),rt.fragment,Tn.fragment,mt.fragment,gn.fragment),ft=function(e){var n,t,r,i,o,c=e.data,l=e.eventDispatch,u=e.values,d=e.valuesValidation,m=(0,a.useMemo)(function(){return{DirectFeedbackOpenNextPageAction:function(e){l&&l(new Ke(e))},DirectFeedbackOpenPreviousPageAction:function(e){l&&l(new ze(e))},DirectFeedbackSubmitFormAction:function(e){l&&l(new He(e))}}},[l]),s=(0,a.useCallback)(function(e,n,t){l&&l(new $e(e,n,t))},[l]),f=null===(n=c.elements)||void 0===n?void 0:n.filter(function(e){return"name"in e||"groupName"in e}).map(function(e){return"name"in e?e.name:e.groupName}).reduce(function(e,n){return e&&(n&&!d.has(n)||n&&d.get(n))},!0);return a.createElement(S.N,{margin:"two"},a.createElement(D.m,{hasRequiredFieldIndicator:!0},a.createElement(y.X,{space:"four",direction:"column"},(c.title||(null===(t=c.subtitle)||void 0===t?void 0:t.text))&&a.createElement(k.C,null,a.createElement("div",null,c.title&&a.createElement(F.M,{tag:"h3",size:4},c.title),c.subtitle&&a.createElement(I.s,null,c.subtitle.text))),(null===(r=c.elements)||void 0===r?void 0:r.length)?c.elements.map(function(e,n){return a.createElement(k.C,{key:"".concat(e.__typename,"_").concat(n)},a.createElement("div",null,a.createElement(rt,{data:e,values:u,onChange:s})))}):null,(null===(i=c.commands)||void 0===i?void 0:i.length)?a.createElement(k.C,null,a.createElement(S.N,{margin:{blockstart:"four",blockend:"four"}},a.createElement(y.X,{justifyContent:"space-between",direction:"HORIZONTAL"===c.commandOrientation?"row":"column"},c.commands.map(function(e,n){var t,r=(null==e||null===(t=e.action)||void 0===t?void 0:t.__typename)||"",i=m[r],o=("DirectFeedbackOpenNextPageAction"===r||"DirectFeedbackSubmitFormAction"===r)&&!f;return a.createElement(k.C,{key:"EGDSButton_".concat(n)},a.createElement(S.N,{margin:{block:"one"}},a.createElement("div",null,a.createElement(mt,{data:e,actionDispatch:i,buttonProps:{disabled:o,isFullWidth:!0}}))))})))):null,(null===(o=c.footer)||void 0===o?void 0:o.length)?c.footer.map(function(e,n){return a.createElement(k.C,{key:"".concat(e.__typename,"_").concat(n)},a.createElement("div",null,a.createElement(Tn,{data:e})))}):null)))};ft.fragment=st,ft.displayName="DirectFeedbackPage";var pt=(0,s.J1)(Pe(),ft.fragment),gt=function(e){var n=e.flatMap(function(e){return e.elements}).filter(function(e){return"name"in e||"groupName"in e}).filter(function(e){return"required"in e&&e.required}).map(function(e){return"name"in e?e.name:e.groupName}),t=new Map;return n.forEach(function(e){e&&t.set(e,!1)}),{pageIndexStack:[0],numPages:e.length,record:new Map,recordValidation:t}},vt=function(e,n){n.pageIndexStack[n.pageIndexStack.length-1];var t=e.slice((n.pageIndexStack[n.pageIndexStack.length-1]||0)+1).findIndex(function(e){return function(e,n){return!e.displayConditions||e.displayConditions.every(function(e){var t,a=n.get(e.fieldId);switch(e.conditionType){case"BOOL":case"TEXT":t=e.expectedValue===a;break;case"PATTERN":t=new RegExp(e.expectedValue).test(a);break;default:t=!0}return t})}(e,n.record)});return t>=0?t+1+(n.pageIndexStack[n.pageIndexStack.length-1]||0):e.length},bt=function(e){var n=e.data,t=e.doSubmit,r=e.doClose,i=e.doFormValueChanged,o=n.pages,c=(0,a.useCallback)(function(e,n){var t,a,r={pageIndexStack:e.pageIndexStack.slice(0),numPages:e.numPages,record:new Map(e.record),recordValidation:new Map(e.recordValidation)};switch(n.type){case 0:r.pageIndexStack.push(vt(o,e));break;case 2:if((a=n).action.destinationId){var i=o.findIndex(function(e){return e.id===a.action.destinationId});r.pageIndexStack.push(i)}else r.pageIndexStack.push(vt(o,e));break;case 1:r.pageIndexStack.length>1&&r.pageIndexStack.pop();break;case 3:t=n,r.record.set(t.fieldId,t.value),r.recordValidation.set(t.fieldId,t.isValid)}return r},[o]),l=ee((0,a.useReducer)(c,o,gt),2),u=l[0],d=l[1],m=ee((0,a.useState)(!1),2),s=m[0],f=m[1],p=(0,a.useCallback)(function(e){switch(e.type){case 0:t&&(f(!0),t(Array.from(u.record.keys()).map(function(e){var n;return{key:e,value:null===(n=u.record.get(e))||void 0===n?void 0:n.toString()}})).then(function(n){var t,a,r;!!(null===(a=n.data)||void 0===a||null===(t=a.directFeedbackSubmit.errors)||void 0===t?void 0:t.length)||(null===(r=n.data)||void 0===r?void 0:r.directFeedbackSubmit.serviceError)||d(e),f(!1)}).catch(function(){f(!1)}));break;case 3:if(i)i(e);d(e);break;default:d(e)}},[d,t,u,f]);(0,a.useEffect)(function(){(u.pageIndexStack[u.pageIndexStack.length-1]||0)>=u.numPages&&r&&r()});var g=u.pageIndexStack[u.pageIndexStack.length-1]||0,v=o[g];return s?a.createElement(Qe,null):g<u.numPages&&v?a.createElement(ft,{data:v,eventDispatch:p,values:u.record,valuesValidation:u.recordValidation}):null};bt.fragment=pt,bt.displayName="DirectFeedbackPages";var Et=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Z(e,n)}(o,e);var n,t,r,i=ae(o);function o(e){var n;return K(this,o),n=i.call(this,e),Be(z(n),"myEnforcement"),Be(z(n),"scriptId"),Be(z(n),"removeScript",function(){var e=document.getElementById(n.scriptId);e&&e.remove()}),Be(z(n),"loadScript",function(){n.removeScript();var e=document.createElement("script");return e.id=n.scriptId,e.type="text/javascript",e.src=n.props.clientApiUrl,e.setAttribute("data-callback","setupEnforcement"),e.async=!0,e.defer=!0,n.props.nonce&&e.setAttribute("data-nonce",n.props.nonce),document.body.appendChild(e),e}),Be(z(n),"setupEnforcement",function(e){n.myEnforcement=e,n.myEnforcement.setConfig({selector:n.props.selector,mode:n.props.mode,onReady:n.props.onReady,onShown:n.props.onShown,onShow:n.props.onShow,onSuppress:n.props.onSuppress,onCompleted:n.props.onCompleted,onReset:n.props.onReset,onHide:n.props.onHide,onError:n.props.onError,onFailed:n.props.onFailed})}),n.myEnforcement=null,n.scriptId="",n}return n=o,(t=[{key:"componentDidMount",value:function(){var e=this;this.scriptId="arkose-script-".concat(this.props.publicKey),this.loadScript().onload=function(){window.setupEnforcement=e.setupEnforcement.bind(e)}}},{key:"componentDidUpdate",value:function(e,n,t){this.myEnforcement&&this.setupEnforcement(this.myEnforcement)}},{key:"componentWillUnmount",value:function(){window.setupEnforcement&&delete window.setupEnforcement,this.removeScript()}},{key:"render",value:function(){var e,n;return a.createElement(a.Fragment,null,"inline"===this.props.mode&&a.createElement("div",{id:null===(n=this.props)||void 0===n||null===(e=n.selector)||void 0===e?void 0:e.slice(1)}))}}])&&$(n.prototype,t),r&&$(n,r),o}(a.Component),yt=(0,s.J1)(Ne(),bt.fragment),kt=(0,s.J1)(Le(),Sn.fragment),ht=function(e){var n=e.data,t=e.mutationErrors,r=e.serviceError,i=e.doSubmit,o=e.doClose,c=e.doFormValueChanged;return a.createElement(v.w,{space:"two"},t&&t.length>0?t.map(function(e,n){return a.createElement(b.T,{key:"UitkErrorSummary_".concat(n)},a.createElement(g.K,{heading:"",description:e.error}))}):null,r&&a.createElement(b.T,null,a.createElement(Sn,{data:r})),a.createElement(b.T,null,a.createElement(bt,{data:n,doClose:o,doSubmit:i,doFormValueChanged:c})))},Dt=function(e){var n=e.error;return a.createElement(g.K,{heading:(null==n?void 0:n.message)||""})},St=function(e){var n,t,r,i,o,c=e.inputs,l=e.eventDispatch,u=e.contextValues,d=(0,E.R)().context,m=c.promptId,s=(0,a.useMemo)(function(){return(null!=u?u:[]).map(function(e){return{key:e.key,value:e.value}})},[u]),g=Y(W({},c),{context:d}),v=ee((0,f.n)(kt),2),b=v[0],y=v[1],k=y.data,h=(y.loading,y.error,(0,a.useCallback)(function(e){l&&setTimeout(function(){return l(e)})},[l])),D=(0,a.useCallback)(function(e){h(new Ve(m,e))},[m,h]),S=(0,a.useCallback)(function(e){e.directFeedbackPromptById&&h(new Je(m,e.directFeedbackPromptById))},[m,h]),F=(0,p.I)(yt,{variables:g,onError:D,onCompleted:S}),I=F.data,x=F.error,C=F.loading;(null==I||null===(n=I.directFeedbackPromptById)||void 0===n?void 0:n.challenges)&&(null==I||null===(t=I.directFeedbackPromptById)||void 0===t?void 0:t.challenges.length)>0&&(r=null==I||null===(o=I.directFeedbackPromptById)||void 0===o||null===(i=o.challenges[0])||void 0===i?void 0:i.action);var _=(0,a.useRef)(null),G=ee((0,a.useState)(),2),T=G[0],P=G[1],N=ee((0,a.useState)(),2),L=N[0],A=N[1],O=ee((0,a.useState)(),2),w=O[0],R=O[1],B=(0,a.useCallback)(function(){var e=new Promise(function(e,n){R(function(){return n}),A(function(){return e})});P(e)},[P,A,R]),M=(0,a.useCallback)(function(){w&&w(),B()},[w,B]);(0,a.useEffect)(function(){B()},[B]);var V=(0,a.useCallback)(function(e,n){return b({variables:{context:d,feedback:{formValues:e,context:s,atoShieldValidation:n?{captchaToken:n}:void 0},id:null==c?void 0:c.promptId}}).then(function(n){return l&&l(new je(m,s,e)),n})},[m,l,b,s,d,null==c?void 0:c.promptId]),U=(0,a.useCallback)(function(e){var n;return r&&_.current&&T?(null===(n=_.current.myEnforcement)||void 0===n||n.run(),T.then(function(n){return V(e,n.token)})):V(e)},[_,T,r,V]),j=(0,a.useCallback)(function(){l&&l(new Ue(m))},[m,l]),J=(0,a.useCallback)(function(e){l&&l(new qe(m,e.fieldId,e.value))},[m,l]);return C?a.createElement(Qe,null):(null==I?void 0:I.directFeedbackPromptById)?a.createElement(a.Fragment,null,a.createElement(ht,{data:I.directFeedbackPromptById,mutationErrors:(null==k?void 0:k.directFeedbackSubmit.errors)||[],serviceError:(null==k?void 0:k.directFeedbackSubmit.serviceError)||null,doSubmit:U,doClose:j,doFormValueChanged:J}),r&&a.createElement(Et,{publicKey:r.apiKey,clientApiUrl:r.src,onCompleted:L,onHide:M,ref:_})):a.createElement(Dt,{error:x})};St.displayName="sharedui-DirectFeedbackPrompt";var Ft=function(e){var n,t,s=e.inputs,f=e.eventDispatch,p=e.contextValues,g=e.triggerRef,v=e.dialogQueryId,b=(0,d.useLocalization)().formatText,E=s.promptId,y=a.useRef(null),k=(0,a.useCallback)(function(){f&&f(new Ue(E))},[E,f]),h=ee((0,u.useDialog)(v||E,"cdfPromptDialog",!0,k),3),D=h[1],S=h[2],F=ee((0,a.useState)(""),2),I=F[0],x=F[1],C=D.closeDialog,_=(0,l.useClickTracker)(),G=(0,a.useCallback)(function(e){_(e,"Direct feedback prompt close",!1)},[_]),T=(0,a.useCallback)(function(e){switch(e.type){case 1:C();break;case 3:var n;x((null===(n=e.data)||void 0===n?void 0:n.title)||"")}f&&setTimeout(function(){return f(e)})},[C,f]),P=(0,a.useCallback)(function(){D.closeDialog()},[D]);return a.createElement(r.K,{isVisible:!0},a.createElement(S,null,a.createElement(m.LM,null,a.createElement(m.NP,null,a.createElement(i.t,{isVisible:!0,triggerRef:g||y,type:"full",returnFocusOnClose:!0},a.createElement(c.p,{navigationContent:{onClick:P,navType:"close",navIconLabel:null!==(n=b("close.dialog"))&&void 0!==n?n:"Close",onClickAnalytics:{id:"DirectFeedback.".concat(E,".dialog"),callback:G}},toolbarTitle:I}),a.createElement(o.Y,null,a.createElement(St,{inputs:s,eventDispatch:T,contextValues:p})))),a.createElement(m.zQ,null,a.createElement(i.t,{isVisible:!0,triggerRef:y,type:"centered",returnFocusOnClose:!0},a.createElement(c.p,{navigationContent:{onClick:P,navType:"close",navIconLabel:null!==(t=b("close.dialog"))&&void 0!==t?t:"Close",onClickAnalytics:{id:"DirectFeedback.".concat(E,".dialog"),callback:G}},toolbarTitle:I}),a.createElement(o.Y,null,a.createElement(St,{inputs:s,eventDispatch:T,contextValues:p})))))))};Ft.displayName="sharedui-DirectFeedbackDialog";var It,xt=(0,s.J1)(Ae()),Ct=(Q(It={},"ONE_ONE",U.l.R1_1),Q(It,"FOUR_ONE",U.l.R4_1),Q(It,"FOUR_THREE",U.l.R4_3),Q(It,"SIXTEEN_NINE",U.l.R16_9),Q(It,"THREE_TWO",U.l.R3_2),Q(It,"THREE_FOUR",U.l.R3_4),Q(It,"TWENTY_ONE_NINE",U.l.R21_9),It),_t=function(e){var n=e.onClick,t=e.data,r=t.uiLinkAction.analytics,i=r.referrerId,o=r.linkName,c=t.image,u=(0,l.useClickTracker)(),d=(0,a.useCallback)(function(e){u(i,o),n&&n(e)},[i,o,n]);return a.createElement(U.M,{roundcorner:!0,ratio:c.aspectRatio?Ct[c.aspectRatio]:U.l.R16_9},a.createElement(j.F,{placeholderImage:!0,alt:c.altText||"",src:c.url}),a.createElement(J.d,null,a.createElement("button",{type:"button",onClick:d},c.description)))};_t.fragment=xt,_t.displayName="CustomerEGDSImageLink";var Gt=function(e){var n=e.data,t=e.onClick,r=Y(W({},n),{uiLinkAction:Y(W({},n.uiLinkAction),{resource:{__typename:"Uri",value:"javascript:void(0)"}})});return a.createElement(_t,{data:r,onClick:t})};Gt.fragment=_t.fragment,Gt.displayName="DirectFeedbackCallToActionImageLinkAdapter";var Tt=function(e){var n=e.data,t=e.onClick,r=Y(W({},n),{uiLinkAction:Y(W({},n.uiLinkAction),{resource:{__typename:"Uri",value:"javascript:void(0)"}})});return a.createElement(cn,{data:r,onClick:t})};Tt.fragment=cn.fragment,Tt.displayName="DirectFeedbackCallToActionInlineLinkAdapter";var Pt=function(e){var n=e.data,t=e.onClick;return a.createElement(ct,{data:n,buttonProps:{onClick:t}})};Pt.fragment=ct.fragment,Pt.displayName="DirectFeedbackCallToActionPrimaryButtonAdapter";var Nt=function(e){var n=e.data,t=e.onClick;return a.createElement(ut,{data:n,buttonProps:{onClick:t}})};Nt.fragment=ut.fragment,Nt.displayName="DirectFeedbackCallToActionSecondaryButtonAdapter";var Lt=function(e){var n=e.data,t=e.onClick,r=Y(W({},n),{uiLinkAction:Y(W({},n.uiLinkAction),{resource:{__typename:"Uri",value:"javascript:void(0)"}})});return a.createElement(sn,{data:r,onClick:t})};Lt.fragment=sn.fragment,Lt.displayName="DirectFeedbackCallToActionStandardLinkAdapter";var At=(0,s.J1)(Oe(),it),Ot=function(){function e(e){var n=e.actionDispatch,t=e.buttonProps,r=void 0===t?{}:t,i=e.data,o=i.action,c=r.onClick,l=(0,a.useCallback)(function(e){n&&o&&n(o),c&&c(e)},[n,o,c]);return a.createElement(q.q,Y(W({type:"button"},r),{onClick:l,disabled:i.disabled}),i.primary," ",i.icon&&a.createElement(Ye,{data:i.icon}))}return e.displayName="UITertiaryButton",e.fragment=At,e}(),wt=function(e){var n=e.data,t=e.onClick;return a.createElement(Ot,{data:n,buttonProps:{onClick:t}})};wt.fragment=Ot.fragment,wt.displayName="DirectFeedbackCallToActionTertiaryButtonAdapter";var Rt=(0,s.J1)(we(),Pt.fragment,Nt.fragment,wt.fragment,bn.fragment,Lt.fragment,Tt.fragment,Gt.fragment);var Bt=new Map;function Mt(e,n){var t=e+JSON.stringify(n),a=0;return Bt.has(t)&&(a=Bt.get(t)||0),Bt.set(t,a+1),"".concat(function(e){for(var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=3735928559^t,r=1103547991^t,i=0;i<e.length;i++)n=e.charCodeAt(i),a=Math.imul(a^n,2246822519),r=Math.imul(r^n,3266489917);return a^=Math.imul(a^r>>>15,1935289751),r^=Math.imul(r^a>>>15,3405138345),2097152*((r^=(a^=r>>>16)>>>16)>>>0)+(a>>>11)}(t+a))}var Vt=function(e){var n,t,r=e.data,i=e.eventDispatch,o=e.forcePostSubmit,c=ee((0,a.useState)(function(){return Mt(r.promptId,r.contextValues)}),1)[0],l=ee((0,u.useDialog)(c,"cdfPromptDialog"),2),d=l[0],m=l[1],s=ee((0,a.useState)(!1),2),g=s[0],v=s[1],b=(0,a.useCallback)(function(e){if(0===e.type)v(!0);i&&i(e)},[v,i]),y=function(e){switch(e){case"UIPrimaryButton":return Pt;case"UISecondaryButton":return Nt;case"UITertiaryButton":return wt;case"EGDSStandardLink":return Lt;case"EGDSInlineLink":return Tt;case"EGDSImageLink":return Gt;default:throw new Error("unsupported callToAction type. Please update to the newest version of DirectFeedbackCallToAction")}}(r.callToAction.__typename),k=function(e){switch(e){case"UIPrimaryButton":return Pt;case"UISecondaryButton":return Nt;case"UITertiaryButton":return wt;case"EGDSStandardLink":return Lt;case"EGDSInlineLink":return Tt;case"EGDSImageLink":return Gt;case"EGDSSpannableText":return bn;default:return null}}(null===(n=r.postSubmitDisplay)||void 0===n?void 0:n.__typename),h=r.contextValues.map(function(e){return{key:e.key,value:e.value}}),D=(0,E.R)().context,S={promptId:r.promptId,context:D},F=(0,p.I)(yt,{variables:S,skip:!r.eager&&!d}),I=F.data,x=F.loading,C=!!(null==I||null===(t=I.directFeedbackPromptById)||void 0===t?void 0:t.pages[0]),_=ee((0,f.n)(kt),2),G=_[0],T=_[1],P=T.data,N=T.loading,L=C||!I&&!x;return(0,a.useEffect)(function(){L||!d||!I||N||P||G({variables:{context:D,feedback:{formValues:[],context:h},id:r.promptId}}).then(function(){m.closeDialog(),b(new je(r.promptId,h,[]))})},[m.closeDialog,N,P,L,d,G,D,h,I,r.promptId,b,m]),a.createElement(a.Fragment,null,(g||o)&&k?a.createElement(k,{data:r.postSubmitDisplay,onClick:m.openDialog}):a.createElement(y,{data:r.callToAction,onClick:m.openDialog}),L?a.createElement(Ft,{inputs:{promptId:r.promptId},dialogQueryId:c,eventDispatch:b,contextValues:h}):null)};Vt.fragment=Rt,Vt.displayName="DirectFeedbackCallToAction"}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/shopping-pwa/shared-ui-retail-customer-direct-feedback.cd76c652d55d1b923b75.js.map