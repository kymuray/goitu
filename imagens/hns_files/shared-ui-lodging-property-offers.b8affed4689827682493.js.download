/*@license For license information please refer to shared-ui-lodging-property-offers.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[6470],{79963:function(e,t,n){n.d(t,{$O:function(){return Bm},AB:function(){return ds},FP:function(){return Wm},FW:function(){return Ic},Fo:function(){return Km},MI:function(){return Vm},Mn:function(){return _m},TY:function(){return Mm},Tz:function(){return Rm},U9:function(){return Um},Wx:function(){return En},XE:function(){return al},Xz:function(){return jm},_j:function(){return Nm},a3:function(){return Am},bX:function(){return Fm},cz:function(){return Tc},dl:function(){return Qm},kl:function(){return Gm},l4:function(){return xm},m6:function(){return Om},pQ:function(){return $m},qw:function(){return Wi},rU:function(){return Eo},sA:function(){return zm},tZ:function(){return Lc},uR:function(){return qm},wL:function(){return Ym},xE:function(){return Fo},xk:function(){return Xm},zI:function(){return Jm}});var a=n(56195),r=n(522),l=n(42534),i=n(26690),o=n(97778),c=n(53017),s=n(20637),m=n(57862),d=n(1675),g=n(45831),u=n(32178),p=n(54662),E=n(74071),y=n(31009),f=n(1226),v=n(47540),h=n(32462),C=n(87993),k=n(80240),S=n(92919),I=n(63744),b=n(9010),P=n(36145),D=n(99828),T=n(87818),L=n(43888),_=n(25229),x=n(27102),N=n(70882),R=n(49858),A=n(51537),F=n(86405),$=n(37965),O=n(24109),M=n(39938),w=n(85235),B=n(37292),U=n(41587),G=n(91460),z=n(2557),H=n(34399),V=n(89438),q=n(23726),K=n(51213),W=n(5838),X=n(46559),Y=n(97928),Q=n(71514),j=n(89962),J=n(87698),Z=n(96394),ee=n(18174),te=n(934),ne=n(34446),ae=n(47073),re=n(32380),le=n(77913),ie=n(4988),oe=n(64612),ce=n(30169),se=n(89593),me=n(97457),de=n(64341),ge=n(12299),ue=n(24924),pe=n(69772),Ee=n(30686),ye=n(95519),fe=n(93870),ve=n(71061),he=n(18704),Ce=n(50734),ke=n(82319),Se=n(30472),Ie=n(32112),be=n(96384),Pe=n(72233),De=n(7138),Te=n(11466),Le=n(63998),_e=n(19716),xe=n(63085),Ne=n(50689),Re=n(70833),Ae=n(35732),Fe=n(96494),$e=n(69287),Oe=n(68478),Me=n(1630),we=n(79893),Be=n(15037),Ue=n(34014),Ge=n(64512),ze=n(52174),He=n(63081),Ve=n(83509),qe=n(42048),Ke=n(95359),We=n(75739),Xe=n(22214),Ye=n(65346),Qe=n(27415),je=n(20978),Je=n(22272),Ze=n(30707),et=n.n(Ze),tt=n(8724),nt=n(31551),at=n(58624),rt=n(71224),lt=n(62926),it=n(23111),ot=n(88232),ct=(n(47958),Object.defineProperty),st=1070906,mt=(e,t)=>{var n,a;if(!e)return null;const r=e.find(e=>"LodgingCategorizedUnit"===e.__typename&&e.unitId===t),l="LodgingCategorizedUnit"===(null==r?void 0:r.__typename)?null==(a=null==(n=r.primarySelections)?void 0:n.find(e=>{var n;return(null==(n=e.propertyUnit)?void 0:n.id)===t}))?void 0:a.propertyUnit:null;return null==l?void 0:l.ratePlans},dt=(e,t)=>null==e?void 0:e.find(e=>e.key===t),gt=(e,t)=>{var n,a,r,l,i,o;const c=null==e?void 0:e.map(e=>"string"==typeof e?JSON.parse(e):e),s=null==c?void 0:c.find(e=>null==e?void 0:e.events[t]);if(s){const e=null==s?void 0:s.events[t];return((null==e?void 0:e.v3)?null==(r=null==(a=null==(n=null==e?void 0:e.v3)?void 0:n.event_data)?void 0:a.taap)?void 0:r.taap_agency_id:null==(o=null==(i=null==(l=e.v1)?void 0:l.event_data)?void 0:i.taap)?void 0:o.taap_agency_id)||null}return null},ut=(e,t,n,a,r,l,i,o,c)=>{if(e((0,d.qL)(d.ZE.QUOTE_RATE_VIEWED,n,gt(a,d.ZE.QUOTE_RATE_VIEWED)||"",d.$x.PAGE_VIEW,{sold_out_bool:r,supplier_name:d.ru.supplier_name,rate_plan_type_name:l||void 0},void 0,void 0,{type_code:i},{product_list:[{product_id:c}]})),t){const r={price_change:{price_change_origin:"PDP",price_change_type:"highlight"===t.background?"Up":"Down"}};e((0,d.qL)(d.ZE.PRICE_CHANGED_MESSAGE_PRESENTED,n,gt(a,d.ZE.PRICE_CHANGED_MESSAGE_PRESENTED)||"",d.$x.IMPRESSION,void 0,d.hI.PRICE_CHANGE_MESSAGE_VERSION,r))}},pt=e=>{var t;return null==(t=e.priceDetails)?void 0:t.some(e=>{var t,n;return null==(n=null==(t=e.price)?void 0:t.displayMessages)?void 0:n.some(e=>e.lineItems.some(e=>"DisplayPrice"===e.__typename&&"LEAD"===e.role))})},Et=e=>{if(!e)return null;const t=e.filter(e=>"LodgingCategorizedUnit"===e.__typename).find(e=>{var t;return null==(t=e.primarySelections)?void 0:t.some(e=>{var t;return null==(t=e.propertyUnit.ratePlans)?void 0:t.some(e=>pt(e))})});return(null==t?void 0:t.unitId)||null},yt=e=>{var t;if(!e.singleUnitOffer)return null;return(null==(t=e.singleUnitOffer.ratePlans)?void 0:t.find(e=>pt(e)))?e.singleUnitOffer.id:null};function ft(e,t,n,r){const l=(0,a.useCallback)((t,n)=>{if(t&&n){const a=function(e,t){const n={event:{event_name:e,event_type:d.$x.IMPRESSION,event_version:d.hI.GENERAL_VERSION,event_category:d.hw.ROOMS_AND_RATES},experience:{page_name:d.Rn.page_name,app_name:d.$f.SHOPPING_PWA,page_product_line:d.Rn.page_product_line},rooms:[{rate_plans:[{sold_out_bool:"true"===t}]}]};return n}(t,n);e(a)}},[e]);(0,a.useEffect)(()=>{if(!n||!r)return;let e=!1;const a=new IntersectionObserver(([t])=>{(null==t?void 0:t.isIntersecting)&&!e&&(l(n,r),e=!0)},{threshold:.5});return t.current&&a.observe(t.current),()=>{a.disconnect()}},[l,n,r])}function vt(e){var t,n,a,r,l;if(!e)return{};return{suitabilityErrorMessage:null==(t=dt(e,"SUITABILITY_V2_ERROR_MESSAGE"))?void 0:t.value,suitabilityErrorMessageAccessibility:null==(n=dt(e,"SUITABILITY_V2_ERROR_MESSAGE_ACCESSIBILITY"))?void 0:n.value,suitabilityErrorButton:null==(a=dt(e,"SUITABILITY_V2_ERROR_BUTTON"))?void 0:a.value,suitabilityEventName:null==(r=dt(e,"SUITABILITY_V2_RATE_PLAN_PRESENTED_EVENT_REFERRER_ID"))?void 0:r.value,suitabilitySoldOutAttribute:null==(l=dt(e,"SUITABILITY_V2_QUALIFIED_EVENT_SOLD_OUT_BOOL"))?void 0:l.value}}var ht="SEE_OPTIONS_DIALOG",Ct="SIMPLIFIED_ADDONS_DRAWER",kt="MORE_DETAILS",St="COMPACT_CARD",It={dialogLayout:kt},bt=a.createContext(It),Pt=()=>a.useContext(bt),Dt=({children:e,dialogLayout:t})=>{const n=a.useMemo(()=>({dialogLayout:t}),[t]);return a.createElement(bt.Provider,{value:n},e)},Tt=a.createContext(0),Lt=({children:e,value:t})=>a.createElement(Tt.Provider,{value:t},e),_t=()=>a.useContext(Tt),xt=(0,a.createContext)({upgradeNudgeRoom:null}),Nt=({initialData:e=null,children:t})=>{const[n,r]=a.useState(e),l=a.useMemo(()=>({setUpgradeNudgeRoom:r,upgradeNudgeRoom:n}),[n]);return a.createElement(xt.Provider,{value:l},t)},Rt=()=>a.useContext(xt),At="affirm-script";var Ft=(e,t,n)=>{if(document.getElementById(At))n();else{const a=document.createElement("script");a.type="text/javascript",a.async=!0;const r=document.createTextNode(((e,t,n="affirm-sdk")=>`_affirm_config = {\n    public_api_key: "${e}",\n    script: "${t}",\n    id: "${n}"\n  };\n(function(l,g,m,e,a,f,b,p){var d,c=l[m]||{},h=document.createElement(f),n=document.getElementsByTagName(f)[0],k=function(a,b,c){return function(){a[b]._.push([c,arguments])}};c[e]=k(c,e,"set");d=c[e];c[a]={};c[a]._=[];d._=[];c[a][b]=k(c,a,b);a=0;for(b="set add save post open empty reset on off trigger ready setProduct".split(" ");a<b.length;a++)d[b[a]]=k(c,e,b[a]);a=0;for(b=["get","token","url","items"];a<b.length;a++)d[b[a]]=function(){};h.async=!0;h.src=g[f];h.id=g[p];n.parentNode.insertBefore(h,n);delete g[f];d(g);l[m]=c})(window,_affirm_config,"affirm","checkout","ui","script","ready", "id");`)(e,t));a.appendChild(r),a.setAttribute("data-stid",At),a.setAttribute("id",At),document.head.appendChild(a),new Promise(e=>{const t=setInterval(()=>{const{affirm:n}=window;"function"==typeof(null==n?void 0:n.jsReady)&&n.jsReady()&&n.ui.ready()&&(clearInterval(t),e())},500)}).then(n)}},$t={"data-amount":"amount","data-promo-id":"promo","data-page-type":"pageType","data-affirm-type":"affirmLogoType","data-affirm-color":"affirmLogoColor","data-category":"category","data-brand":"brand","data-sku":"sku","data-learnmore-show":"learnMoreShow"},Ot=(e,t)=>{const{key:n,value:a}=t,r=$t[n];return r&&(e[r]=a),e},Mt=e=>{const{lines:t=1,className:n}=e;return a.createElement("div",{className:n},Array.from({length:t}).map((e,t)=>a.createElement(l.N,{margin:{blockstart:0!==t?"one":void 0},key:t},a.createElement(R.R,{type:"line",lineLength:t>0?"secondary":"primary"}))))},wt=i.gql`
  fragment PropertyAffirmDetailsFragment on AffirmInstallmentPlanDetails {
    apiKey
    elementAttributes {
      key
      value
    }
    interactionAnalytics {
      linkName
      referrerId
    }
    scriptUrl
  }
`,Bt=e=>{var t;const{data:n,textSize:r=100,placeholderLines:l,align:i}=e,{elementAttributes:m,interactionAnalytics:d}=n,g=`affirm-promo-${(0,s.vjX)()}`,u=a.useMemo(()=>m.reduce(Ot,{}),[m]),p=null==(t=m.find(e=>"class"===e.key))?void 0:t.value,E="false"===u.learnMoreShow,y=(0,o.useClickTracker)();(0,a.useEffect)(()=>{const{affirm:e}=window;e&&e.ui.ready(()=>{e.ui.components.create("promo",u).render(`#${g}`)})},[u]);const f=(0,c.useExperiment)("Vrbo_Price_Block_Redesign_on_Web").exposure.bucket>0?200:r,v=(0,A.classNames)(p,{"affirm-promo-as-link":E});return a.createElement(x.D,{size:f,weight:"regular","data-test-id":"property-affirm-details",align:i},a.createElement("div",{id:g,onClick:()=>{const{referrerId:e,linkName:t}=d||{};e&&t&&y(e,t)},className:v},a.createElement(Mt,{lines:l})))};Bt.fragment=wt,Bt.displayName="PropertyAffirmDetails";var Ut=i.gql`
  fragment InstallmentPlanFragment on LodgingInstallmentPlan {
    installmentPlanDetails {
      ...PropertyAffirmDetailsFragment
    }
    impressionAnalytics {
      linkName
      referrerId
    }
  }
  ${Bt.fragment}
`,Gt=e=>{const{data:t,margin:n="half",adoptSrpPriceSummary:i=!1,textSize:c,placeholderLines:s,align:m}=e,{installmentPlanDetails:d,impressionAnalytics:g}=t,[u,p]=a.useState(!1);(0,a.useEffect)(()=>{Ft(d.apiKey,d.scriptUrl,()=>{p(!0)})},[d]);const E=i?"center":"stretch";return u?a.createElement(l.N,{margin:n},a.createElement(r.X,{direction:"column",alignItems:E,"data-test-id":"single-offer-installment-plan"},a.createElement(D.C,{minWidth:"4x__half"},g&&a.createElement(o.IntersectionTracker,{trackOnce:!0,referrerId:g.referrerId,linkName:g.linkName},a.createElement(Bt,{data:d,textSize:c,placeholderLines:s,align:m}))))):a.createElement(l.N,{margin:n},a.createElement(Mt,{lines:s}))};Gt.fragment=Ut,Gt.displayName="SingleUnitRatePlan";var zt=i.gql`
  fragment AvailabilityCtaFragment on AvailabilityCallToAction {
    ... on LodgingPlainMessage {
      value
    }
    ... on LodgingButton {
      text
    }
  }
`,Ht=({closeDialog:e,data:t,signal:n})=>{const r=t,l=(0,o.useClickTracker)(),i=_t(),{getTargets:c}=(0,$.OK)(),{publish:s}=(0,F.Yj)(),m=()=>{var t;n&&s(n),e&&"function"==typeof e&&e();const{startDate:a}=c(["startDate"]);null==(t=null==a?void 0:a.current)||t.click(),l(`ROOM[${i}].CHOOSEDATE.CTA`,"Go to select dates")};return"LodgingButton"===r.__typename&&r.text?a.createElement(C.y,{onClick:m},r.text):"LodgingPlainMessage"===r.__typename&&r.value?a.createElement(x.D,{weight:"bold",theme:"negative"},r.value):null};Ht.displayName="AvailabilityCTA",Ht.fragment=zt;var Vt=e=>!!e&&"PropertyUnitDetailsDialog"===e.__typename,qt=e=>{var t,n;return{alt:null==e?void 0:e.alt,caption:null==(t=null==e?void 0:e.image)?void 0:t.description,src:null==(n=null==e?void 0:e.image)?void 0:n.url,subjectId:null==e?void 0:e.subjectId}},Kt=i.gql`
  fragment SpaceDetailsFloorPlanFragment on SpaceDetails {
    floorPlan {
      images {
        alt
        image {
          description
          url
        }
        subjectId
      }
      toolbar {
        icon {
          description
          id
          size
        }
        title
      }
      trigger {
        value
      }
    }
  }
`,Wt=({data:e,rfrr:t,className:n})=>{const{floorPlan:r}=e,l=(0,s.vjX)(),[i,c,m]=(0,N.useDialog)(`space-details-${l}`,"pwaDialogNested"),d=(0,o.useClickTracker)();if(!(null==r?void 0:r.images.length))return null;const{images:g,toolbar:u,trigger:p}=r,E=g.map(qt),y={type:"close",header:null==u?void 0:u.title},f={id:t,description:"Close floorplan dialog",callback:(e,t)=>d(e,t,!0)},v={galleryName:"Floorplan",currentIndex:0,analytics:{id:t,description:"Change image in floorplan gallery",callback:(e,t)=>d(e,t,!0)}};return a.createElement(a.Fragment,null,a.createElement(B.i,{className:n},a.createElement("button",{type:"button",onClick:()=>{c.openDialog(),d(t,"Open floor plan dialog",!0)}},p.value)),a.createElement(L.K,{isVisible:i},a.createElement(m,null,a.createElement(U.z,{dialogShow:!0,strictFullscreen:!0,onDismiss:c.closeDialog,analytics:f,...y},a.createElement(G.C,{...v,images:E,stretchToFill:!1})))))};Wt.displayName="SpaceDetailsFloorPlan",Wt.fragment=Kt;var Xt=i.gql`
  fragment SpaceDetailsHeaderFragment on SpaceDetails {
    header {
      text
    }
    summary
  }
`,Yt=({data:e,headingSize:t=4})=>{const{header:n,summary:r}=e,l=t&&[3,4].includes(t)?{customStyle:4===t?"headline-large":"headline-extra-large"}:void 0;return a.createElement(a.Fragment,null,a.createElement(E.M,{size:t,typeStyle:l,tag:"h3"},n.text),null==r?void 0:r.map((e,t)=>a.createElement(x.D,{theme:"standard",key:`spacedetails-summary-${t}`,spacing:0===t?"three":void 0},e)))};Yt.displayName="SpaceDetailsHeader",Yt.fragment=Xt;var Qt=i.gql`
  fragment SpaceDetailsSpacesFragment on SpaceDetails {
    spaces {
      name
      description
      icons {
        description
        id
        size
      }
    }
  }
`,jt=({data:e,className:t})=>{const{spaces:n}=e;if(!(null==n?void 0:n.length))return null;const r=n.length>6?3:2;return a.createElement(f.w,{className:t,space:"two",columns:{large:r,small:2}},n.map((e,t)=>{var n,r;return a.createElement(v.T,{key:`spacedetails-spaces-${t}`},a.createElement(l.N,{margin:{blockend:"four"}},a.createElement("div",null,a.createElement(l.N,{padding:{blockend:"half"}},a.createElement(x.D,{size:500,weight:"bold"},e.name)),null==(n=e.icons)?void 0:n.map((t,n)=>{var r;return a.createElement(l.N,{margin:{inlineend:"two"},key:`${e.name}-${n}`},a.createElement(z.LD,{name:t.id,size:(null==(r=e.icons)?void 0:r.length)&&e.icons.length>1?z.So.SMALL:z.So.MEDIUM,description:t.description,theme:"secondary"}))}),a.createElement("ul",{className:"no-bullet"},null==(r=e.description)?void 0:r.map((e,t)=>a.createElement(x.D,{spacing:"two",theme:"standard",size:300,key:`description-${t}`},e))))))}))};jt.displayName="SpaceDetailsSpaces",jt.fragment=Qt;var Jt=i.gql`
  fragment VirtualTourPromptFragment on VirtualTourPrompt {
    heading {
      text
    }
    button {
      accessibility
      primary
      icon {
        description
        id
      }
      action {
        resource {
          value
        }
        accessibility
      }
    }
    heroImage {
      description
      url
      cameraMovement
    }
    caption {
      text
    }
  }
`,Zt=({data:e,className:t,headingSize:n=4,captionSize:r=200})=>{var i,o,c,s;if(!e)return null;const{heading:m,button:d,heroImage:g,caption:u}=e,p=n&&[3,4].includes(n)?{customStyle:4===n?"headline-large":"headline-extra-large"}:void 0;return a.createElement("div",{className:t},a.createElement(E.M,{size:n,typeStyle:p,tag:"h3"},null==m?void 0:m.text),d&&a.createElement(l.N,{margin:{blockstart:"three"}},a.createElement(S.g,null,a.createElement(b.M,{ratio:b.l.R16_9},a.createElement(P.F,{placeholderImage:!0,alt:null==g?void 0:g.description,src:null==g?void 0:g.url}),a.createElement(T.P,{type:"absolute",position:{top:"zero",right:"zero",bottom:"zero",left:"zero"},cloneElement:!0},a.createElement(f.w,{alignItems:"center",justifyItems:"center"},a.createElement(v.T,null,a.createElement(H.M,null,a.createElement(z.LD,{description:null==(i=d.icon)?void 0:i.description,id:null==(o=d.icon)?void 0:o.id,name:(null==(c=d.icon)?void 0:c.id)||""}),d.primary))))),a.createElement(I.w,null,a.createElement("a",{href:null==(s=d.action)?void 0:s.resource.value,target:"_blank",rel:"noopener"},d.accessibility)))),u&&a.createElement(l.N,{padding:{blockstart:"one"}},a.createElement(x.D,{size:r,weight:"regular"},u.text)))};Zt.displayName="VirtualTourPrompt",Zt.fragment=Jt;var en=i.gql`
  fragment SpaceDetailsFragment on SpaceDetails {
    ...SpaceDetailsHeaderFragment
    ...SpaceDetailsSpacesFragment
    ...SpaceDetailsFloorPlanFragment
    virtualTourPrompt {
      ...VirtualTourPromptFragment
    }
  }

  ${Yt.fragment}
  ${jt.fragment}
  ${Wt.fragment}
  ${Zt.fragment}
`,tn=({data:e,className:t})=>e?a.createElement(l.N,{className:t},a.createElement(S.g,null,a.createElement(Yt,{data:e}),a.createElement(l.N,{padding:{blockstart:"six"}},a.createElement(Wt,{data:e,rfrr:"HOT.HIS.SpaceDetails.SingleiUnit.Floorplan"})),a.createElement(l.N,{padding:{blockstart:"six"}},a.createElement(jt,{data:e})),e.virtualTourPrompt?a.createElement(l.N,{padding:{blockstart:"six"}},a.createElement(Zt,{data:e.virtualTourPrompt})):null)):null;tn.displayName="SpaceDetails",tn.fragment=en;var nn=({priceDetail:e,ratePlan:t,roomId:n,enableInlineLink:r=!1,shouldRightAlignedPriceSummary:l=!1,showStrikeThroughPrice:i=!0,isDialog:c=!1})=>{var m,g,p,E,y,f,v;const h=(0,o.useEgClickstream)(),C=(0,d.Ry)(),k="true"===(null==(m=(0,u.m9)("disableFeeInclusiveMessaging"))?void 0:m.value),S=a.useCallback(()=>{n&&(null==t?void 0:t.id)&&h((0,d.OE)(d.ZE.STRIKETHROUGH_PRICE_SELECTED,n,t.id))},[n,null==t?void 0:t.id]);if(!e)return null;if(!(null==(p=null==(g=e.price)?void 0:g.displayMessages)?void 0:p.length))return a.createElement(s.CWK,{align:l?Y.A$.RIGHT:Y.A$.LEFT,data:e});const I=void 0!==(null==(y=null==(E=e.price)?void 0:E.reassuranceMessage)?void 0:y.value)&&""!==(null==(v=null==(f=e.price)?void 0:f.reassuranceMessage)?void 0:v.value);return a.createElement("div",{"data-stid":"price-summary"},a.createElement(Q._,{data:e.price,flexAlignment:l?"end":"start",enableInlineLink:r,onDisclaimerClick:S,isReassuranceStylingEnabled:I,showStrikeThroughPrice:i,contents:C,disableFeeInclusive:k,isDialog:c}))},an=i.gql`
  fragment ExperimentalLodgingBannerFragment on PropertyUnitDetails {
    experimentalStickyBannerButtonText
  }
`,rn="Room details banner button click",ln="HOT.HIS.RoomDetailsBanner.Clicked",on="banner-spacing",cn=({priceDetail:e,onMountCallback:t,targetRef:n,data:i})=>{var c,d;const g=a.useRef(null),{getTargets:u}=(0,$.OK)(),p=u([on])[on]||{current:null},E=(0,o.useClickTracker)(),y=a.useCallback(()=>{var e;E(ln,rn),null==(e=null==n?void 0:n.current)||e.scrollIntoView({block:"end",behavior:"smooth"})},[]);return a.useEffect(()=>{var e;p.current&&(p.current.style.height=`${(null==(e=g.current)?void 0:e.clientHeight)||0}px`)},[]),a.useEffect(()=>{null==t||t()},[]),a.createElement(m.ln,{value:{cardId:"not-valid-for-coachmark"}},a.createElement(l.N,{padding:{block:"four",inline:"six"}},a.createElement("div",{ref:g},a.createElement(r.X,{space:"six",justifyContent:"space-between"},e&&a.createElement(D.C,null,a.createElement("div",null,a.createElement(nn,{priceDetail:e,showStrikeThroughPrice:!1,enableInlineLink:!0}),(null==(c=e.price)?void 0:c.reassuranceMessage)&&a.createElement(l.N,{margin:{blockstart:"half"}},a.createElement("div",null,a.createElement(s.UKE,{data:null==(d=e.price)?void 0:d.reassuranceMessage,textSize:200,iconMargin:{inlineend:"one"},includeGraphicInText:!0}))))),i.experimentalStickyBannerButtonText&&a.createElement(D.C,{alignSelf:"center"},a.createElement("div",null,a.createElement(C.y,{onClick:y},i.experimentalStickyBannerButtonText)))))))};cn.fragment=an,cn.displayName="Banner";var sn=i.gql`
  fragment LodgingPlainSheetFragment on LodgingPlainDialog {
    __typename
    content
    trigger {
      clientSideAnalytics {
        linkName
        referrerId
      }
      icon {
        description
        id
      }
      theme
      value
    }
    toolbar {
      title
      icon {
        description
      }
      clientSideAnalytics {
        linkName
        referrerId
      }
    }
  }
`,mn=({data:e,uniqueDialogId:t,isHtmlContent:n=!1,spacing:r={}})=>{const i=(0,s.vjX)(),[c,m,d]=(0,N.useDialog)(`${t}-${i}`,"pwaDialogNested"),g=(0,o.useClickTracker)();if(!e)return null;const{content:u,trigger:p,toolbar:E}=e,y=()=>{const{clientSideAnalytics:e}=E||{};m.closeDialog(),e&&g(`HOT.HIS${e.referrerId}`,e.linkName)},f=({sheetSize:e})=>{var r,i;return a.createElement(te.t,{triggerRef:null,isVisible:c,type:"centered",centeredSheetSize:e},a.createElement(q.p,{key:`${t}-toolbar`,toolbarTitle:null!=(r=null==E?void 0:E.title)?r:void 0,navigationContent:{navIconLabel:null==(i=null==E?void 0:E.icon)?void 0:i.description,navType:"close",onClick:y}}),a.createElement(V.Y,null,u.map((e,r)=>n?a.createElement(l.N,{padding:"three",key:`${t}-content-${r}`},a.createElement(ne.Q,{htmlToParse:e})):a.createElement(x.D,{key:`${t}-content-${r}`,spacing:0!==r?"four":void 0},e))))};return a.createElement(a.Fragment,null,a.createElement(l.N,{...r},a.createElement(ee.t,{onClick:()=>{const{clientSideAnalytics:e}=p;m.openDialog(),e&&g(`HOT.HIS${e.referrerId}`,e.linkName)}},a.createElement("button",{type:"button"},a.createElement(x.D,{className:"uitk-layout-flex",size:300,theme:p.theme?s.jFx[p.theme]:"default"},p.value,p.icon&&a.createElement(z.LD,{name:p.icon.id,size:z.So.SMALL}))))),a.createElement(L.K,{isVisible:c},a.createElement(d,null,a.createElement(X.LM,null,a.createElement(X.NP,null,a.createElement(f,{sheetSize:"small"})),a.createElement(X.rw,null,a.createElement(f,{sheetSize:"medium"}))))))};mn.fragment=sn,mn.displayName="LodgingPlainSheet";var dn=i.gql`
  fragment PropertyFeaturesFragment on PropertyInfoItem {
    theme
    text
    graphic {
      __typename
      ... on Icon {
        description
        id
        size
      }
      ... on Mark {
        description
        id
        url {
          value
        }
      }
    }
    moreInfoDialog {
      ...LodgingPlainSheetFragment
    }
  }
  ${mn.fragment}
`,gn=({data:e,uniqueDialogId:t})=>{var n;const{text:r,moreInfoDialog:l,graphic:i,theme:o}=e;return a.createElement(j.x,null,i&&"Icon"===i.__typename&&a.createElement(z.LD,{name:i.id,description:i.description,id:i.id,theme:(0,s.Sgx)(o),size:i.size&&z.So[i.size]}),i&&"Mark"===i.__typename&&a.createElement(J.D,{url:null==(n=i.url)?void 0:n.value,name:i.id,description:i.description,id:i.id,size:Z.K.SMALL}),!l&&a.createElement(x.D,{theme:(0,s.MEz)(o)},r),t&&l&&a.createElement(mn,{uniqueDialogId:t,isHtmlContent:!0,data:l}))};gn.fragment=dn,gn.displayName="PropertyFeatures";var un=i.gql`
  fragment NudgeGalleryFragment on UpgradeNudgeRoom {
    unitGallery {
      accessibilityLabel
      images {
        imageId
        image {
          url
          description
        }
      }
    }
  }
`,pn=({data:e,figureAspectRatio:t})=>{var n,r;const{unitGallery:l}=e;if(!(null==l?void 0:l.images)||0===l.images.length)return null;const{images:i}=l,o=null==(n=i[0])?void 0:n.image.url,c=null==(r=i[0])?void 0:r.image.url;return a.createElement(b.M,{ratio:t},a.createElement(P.F,{alt:c,placeholderImage:!0,src:o}))};pn.fragment=un,pn.displayName="ExperimentalUpgradeNudgeImage";var En=(e=>(e.ACTIVITY_ID="ACTIVITY_ID",e.CART_ID="CART_ID",e.CAR_OFFER_TOKEN="CAR_OFFER_TOKEN",e.CHECKOUT_SESSION_ID="CHECKOUT_SESSION_ID",e.ENTITY_ID="ENTITY_ID",e.LEGACY_ORDER_ID="LEGACY_ORDER_ID",e.OFFER_ID="OFFER_ID",e.ORDER_ID="ORDER_ID",e.PROPERTY_ID="PROPERTY_ID",e.SAILING_TOKEN="SAILING_TOKEN",e))(En||{}),yn={BREAKOUT_TYPE_UPGRADE_DELTA_GREEN:"medium",BREAKOUT_TYPE_ADDITIONAL_CHARGES:"regular"},fn={BREAKOUT_TYPE_UPGRADE_DELTA_GREEN:"POSITIVE",BREAKOUT_TYPE_ADDITIONAL_CHARGES:"PRIMARY"},vn={BREAKOUT_TYPE_UPGRADE_DELTA_GREEN:500,BREAKOUT_TYPE_ADDITIONAL_CHARGES:void 0},hn=e=>{if(!e||!(e in yn))return{theme:"PRIMARY",weight:"REGULAR",size:void 0};return{theme:fn[e],weight:"medium"===yn[e]?"MEDIUM":"REGULAR",size:vn[e]}},Cn=e=>({theme:(0,s.MEz)(e.theme),weight:s.XNo[e.weight],size:e.size}),kn=({lineItem:e,actionId:t,contents:n})=>{var r;const l=(0,y.pC)(t||""),i=(0,y.RN)(t||""),o=null==i?void 0:i.contentId,c=null==(r=null==n?void 0:n.find(e=>e.contentId===o))?void 0:r.content;return a.createElement(a.Fragment,null,a.createElement(ae.x,{onClick:l},a.createElement("button",{type:"button"},a.createElement(x.D,{...Cn(hn(e.state))},e.value))),c&&a.createElement(Q.c,{data:c,actionId:t}))},Sn=({price:e,contents:t,shoppingJoinListContainer:n})=>{if(!e||!e.displayMessages)return null;const{displayMessages:i}=e,o=i[0],c=()=>a.createElement(l.N,{padding:"four"},a.createElement(r.X,{direction:"column",alignItems:"end",justifyContent:"space-between"},null==o?void 0:o.lineItems.map((e,n)=>"LodgingEnrichedMessage"===e.__typename&&((e,t,n)=>{var r,l;const i=e.actions&&(null==(r=e.actions)?void 0:r.length)>0?null==(l=e.actions[0])?void 0:l.actionId:null,o=hn(e.state);return a.createElement(a.Fragment,null,!i&&a.createElement(x.D,{key:t,...Cn(o)},e.value),i&&n&&a.createElement(kn,{lineItem:e,actionId:i,contents:n}))})(e,n,t))));return n?a.createElement(y._T,{id:"upgrade-nudge-room-delta",shoppingJoinListContainer:n},c()):c()},In=({price:e,lodgingButton:t,isFullWidth:n,buttonSpacingPropsMap:i,footerText:c,footerTextSpacingPropsMap:s,footerTextFlexDirectionPropsMap:m,upgradeNudgeRoomId:d,contents:g,shoppingJoinListContainer:u})=>{const p=(0,o.useClickTracker)(),[,E]=(0,N.useDialog)(`room-info-${d}`,"propertyUnitRoomInfoDialog");if(!t)return null;const{text:y}=t;return a.createElement(r.X,{direction:"column"},e&&a.createElement(D.C,null,a.createElement(r.X,{justifyContent:"end"},a.createElement(l.N,{padding:"four"},a.createElement(Sn,{price:e,contents:g,shoppingJoinListContainer:u})))),t&&a.createElement(D.C,null,a.createElement(l.N,{...i},a.createElement(r.X,{direction:"column",alignItems:"end"},a.createElement(l.N,{padding:{inline:"eight"}},a.createElement(C.y,{onClick:()=>{t.analytics&&p(t.analytics.referrerId,t.analytics.linkName),E.openDialog({closeAllDialogs:!0})},isFullWidth:n},y))))),c&&a.createElement(D.C,{alignSelf:m},a.createElement(l.N,{...s},a.createElement(x.D,null,c.text))))},bn=({header:e,features:t})=>e||t?a.createElement(l.N,{padding:"three"},a.createElement(r.X,{space:"three",direction:"column"},a.createElement(D.C,null,a.createElement(l.N,{margin:{blockstart:"two",inline:"three"}},a.createElement(E.M,{tag:"h3"},null==e?void 0:e.text))),a.createElement(D.C,null,a.createElement(l.N,{margin:{inline:"three"}},a.createElement(x.D,null,null==e?void 0:e.subText))),t&&a.createElement(l.N,{padding:{inlinestart:"two"}},a.createElement(re.y,{bullet:"icon-alternate",spacing:!1,type:"ordered"},t.map((e,t)=>a.createElement(l.N,{key:`nudge-feature-${t}`,padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(j.x,null,a.createElement(z.LD,{name:"check"}),e.text)))))))):null,Pn=i.gql`
  fragment ExperimentalUpgradeNudgeRoomFragment on UpgradeNudgeRoom {
    features {
      ...PropertyFeaturesFragment
    }
    footerText {
      text
      accessibilityLabel
      impressionAnalytics {
        referrerId
        linkName
      }
    }
    header {
      ...LodgingHeaderFragment
    }
    impressionAnalytics
    nudgeRoomId
    parentRoomId
    price {
      displayMessages {
        lineItems {
          ... on LodgingEnrichedMessage {
            value
            state
            actions {
              actionId
              accessibility
              __typename
            }
          }
          ... on DisplayPrice {
            role
            price {
              formatted
              accessibilityLabel
            }
          }
        }
      }
    }
    lodgingButton {
      accessibilityLabel
      text
      analytics {
        referrerId
        linkName
      }
    }
    title
    ...NudgeGalleryFragment
  }

  ${gn.fragment}
  ${s.uZW.fragment}
  ${s.GOx}
  ${y.Rx.fragment}
  ${pn.fragment}
`,Dn=({data:e,contents:t,shoppingJoinListContainer:n})=>{const{title:i,header:c,features:s,lodgingButton:m,footerText:d,nudgeRoomId:g,price:u}=e,p={[X.OB.SMALL]:"column",[X.OB.LARGE]:"row"},y={[X.OB.SMALL]:!0,[X.OB.LARGE]:!1},f={[X.OB.SMALL]:{padding:{inline:"three",blockend:d?"unset":"four"}},[X.OB.LARGE]:{padding:{inlineend:"three",blockend:d?"unset":"four"}}},v={[X.OB.SMALL]:{margin:{block:"three"}},[X.OB.LARGE]:{margin:{block:"four",inlineend:"four"}}},h={[X.OB.SMALL]:"center",[X.OB.LARGE]:"end"},C={[X.OB.SMALL]:b.l.R16_9,[X.OB.LARGE]:b.l.R1_1},k=(0,X.s5)(p),I=(0,X.s5)(y),P=(0,X.s5)(f),T=(0,X.s5)(v),L=(0,X.s5)(h),_=(0,X.s5)(C);return a.createElement(o.IntersectionTracker,{...e.impressionAnalytics},a.createElement(l.N,{padding:{blockstart:"three"}},a.createElement(r.X,{alignContent:"end",alignItems:"stretch",direction:"column",space:"small"},a.createElement(D.C,null,a.createElement(E.M,{size:5},i)),a.createElement(D.C,null,a.createElement(S.g,{border:!0},a.createElement(r.X,{direction:k,inline:!0,"data-stid":"nudge-container"},a.createElement(D.C,null,a.createElement(pn,{figureAspectRatio:_,data:e})),a.createElement(D.C,{style:{width:"100%"}},a.createElement(r.X,{justifyContent:"space-between",direction:"column"},a.createElement(D.C,null,a.createElement(bn,{header:c,features:s})),a.createElement(D.C,{alignSelf:"end"},a.createElement(In,{price:u,lodgingButton:m,isFullWidth:I,buttonSpacingPropsMap:P,footerText:d,footerTextSpacingPropsMap:T,footerTextFlexDirectionPropsMap:L,upgradeNudgeRoomId:g,contents:t,shoppingJoinListContainer:n}))))))))))};Dn.fragment=Pn,Dn.displayName="ExperimentalUpgradeNudgeRoom";var Tn=i.gql`
  fragment PropertyDialogFeaturesFragment on EGDSTextIconListItem {
    __typename
    style
    text
    icon {
      id
      description
    }
  }
`,Ln=({data:e})=>{const{text:t,icon:n,style:r}=e;return a.createElement(j.x,{theme:(0,s.BhK)(r)},n&&"Icon"===n.__typename&&a.createElement(z.LD,{name:n.id,description:n.description,id:n.id,size:z.So.SMALL}),t)};Ln.fragment=Tn,Ln.displayName="PropertyDialogFeatures";var _n=i.gql`
  fragment ContentDialogFeaturesFragment on EGDSTextIconList {
    listItems {
      ...PropertyDialogFeaturesFragment
    }
  }
  ${Ln.fragment}
`,xn=({data:e,columns:t})=>{const{listItems:n}=e;if(!n.length)return null;const r=(0,f.I)(e=>a.createElement(re.y,{...e,bullet:"icon-alternate"},n.map((e,t)=>a.createElement(Ln,{data:e,key:`feature-${t}`}))));return a.createElement(l.N,{margin:{block:"four"}},a.createElement("div",null,a.createElement(r,{columns:t})))};xn.fragment=_n,xn.displayName="DialogFeatures";var Nn=a.createContext({listing:null,expandoItemsCard:null,ratePlans:null,upgradeNudgeRoom:null,suitabilityProps:null,shoppingJoinListContainer:null}),Rn=()=>a.useContext(Nn),An=({children:e,value:t})=>a.createElement(Nn.Provider,{value:t},e),Fn=()=>{const{listing:e}=Rn();if(!e)return null;const{detailsDialog:t}=e;if(!Vt(t))return null;const{baseDialogFeatures:n}=t.content;return n?a.createElement(xn,{"data-stid":"primary-features",data:n,columns:2}):null},$n=i.gql`
  fragment ExpandoItemsCardFragment on LodgingExpandoItemsCard {
    expando {
      collapsedLabel
      expandedLabel
      expanded
    }
    header {
      accessibilityLabel
      egdsStandardBadge {
        accessibility
        theme
        text
      }
      label
      subText
      text
    }
    items {
      icon {
        description
        id
      }
      impressionAnalytics {
        referrerId
        linkName
        event
      }
      subText
      text
    }
  }
`,On=({data:e,isWithinDetailsDialog:t=!1})=>{var n,i,c;const[m,d]=a.useState(!1);if(!e)return null;const{header:g,items:u,expando:p}=e,y=null==(n=null==g?void 0:g.egdsStandardBadge)?void 0:n.theme,f=()=>u?a.createElement(re.y,{bullet:"icon-standard"},u.map((e,t)=>{var n,r,l;return e.text&&a.createElement(o.IntersectionTracker,{key:t,trackOnce:!0,referrerId:(null==(n=e.impressionAnalytics)?void 0:n.referrerId)||"",linkName:(null==(r=e.impressionAnalytics)?void 0:r.linkName)||""},a.createElement(j.x,{key:`bundled-perk-${t}`},a.createElement(z.LD,{name:(null==(l=e.icon)?void 0:l.id)||"check",size:z.So.SMALL}),a.createElement(x.D,null,e.text)))})):null;return a.createElement(S.g,{padded:!0,"data-testid":"recommendation-card",backgroundTheme:"secondary"},a.createElement(r.X,{alignItems:"start",space:"two",direction:"row"},a.createElement(E.M,{tag:"h4",size:7},y&&a.createElement(le.V,{text:(null==(i=null==g?void 0:g.egdsStandardBadge)?void 0:i.text)||"",theme:s.vNk[y],a11yText:(null==(c=null==g?void 0:g.egdsStandardBadge)?void 0:c.accessibility)||""}),a.createElement(l.N,{padding:{inlinestart:"two"}},(null==g?void 0:g.text)&&a.createElement(x.D,{theme:"standard",inline:!0,spacing:"six","aria-hidden":"true"},g.text)))),a.createElement(O.E,{padded:!1},a.createElement(re.y,{bullet:"icon-alternate",type:"ordered",spacing:!1},t?f():a.createElement(ie.A,{isVisible:m,expandLabel:null==p?void 0:p.expandedLabel,collapseLabel:null==p?void 0:p.collapsedLabel,handleClick:()=>d(e=>!e),items:2},f()))))};On.displayName="ExpandoItemsCard",On.fragment=$n;var Mn=i.gql`
  fragment HighlightedAttributeFragment on HighlightedAttribute {
    icon {
      ...LodgingEGDSIconFragment
    }
    text
  }
  ${s.TQy.fragment}
`,wn=({data:{icon:e,text:t}})=>a.createElement(r.X,{alignItems:"center",direction:"column",space:"two"},(null==e?void 0:e.size)&&a.createElement(D.C,null,a.createElement(s.TQy,{data:e,ariaHidden:!0})),a.createElement(D.C,null,a.createElement(x.D,{align:"center",overflow:"wrap"},t)));wn.displayName="HighlightedAttribute",wn.fragment=Mn;var Bn=i.gql`
  fragment HighlightedAttributesSectionFragment on HighlightedAttributesSection {
    attributes {
      ...HighlightedAttributeFragment
    }
    backgroundTheme
    impressionAnalytics {
      ...ClientSideAnalyticsFragment
    }
  }
  ${s.hth}
  ${wn.fragment}
`,Un=({data:e,display:t})=>"dynamic-column-grid"===t?a.createElement(Gn,{data:e}):a.createElement(zn,{data:e}),Gn=({data:{attributes:e,backgroundTheme:t}})=>a.createElement(S.g,{padded:!0,backgroundTheme:(0,s.Gf9)(t),style:{display:"inline-flex"}},a.createElement(r.X,{justifyContent:"center"},a.createElement(D.C,null,a.createElement("div",null,a.createElement(f.w,{display:"inline-grid",space:{row:"three",column:"six"},columns:(null==e?void 0:e.length)&&(null==e?void 0:e.length)>4?4:null==e?void 0:e.length},null==e?void 0:e.map((e,t)=>a.createElement(v.T,{key:t},a.createElement(wn,{data:e})))))))),zn=({data:{attributes:e,backgroundTheme:t}})=>a.createElement(S.g,{padded:!0,backgroundTheme:(0,s.Gf9)(t)},a.createElement(r.X,{justifyContent:"center"},a.createElement(D.C,null,a.createElement("div",null,a.createElement(f.w,{display:"inline-grid",space:{row:"three",column:"six"},columns:3},null==e?void 0:e.map((e,t)=>a.createElement(v.T,{key:t},a.createElement(wn,{data:e})))))))),Hn=({data:e,display:t="three-column-grid"})=>e.impressionAnalytics?a.createElement(o.IntersectionTracker,{trackOnce:!0,referrerId:e.impressionAnalytics.referrerId,linkName:e.impressionAnalytics.linkName},a.createElement(Un,{data:e,display:t})):a.createElement(Un,{data:e,display:t});Hn.displayName="HighlightedAttributesSection",Hn.fragment=Bn;var Vn=()=>{const{listing:e}=Rn();if(!e||!function(e){return e&&"roomHighlightsV2"in e}(e))return null;const{roomHighlightsV2:t}=e;return t?a.createElement(l.N,{margin:{block:"four"}},a.createElement("div",null,a.createElement(Hn,{data:t}))):null},qn="room-rates-options",Kn=i.gql`
  fragment LodgingReviewSectionFragment on LodgingReviewSection {
    rating {
      ... on LodgingCardRating {
        ...LodgingCardRatingFragment
      }
      ... on LodgingCardPhrase {
        ...LodgingCardGuestRatingFragment
      }
    }
    itemsHeader {
      title {
        ...LodgingHeaderFragment
      }
    }
    items {
      ... on EGDSTextStandardListItem {
        text
      }
    }
    impression {
      ...ClientSideAnalyticsFragment
    }
  }

  ${s.uZW.fragment}
  ${s.YLm.fragment}
  ${s.iPz.fragment}
`,Wn=({data:e})=>{const{rating:t,itemsHeader:n,items:r,impression:i}=e,{referrerId:c="",linkName:m=""}=i||{};if(!t)return null;const d=(()=>{switch(null==t?void 0:t.__typename){case"LodgingCardRating":return a.createElement(s.YLm,{data:t});case"LodgingCardPhrase":return c?a.createElement(o.IntersectionTracker,{referrerId:c,linkName:m,trackOnce:!0},a.createElement(s.iPz,{data:t})):a.createElement(s.iPz,{data:t});default:return null}})();return a.createElement("div",null,a.createElement(l.N,{margin:{blockstart:(null==r?void 0:r.length)?void 0:"one",blockend:(null==r?void 0:r.length)?"two":void 0}},a.createElement("div",null,d)),(null==r?void 0:r.length)&&r.length>0&&a.createElement("div",null,n&&a.createElement(s.uZW,{data:n.title}),a.createElement(re.y,{bullet:"no-bullet"},r.map((e,t)=>"EGDSTextStandardListItem"===e.__typename&&a.createElement(j.x,{key:`review-section-item-${t}`},e.text)))))};Wn.fragment=Kn,Wn.displayName="LodgingReviewSection";var Xn=()=>{const{listing:e}=Rn();if(!e)return null;const{detailsDialog:t}=e;if(!Vt(t))return null;const{dialogFeatures:n}=t.content;return n?a.createElement(xn,{"data-stid":"secondary-features",data:n}):null},Yn=i.gql`
  fragment UnitHighlightsFragment on PropertyInfoContent {
    header {
      text
      icon {
        id
        description
        token
      }
    }
    infoItems {
      ... on PropertyInfoItem {
        text
      }
    }
    iconAnalytics {
      linkName
      referrerId
      uisPrimeMessages {
        messageContent
        schemaName
      }
    }
  }
`,Qn=({data:e})=>{var t,n,i;const{header:c,infoItems:s,iconAnalytics:m}=e,d={referrerId:null!=(t=null==m?void 0:m.referrerId)?t:"",linkName:null!=(n=null==m?void 0:m.linkName)?n:"",additionalUisPrimeMicroMessages:null==(i=null==m?void 0:m.uisPrimeMessages)?void 0:i.map(({messageContent:e,schemaName:t})=>({messageContent:JSON.parse(e),schemaName:t}))},g=a.createElement(S.g,{padded:!0,backgroundTheme:oe.g5.SECONDARY},c&&a.createElement(l.N,{margin:{blockend:"two"}},a.createElement(r.X,{space:"two",alignItems:"center"},c.icon&&a.createElement(D.C,null,a.createElement(z.LD,{name:c.icon.id,id:c.icon.id,description:c.icon.description})),c.text&&a.createElement(D.C,null,a.createElement(E.M,{size:6},c.text)))),s.length>0&&a.createElement(r.X,{space:"two",wrap:"wrap"},s.filter(e=>"PropertyInfoItem"===e.__typename).map((e,t)=>a.createElement(D.C,{key:t},a.createElement(l.N,{margin:{inlineend:"two"}},a.createElement(x.D,null,e.text))))));return(null==m?void 0:m.referrerId)&&(null==m?void 0:m.linkName)?a.createElement(o.IntersectionTracker,{...d},g):g};Qn.displayName="UnitHighlights",Qn.fragment=Yn;var jn=()=>{const{listing:e}=Rn();if(!e)return null;const{roomHighlights:t}=e;return t?a.createElement(l.N,{margin:{block:"four"}},a.createElement("div",null,a.createElement(Qn,{data:t}))):null},Jn=[jn,Vn,Fn,Xn],Zn=i.gql`
  fragment RoomAmenityContentItemTextsFragment on PropertyContentItemTexts {
    contents {
      primary {
        value
      }
    }
  }
`,ea=({data:e})=>{const{contents:t}=e;return(null==t?void 0:t.length)?a.createElement(l.N,{padding:{inlinestart:"three",blockstart:"two"}},a.createElement(re.y,{spacing:!1},t.map(({primary:e},t)=>e.value&&a.createElement(j.x,{key:t},e.value)))):null};ea.displayName="RoomAmenityContentItemTexts",ea.fragment=Zn;var ta=i.gql`
  fragment RoomAmenityContentTextFragment on PropertyContentItemMarkup {
    content {
      text
    }
  }
`,na=({data:e})=>{if(!e.content)return null;const{content:t}=e;return a.createElement(l.N,{padding:{inlinestart:"three"}},a.createElement("div",null,a.createElement(ne.Q,{htmlToParse:t.text})))};na.displayName="RoomAmenityContentText",na.fragment=ta;var aa=i.gql`
  fragment RoomAmenityContentFragment on PropertyContent {
    header {
      text
      icon {
        id
      }
    }
    items {
      ... on PropertyContentItemMarkup {
        ...RoomAmenityContentTextFragment
      }
      ... on PropertyContentItemTexts {
        ...RoomAmenityContentItemTextsFragment
      }
    }
  }
  ${na.fragment}
  ${ea.fragment}
`,ra=({item:e})=>{switch(e.__typename){case"PropertyContentItemTexts":return a.createElement(ea,{data:e});case"PropertyContentItemMarkup":return a.createElement(na,{data:e});default:return null}},la=({data:e})=>{var t;const{header:n,items:i}=e;return n?a.createElement(v.T,null,a.createElement("div",null,a.createElement(r.X,{space:"three"},a.createElement(D.C,null,a.createElement(z.LD,{name:(null==(t=n.icon)?void 0:t.id)||""})),a.createElement(D.C,null,a.createElement(E.M,{tag:"h4",size:6},n.text))),a.createElement(l.N,{padding:{inlinestart:"six"}},i.map((e,t)=>a.createElement(ra,{item:e,key:t}))))):null};la.displayName="RoomAmenityContent",la.fragment=aa;var ia=i.gql`
  fragment RoomAmenitiesElementsContentFragment on PropertyContentElement {
    ...RoomAmenityContentFragment
  }
  ${la.fragment}
`,oa=({data:e})=>e&&"PropertyContent"===e.__typename?a.createElement(la,{data:e}):null;oa.fragment=ia,oa.displayName="RoomAmenitiesElementsContent";var ca=i.gql`
  fragment RoomAmenitiesBodySubsectionsFragment on PropertyContentSubSection {
    elementsV2 {
      elements {
        ...RoomAmenitiesElementsContentFragment
      }
    }
  }
  ${oa.fragment}
`,sa=({data:e})=>{const{elementsV2:t}=e;return t.length?t.flatMap(e=>e.elements.map((e,t)=>a.createElement(oa,{data:e,key:`dialog-room-amenity-${t}`}))):null};sa.fragment=ca,sa.displayName="RoomAmenitiesBodySubsections";var ma=i.gql`
  fragment RoomAmenitiesDescriptionFragment on PropertyContentSection {
    header {
      text
    }
    bodySubSections {
      ...RoomAmenitiesBodySubsectionsFragment
    }
  }
  ${sa.fragment}
`,da=({data:e})=>{var t,n;const{header:r,bodySubSections:i}=e,{dialogLayout:o}=Pt(),{listing:c}=Rn(),s=null==c?void 0:c.detailsDialog;return(null==(n=null==(t=null==i?void 0:i[0])?void 0:t.elementsV2)?void 0:n.length)||Vt(s)&&s.content.dialogFeatures?a.createElement("div",null,r&&a.createElement(l.N,{margin:{blockend:"six"}},a.createElement(E.M,{tag:"h3",size:5},r.text)),o===ht&&Jn.map((e,t)=>a.createElement(e,{key:t})),i.length>0&&a.createElement(f.w,{columns:{small:1,medium:2},space:"six"},i.map((e,t)=>a.createElement(sa,{key:t,data:e})))):null};da.displayName="RoomAmenitiesDescription",da.fragment=ma;var ga="travelers",ua=({textProps:e={},ctaProps:t={}})=>a.createElement(a.Fragment,null,a.createElement(pa,{...e}),a.createElement(Ea,{...t})),pa=({message:e,accessibility:t,weight:n="regular",size:r=100,alignment:l="left"})=>{const i=e&&t;return a.createElement(a.Fragment,null,i?a.createElement(x.D,{theme:"negative",align:l,size:r,weight:n,"aria-label":t,"data-stid":"suitability-error-message"},e):null)},Ea=({blockStartMargin:e,blockEndMargin:t,isFullWidth:n,useLinkInsteadOfButton:i,text:o,justifyContent:c,linkAlign:s,closeDialog:m})=>{const d=ya(m);if(!o)return null;const g=i?a.createElement(B.i,{onClick:d,"data-stid":"suitability-error-link",size:"small",align:s},a.createElement("button",{type:"button"},o)):a.createElement(ce.y,{onClick:d,size:k.V.MEDIUM,isFullWidth:n,"data-stid":"suitability-error-button"},o),u=a.createElement(l.N,{margin:{blockstart:e,blockend:t}},g);return c?a.createElement(r.X,{justifyContent:c},u):u},ya=e=>{const{getTargets:t}=(0,$.OK)(),{scrollTo:n}=(0,$.xC)();return(0,a.useCallback)(()=>{const a=()=>{const{travelers:e}=t([ga]);(null==e?void 0:e.current)&&(n(ga,[]),setTimeout(()=>{var t;null==(t=e.current)||t.click()},500))};e&&"function"==typeof e?(e(),setTimeout(a,300)):a()},[t,n])},fa=({children:e,data:t})=>{const{listing:n,ratePlans:r,suitabilityProps:l,expandoItemsCard:i,shoppingJoinListContainer:o}=t;return a.createElement(An,{value:{listing:n,ratePlans:r,suitabilityProps:l,expandoItemsCard:i,shoppingJoinListContainer:o}},e)};fa.Header=()=>{const{listing:e}=Rn();if(!e||!Vt(e.detailsDialog))return null;const{detailsDialog:t}=e,{details:n}=t.content,r=null==n?void 0:n.header;return r?a.createElement(l.N,{margin:{blockend:"three"}},a.createElement("div",{"data-stid":"property-offers-details-dialog-header"},a.createElement(E.M,{size:5,tag:"h3"},r.text),r.subText&&a.createElement(x.D,{theme:"standard"},r.subText))):null},fa.RatePlans=()=>{const{ratePlans:e}=Rn(),{dialogLayout:t}=Pt(),{registerTarget:n}=(0,$.OK)(),r=n(qn);return e?a.createElement("div",{ref:r,id:qn,style:{scrollMargin:"16px"}},a.createElement(l.N,{margin:t===kt?{blockstart:"four"}:{block:"four"}},a.createElement("div",null,e))):null},fa.UnitHighlights=jn,fa.HighlightedAttributeSection=Vn,fa.BaseFeatures=Fn,fa.SecondaryFeatures=Xn,fa.Reviews=()=>{const{listing:e}=Rn();if(!e)return null;const{lodgingReview:t}=e;if(!t)return null;const{rating:n,itemsHeader:r,items:i}=t;return n||r||(null==i?void 0:i.length)&&i.length>0?a.createElement(l.N,{margin:{block:"six"}},a.createElement("div",null,a.createElement(Wn,{data:t}))):null},fa.SpaceDetails=()=>{const{listing:e}=Rn();if(!e)return null;const{spaceDetails:t}=e;return t?a.createElement(l.N,{padding:{blockend:"two"}},a.createElement(tn,{data:t})):null},fa.ExpandoItemCard=()=>{const{expandoItemsCard:e}=Rn();return e?a.createElement(l.N,{margin:{block:"four"}},a.createElement("div",null,a.createElement(On,{isWithinDetailsDialog:!0,data:e}))):null},fa.RoomAmenities=()=>{const{listing:e}=Rn();if(!e)return null;const{roomAmenities:t}=e;return t?a.createElement(l.N,{margin:{block:"six"}},a.createElement("div",null,a.createElement(da,{data:t}))):null},fa.ExperimentalUpgradeNudgeRoom=Dn,fa.SuitabilitySection=()=>{const{suitabilityProps:e}=Rn(),{suitabilityErrorMessage:t,suitabilityErrorMessageAccessibility:n,suitabilityErrorButton:r,useLinkInsteadOfButton:l,closeDialog:i}=e||{},o=t&&n&&r;return a.createElement("div",null,o&&a.createElement(ua,{textProps:{message:t,accessibility:n,size:300,weight:"bold",alignment:"right"},ctaProps:{blockStartMargin:"two",isFullWidth:!1,useLinkInsteadOfButton:l,text:r,justifyContent:"end",linkAlign:"right",closeDialog:i}}))};var va=()=>{const{listing:e,shoppingJoinListContainer:t}=Rn(),{upgradeNudgeRoom:n}=Rt(),r=(0,d.Ry)();return n&&e&&e.id===n.parentRoomId?a.createElement(Dn,{data:n,contents:r,shoppingJoinListContainer:t}):null},ha=i.gql`
  fragment PropertyIdFragment on OfferDetails {
    id
  }
`,Ca=a.createContext(""),ka=()=>a.useContext(Ca),Sa=({children:e,value:t})=>a.createElement(Ca.Provider,{value:t},e);Sa.fragment=ha,Sa.displayName="PropertyIdProvider";var Ia=(e,t,n)=>n.includes("clickRight")?e<t-1?e+1:0:n.includes("clickLeft")?e>0?e-1:t-1:e;function ba(e,t,n,a,r,l,i){const o=Date.now().toString();return[{schemaName:"allHotelProducts",messageContent:{hotelProducts:[{imageGalleryAlgorithm:{name:"heroaesthetics.v20190411-hsc.v20190223"},algoMediaGuid:t,...r?{productId:Number(r)}:{},...a?{imageId:Number(a)}:{}}]}},{schemaName:"imageTracking",messageContent:{galleryName:l,galleryType:"GALLERY_TYPE_REPEATED",galleryMaxPosition:n,galleryPosition:e,imageGalleryMetaTagList:[{imageGalleryMetaTagValue:o,imageGalleryMetaTagType:"DEVICE_TIME_STAMP"}],...a?{images:[{id:a,galleryPosition:e}]}:{},...i?{repeatedGalleryIndex:i}:{}}}]}var Pa=e=>{var t;const n=null==(t=null==e?void 0:e.clientSideAnalytics)?void 0:t.uisPrimeMessages.find(e=>"room"===e.schemaName);return n?n.messageContent:""},Da={primaryIndex:0,secondaryIndex:0,tertiaryIndex:0},Ta=a.createContext(Da),La=()=>a.useContext(Ta),_a=(e,t)=>{var n,a,r,l;const{primaryIndex:i,secondaryIndex:o,tertiaryIndex:c}=t||Da,s=e.find(({primarySelection:e})=>null==e?void 0:e.enabled)||e.find(Boolean),m=e[i],d=(null==(n=null==m?void 0:m.primarySelection)?void 0:n.enabled)?i:s?null==e?void 0:e.indexOf(s):0,{secondarySelections:g}=e[d]||{secondarySelections:null},u=(null==g?void 0:g.find(({secondarySelection:e})=>null==e?void 0:e.enabled))||(null==g?void 0:g[0]);if(!g||!u)return{primaryIndex:d,secondaryIndex:0,tertiaryIndex:0};const p=null==g?void 0:g.indexOf(u),E=o&&(null==(r=null==(a=g[o])?void 0:a.secondarySelection)?void 0:r.enabled)&&o?o:p,{tertiarySelections:y}=g[E]||{tertiarySelections:null},f=null==y?void 0:y.find(({enabled:e})=>e);if(!y||!f)return{primaryIndex:d,secondaryIndex:E,tertiaryIndex:0};const v=f&&(null==y?void 0:y.indexOf(f));return{primaryIndex:d,secondaryIndex:E,tertiaryIndex:c&&(null==(l=null==y?void 0:y[c])?void 0:l.enabled)&&c?c:v}},xa=(e,t)=>{var n;const{primaryIndex:a,secondaryIndex:r,tertiaryIndex:l}=t,{propertyUnit:i,primarySelection:o,secondarySelections:c}=e[a]||{propertyUnit:null,primarySelection:null,secondarySelections:null},s=null==c?void 0:c[r],m=null==s?void 0:s.secondarySelection,d=null==(n=null==c?void 0:c[r])?void 0:n.tertiarySelections;return{propertyUnit:i||{},primarySelection:o,secondaryTarget:s,secondarySelection:m,secondarySelections:c,tertiarySelection:null==d?void 0:d[l]}},Na=e=>{var t,n,a;const{ratePlans:r}=e.propertyUnit,l=null==(t=null==e?void 0:e.primarySelection)?void 0:t.optionId,i=null==(n=null==e?void 0:e.secondarySelection)?void 0:n.optionId,o=(null==(a=null==e?void 0:e.tertiarySelection)?void 0:a.optionId)||i||l,c=r.find(({id:e})=>e===o)||r.find(()=>!0);return{ratePlan:c,ratePlanIndex:c?r.indexOf(c)+1:1}},Ra=e=>e&&e>=0?e:0,Aa=({isFullyRefundable:e,primarySelections:t,setDismissMessagingCard:n,setDefaultToFullyRefundable:r,children:l})=>{const i=_a(t,(e=>{var t,n,a;const r=Ra(e.findIndex(({primarySelection:e})=>null==e?void 0:e.selected)),l=null==(t=e[r])?void 0:t.secondarySelections,i=Ra(null==l?void 0:l.findIndex(({secondarySelection:e})=>null==e?void 0:e.selected));return{primaryIndex:r,secondaryIndex:i,tertiaryIndex:Ra(null==(a=null==(n=null==l?void 0:l[i])?void 0:n.tertiarySelections)?void 0:a.findIndex(({selected:e})=>e))}})(t)),[c,s]=a.useState(i.primaryIndex),[m,g]=a.useState(i.secondaryIndex),[u,p]=a.useState(i.tertiaryIndex),[E,y]=a.useState(!1),f=(0,o.useClickTracker)(),v=(0,o.useEgClickstream)(),h=xa(t,{primaryIndex:c,secondaryIndex:m,tertiaryIndex:u}),{ratePlan:C,ratePlanIndex:k}=Na(h),{roomTypeId:S}=(e=>{const{id:t}=e.propertyUnit;return{roomTypeId:t}})(h),{secondarySelections:I,secondaryTarget:b}=h,P=((e,t)=>{var n;const a=e.length>1,r=Boolean(null==t?void 0:t.secondarySelection),l=Boolean(null==(n=null==t?void 0:t.tertiarySelections)?void 0:n.length);return a||r||l?{hasPrimary:a,hasSecondary:r,hasTertiary:l}:void 0})(t,b);(0,a.useEffect)(()=>{s(i.primaryIndex)},[i.primaryIndex]),(0,a.useEffect)(()=>{g(i.secondaryIndex)},[i.secondaryIndex]),(0,a.useEffect)(()=>{p(i.tertiaryIndex)},[i.tertiaryIndex]),(0,a.useEffect)(()=>{e&&(null==I||I.forEach(({recommendedSelection:e},a)=>{if(!e)return;const r=_a(t,{primaryIndex:c,secondaryIndex:a,tertiaryIndex:u});g(a),n&&n(!0),p(r.tertiaryIndex)}),r&&r(!1))},[e,c,t,I,r,n,u]);const D=e=>{var n;const a=(e=>{const t=e.split("-");return parseInt(t[t.length-1]||"",10)})(e.target.value),r=(e=>{const t=e.split("-");return t[t.length-2]||""})(e.target.value),l={roomFeatures:{getIndexes:()=>_a(t,{primaryIndex:a,secondaryIndex:0,tertiaryIndex:0}),selectionKey:"primarySelection"},cancellationPolicy:{getIndexes:()=>_a(t,{primaryIndex:c,secondaryIndex:a,tertiaryIndex:0}),selectionKey:"secondarySelection"},extras:{getIndexes:()=>_a(t,{primaryIndex:c,secondaryIndex:m,tertiaryIndex:a}),selectionKey:"tertiarySelection"}},{getIndexes:i,selectionKey:o}=l[r],u=i();s(u.primaryIndex),g(u.secondaryIndex),p(u.tertiaryIndex);const E=xa(t,u),{clientSideAnalytics:y}=E[o],h=null==(n=Na(E).ratePlan)?void 0:n.id;"roomFeatures"!==r&&h&&v((0,d.OE)(d.ZE.ROOMS_AND_RATES_RADIO_BUTTON_SELECTED,S,h)),f(`${y.referrerId}.${S}.${h}`,y.linkName,!0)},T=()=>{y(!0)},L=a.useMemo(()=>({primaryIndex:c,ratePlan:C,ratePlanIndex:k,secondaryIndex:m,tertiaryIndex:u,handleRadio:D,radioSelections:P,roomTypeId:S,hasRecommendation:E,setHasRecommendationValue:T}),[c,C,k,m,u,D,P,S,E,T]);return a.createElement(Ta.Provider,{value:L},l)},Fa=({unitGallery:e,propertyId:t,closeDialog:n,isLargerImageExperimentVariant:r=!1,setCurrentImageIndex:i})=>{var c,s,m;const g=(0,o.useClickTracker)(),u=(0,o.useEgClickstream)(),{dialogLayout:p}=Pt(),{ratePlan:E,roomTypeId:y}=La(),[f,v]=a.useState(0),h=_t(),C=(null==e?void 0:e.images.length)||0,k=C?C-1:0,I=null==e?void 0:e.images[f],D=null==I?void 0:I.image.thumbnailClickAnalytics,L=Pa(E),_=t=>{var n,a,r;return{image_gallery:{gallery_name:d.T4.PDP_ROOM_INFO,gallery_max_position:k},image_list:[{image_id:null!=(r=null==(a=null==(n=null==e?void 0:e.images[f])?void 0:n.image)?void 0:a.id)?r:"",gallery_position:t||f}]}};a.useEffect(()=>{v(0)},[e]);a.useEffect(()=>{const e=(0,d.Sp)(d.ZE.ROOM_RATE_IMAGE_PRESENTED,y,h,t,d.$x.IMPRESSION,_());u(e)},[f]);const x=a.useMemo(()=>(()=>{var n,a;if(D)return{id:`${null==(n=null==I?void 0:I.image.thumbnailClickAnalytics)?void 0:n.referrerId}`,description:`${null==(a=null==I?void 0:I.image.thumbnailClickAnalytics)?void 0:a.linkName}`,callback:(n,a)=>{var r,l;const i=ba(Ia(f,C,n),(null==(r=null==e?void 0:e.images[f])?void 0:r.trackingId)||"",C,(null==(l=null==e?void 0:e.images[f])?void 0:l.imageId)||"",t,"PDP_ROOM_INFO");L&&i.push({schemaName:"room",messageContent:JSON.parse(L)}),g(n,a,void 0,i)}}})(),[g]),N=r&&p===kt?b.l.R1_1:b.l.R16_9,R=r?a.createElement(T.P,{type:"absolute",position:{top:"three",left:"two",zindex:"layer3"}},a.createElement(se.k,{icon:"close","aria-label":"close",onClick:n})):void 0;if(!(null==(c=null==e?void 0:e.images)?void 0:c.length))return a.createElement(l.N,{margin:{blockend:"three"}},a.createElement(b.M,null,a.createElement(P.F,{placeholderImage:!0})));const A=e.images.map(({image:e})=>({src:e.url,alt:e.description})),F=a.createElement(T.P,{type:"relative"},R,a.createElement(me.M,{carouselId:"property-offers-carousel",allyHeadingText:(null==e?void 0:e.accessibilityLabel)||"",carouselName:"DialogPhotoGallery",images:A,ratio:N,showGalleryButton:!1,analytics:x,onIndexChange:e=>{v(e),i&&i(e),y&&(null==E?void 0:E.id)&&u((0,d.OE)(d.ZE.ROOM_RATE_PLAN_IMAGE_SELECTED,y,E.id));const n=(0,d.Sp)(d.ZE.ROOM_RATE_IMAGE_SCROLL_SELECTED,y,h,t,d.$x.INTERACTION,_(f));u(n)},currentIndex:f}));return a.createElement(S.g,{overflow:r},a.createElement(l.N,{margin:{blockend:r?"four":"six"}},a.createElement("div",null,(null==I?void 0:I.impressionAnalytics)?a.createElement(o.IntersectionTracker,{tag:"span",referrerId:`${I.impressionAnalytics.referrerId}.0`,linkName:I.impressionAnalytics.linkName||"",trackOnce:!0,additionalUisPrimeMicroMessages:ba(f,null==(s=null==e?void 0:e.images[f])?void 0:s.trackingId,C,null==(m=null==e?void 0:e.images[f])?void 0:m.imageId,t,"PDP_ROOM_INFO")},F):a.createElement(a.Fragment,null,F))))};Fa.displayName="DialogGallerySection";var $a=[fa.Header,fa.RatePlans,fa.Reviews,fa.SpaceDetails,fa.ExpandoItemCard,fa.RoomAmenities],Oa=[fa.Header,fa.SuitabilitySection,fa.UnitHighlights,fa.HighlightedAttributeSection,fa.BaseFeatures,fa.SecondaryFeatures,fa.Reviews,fa.SpaceDetails,fa.ExpandoItemCard,fa.RoomAmenities,fa.RatePlans,va],Ma=[fa.Header,fa.SuitabilitySection,fa.RatePlans,fa.UnitHighlights,fa.HighlightedAttributeSection,fa.BaseFeatures,fa.SecondaryFeatures,fa.Reviews,fa.SpaceDetails,fa.ExpandoItemCard,fa.RoomAmenities,va],wa=[fa.Header,fa.SuitabilitySection,fa.UnitHighlights,fa.HighlightedAttributeSection,fa.BaseFeatures,fa.SecondaryFeatures,fa.Reviews,fa.SpaceDetails,fa.ExpandoItemCard,fa.RoomAmenities,fa.RatePlans],Ba=[fa.Header,fa.SuitabilitySection,fa.RatePlans,fa.UnitHighlights,fa.HighlightedAttributeSection,fa.BaseFeatures,fa.SecondaryFeatures,fa.Reviews,fa.SpaceDetails,fa.ExpandoItemCard,fa.RoomAmenities,()=>a.createElement($.Rn,{name:"banner-spacing"})],Ua=(e,t)=>t===St&&2===e?"unset":"six",Ga=({listing:e,closeDialog:t,expandoItemsCard:n,ratePlans:r,suitabilityProps:i,isLargerImageExperimentVariant:o=!1,setCurrentImageIndex:s,shoppingJoinListContainer:m})=>{const d=ka(),{dialogLayout:g}=Pt(),{exposure:u}=(0,c.useExperiment)("Optimised_Room_Details_for_Compact_Card_mWeb",!1),{unitGallery:p}=e;return g===Ct&&r?a.createElement(a.Fragment,null,r):a.createElement(l.N,{padding:o?{blockend:"six"}:{inline:"three",blockstart:"three",blockend:Ua(u.bucket,g)}},a.createElement("div",null,a.createElement(fa,{data:{listing:e,ratePlans:r,suitabilityProps:i,expandoItemsCard:n,shoppingJoinListContainer:m}},a.createElement(Fa,{unitGallery:p,propertyId:d,closeDialog:t,isLargerImageExperimentVariant:o,setCurrentImageIndex:s}),a.createElement(l.N,{padding:{inline:"three"}},a.createElement("div",null,g===kt&&Oa.map((e,t)=>a.createElement(e,{key:`more-details-${t}`})),g===ht&&$a.map((e,t)=>a.createElement(e,{key:`options-${t}`})),g===St&&(e=>{switch(e){case 1:return wa;case 2:return Ba;default:return Ma}})(u.bucket).map((e,t)=>a.createElement(e,{key:`compact-card-${t}`})))))))},za="room-rates-options",Ha=[.1],Va={linkName:"Room details banner impression",referrerId:"HOT.HIS.RoomDetailsBanner.Seen",trackOnce:!0},qa=({data:e})=>{const{ratePlan:t}=La(),[n,r]=a.useState(!1),[l,i]=a.useState(!1),{getTargets:c}=(0,$.OK)(),s=c([za])[za]||{current:null},m=[{id:za,ref:s}],d=(g=za,u=r,a.useCallback(e=>{let t=!1;Object.keys(e).forEach(n=>{t=n===g&&e[n]===$.h1.PARTIAL_TOP||e[n]===$.h1.PARTIAL_BOTTOM||e[n]===$.h1.ENTER_COMPLETE}),u(!t)},[g]));var g,u;(0,$.c5)(m,d,{thresholds:Ha});const p=null==t?void 0:t.priceDetails,E=null==p?void 0:p[0];return E?a.createElement("div",null,l&&a.createElement(o.IntersectionTracker,{...Va},a.createElement("span",null)),a.createElement(L.K,{isVisible:n},a.createElement(te.t,{type:"bottom",triggerRef:null,isVisible:n,autoFocus:!1},a.createElement(cn,{data:e.content,priceDetail:E,onMountCallback:()=>i(!0),targetRef:s})))):null},Ka=({children:e,data:t,...n})=>{const r=(()=>{var e,t;const{context:n}=(0,de.R)();return"MOBILE_PHONE"===(null==(e=null==n?void 0:n.device)?void 0:e.type)||"APP_PHONE"===(null==(t=null==n?void 0:n.device)?void 0:t.type)})(),{exposure:l}=(0,c.useExperiment)("Optimised_Room_Details_for_Compact_Card_mWeb",r),i=r&&l.bucket>0;return a.createElement(X.LM,null,a.createElement(X.NP,null,a.createElement(te.t,{...n,type:"full"},e,i&&a.createElement(qa,{data:t}))),a.createElement(X.rw,null,a.createElement(te.t,{...n,type:"centered"},e)))},Wa=({children:e,...t})=>a.createElement(X.LM,null,a.createElement(X.NP,null,a.createElement(ge.c,{...t,type:"bottom",tall:!0},e)),a.createElement(X.rw,null,a.createElement(ge.c,{...t,type:"centered",centeredSheetSize:"small"},e))),Xa=i.gql`
  fragment UnitPropertyOffersDetailsDialogFragment on PropertyUnitDetailsDialog {
    toolbar {
      title
      icon {
        description
      }
    }
    content {
      ratePlanTitle {
        text
      }
      baseDialogFeatures {
        ...ContentDialogFeaturesFragment
      }
      dialogFeatures {
        ...ContentDialogFeaturesFragment
      }
      details {
        header {
          text
          subText
        }
        contents {
          heading
          items {
            text
          }
        }
      }
      ...ExperimentalLodgingBannerFragment
    }
  }
  ${xn.fragment}
  ${cn.fragment}
`,Ya=({closeDialog:e,isDialogOpen:t,listing:n,data:r,ratePlans:l,expandoItemsCard:i,setCurrentImageIndex:o,suitabilityProps:m,shoppingJoinListContainer:d})=>{var g,u;const{toolbar:p}=r,{state:E}=(0,W.cg)(),{dialogLayout:y}=Pt(),f=a.useRef(document.activeElement),v=a.createRef(),h=y===Ct;a.useEffect(()=>{"IN_PROGRESS"===E.selectPackage.status&&e()},[E.selectPackage.status,e]),a.useEffect(()=>()=>{f.current instanceof HTMLElement&&f.current.focus()},[]);const{exposure:C,logExperiment:k}=(0,c.useExperiment)("Larger_Image_Room_Compare"),S=(0,X.s5)({[X.OB.SMALL]:!0,[X.OB.MEDIUM]:!1});S&&k(C);const I=C.bucket>0&&S,b=!I||h,{formatText:P}=(0,K.useLocalization)(),D=a.createElement(Ga,{ratePlans:l,expandoItemsCard:i,closeDialog:e,listing:n,isLargerImageExperimentVariant:I,setCurrentImageIndex:o,suitabilityProps:m,shoppingJoinListContainer:d}),T=h?P("add-ons-drawer.title"):null!=(g=null==p?void 0:p.title)?g:void 0,L=a.createElement(a.Fragment,null,b&&a.createElement(q.p,{toolbarTitle:T,navigationContent:{navIconLabel:h?P("add-ons-drawer.close"):null==(u=null==p?void 0:p.icon)?void 0:u.description,navType:"close",onClick:e},contentDomRef:v}),a.createElement(s.MVj.Provider,{value:!0},h?D:a.createElement(V.Y,{padded:!1,contentDomRef:v},D))),_={isVisible:t,triggerRef:null,ariaLabel:T};return h?a.createElement(Wa,{..._},L):a.createElement(Ka,{data:r,..._},L)};Ya.fragment=Xa,Ya.displayName="UnitPropertyOffersDetailsDialog";var Qa=i.gql`
  fragment LinkTriggerFragment on LodgingDialogTriggerMessage {
    value
    accessibilityLabel
  }
`,ja=({data:e,openDialog:t})=>{const{value:n,accessibilityLabel:r}=e;return a.createElement(B.i,{onClick:t},a.createElement("button",{type:"button"},a.createElement("span",{"aria-hidden":null!==r},n),r&&a.createElement("span",{className:"is-visually-hidden"},r),a.createElement(z.LD,{name:"chevron_right",size:z.So.SMALL})))};ja.fragment=Qa,ja.displayName="LinkTrigger";var Ja=i.gql`
  fragment LodgingPlainFullscreenDialogFragment on LodgingPlainDialog {
    __typename
    content
    trigger {
      clientSideAnalytics {
        linkName
        referrerId
      }
      icon {
        description
        id
      }
      theme
      value
    }
    toolbar {
      title
      icon {
        description
      }
      clientSideAnalytics {
        linkName
        referrerId
      }
    }
  }
`,Za=({data:e,uniqueDialogId:t,isHtmlContent:n=!1,spacing:r={}})=>{var i,c;const m=(0,s.vjX)(),[d,g,u]=(0,N.useDialog)(`${t}-${m}`,"pwaDialogNested"),p=(0,o.useClickTracker)(),E=a.useRef(null);if(!e)return null;const{content:y,trigger:f,toolbar:v}=e;return a.createElement(a.Fragment,null,a.createElement(l.N,{...r},a.createElement(ee.t,{onClick:()=>{const{clientSideAnalytics:e}=f;g.openDialog(),e&&p(`HOT.HIS${e.referrerId}`,e.linkName)}},a.createElement("button",{type:"button",ref:E},a.createElement(x.D,{className:"uitk-layout-flex",size:300,theme:f.theme?s.jFx[f.theme]:"default"},f.value,f.icon&&a.createElement(z.LD,{name:f.icon.id,size:z.So.SMALL}))))),a.createElement(L.K,{isVisible:d},a.createElement(u,null,a.createElement(te.t,{type:"centered",isVisible:!0,triggerRef:E,returnFocusOnClose:!0},a.createElement(q.p,{key:`${t}-toolbar`,toolbarTitle:null!=(i=null==v?void 0:v.title)?i:void 0,navigationContent:{navIconLabel:null==(c=null==v?void 0:v.icon)?void 0:c.description,navType:"close",onClick:()=>{const{clientSideAnalytics:e}=v||{};g.closeDialog(),e&&p(`HOT.HIS${e.referrerId}`,e.linkName)}}}),a.createElement(ue.h,null,y.map((e,r)=>n?a.createElement(l.N,{padding:"three",key:`${t}-content-${r}`},a.createElement(ne.Q,{htmlToParse:e})):a.createElement(x.D,{key:`${t}-content-${r}`,spacing:0!==r?"four":void 0},e)))))))};Za.fragment=Ja,Za.displayName="LodgingPlainFullscreenDialog";var er=i.gql`
  fragment MarketingSectionFragment on MarketingSection {
    title {
      text
    }
    feeDialog {
      title
      content
      tertiaryUIButton {
        primary
      }
      trigger {
        value
        mark {
          id
        }
        icon {
          id
          size
        }
        clientSideAnalytics {
          linkName
          referrerId
        }
      }
    }
    paymentDetails {
      ...LodgingEnrichedMessageFragment
    }
  }

  ${s.UKE.fragment}
`,tr=({data:e})=>{const t=(0,s.vjX)(),[n,i,c]=(0,N.useDialog)(`marketing-info-${t}`,"pwaDialogNested"),m=(0,o.useClickTracker)(),d=a.useContext(s.MVj);if(!e)return null;const{title:g,feeDialog:u,paymentDetails:p}=e,{content:y,title:f,tertiaryUIButton:v,trigger:h}=u,{clientSideAnalytics:C,icon:k,mark:I,value:b}=h;return a.createElement(S.g,{padded:!0,border:!0,"data-stid":"marketing-fee-info"},(null==g?void 0:g.text)&&a.createElement(l.N,{padding:{blockend:"two"}},a.createElement(E.M,{tag:"h4",size:7},null==g?void 0:g.text)),a.createElement(O.E,{padded:!1},a.createElement(r.X,{space:"two",direction:"column",alignItems:"start"},b&&a.createElement(D.C,null,a.createElement(B.i,null,a.createElement("button",{onClick:()=>{i.openDialog(),C&&m(`HOT.HIS.${C.referrerId}`,`${C.linkName}`)},type:"button"},I&&a.createElement(l.N,{margin:{inlineend:"two"}},a.createElement(J.D,{name:I.id,size:Z.K.SMALL})),a.createElement(x.D,{size:200,theme:"standard",inline:!0},b),(null==k?void 0:k.id)&&a.createElement(l.N,{margin:{inline:"one"}},a.createElement(z.LD,{name:k.id.toLowerCase(),id:k.id,size:k.size?z.So[k.size]:z.So.SMALL}))))),p&&a.createElement(D.C,null,a.createElement(x.D,{size:200,inline:!0},a.createElement(s.UKE,{data:p}))),f&&(null==y?void 0:y.length)&&!d&&a.createElement(L.K,{isVisible:n},a.createElement(c,null,a.createElement(pe.Q,{dialogShow:n,returnFocusOnClose:!0},a.createElement(ue.h,null,a.createElement(l.N,{padding:{blockend:"two"}},a.createElement(x.D,{size:500,weight:"bold"},f)),y.map((e,t)=>a.createElement(x.D,{key:`taap-content-${t}`},e)),(null==v?void 0:v.primary)&&a.createElement(Ee.l,{buttonOne:{onClick:i.closeDialog,text:null==v?void 0:v.primary,type:"tertiary"}}))))))))};tr.fragment=er,tr.displayName="MarketingSection";var nr=i.gql`
  fragment OffersLodgingDialogTriggerMessageFragment on LodgingDialogTriggerMessage {
    clientSideAnalytics {
      linkName
      referrerId
    }
    icon {
      description
      id
    }
    theme
    value
    secondaryValue
    accessibilityLabel
  }
`,ar=({data:e,triggerRef:t,onClickCallback:n})=>{const{value:r,theme:l,accessibilityLabel:i,icon:c,secondaryValue:m,clientSideAnalytics:d}=e,g=(0,o.useClickTracker)();return a.createElement("div",null,a.createElement(ee.t,{theme:(0,s.ZQj)(l)},a.createElement("button",{type:"button",onClick:()=>{d&&g(d.referrerId,d.linkName),n()},ref:t,"aria-label":i||void 0},r,c&&a.createElement(z.LD,{name:c.id,size:z.So.SMALL}))),m&&a.createElement(x.D,{theme:"standard",size:200},m))};ar.fragment=nr,ar.displayName="LodgingDialogTriggerMessage";var rr=({data:e})=>{const{value:t,theme:n,secondaryValue:r}=e;return a.createElement("div",null,t&&a.createElement(x.D,{theme:(0,s.FeS)(n)},a.createElement("span",{"aria-label":[t,r].filter(Boolean).join(" ")},t)),r&&a.createElement(x.D,{size:200},a.createElement("span",{"aria-hidden":!0},r)))},lr=i.gql`
  fragment PropertyOffersUIPrimaryButtonFragment on UIPrimaryButton {
    primary
    accessibility
    action {
      __typename
      analytics {
        referrerId
        linkName
      }
      ... on UILinkAction {
        resource {
          value
        }
      }
    }
  }
`,ir=i.gql`
  fragment PropertyOffersUISecondaryButtonFragment on UISecondaryButton {
    primary
    action {
      __typename
      analytics {
        referrerId
        linkName
      }
      ... on UILinkAction {
        resource {
          value
        }
      }
    }
  }
`,or=(e,t,n)=>{if(!e)return{onClick:n};const{analytics:a}=e;return{onClick:()=>{t(a.referrerId,a.linkName,!1),"UILinkAction"!==e.__typename&&n()},href:"UILinkAction"===e.__typename?e.resource.value:void 0}},cr=i.gql`
  fragment LodgingPlainDialogFragment on LodgingPlainDialog {
    content
    primaryUIButton {
      ...PropertyOffersUIPrimaryButtonFragment
    }
    secondaryUIButton {
      ...PropertyOffersUISecondaryButtonFragment
    }
    primaryButton {
      text
      analytics {
        linkName
        referrerId
      }
    }
    trigger {
      ...OffersLodgingDialogTriggerMessageFragment
    }
  }
  ${lr}
  ${ir}
  ${ar.fragment}
`,sr=({data:e,uniqueDialogId:t,asPlainMessage:n})=>{var r;const{ratePlan:i,roomTypeId:c}=La(),m=(0,s.vjX)(),[g,u,p]=(0,N.useDialog)(`${t}-${m}`,"nestedLodgingPlainDialog"),E=a.useRef(null),y=(0,o.useClickTracker)(),f=(0,o.useEgClickstream)(),v=(null==(r=null==e?void 0:e.content)?void 0:r.length)<=1,{content:h,trigger:C,primaryButton:k,primaryUIButton:S,secondaryUIButton:I}=e;if(n)return a.createElement(rr,{data:C});const b=()=>{const{analytics:e}=k||{};u.closeDialog(),e&&y(e.referrerId,e.linkName)};return a.createElement("div",null,a.createElement(ar,{onClickCallback:()=>{u.openDialog(),c&&(null==i?void 0:i.id)&&f((0,d.OE)(d.ZE.CANCELLATION_OPTIONS_SELECTED,c,i.id))},data:C,triggerRef:E}),a.createElement(L.K,{isVisible:g},a.createElement(p,null,a.createElement(pe.Q,{ariaLabel:C.value,dialogShow:g,returnFocusOnClose:!0,triggerRef:E},a.createElement(ue.h,null,h.map((e,t)=>v?a.createElement(l.N,{padding:"three",key:`content-${t}`},a.createElement(ne.Q,{htmlToParse:e})):a.createElement(x.D,{key:`content-${t}`,spacing:0!==t?"four":void 0},e)),k&&a.createElement(Ee.l,{stacked:!1,buttonOne:{onClick:b,text:null==k?void 0:k.text,type:"tertiary"}}),S&&a.createElement(Ee.l,null,a.createElement(ye.q,{...or(S.action,y,b)},S.primary||""),I&&a.createElement(ye.q,{...or(I.action,y,b)},I.primary||"")))))))};sr.fragment=cr,sr.displayName="LodgingPlainDialog";var mr=i.gql`
  fragment LodgingPlainMessageFragment on LodgingPlainMessage {
    value
  }
`,dr=({data:{value:e}})=>a.createElement(x.D,null,e);dr.displayName="LodgingPlainMessage",dr.fragment=mr;var gr=i.gql`
  fragment LodgingPolicyDialogFragment on LodgingPolicyDialog {
    policyContent {
      ...LodgingDetailedTimelineFragment
    }
    trigger {
      ...OffersLodgingDialogTriggerMessageFragment
    }
    toolbar {
      title
      icon {
        description
        __typename
      }
      clientSideAnalytics {
        linkName
        referrerId
        __typename
      }
      __typename
    }
    __typename
  }
  ${s.k9Q.fragment}
  ${ar.fragment}
`,ur=({data:e,uniqueDialogId:t,asPlainMessage:n})=>{var r,l,i,c;const{ratePlan:m,roomTypeId:g}=La(),u=(0,s.vjX)(),[p,E,y]=(0,N.useDialog)(`${t}-${u}`,"lodging-policy-dialog"),f=a.useRef(null),v=(0,o.useClickTracker)(),h=(0,o.useEgClickstream)(),{policyContent:C,trigger:k,toolbar:S}=e;if(n)return a.createElement(rr,{data:k});const I=a.createElement(a.Fragment,null,a.createElement(q.p,{toolbarTitle:null!=(r=null==S?void 0:S.title)?r:void 0,navigationContent:{onClick:()=>{const e=null==S?void 0:S.clientSideAnalytics;E.closeDialog(),e&&v(e.referrerId,e.linkName)},navIconLabel:null==(l=null==S?void 0:S.icon)?void 0:l.description}}),a.createElement(ue.h,null,a.createElement(s.k9Q,{data:C})));return a.createElement("div",null,a.createElement(ar,{onClickCallback:()=>{E.openDialog(),g&&(null==m?void 0:m.id)&&h((0,d.OE)(d.ZE.MORE_DETAILS_SELECTED,g,m.id)),h((0,d.kj)(d.Bl.CANCELLATION_POLICY,d.Rn.page_name,d.Op.PDP))},data:k,triggerRef:f}),a.createElement(L.K,{isVisible:p},a.createElement(y,null,a.createElement(X.LM,null,a.createElement(X.NP,null,a.createElement(te.t,{ariaLabel:null!=(i=null==S?void 0:S.title)?i:void 0,type:"full",isVisible:p,returnFocusOnClose:!0,triggerRef:f},I)),a.createElement(X.rw,null,a.createElement(te.t,{ariaLabel:null!=(c=null==S?void 0:S.title)?c:void 0,type:"centered",isVisible:p,centeredSheetSize:"small",returnFocusOnClose:!0,triggerRef:f},I))))))};ur.fragment=gr,ur.displayName="LodgingPlainDialog";var pr=i.gql`
  fragment RatePlanMessageFragment on RatePlanMessage {
    ...LodgingPlainDialogFragment
    ...LodgingEnrichedMessageFragment
    ...LodgingPlainMessageFragment
    ...LodgingPolicyDialogFragment
  }

  ${s.UKE.fragment}
  ${sr.fragment}
  ${ur.fragment}
  ${dr.fragment}
`,Er=({data:e,asPlainMessage:t})=>{switch(e.__typename){case"LodgingEnrichedMessage":return a.createElement(s.UKE,{data:e});case"LodgingPlainDialog":return a.createElement(sr,{data:e,uniqueDialogId:"cancellation-policy-dialog",asPlainMessage:t});case"LodgingPolicyDialog":return a.createElement(ur,{data:e,uniqueDialogId:"lodging-cancellation-policy-dialog",asPlainMessage:t});case"LodgingPlainMessage":return a.createElement(dr,{data:e});default:return null}};Er.fragment=pr,Er.displayName="RatePlanMessage";var yr=i.gql`
  fragment HighlightedMessagesFragment on RatePlan {
    id
    highlightedMessages {
      ...LodgingPlainDialogFragment
      ...LodgingEnrichedMessageFragment
      ...LodgingPlainMessageFragment
      ...LodgingPolicyDialogFragment
    }
  }

  ${s.UKE.fragment}
  ${sr.fragment}
  ${ur.fragment}
  ${dr.fragment}
`,fr=({data:e})=>{const{highlightedMessages:t,id:n}=e;if(!t)return null;const r=t.map((e,t)=>e?a.createElement(Er,{key:`mapped-msg-${t}`,data:e}):null);return a.createElement(a.Fragment,null,r.length>0&&a.createElement(l.N,{padding:{blockend:"one"}},a.createElement(f.w,{"data-stid":`cancellation-policy-${n}`,space:"three"},r)))};fr.fragment=yr,fr.displayName="LodgingHighlightedMessages";var vr=({shareUrl:e,linkAlignment:t="left"})=>{var n;const r=(0,o.useClickTracker)();if(!e)return null;const{link:i}=e;return a.createElement(O.E,{border:"top",padded:!1},a.createElement(l.N,{padding:{blockstart:"three"}},a.createElement("div",null,a.createElement(B.i,{align:t,"data-stid":"marketing-link-info",onClick:()=>{(null==i?void 0:i.clientSideAnalytics)&&r(i.clientSideAnalytics.referrerId,i.clientSideAnalytics.linkName)}},a.createElement("a",{href:null==(n=null==i?void 0:i.uri)?void 0:n.relativePath,target:"_blank",rel:"noopener"},null==e?void 0:e.value,a.createElement("span",{className:"is-visually-hidden"},null==e?void 0:e.accessibilityLabel))))))};vr.displayName="MarketingSectionLink";var hr=i.gql`
  fragment PriceSummaryFooterFragment on PriceSummaryFooter {
    footerMessages {
      ...LodgingEnrichedMessageFragment
    }
  }
  ${s.UKE.fragment}
`,Cr=({data:e})=>{const{footerMessages:t}=e;return(null==t?void 0:t.length)?a.createElement(l.N,{margin:{blockstart:"three"}},a.createElement("div",null,t.map((e,t)=>a.createElement(s.UKE,{key:`price-summary-footer-message-${t}`,data:e})))):null};Cr.fragment=hr,Cr.displayName="PriceSummaryFooter";var kr=i.gql`
  fragment PriceSummaryLineItemFragment on PriceSummaryLineItem {
    name {
      primaryMessage {
        ...LodgingEnrichedMessageFragment
      }
      secondaryMessages {
        ...LodgingEnrichedMessageFragment
      }
    }
    value {
      primaryMessage {
        ...LodgingEnrichedMessageFragment
      }
      secondaryMessages {
        ...LodgingEnrichedMessageFragment
      }
    }
  }

  ${s.UKE.fragment}
`,Sr=({data:e})=>{var t,n;const{name:i,value:o}=e;return a.createElement(l.N,{padding:{blockstart:"three"}},a.createElement(r.X,{justifyContent:"space-between"},a.createElement(D.C,null,a.createElement("div",null,a.createElement(x.D,{size:"STRONG"===i.primaryMessage.theme?400:300,weight:"regular",theme:"emphasis"},a.createElement(s.UKE,{data:i.primaryMessage})),null==(t=i.secondaryMessages)?void 0:t.map((e,t)=>a.createElement(x.D,{size:200,theme:"standard",key:`line-item-name-${t}`},a.createElement(s.UKE,{data:e}))))),a.createElement(D.C,null,a.createElement("div",null,a.createElement(x.D,{size:"STRONG"===o.primaryMessage.theme?400:300,weight:"regular",theme:"emphasis"},a.createElement(s.UKE,{data:o.primaryMessage})),null==(n=o.secondaryMessages)?void 0:n.map((e,t)=>a.createElement(s.UKE,{data:e,key:`line-item-value-${t}`}))))))};Sr.fragment=kr,Sr.displayName="PriceSummaryLineItem";var Ir=i.gql`
  fragment PriceSummarySectionFragment on PriceSummarySection {
    sectionHeading {
      ...LodgingEnrichedMessageFragment
    }
    sectionFooter {
      ...PriceSummaryFooterFragment
    }
    items {
      ...PriceSummaryLineItemFragment
    }
  }
  ${s.UKE.fragment}
  ${Sr.fragment}
  ${Cr.fragment}
`,br=({data:e,lastSection:t})=>{const{sectionHeading:n,sectionFooter:r,items:i}=e;return a.createElement(l.N,{padding:{block:"three"},...t?{}:{border:["blockend"]}},a.createElement("div",null,n&&a.createElement(x.D,{size:300},a.createElement(s.UKE,{data:n})),i.map((e,t)=>a.createElement(Sr,{data:e,key:`price-summary-line-item-${t}`})),r&&a.createElement(Cr,{data:r})))};br.fragment=Ir,br.displayName="PriceSummarySection";var Pr=i.gql`
  fragment PriceBreakdownSummaryFragment on Offer {
    priceBreakDownSummary {
      priceSummaryHeading {
        ...LodgingEnrichedMessageFragment
      }
      sections {
        ...PriceSummarySectionFragment
      }
      disclaimers {
        ...LodgingEnrichedMessageFragment
      }
    }
  }

  ${s.UKE.fragment}
  ${br.fragment}
`,Dr=({data:e,actionButton:t,shouldRightAlignedPriceSummary:n})=>{const i=(0,s.vjX)(),[c,m,g]=(0,N.useDialog)(`price-breakdown-summary-${i}`,"pwaDialogNested"),u=a.useContext(s.MVj),{ratePlan:p,roomTypeId:E}=La(),y=(0,o.useClickTracker)(),f=(0,o.useEgClickstream)(),v=a.useRef(null),{priceSummaryHeading:h,sections:C,disclaimers:k}=e.priceBreakDownSummary||{},S=u?"RoomInfo":"RoomsAndRates";if(!(null==C?void 0:C.length))return null;const{value:I}=h||{};return a.createElement(a.Fragment,null,a.createElement(B.i,{onClick:()=>{E&&(null==p?void 0:p.id)&&f((0,d.OE)(d.ZE.PRICE_DETAIL_SELECTED,E,p.id)),y(`HOT.HIS.${S}.PriceDetailDialog`,"price.breakdown.details"),m.openDialog()},inline:!n,align:n?"right":"left"},a.createElement("button",{type:"button",ref:v},I,a.createElement(z.LD,{name:"chevron_right",size:z.So.SMALL}))),a.createElement(L.K,{isVisible:c},a.createElement(g,null,a.createElement(te.t,{type:"full",isVisible:c,triggerRef:v,returnFocusOnClose:!0},a.createElement(q.p,{toolbarTitle:null==h?void 0:h.value,navigationContent:{navType:"close",onClick:()=>{y(`HOT.HIS.${S}.PriceDetailDialog.Close`,"price.breakdown.details"),m.closeDialog()}}}),a.createElement(ue.h,{zeroPadding:!0},a.createElement(l.N,{padding:{inline:"four"}},a.createElement("div",null,C.map((e,t)=>a.createElement(br,{data:e,key:`price-summary-section-${t}`,lastSection:t===C.length-1})))),a.createElement(fe.O,{type:ve.Q.BUTTON},t),k&&k.length>0&&a.createElement(l.N,{margin:{blockstart:"three",inline:"four"}},a.createElement(r.X,{direction:"row"},k.map((e,t)=>a.createElement(D.C,{key:`price-summary-disclaimer-message-${t}`},a.createElement(x.D,{size:100},a.createElement(s.UKE,{data:e})))))))))))};Dr.fragment=Pr,Dr.displayName="PriceBreakdownDialog";var Tr=({data:e,actionButton:t,menuContainerPosition:n=he.C.RIGHT,roomTypeId:i,ratePlanId:c,shouldRightAlignedPriceSummary:m})=>{const{priceBreakDownSummary:d}=e,{priceSummaryHeading:g,sections:u,disclaimers:p}=d||{},[y,f]=a.useState(!1),v=(0,o.useClickTracker)(),h=a.useContext(s.MVj)?"RoomInfo":"RoomsAndRates";if(!(null==u?void 0:u.length))return null;const{value:C,accessibilityLabel:k}=g||{};return a.createElement(Ce.p,{isOpen:y,onTriggerClick:()=>{y||v(`HOT.HIS.${h}.PriceDetail.${i}.${c}`,"price.breakdown.details"),f(!y)}},a.createElement(ke.N,null,a.createElement(B.i,{align:m?"right":"left"},a.createElement("button",{type:"button"},a.createElement("span",{"aria-hidden":null!==k},C),k&&a.createElement("span",{className:"is-visually-hidden"},k),a.createElement(z.LD,{name:"expand_more",size:z.So.SMALL})))),a.createElement(he.K,{position:n,width:275},a.createElement(l.N,{padding:{inline:"four"}},a.createElement("div",null,g&&a.createElement(E.M,{align:"left",tag:"h4",size:6},g.value),u.map((e,t)=>a.createElement(br,{data:e,key:`price-summary-section-${t}`,lastSection:t===u.length-1})),a.createElement(l.N,{padding:{blockstart:"three"}},a.createElement("div",null,t)),p&&p.length>0&&a.createElement(l.N,{margin:{blockstart:"three"}},a.createElement(r.X,{direction:"row"},p.map((e,t)=>a.createElement(D.C,{key:`price-summary-disclaimer-message-${t}`},a.createElement(x.D,{size:100},a.createElement(s.UKE,{data:e}))))))))))};Tr.fragment=Pr,Tr.displayName="PriceBreakdownSummaryMenu";var Lr=({data:e,actionButton:t,menuContainerPosition:n,roomTypeId:r,ratePlanId:i,shouldRightAlignedPriceSummary:o})=>a.createElement(l.N,{margin:{blockstart:"two"}},a.createElement("div",null,a.createElement(X.LM,null,a.createElement(X.NP,null,a.createElement(Dr,{data:e,actionButton:t,shouldRightAlignedPriceSummary:o})),a.createElement(X.rw,null,a.createElement(Tr,{data:e,actionButton:t,menuContainerPosition:n,roomTypeId:r,ratePlanId:i,shouldRightAlignedPriceSummary:o})))));Lr.fragment=Pr,Lr.displayName="PriceBreakdownSummary";var _r=i.gql`
  fragment PricePresentationDialogFragment on Offer {
    pricePresentationDialog {
      toolbar {
        title
        icon {
          ...IconFragment
        }
        clientSideAnalytics {
          linkName
          referrerId
        }
      }
      trigger {
        clientSideAnalytics {
          linkName
          referrerId
        }
        accessibilityLabel
        value
      }
    }
    pricePresentation {
      title {
        primary
      }
      sections {
        ...PricePresentationSectionFragment
      }
      footer {
        header
        messages {
          ...PriceLineElementFragment
        }
      }
    }
  }

  ${d.D1}
`,xr=({data:e,onClose:t,triggerRef:n,actionButton:i,viewport:o})=>{var c,s;const{pricePresentation:m,pricePresentationDialog:d}=e,{toolbar:g}=d;return a.createElement(te.t,{type:"SMALL"===o?"full":"centered",isVisible:!0,triggerRef:n,returnFocusOnClose:!0},a.createElement(q.p,{toolbarTitle:null!=(c=null==g?void 0:g.title)?c:void 0,navigationContent:{onClick:t,navType:"close",navIconLabel:null==(s=null==g?void 0:g.icon)?void 0:s.description}}),a.createElement(ue.h,{zeroPadding:!0},a.createElement(l.N,{padding:"SMALL"===o?{block:"four",inline:"four"}:{block:"six",inline:"six"}},a.createElement(r.X,{direction:"column",justifyContent:"SMALL"===o?"space-between":void 0,blockSize:"SMALL"===o?"full_size":void 0},a.createElement(D.C,null,a.createElement(Se.iR,{data:m,withToolbar:"SMALL"!==o,dialogType:"SMALL"===o?"bottom":"centered"})),i&&a.createElement(D.C,null,"SMALL"===o?a.createElement("div",null,a.cloneElement(i,{isFullWidth:!0})):a.createElement(l.N,{padding:{blockstart:"six"}},a.createElement("div",null,i)))))))},Nr=({roomTypeId:e,ratePlanId:t,actionButton:n,data:r,shouldRightAlignedPriceSummary:i})=>{var c;const m=(0,s.vjX)(),[g,u,p]=(0,N.useDialog)(`price-presentation-${m}`,"pwaDialogNested"),E=a.useContext(s.MVj),y=(0,o.useClickTracker)(),f=(0,o.useEgClickstream)(),v=a.useRef(null),{pricePresentation:h,pricePresentationDialog:C}=r;if(!h||!C)return null;const{toolbar:k,trigger:S}=C,I=E?"RoomInfo":"RoomsAndRates",b=()=>{const{clientSideAnalytics:e}=k||{};u.closeDialog(),e&&y(`${d.hs.Infosite}.${I+e.referrerId}`,e.linkName)};return a.createElement(a.Fragment,null,a.createElement(l.N,{margin:{blockstart:"two"}},a.createElement(B.i,{onClick:()=>{const{clientSideAnalytics:n}=S;u.openDialog(),e&&t&&f((0,d.OE)(d.ZE.PRICE_DETAIL_SELECTED,e,t)),n&&y(`${d.hs.Infosite}.${I+n.referrerId}.${e}.${t}`,n.linkName)},align:i?"right":"left"},a.createElement("button",{type:"button",ref:v,"aria-label":null!=(c=S.accessibilityLabel)?c:void 0},S.value,a.createElement(z.LD,{name:"chevron_right",size:z.So.SMALL})))),a.createElement(L.K,{isVisible:g},a.createElement(p,null,a.createElement(X.LM,null,a.createElement(X.NP,null,a.createElement(xr,{data:r,onClose:b,triggerRef:v,actionButton:n,viewport:"SMALL"})),a.createElement(X.rw,null,a.createElement(xr,{data:r,onClose:b,triggerRef:v,actionButton:n,viewport:"MEDIUM"}))))))};Nr.fragment=_r,Nr.displayName="PricePresentationDialog";var Rr=i.gql`
  fragment PropertyOffersRateViewScarcityFragment on Offer {
    availability {
      scarcityMessage
    }
  }
`,Ar=({data:e})=>{var t;return(null==(t=null==e?void 0:e.availability)?void 0:t.scarcityMessage)?a.createElement(x.D,{size:100,theme:"negative",align:"right"},e.availability.scarcityMessage):null};Ar.fragment=Rr,Ar.displayName="PropertyOffersRateViewScarcity";var Fr=i.gql`
  fragment PriceDetailsFragment on Offer {
    optionTitle {
      text
    }
    pointsApplied
    ...PropertyOffersRateViewScarcityFragment
    ...LodgingPriceSummaryFragment
    ...PriceBreakdownSummaryFragment
    ...PricePresentationDialogFragment
    ...PropertyPaymentOptionsFragment
    action {
      ... on SelectPackageActionInput {
        packageOfferId
        __typename
      }
    }
    hotelCollect
    propertyNaturalKeys {
      id
      businessModelType
      checkIn {
        month
        day
        year
      }
      checkOut {
        month
        day
        year
      }
      inventoryType
      noCreditCard
      petsIncluded
      ratePlanId
      roomTypeId
      ratePlanType
      rooms {
        childAges
        numberOfAdults
      }
      shoppingPath
    }
    noCreditCard
    paymentModel
    dealMarker
    changeOfferCallToAction {
      ...ChangeOfferCallToActionFragment
    }
  }

  ${Ar.fragment}
  ${Nr.fragment}
`,$r=i.gql`
  fragment PropertyOffersPriceChangeMessageFragment on RatePlan {
    headerMessage {
      ...LodgingEnrichedMessageFragment
    }
  }

  ${s.UKE.fragment}
`,Or=({data:e})=>{const{headerMessage:t}=e;return t?a.createElement(l.N,{margin:{blockstart:"four",blockend:"three"}},a.createElement(S.g,{border:!0},a.createElement(O.E,null,a.createElement(s.UKE,{data:t})))):null};Or.displayName="PropertyOffersPriceChangeMessage",Or.fragment=$r;var Mr={DEAL_GENERIC:Ie._.DEAL_GENERIC,DEAL_BUNDLED:Ie._.DEAL_BUNDLED,DEAL_MEMBER:Ie._.DEAL_MEMBER,SPONSORED:Ie._.SPONSORED,FAMILY_FRIENDLY:Ie._.FAMILY_FRIENDLY,SAVED:Ie._.SAVED,SUPPLIER_PROMO:Ie._.SUPPLIER_PROMO,VIEWED:Ie._.VIEWED,NOTIFICATION:Ie._.NOTIFICATION_1,VIP:Ie._.VIP,LOYALTY_EXTRA_HIGH_TIER:Ie._.LOYALTY_EXTRA_HIGH_TIER,LOYALTY_HIGH_TIER:Ie._.LOYALTY_HIGH_TIER,LOYALTY_MIDDLE_TIER:Ie._.LOYALTY_MIDDLE_TIER,LOYALTY_LOW_TIER:Ie._.LOYALTY_LOW_TIER},wr={LOYALTY_GLOBAL_EXTRA_HIGH_TIER:be.zJ.GLOBAL_EXTRAHIGH,LOYALTY_GLOBAL_HIGH_TIER:be.zJ.GLOBAL_HIGH,LOYALTY_GLOBAL_MIDDLE_TIER:be.zJ.GLOBAL_MIDDLE,LOYALTY_GLOBAL_LOW_TIER:be.zJ.GLOBAL_LOW},Br=i.gql`
  fragment PropertyRatePlanBadgeFragment on RatePlan {
    badge {
      theme_temp
      text
      icon_temp {
        id
        description
        title
      }
      mark {
        url {
          value
        }
        id
      }
    }
  }
`,Ur=({data:e,align:t,size:n,showIcon:i=!0})=>{const{badge:o}=e;if(!(null==o?void 0:o.text))return null;const{text:c,theme_temp:s,icon_temp:m,mark:d}=o,g=s&&wr[s];let u=null;return i&&(m?u=a.createElement(z.LD,{name:m.id,size:z.So.SMALL,id:m.id,description:m.description,title:m.title||void 0}):(null==d?void 0:d.url)&&(u=a.createElement(J.D,{id:d.id,size:Z.K.SMALL,url:d.url.value}))),a.createElement(l.N,{margin:{blockend:"one"}},a.createElement(r.X,{justifyContent:t},a.createElement(D.C,null,g?a.createElement(le.V,{theme:g,text:c,size:n},u):a.createElement(Ie.p,{theme:s?Mr[s]:void 0,text:c,size:n},u))))};Ur.fragment=Br,Ur.displayName="PropertyRatePlanBadge";var Gr=i.gql`
  fragment DateFragment on Date {
    day
    month
    year
  }
`,zr=i.gql`
  fragment PropertyNaturalKeyFragment on PropertyNaturalKey {
    id
    roomTypeId
    ratePlanId
    ratePlanType
    inventoryType
    noCreditCard
    businessModelType
    checkIn {
      ...DateFragment
    }
    checkOut {
      ...DateFragment
    }
    rooms {
      numberOfAdults
      childAges
    }
    petsIncluded
    shoppingPath
    homeCountryCode
    isMember
    membershipLevel
    memberTiers
  }

  ${Gr}
`,Hr=i.gql`
  fragment SelectChangeOfferActionFragment on SelectChangeOfferAction {
    offer {
      ...PropertyNaturalKeyFragment
    }
    changeOptions: options {
      key
      value
    }
  }

  ${zr}
`,Vr=({data:e,button:t,...n})=>{const[r,l]=a.useState(!1),{publish:i}=(0,F.Yj)(),c=(0,o.useClickTracker)(),{offer:s,changeOptions:m}=e;if((0,F._H)(Pe.PC,Pe.OM,{onSuccess:({payload:e})=>l(e.loading)}),!t)return null;return a.createElement(C.y,{onClick:()=>{const{analytics:e}=t;e&&c(e.referrerId,e.linkName);const n={offer:s,options:null==m?void 0:m.slice()};i(new Pe._6(Pe.UP,n))},type:"button",disabled:r,...n},a.createElement(a.Fragment,null,a.createElement("span",{"aria-hidden":Boolean(t.accessibility)},t.primary),t.accessibility&&a.createElement("span",{className:"is-visually-hidden"},t.accessibility)))};Vr.fragment=Hr,Vr.displayName="SelectChangeOfferActionFragment";var qr=i.gql`
  fragment ChangeOfferCallToActionFragment on ChangeOfferCallToAction {
    action {
      ...SelectChangeOfferActionFragment
    }
    button {
      primary
      accessibility
      analytics {
        linkName
        referrerId
      }
    }
  }

  ${Vr.fragment}
`,Kr=({data:e,...t})=>{const{action:n,button:r}=e;return"SelectChangeOfferAction"===(null==n?void 0:n.__typename)?a.createElement(Vr,{data:n,button:r,...t}):null};Kr.fragment=qr,Kr.displayName="ChangeOfferCallToActionFragment";var Wr=i.gql`
  fragment DatelessCheckAvailabilityFragment on DatelessCheckAvailability {
    checkAvailabilityButton {
      ...LodgingEGDSButtonFragment
    }
  }
  ${s.E_b.fragment}
`,Xr=({data:e,clickRefTarget:t,onClose:n,signal:r})=>{const{getTargets:l}=(0,$.OK)(),{checkAvailabilityButton:i}=e,{publish:o}=(0,F.Yj)();return a.createElement(s.E_b,{data:i,onClick:()=>{const{startDate:e}=l([t]);r&&o(r),null==n||n(),setTimeout(()=>{var t,n;null==(t=null==e?void 0:e.current)||t.scrollIntoView({behavior:"auto",block:"start",inline:"nearest"}),null==(n=null==e?void 0:e.current)||n.click()},50)},isFullWidth:!0})};Xr.fragment=Wr,Xr.displayName="DatelessCheckAvailability";var Yr=i.gql`
  fragment LodgingMemberSignInDialogFragment on LodgingMemberSignInDialog {
    dialogTrigger: trigger {
      value
      accessibilityLabel
    }
    title
    graphic {
      ...UIGraphicFragment
    }
    dialogContent {
      ...EGDSParagraphFragment
    }
    actionDialog {
      ...EGDSActionDialogFragment
    }
  }
  ${s.meT.fragment}
  ${s.ijw.fragment}
  ${s.Dvy.fragment}
`,Qr=({data:e,showLargeBtn:t,isFullWidth:n,dialogId:r})=>{const{dialogContent:l,title:i,dialogTrigger:o,graphic:c}=e,{actionDialog:m}=e,[,{openDialog:d}]=(0,N.useDialog)(r);return l&&m?a.createElement(a.Fragment,null,a.createElement(C.y,{onClick:()=>{d()},isFullWidth:n,"data-stid":"submit-hotel-reserve","data-dd-action-name":"see-options-dialog",size:t?k.V.LARGE:k.V.MEDIUM},a.createElement(a.Fragment,null,(null==o?void 0:o.accessibilityLabel)&&a.createElement("span",{className:"is-visually-hidden"},o.accessibilityLabel),a.createElement("span",{"aria-hidden":null!==(null==o?void 0:o.accessibilityLabel)},null==o?void 0:o.value))),a.createElement(s.Ay4,{dialogContent:l,data:m,dialogId:r,title:i,graphic:c})):null};Qr.fragment=Yr,Qr.displayName="LodgingSignInDialog";var jr=(e,t)=>{null==t||t.forEach(({referrerId:t,linkName:n,uisPrimeMessages:a})=>{e(t,n,void 0,a.map(e=>({schemaName:e.schemaName,messageContent:JSON.parse(e.messageContent)})))})},Jr=({prepareCheckoutLoading:e,prepareCheckoutData:t,failureReason:n,buttonRef:r})=>{var l;const[i,o,c]=(0,N.useDialog)("prepare-checkout-error");return(0,a.useEffect)(()=>{n&&o.openDialog()},[n]),a.createElement(a.Fragment,null,(e||(null==(l=null==t?void 0:t.prepareCheckout)?void 0:l.checkoutUrl))&&a.createElement(_e.Y,{visible:!0}),n&&a.createElement(L.K,{isVisible:i},a.createElement(c,null,a.createElement(te.t,{isVisible:i,type:"centered",triggerRef:r},a.createElement(q.p,{navigationContent:{onClick:()=>o.closeDialog(),navIconLabel:"Close Toolbar"},toolbarTitle:n.message}),a.createElement(V.Y,null,a.createElement(x.D,{size:300},n.description))))))};Jr.displayName="PrepareCheckoutLoadingAndErrorHandling";var Zr=i.gql`
  mutation lodgingPropertyCheckoutPrepareCheckout(
    $context: ContextInput!
    $activities: [ActivityNaturalKeyInput!]
    $properties: [PropertyNaturalKeyInput!]
    $totalPrice: MoneyInput
    $checkoutOptions: [CheckoutOptionInput!]
    $offerTokens: [OfferTokenInput!]
  ) {
    prepareCheckout(
      context: $context
      activities: $activities
      properties: $properties
      totalPrice: $totalPrice
      checkoutOptions: $checkoutOptions
      offerTokens: $offerTokens
    ) {
      __typename
      tripId
      checkoutUrl
      failureReason {
        description
        message
      }
    }
  }
`,el=i.gql`
  fragment PropertyLodgingPrepareCheckoutFragment on LodgingPrepareCheckout {
    checkoutButton {
      ...PropertyOffersUIPrimaryButtonFragment
    }
    action {
      checkoutOptions {
        type
        value
      }
      offerTokens {
        token
        lineOfBusiness
      }
      totalPrice {
        amount
        currencyInfo {
          code
        }
      }
      adaptExSuccessEvents {
        ...LodgingAdaptExAnalyticsEventFragment
      }
      analyticsList {
        eventType
        linkName
        referrerId
        uisPrimeMessages {
          messageContent
          schemaName
        }
      }
      lodgingRecommendationClickstreamEvent {
        recommendationResponseId
      }
      propertyNaturalKeys {
        id
        businessModelType
        checkIn {
          month
          day
          year
        }
        checkOut {
          month
          day
          year
        }
        inventoryType
        noCreditCard
        petsIncluded
        ratePlanId
        roomTypeId
        ratePlanType
        rooms {
          childAges
          numberOfAdults
        }
        shoppingPath
      }
      moreDetailsAnalyticsList {
        eventType
        linkName
        referrerId
        uisPrimeMessages {
          messageContent
          schemaName
        }
      }
      __typename
    }
  }

  ${lr}
  ${s.AKj}
`,tl=(e,t)=>{var n,a;return(null==e?void 0:e.length)?null==(a=null==(n=e.filter(e=>(null==e?void 0:e.type)===t))?void 0:n[0])?void 0:a.value:""},nl=(e,t)=>"__typename"===e?void 0:t,al=({isFullWidth:e,showLargeBtn:t,adaptExSuccessActionTracking:n,priceDetailsPropertyNaturalKeys:l,paymentModel:m,data:u,additionalTrackingContext:p,handleClickstreamData:E,setIsReserveBtnClicked:y})=>{var f,v,h,S;const{adaptExSuccessEvents:I}=(0,s.i8K)(),{context:b}=(0,de.R)(),{packageType:P}=(0,d.Zk)(),D=(0,a.useRef)(null),{track:T}=(0,o.useClickstreamAnalytics)(),L=(0,o.useClickTracker)(),{publish:_}=(0,F.Yj)(),{searchId:x,rffrid:N}=(()=>{const e=(0,De.zy)();return a.useMemo(()=>(0,Te.qg)(null==e?void 0:e.search),[null==e?void 0:e.search])})(),R=a.useContext(s.MVj),{activityNaturalKey:A}=(0,g.RR)(),$=_t(),{checkoutButton:O}=u,{checkoutOptions:M,offerTokens:w,totalPrice:B,adaptExSuccessEvents:U,analyticsList:G,propertyNaturalKeys:z,moreDetailsAnalyticsList:H}=u.action,V=z.length>0?z:l,[q]=(0,a.useContext)(Le.I),{reserveAdaptExSuccessEvents:K}=q,{adaptExSuccessEvents:W}=(0,s.i8K)(null!=n?n:[]),X="true"===tl(M,"RATE_UPSELL"),Y="true"===tl(M,"ROOM_UPSELL"),Q=tl(M,"RATE_UPSELL_AMOUNT"),j=tl(M,"PROPERTY_UPSELL_AMOUNT"),J="true"===tl(M,"ROOM_UPGRADE_ELIGIBLE"),Z="true"===tl(M,"RATE_UPGRADE_ELIGIBLE"),ee=null==(f=V[0])?void 0:f.roomTypeId,te=null==(v=V[0])?void 0:v.ratePlanId,ne=null==(h=V[0])?void 0:h.id,[ae,{data:re,loading:le}]=(0,i.useMutation)(Zr),ie=(0,c.useExperiment)("Vrbo_Identity_Test_Headers").exposure,{bucket:oe}=(0,c.useExperiment)("PDP_Highlights_Adaptex").exposure,{bucket:ce}=(0,c.useExperiment)("PDP_Highlights_Adaptex_Iteration_2",!1).exposure,se=null==(S=null==re?void 0:re.prepareCheckout)?void 0:S.failureReason;(0,a.useEffect)(()=>{(null==re?void 0:re.prepareCheckout.checkoutUrl)&&((oe||ce)&&_(new Pe.QK("ADAPTEX_HIGHLIGHTS_PROGRESSION_EVENT",{})),ne&&sessionStorage.setItem("ckoVisitedTripsItemId",ne),window.location.href=re.prepareCheckout.checkoutUrl)},[re]);const me=(0,d.Sp)(d.ZE.ROOM_RATE_RESERVE_ROOM_SELECTED,ee,$,ne,d.$x.INTERACTION,p,x,P);(0,a.useEffect)(()=>{E&&E(me)},[]);const ge=a.createElement(C.y,{size:t?k.V.LARGE:k.V.MEDIUM,isFullWidth:e,type:"submit",onClick:e=>{e.preventDefault(),y&&y(!0),(null==K?void 0:K.length)&&K.forEach(e=>{var t,n,a;T(o.ITrackType.EVENT,{data:(0,s.T4o)({campaignId:e.campaignId,payloadId:(null==(t=e.events[0])?void 0:t.payloadId)||"",eventType:(null==(n=e.events[0])?void 0:n.eventType)||"",eventTarget:(null==(a=e.events[0])?void 0:a.eventTarget)||""})})}),[...I,...U,...W].forEach(e=>{T(o.ITrackType.EVENT,{data:(0,s.rPv)({...e})})}),ne&&L("HOT.HIS.RoomsAndRates.Upsell","Click on reserve button",void 0,(0,d.f0)({additionalAmount:Q?parseInt(Q,10):void 0,propertyId:ne,propertyUpsellAmount:j?parseInt(j,10):void 0,rateUpsell:X,ratePlanCode:te,ratePlanDenseRank:0,roomId:ee,roomUpsell:Y,roomUpgradeEligible:J,rateUpgradeEligible:Z})),jr(L,R?H:G);const t=M&&[...M]||[];(null==x?void 0:x.length)>0&&(null==t||t.push({__typename:"CheckoutOptions",type:"SEARCH_ID",value:x})),(null==N?void 0:N.length)>0&&(null==t||t.push({__typename:"CheckoutOptions",type:"REFERRER_ID",value:N}));const n=1===ie.bucket?{headers:{"VRBO-IDENTITY-TEST":"true","IDENTITY-PLUGIN-CANARY":"true"}}:{};ae({context:n,variables:{context:b,...(null==A?void 0:A.offerToken)&&{activities:A},properties:JSON.parse(JSON.stringify(V),nl),checkoutOptions:JSON.parse(JSON.stringify(t),nl),offerTokens:JSON.parse(JSON.stringify(w),nl),...rl(B)}})},"data-stid":"submit-hotel-reserve",role:"link",domRef:D,disabled:le,"aria-describedby":`${m}-payment-reassurance-etp`},a.createElement(a.Fragment,null,a.createElement("span",{"aria-hidden":Boolean(O.accessibility)},O.primary),O.accessibility&&a.createElement("span",{className:"is-visually-hidden"},O.accessibility))),ue=e?ge:a.createElement(r.X,{justifyContent:"end"},ge);return a.createElement(a.Fragment,null,a.createElement(Jr,{prepareCheckoutLoading:le,prepareCheckoutData:re,failureReason:se,buttonRef:D}),ue)};function rl(e){var t;return(null==(t=null==e?void 0:e.currencyInfo)?void 0:t.code)?{totalPrice:{amount:e.amount,currency:e.currencyInfo.code}}:null}al.fragment=el,al.displayName="PropertyLodgingPrepareCheckout";var ll=i.gql`
  fragment PropertyLodgingFormButtonFragment on LodgingForm {
    action
    inputs {
      ... on LodgingTextInput {
        name
        type
        value
      }
    }
    method
    submit {
      text
      accessibilityLabel
      analytics {
        linkName
        referrerId
      }
      adaptExSuccessEvents {
        ...LodgingAdaptExAnalyticsEventFragment
      }
      adaptExSuccessActionTracking {
        ... on AdaptexCampaignTrackingDetail {
          campaignId
          eventTarget
        }
      }
      lodgingRecommendationClickstreamEvent {
        recommendationResponseId
      }
    }
  }
  ${s.AKj}
`,il=e=>{const t=e.target;e.preventDefault(),window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{t.submit()})})},ol=(e,t)=>{var n,a,r;return null!=(r=null==(a=null==(n=e.filter(e=>(null==e?void 0:e.name)===t))?void 0:n[0])?void 0:a.value)?r:void 0},cl=(e,t)=>"__typename"===e?void 0:t,sl=({data:e,trackReserveButtonClick:t,isFullWidth:n,propertyNaturalKeys:l,hotelCollect:i,noCreditCard:c,priceDetail:m,showLargeBtn:g,paymentModel:u,onClose:p})=>{const E=a.createRef(),{packageType:y,sessionId:f,handleMultiItemCallback:v}=(0,d.Zk)(),{selectPackage:h}=(0,W.cg)(),{replaceProduct:S}=(0,W.EQ)(),I=(0,De.zy)().pathname,{adaptExSuccessEvents:b}=(0,s.i8K)(),{context:P}=(0,de.R)(),{action:D,inputs:T,method:L,submit:_}=e,x=_t(),N=(0,o.useClickTracker)(),{track:R}=(0,o.useClickstreamAnalytics)(),[A]=(0,a.useContext)(Le.I),{reserveAdaptExSuccessEvents:F}=A,{text:$,accessibilityLabel:O,adaptExSuccessEvents:M=[],lodgingRecommendationClickstreamEvent:w,adaptExSuccessActionTracking:B=[]}=_,{adaptExSuccessEvents:U}=(0,s.i8K)(null!=B?B:[]);if(!(null==T?void 0:T.length))return null;const G="true"===ol(T,"rateUpsell"),z="true"===ol(T,"roomUpsell"),H=ol(T,"ratePlanDenseRank"),V=ol(T,"additionalAmount"),q=ol(T,"propertyUpsellAmount"),K="true"===ol(T,"roomUpgradeEligible"),X="true"===ol(T,"rateUpgradeEligible"),Y=ol(T,"roomTypeCode")||ol(T,"bookingRequest.items[0].roomTypeCode"),Q=ol(T,"ratePlanCode")||ol(T,"bookingRequest.items[0].rateCode"),j=ol(T,"hotelID")||ol(T,"bookingRequest.expediaPropertyId"),J=()=>{j&&N("HOT.HIS.RoomsAndRates.Upsell","Click on reserve button",void 0,(0,d.f0)({additionalAmount:V?parseInt(V,10):void 0,propertyId:j,propertyUpsellAmount:q?parseInt(q,10):void 0,rateUpsell:G,ratePlanCode:Q,ratePlanDenseRank:H?parseInt(H,10):void 0,roomId:Y,roomUpsell:z,roomUpgradeEligible:K,rateUpgradeEligible:X})),t()};if(y){const e=async e=>{var t,n,a,r;if(e&&"function"==typeof e.preventDefault&&e.preventDefault(),J(),null==p||p(),m)if("SelectPackageActionInput"===(null==(t=m.action)?void 0:t.__typename)&&f&&m.action.packageOfferId){const e={context:P,multiItemSessionId:f,packageOfferId:m.action.packageOfferId},t=await h(e,"PACKAGE_ADD");if(t.success&&"MultiItemSearchContextCreatedResponse"===t.data.multiItemShopping.selectPackage.__typename){const e=new URL(t.data.multiItemShopping.selectPackage.redirectUrl);I!==e.pathname&&(window.location.href=t.data.multiItemShopping.selectPackage.redirectUrl)}}else if(v)v(l,void 0,void 0,null==(n=m.price)?void 0:n.multiItemPriceToken,void 0,null!=(a=m.dealMarker)?a:void 0,f);else{const e=m.propertyNaturalKeys,t={context:P,multiItemSessionId:null!=f?f:"",priceToken:null==(r=m.price)?void 0:r.multiItemPriceToken,properties:JSON.parse(JSON.stringify(e),cl)},n=await S(t,"REPLACE_PRODUCT");if(n.success&&"MultiItemSearchContextCreatedResponse"===n.data.multiItemShopping.selectProducts.__typename){const e=new URL(n.data.multiItemShopping.selectProducts.redirectUrl);I!==e.pathname&&(window.location.href=n.data.multiItemShopping.selectProducts.redirectUrl)}}};return a.createElement(C.y,{size:g?k.V.LARGE:k.V.MEDIUM,isFullWidth:n,type:"submit",onClick:e,"data-stid":"submit-hotel-reserve",role:"link","aria-describedby":`${u}-payment-reassurance-etp`},a.createElement(a.Fragment,null,a.createElement("span",{"aria-hidden":Boolean(O)},$),O&&a.createElement("span",{className:"is-visually-hidden"},O)))}const Z=a.createElement(C.y,{size:k.V.MEDIUM,isFullWidth:n,type:"submit",onClick:e=>{var t,n;_.analytics&&(N(null==(t=_.analytics)?void 0:t.referrerId,null==(n=_.analytics)?void 0:n.linkName),(null==w?void 0:w.recommendationResponseId)&&Q&&R(o.ITrackType.EVENT,{data:(0,d.hY)(w.recommendationResponseId,Q,"recommendation_module.selected","Interaction",x,_.analytics)})),(null==F?void 0:F.length)&&F.forEach(e=>{var t,n,a;R(o.ITrackType.EVENT,{data:(0,s.T4o)({campaignId:e.campaignId,payloadId:(null==(t=e.events[0])?void 0:t.payloadId)||"",eventType:(null==(n=e.events[0])?void 0:n.eventType)||"",eventTarget:(null==(a=e.events[0])?void 0:a.eventTarget)||""})})}),[...b,...M,...U].forEach(e=>{R(o.ITrackType.EVENT,{data:(0,s.rPv)({...e,events:e.events})})}),v&&"function"==typeof v?e&&"function"==typeof e.preventDefault&&(e.preventDefault(),N("MultiProp.Reserve","Clicking on Reserve into multi property experiment"),v(l,(e=>e?"HC":"EC")(i),c,void 0,E)):J()},"data-stid":"submit-hotel-reserve",role:"link","aria-describedby":`${u}-payment-reassurance-etp`},a.createElement(a.Fragment,null,a.createElement("span",{"aria-hidden":Boolean(O)},$),O&&a.createElement("span",{className:"is-visually-hidden"},O))),ee=n?Z:a.createElement(r.X,{justifyContent:"end"},Z);return a.createElement("form",{action:D,method:L,ref:E,onSubmit:il,"data-stid":"property-lodging-form-button-form"},null==T?void 0:T.map((e,t)=>{return(null==e?void 0:e.name)&&(null==e?void 0:e.value)&&a.createElement("input",{key:`formBtn-${t}`,type:(n=null==e?void 0:e.type,n?n.toLowerCase():"hidden"),name:null==e?void 0:e.name,value:null==e?void 0:e.value});var n}),ee)};sl.fragment=ll,sl.displayName="PropertyLodgingFormButton";var ml=({trackReserveButtonClick:e,isFullWidth:t,propertyNaturalKeys:n,hotelCollect:r,noCreditCard:l,priceDetail:i,showLargeBtn:o,offerBookButton:c,paymentModel:s,onClose:m})=>a.createElement(a.Fragment,null,c&&a.createElement(sl,{data:c,isFullWidth:t,trackReserveButtonClick:e,propertyNaturalKeys:n,noCreditCard:l,hotelCollect:r,priceDetail:i,showLargeBtn:o,paymentModel:s,onClose:m})),dl=e=>{const{packageType:t}=(0,d.Zk)(),{isFullWidth:n,lodgingPrepareCheckout:r,propertyNaturalKeys:l,offerBookButton:i,paymentModel:o,additionalTrackingContext:c,showLargeBtn:s,handleClickstreamData:m,setIsReserveBtnClicked:g}=e,{adaptExSuccessActionTracking:u}=(null==i?void 0:i.submit)||{};return t||!r?a.createElement(ml,{...e}):a.createElement(al,{isFullWidth:n,data:r,adaptExSuccessActionTracking:null!=u?u:[],priceDetailsPropertyNaturalKeys:l,paymentModel:o,additionalTrackingContext:c,handleClickstreamData:m,setIsReserveBtnClicked:g,showLargeBtn:s})};dl.displayName="PropertyLodgingFormButton";var gl=i.gql`
  fragment PropertyPaymentPriceFragment on Offer {
    price {
      lead {
        formatted
      }
      priceMessaging {
        value
        theme
      }
      options {
        leadingCaption
        displayPrice {
          formatted
        }
        disclaimer {
          value
        }
        priceDisclaimer {
          content
          primaryButton {
            text
          }
          trigger {
            icon {
              description
            }
          }
        }
        accessibilityLabel
        strikeOut {
          formatted
        }
        loyaltyPrice {
          unit
          amount {
            formatted
          }
          totalStrikeOutPoints {
            formatted
          }
        }
      }
    }
  }
`,ul=({data:e,alignment:t})=>{var n,r,l;const{price:i}=e;if(!(null==(n=null==i?void 0:i.lead)?void 0:n.formatted)||!(null==i?void 0:i.options)||0===i.options.length)return null;const{priceMessaging:o,lead:c,options:s}=i,m=(null==o?void 0:o.findIndex(e=>"STRONG"===e.theme))||-1,d=-1===m?null==o?void 0:o.slice(1):null==o?void 0:o.slice(1).splice(m,1),g=null==d?void 0:d.map(e=>e.value),u=El(s);return a.createElement(Y.dZ,{...u,a11yPrice:c.formatted||"",align:null!=t?t:Y.A$.RIGHT,priceSubtextFirst:o&&o.length>0?null==(r=o[0])?void 0:r.value:"",stids:{subtextStandardId:"property-payment-price-standard-first"},priceSubtextStandard:g,priceSubtextBold:o&&o.length>0&&-1!==m?null==(l=o[m])?void 0:l.value:""})},pl=(e,t,n,a,r)=>{if(e||t)return t?e?r?`${t.formatted} ${n} ${a} ${e.formatted}`:`${e.formatted} ${a} ${t.formatted} ${n}`:`${t.formatted} ${n}`:null==e?void 0:e.formatted},El=e=>{var t,n,a,r,l,i,o,c,s,m,d,g;const[u,p,E]=e,{leadingCaption:y,loyaltyPrice:f,displayPrice:v,accessibilityLabel:h,priceDisclaimer:C,strikeOut:k}=u||{};if(1===e.length&&f){const e=f.totalStrikeOutPoints?`${null==(t=f.totalStrikeOutPoints)?void 0:t.formatted} ${f.unit}`:"";return{isStrikeThroughFirst:!0,lockupFormattedPoints:`${null==(n=f.amount)?void 0:n.formatted} ${f.unit}`,strikeThroughPrice:e,a11yPrice:h||""}}if(f){return{isStrikeThroughFirst:!0,isPointsFirst:!0,lockupPrice:`${null==p?void 0:p.leadingCaption} ${null==(a=null==p?void 0:p.displayPrice)?void 0:a.formatted}`,lockupFormattedPoints:`${null==(r=f.amount)?void 0:r.formatted} ${f.unit}`,a11yPrice:(null==p?void 0:p.accessibilityLabel)||"",strikeThroughPrice:pl(null==E?void 0:E.strikeOut,f.totalStrikeOutPoints,f.unit,null==p?void 0:p.leadingCaption,!0),a11yStrikeThroughDialogTrigger:null==(o=null==(i=null==(l=null==E?void 0:E.priceDisclaimer)?void 0:l.trigger)?void 0:i.icon)?void 0:o.description}}const S=y?`${y} ${null==v?void 0:v.formatted}`:null==v?void 0:v.formatted;if(1===e.length)return{lockupPrice:S,a11yPrice:h||"",strikeThroughPrice:null==k?void 0:k.formatted,a11yStrikeThroughDialogTrigger:null==(s=null==(c=null==C?void 0:C.trigger)?void 0:c.icon)?void 0:s.description};const I=null==p?void 0:p.loyaltyPrice;return{isStrikeThroughFirst:!0,isPointsFirst:!1,strikeThroughPrice:pl(k,null==I?void 0:I.totalStrikeOutPoints,null==I?void 0:I.unit,null==p?void 0:p.leadingCaption,!1),lockupPrice:S,lockupFormattedPoints:`${null==p?void 0:p.leadingCaption} ${null==(m=null==I?void 0:I.amount)?void 0:m.formatted} ${null==I?void 0:I.unit}`,a11yStrikeThroughDialogTrigger:null==(g=null==(d=null==C?void 0:C.trigger)?void 0:d.icon)?void 0:g.description,a11yPrice:h||""}};ul.fragment=gl,ul.displayName="PropertyPaymentPrice";var yl={PROPERTY_PAYMENT_PRICE_FALLBACK:new xe.SystemEvent(xe.SystemEventLevel.INFO,"PROPERTY_PAYMENT_PRICE_FALLBACK"),PROPERTY_PAYMENT_PRICE_DISPLAY_MESSAGES:new xe.SystemEvent(xe.SystemEventLevel.INFO,"PROPERTY_PAYMENT_PRICE_DISPLAY_MESSAGES")},fl=({paymentPolicy:e,offer:t})=>{var n,r,l,i,o,s;const m=(0,d.Ry)(),g=(0,xe.useLoggerEvents)(yl),{isLoggingEnabled:u}=(()=>{const{exposure:e}=(0,c.useExperiment)("Property_Offers_Logging");return{isLoggingEnabled:1===e.bucket}})(),p=void 0!==(null==(r=null==(n=null==e?void 0:e.price)?void 0:n.reassuranceMessage)?void 0:r.value)&&""!==(null==(i=null==(l=null==e?void 0:e.price)?void 0:l.reassuranceMessage)?void 0:i.value);return a.useEffect(()=>{var t,n;u&&((null==(n=null==(t=null==e?void 0:e.price)?void 0:t.displayMessages)?void 0:n.length)?g.PROPERTY_PAYMENT_PRICE_DISPLAY_MESSAGES.log({}):g.PROPERTY_PAYMENT_PRICE_FALLBACK.log({}))},[]),(null==(s=null==(o=null==e?void 0:e.price)?void 0:o.displayMessages)?void 0:s.length)?a.createElement(Q._,{data:e.price,flexAlignment:"end",isReassuranceStylingEnabled:p,enableInlineLink:!0,contents:m}):a.createElement(ul,{data:t,alignment:Y.A$.RIGHT})},vl=e=>e.map(e=>e.text).join("-").toLowerCase(),hl=e=>!!e.icon,Cl=e=>(e=>e.find(hl))(e)?"icon-alternate":"default",kl=({heading:e,items:t,mktDescIndex:n})=>e?a.createElement(a.Fragment,null,a.createElement(l.N,{padding:{blockstart:"three"},key:"policy_description_0"},a.createElement(E.M,{tag:"h3",size:7},e)),a.createElement(re.y,{bullet:Cl(t),size:3,"data-stid":vl(t)},null==t?void 0:t.map(({text:e,icon:t},r)=>a.createElement(j.x,{key:`policy_${n}_${r}`,"data-stid":`pppdescr-${null==t?void 0:t.token}`},t&&a.createElement(z.LD,{name:t.id,className:`pppdescr-${t.token}`}),a.createElement(x.D,null,e))))):null,Sl=({descriptions:e})=>e.map(({header:e,heading:t,items:n},r)=>{var i,o,c;return e?a.createElement(l.N,{key:`policy_description_${r}`},a.createElement(re.y,{bullet:Cl(n),size:3,"data-stid":vl(n)},e&&a.createElement(j.x,{key:`policy_-_${r}`},a.createElement(J.D,{url:null==(o=null==(i=e.mark)?void 0:i.url)?void 0:o.value,name:null==(c=e.mark)?void 0:c.id,size:Z.K.SMALL}),a.createElement(E.M,{tag:"h3",size:7},e.text)),null==n?void 0:n.map(({text:e,icon:t},n)=>a.createElement(j.x,{key:`policy_${r}_${n}`,"data-stid":`pppdescr-${null==t?void 0:t.token}`},t&&a.createElement(z.LD,{name:t.id,className:`pppdescr-${t.token}`}),a.createElement(x.D,null,e))))):a.createElement(kl,{heading:t,items:n,mktDescIndex:r,key:`desk-${r}`})}),Il=({policyDescriptions:e,paymentPolicy:t,offer:n})=>{var i;const o=e.filter(e=>!!e.items).length>0,c=o?"space-between":"end";return a.createElement(r.X,{direction:"row",justifyContent:c,space:"four",wrap:"nowrap"},o&&a.createElement(D.C,null,a.createElement(Sl,{descriptions:e})),a.createElement(D.C,{alignSelf:"end"},a.createElement("div",null,a.createElement(fl,{paymentPolicy:t,offer:n}),(null==(i=null==t?void 0:t.price)?void 0:i.reassuranceMessage)&&a.createElement(l.N,{margin:{blockstart:"one"}},a.createElement("div",null,a.createElement(s.UKE,{data:t.price.reassuranceMessage,textSize:200,iconMargin:{inlineend:"one"},includeGraphicInText:!0}))))))},bl=i.gql`
  fragment PropertyInfoMessageFragment on PropertyInfoItem {
    text
    primary {
      ...LodgingEGDSGraphicTextFragment
    }
    themeProvider {
      ...EGDSLocalThemeProviderFragment
    }
    icon {
      id
      token
    }
    state
    graphic {
      ...MarkFragment
    }
  }
  ${s.dyj.fragment}
  ${s.TLj.fragment}
  ${s.CUg.fragment}
`,Pl=({data:e,index:t,markSize:n,textSize:i})=>{var o,c,m;const{text:d,state:g,graphic:u,primary:p,themeProvider:E}=e,y=a.useCallback(({children:e})=>a.createElement(x.D,{size:i,weight:"regular",theme:g&&s.jFx[g]||void 0},e),[i,g]),h={payment__affirm:{blockend:"two"},payment__afterpay:{blockstart:"half",blockend:"half"},payment__klarna:{blockend:"half"}};if(E&&(null==p?void 0:p.graphic)){const e=null!=(c=null==(o=E.lightMode)?void 0:o.themeProviderColor)?c:s.FFL.NONE;return a.createElement(A.EGDSThemeProvider,{isColorThemeContainer:!0,config:{lightMode:{colorTheme:s.GV5[e],isGradient:!0}}},a.createElement(S.g,{key:`policy_${t}`,padded:!0},a.createElement(s.TLj,{flexLayout:!0,data:p})))}return"LOYALTY"!==g?a.createElement(j.x,{key:`policy_${t}`},a.createElement(r.X,null,a.createElement(D.C,null,a.createElement(x.D,null,u&&"Mark"===u.__typename&&"payment__amex"===u.id&&a.createElement(s.CUg,{data:u}),d,u&&"Mark"===u.__typename&&"payment__amex"!==u.id&&a.createElement(l.N,{padding:null!=(m=h[u.id])?m:{}},a.createElement(s.CUg,{data:u})))))):a.createElement(f.w,null,a.createElement(v.T,null,a.createElement(r.X,null,u&&a.createElement(l.N,{margin:{inlineend:"two"}},"Mark"===(null==u?void 0:u.__typename)&&a.createElement(s.CUg,{data:u,markSize:null!=n?n:Z.K.SMALL})),a.createElement("div",null,a.createElement(ne.Q,{htmlToParse:d,plainTextElement:y})))))};Pl.fragment=bl,Pl.displayName="PropertyInfoMessage";var Dl=i.gql`
  fragment PropertyInfoContentUnionItemFragment on PropertyInfoContentItem {
    ...EGDSSpannableTextFragment
    ...PropertyInfoMessageFragment
  }

  ${s.$BV.fragment}
  ${Pl.fragment}
`,Tl={PropertyInfoItem:e=>a.createElement(Pl,{...e}),EGDSSpannableText:e=>a.createElement(j.x,{key:`policy_${e.key||e.text}`},a.createElement(s.$BV,{...e}))},Ll=e=>{const{data:t}=e,{__typename:n}=t,r=Tl[n];return r?a.createElement(r,{...t,...e}):null};Ll.fragment=Dl,Ll.displayName="PropertyInfoContentUnionItem";var _l=({infoItems:e,items:t,installmentPlans:n})=>{var r;return a.createElement(re.y,{"data-stid":"payment-options-details"},null==n?void 0:n.map((e,t)=>a.createElement(j.x,{key:`installmentPlan-${t}`},a.createElement(Gt,{data:e,textSize:300,margin:"unset",placeholderLines:2}))),null==(r=(null==e?void 0:e.length)?e:t)?void 0:r.map((e,t)=>a.createElement(Ll,{key:`${e}-${t}`,index:t,textSize:300,markSize:Z.K.SMALL,data:e})))},xl=i.gql`
  fragment PropertyPaymentOptionsFragment on Offer {
    loyaltyMessage {
      ... on LodgingEnrichedMessage {
        value
        state
      }
    }
    lodgingPrepareCheckout {
      ...PropertyLodgingPrepareCheckoutFragment
    }
    offerBookButton {
      ...PropertyLodgingFormButtonFragment
    }
    ...PropertyPaymentPriceFragment
    price {
      ...PropertyPriceFragment
      installmentPlan {
        ...InstallmentPlanFragment
      }
      multiItemPriceToken
    }
  }

  ${al.fragment}
  ${sl.fragment}
  ${ul.fragment}
  ${s.GOx}
  ${Gt.fragment}
`,Nl={PAY_LATER:"PAY_LATER",PAY_LATER_WITH_DEPOSIT:"PAY_LATER_WITH_DEPOSIT",PAY_NOW:"PAY_NOW"},Rl=e=>"PropertyInfoContent"===e.__typename,Al=e=>"LodgingInstallmentPlan"===e.__typename,Fl=({data:e,paymentPolicies:t,paymentModel:n,propertyNaturalKeys:i,hotelCollect:c,noCreditCard:s,handleClickstreamData:m,additionalTrackingContext:g})=>{var u,p,y,f;const{offerBookButton:v,lodgingPrepareCheckout:h}=e,C=null==t?void 0:t.find(e=>Nl[null==e?void 0:e.paymentType]===n),k=null==(u=null==C?void 0:C.descriptionsV2)?void 0:u.filter(Rl),I=null==(p=null==C?void 0:C.descriptionsV2)?void 0:p.filter(Al),[b,...P]=k||[],T=(0,o.useClickTracker)();return a.createElement(l.N,{padding:"four"},a.createElement(S.g,{border:!0},a.createElement(r.X,{direction:"column",justifyContent:"space-between",blockSize:"full_size","data-stid":"payment-options"},a.createElement(D.C,null,a.createElement("div",null,(null==C?void 0:C.heading)&&a.createElement(E.M,{tag:"h4",size:7},null==C?void 0:C.heading),a.createElement(_l,{infoItems:null==b?void 0:b.infoItems,items:null==b?void 0:b.items,installmentPlans:I}))),a.createElement(l.N,{margin:{blockstart:"three"}},a.createElement(D.C,null,a.createElement("div",{"data-stid":`payment-option-${n}`},a.createElement(l.N,{margin:{blockend:"three"}},a.createElement("div",null,a.createElement(Il,{paymentPolicy:C,policyDescriptions:P,offer:e}))),a.createElement(dl,{isFullWidth:!0,lodgingPrepareCheckout:h,offerBookButton:v,propertyNaturalKeys:i,hotelCollect:c,noCreditCard:s,trackReserveButtonClick:()=>(({noCreditCard:e,paymentModel:t,propertyNaturalKeys:n,track:a})=>{const r=`${d.hs.Infosite}.MRP.RoomsAndRates.`,[{ratePlanId:l,roomTypeId:i}]=n;let o;o="PAY_LATER"===t?"PayLater":"PAY_LATER_WITH_DEPOSIT"===t?"PayDeposit":e?"NoCreditCardRequired":"PayNow",a(`${r}${o}`,"Book selected room choice",void 0,[(0,d.Lp)(i,[{ratePlanCode:l}])])})({noCreditCard:s,paymentModel:n,propertyNaturalKeys:i,track:T}),paymentModel:n,handleClickstreamData:m,additionalTrackingContext:g}),(null==(y=null==C?void 0:C.paymentReassuranceMessage)?void 0:y.value)&&a.createElement(l.N,{margin:{blockstart:"two"},padding:{inline:"six"}},a.createElement(x.D,{align:"center",overflow:"wrap",size:200},a.createElement("span",{id:`${n}-payment-reassurance-etp`},null==(f=null==C?void 0:C.paymentReassuranceMessage)?void 0:f.value)))))))))};Fl.fragment=xl,Fl.displayName="PropertyPaymentOptions";var $l=i.gql`
  fragment PropertyReserveButtonFragment on RatePlan {
    id
    reserveCallToAction {
      __typename
      ... on EtpDialog {
        content {
          ... on LodgingPaymentOptionsDialogContent {
            messages {
              ...LodgingEGDSGraphicTextFragment
            }
          }
        }
        trigger {
          value
          accessibilityLabel
          adaptExAttemptEvents {
            ...LodgingAdaptExAnalyticsEventFragment
          }
        }
        toolbar {
          icon {
            description
          }
          title
        }
      }
      ... on LodgingForm {
        ...PropertyLodgingFormButtonFragment
      }
      ... on LodgingMemberSignInDialog {
        ...LodgingMemberSignInDialogFragment
      }
      ... on DatelessCheckAvailability {
        ...DatelessCheckAvailabilityFragment
      }
    }
    priceDetails {
      ...PriceDetailsFragment
    }
    etpCloseEvent {
      eventCategory
      eventName
      eventType
      eventVersion
      actionLocation
    }
    etpPresentedEvent {
      eventName
      payload
    }
  }

  ${s.AKj}
  ${s.TLj.fragment}
  ${sl.fragment}
  ${Fl.fragment}
  ${Qr.fragment}
  ${Xr.fragment}
  ${Kr.fragment}
  ${Fr}
`,Ol=`${d.hs.Infosite}.MRP`,Ml=d.hs.Infosite,wl="HOT.HIS.MRP.RoomsAndRates.BookButton.Recommended",Bl="Recommended room reserve button",Ul=({data:e,dialogSuffix:t,isEtpCallToActionDisabled:n,isFullWidth:r,paymentPolicy:i,rfrrSuffix:g,showLargeBtn:u,onClose:p,onClick:E,additionalTrackingContext:y,signal:h})=>{var S,I,b,P;const{id:D,priceDetails:T,reserveCallToAction:_,etpCloseEvent:x,etpPresentedEvent:R}=e,A=a.useContext(s.MVj),F=(0,s.vjX)(),[$,O,M]=(0,N.useDialog)(`payment-${F}`,"pwaPaymentDialog"),w=(0,o.useEgClickstream)(),{hasRecommendation:B}=La(),U=a.useRef(null),G=(0,o.useClickTracker)(),{exposure:z,logExperiment:H}=(0,c.useExperiment)("Add_Currency_Code_to_Deposit_option_on_ETP_Web"),{exposure:K,logExperiment:W}=(0,c.useExperiment)("ETP_Dynamic_Optimisation_via_Adaptex"),[Y,Q]=a.useState(null),[j,J]=a.useState(!1),[Z,ee]=a.useState(!1);let ne=[];if("EtpDialog"===(null==_?void 0:_.__typename)&&!n){const e=_,{trigger:t}=e;ne=t.adaptExAttemptEvents||[]}const{track:ae}=(0,o.useClickstreamAnalytics)(),re=T&&T.length>1,le=re&&T.some(e=>"PAY_LATER_WITH_DEPOSIT"===e.paymentModel),ie=re&&T.some(e=>"PAY_LATER"===e.paymentModel),oe=re&&T.some(e=>e.noCreditCard);(0,a.useEffect)(()=>{ie&&W(K),ne.forEach(e=>{ae(o.ITrackType.EVENT,{data:(0,s.rPv)({...e})})})},[]),(0,a.useEffect)(()=>{(Z||j)&&Y&&w(Y)},[j,Y,Z]);const ce=a.useCallback(()=>{if(x){const{eventCategory:e,eventType:t,eventName:n,eventVersion:a,actionLocation:r}=x;w({experience:{page_name:d.Rn.page_name,page_name_detailed:d.Rn.page_name_detailed,page_product_line:d.Rn.page_product_line},event:{event_category:e,event_type:t,event_name:n,event_version:a,action_location:r}})}},[x]),se=e=>{Q(e)},me=T[0];if(null==me?void 0:me.changeOfferCallToAction)return a.createElement(Kr,{data:me.changeOfferCallToAction,isFullWidth:r});if(!_)return null;const de=()=>{O.closeDialog();const e=null==U?void 0:U.current;e&&"function"==typeof e.focus&&e.focus()},ge=()=>{O.openDialog(),J(!0),le&&H(z),(({isPayLater:e,noCreditCard:t,rfrrSuffix:n,trackClick:a,trackEgClickstream:r,hasRecommendation:l,etpPresentedEvent:i})=>{l&&a(wl,Bl);const o=e?"PAY_LATER":"PAY_LATER_WITH_DEPOSIT";a(`${Ml}.${n}.OpenEtpDialog`,"User opening payment options dialog"),a(`${Ml}.${n}.EtpDialogOption.${o}`,`User opened etp modal with ${o} option`),t&&a(`${Ml}.${n}.EtpDialogOption.noCCRequired`,"User opened etp modal with noCCRequired option"),i&&r((0,d.To)(null==i?void 0:i.payload,null==i?void 0:i.eventName,d.Rn.page_name))})({isPayLater:ie,noCreditCard:oe,rfrrSuffix:g,trackClick:G,trackEgClickstream:w,hasRecommendation:B,etpPresentedEvent:R}),null==E||E()},ue=()=>{var e,t,r,o;const c=T.length>1?{small:2,medium:1}:2;let m;return"EtpDialog"!==(null==_?void 0:_.__typename)||n||(m=_),a.createElement(a.Fragment,null,(null==(t=null==(e=null==m?void 0:m.content)?void 0:e.messages)?void 0:t.length)>0&&a.createElement(l.N,{padding:{blockend:"two"}},a.createElement(v.T,{colSpan:2},a.createElement("div",null,null==(o=null==(r=null==m?void 0:m.content)?void 0:r.messages)?void 0:o.map((e,t)=>{const{__typename:n,text:r,graphic:i}=e;return e&&a.createElement(l.N,{padding:{block:"one"},key:`etp-message-${t}`},a.createElement("div",{"data-stid":"onekeycash"===(null==i?void 0:i.id)?"use-your-one-key-cash-message":`etp-message-${t}`},a.createElement(s.TLj,{key:`etp-message-${t}`,data:{__typename:n,text:r,graphic:i,accessibility:null},customTextSize:300})))})))),null==T?void 0:T.map((e,t)=>e&&a.createElement(v.T,{colSpan:c,key:`price-details-${t}`},a.createElement("div",null,a.createElement(Fl,{data:e,paymentPolicies:i,paymentModel:null==e?void 0:e.paymentModel,propertyNaturalKeys:e.propertyNaturalKeys,hotelCollect:e.hotelCollect,noCreditCard:e.noCreditCard,handleClickstreamData:se,additionalTrackingContext:y})))))};if("LodgingMemberSignInDialog"===(null==_?void 0:_.__typename))return a.createElement(Qr,{data:_,showLargeBtn:u,isFullWidth:r,dialogId:`lodging-signin-dialog-${D}-${t}`});if("DatelessCheckAvailability"===(null==_?void 0:_.__typename))return a.createElement(Xr,{data:_,clickRefTarget:"startDate",onClose:p,signal:h});if("EtpDialog"===(null==_?void 0:_.__typename)&&!n){const e=_,{trigger:t,toolbar:n}=e,i={isVisible:$,triggerRef:U,returnFocusOnClose:!0};return a.createElement(a.Fragment,null,a.createElement(C.y,{size:u?k.V.LARGE:k.V.MEDIUM,onClick:ge,isFullWidth:r,domRef:U,"data-stid":"submit-hotel-reserve","data-dd-action-name":"see-options-dialog","aria-describedby":"payment-reassurance"},a.createElement(a.Fragment,null,(null==t?void 0:t.accessibilityLabel)&&a.createElement("span",{className:"is-visually-hidden"},t.accessibilityLabel),a.createElement("span",{"aria-hidden":null!==(null==t?void 0:t.accessibilityLabel)},null==t?void 0:t.value))),a.createElement(L.K,{isVisible:i.isVisible,closeCallback:ce},a.createElement(L.K,{isVisible:$},a.createElement(M,null,a.createElement(m.ln,{value:{cardId:"not-valid-for-coachmark"}},a.createElement(X.LM,null,a.createElement(X.NP,null,a.createElement(te.t,{...i,type:"full"},a.createElement(q.p,{toolbarTitle:null!=(S=null==n?void 0:n.title)?S:void 0,navigationContent:{onClick:de,navIconLabel:null==(I=null==n?void 0:n.icon)?void 0:I.description}}),a.createElement(l.N,{padding:{blockstart:"one",blockend:"three",inline:"three"}},a.createElement(V.Y,{padded:!1},a.createElement(f.w,{columns:1,space:{row:"three"},"data-stid":"content-payment-options"},ue()))))),a.createElement(X.rw,null,a.createElement(te.t,{...i,type:"centered"},a.createElement(q.p,{toolbarTitle:null!=(b=null==n?void 0:n.title)?b:void 0,navigationContent:{onClick:de,navIconLabel:null==(P=null==n?void 0:n.icon)?void 0:P.description}}),a.createElement(l.N,{padding:{blockstart:"one",blockend:"three",inline:"three"}},a.createElement(V.Y,{padded:!1},a.createElement(f.w,{columns:2,space:{column:"three"},"data-stid":"content-payment-options"},ue())))))))))))}if(!me)return null;const pe="EtpDialog"===(null==_?void 0:_.__typename)?me.offerBookButton:_,{noCreditCard:Ee,hotelCollect:ye,lodgingPrepareCheckout:fe}=me;return a.createElement(dl,{lodgingPrepareCheckout:fe,offerBookButton:pe,isFullWidth:r,trackReserveButtonClick:()=>{(({noCreditCard:e,rfrrSuffix:t,trackClick:n,hasRecommendation:a,analyticsList:r,moreDetailsAnalyticsList:l,isWithinDetailsDialog:i})=>{a&&n(wl,Bl),e&&n(`${Ol}.${t}.NoCreditCardRequired`,"Book selected room choice"),i?l&&jr(n,l):r&&jr(n,r)})({noCreditCard:Ee,rfrrSuffix:g,trackClick:G,hasRecommendation:B,analyticsList:null==fe?void 0:fe.action.analyticsList,moreDetailsAnalyticsList:null==fe?void 0:fe.action.moreDetailsAnalyticsList,isWithinDetailsDialog:A})},propertyNaturalKeys:me.propertyNaturalKeys,hotelCollect:ye,noCreditCard:Ee,priceDetail:me,showLargeBtn:u,additionalTrackingContext:y,handleClickstreamData:se,setIsReserveBtnClicked:ee,onClose:p})};Ul.fragment=$l,Ul.displayName="PropertyReserveButton";var Gl=i.gql`
  fragment RatePlanAmenitiesFragment on RatePlanAmenity {
    icon {
      id
      description
      size
    }
    description
    additionalInformation
    id
  }
`,zl=({data:e,textSize:t=200})=>{const{additionalInformation:n,description:r,icon:i}=e,c=(0,s.vjX)(),[m,d,g]=(0,N.useDialog)(`rate-plan-additional-info-${c}`,"pwaDialogNested"),u=(0,o.useClickTracker)(),p=a.useRef(null),E=a.useCallback(()=>{u("HOT.HIS.specialdealsinfo","Open Special Deals Info Dialog"),d.openDialog()},[u,d]),y=a.useCallback(()=>{d.closeDialog()},[d]);return a.createElement(a.Fragment,null,a.createElement(x.D,{size:t,theme:"standard",inline:!0},a.createElement(l.N,{margin:{inlineend:"two"}},a.createElement(z.LD,{name:(null==i?void 0:i.id.toLowerCase())||"done",description:(null==i?void 0:i.description)||"",id:(null==i?void 0:i.id)||"done",size:(null==i?void 0:i.size)?z.So[i.size]:z.So.SMALL})),!n&&r," ",n&&a.createElement(ee.t,{size:"small"},a.createElement("button",{onClick:E,type:"button",ref:p},a.createElement("span",null,r),a.createElement(z.LD,{name:"info_outline",size:z.So.SMALL})))),n&&a.createElement(L.K,{isVisible:m},a.createElement(g,null,a.createElement(te.t,{type:"centered",isVisible:m,triggerRef:p,returnFocusOnClose:!0},a.createElement(q.p,{toolbarTitle:null!=r?r:void 0,navigationContent:{navType:"close",onClick:y}}),a.createElement(ue.h,null,a.createElement(l.N,{margin:"six",padding:{blockstart:"six",inline:"six"}},a.createElement(ne.Q,{htmlToParse:n})))))))};zl.fragment=Gl,zl.displayName="RatePlanAmenities";var Hl=i.gql`
  fragment RatePlanPropertyInfoContentFragment on PropertyInfoContent {
    heading
    header {
      text
      mark {
        id
        url {
          value
        }
      }
    }
    infoItems {
      ...PropertyInfoContentUnionItemFragment
    }
    items {
      ...PropertyInfoMessageFragment
    }
  }

  ${Ll.fragment}
  ${Pl.fragment}
`,Vl=i.gql`
  fragment PropertyPaymentPolicyDescriptionsFragment on PropertyPaymentPolicyDescriptions {
    ...RatePlanPropertyInfoContentFragment
    ...InstallmentPlanFragment
  }

  ${Hl}
  ${Gt.fragment}
`,ql=i.gql`
  fragment PropertyPaymentPolicyInfoFragment on PropertyPaymentPolicyInfo {
    paymentType
    heading
    paymentReassuranceMessage {
      ...LodgingEnrichedMessageFragment
    }
    descriptionsV2 {
      ...PropertyPaymentPolicyDescriptionsFragment
    }
    price {
      ...PropertyPriceFragment
    }
  }

  ${Vl}
  ${s.GOx}
  ${s.UKE.fragment}
`,Kl=i.gql`
  fragment RatePlanAnalyticsFragment on RatePlan {
    clientSideAnalytics {
      referrerId
      linkName
      uisPrimeMessages {
        messageContent
        schemaName
      }
    }
  }
`,Wl=({children:e,data:t,ratePlanId:n})=>{var r,l;const{clientSideAnalytics:i}=t;return a.createElement(o.IntersectionTracker,{referrerId:null!=(r=null==i?void 0:i.referrerId)?r:"",linkName:null!=(l=null==i?void 0:i.linkName)?l:"",additionalUisPrimeMicroMessages:null==i?void 0:i.uisPrimeMessages.map(e=>({messageContent:JSON.parse(e.messageContent),schemaName:e.schemaName})),intersectionOptions:{threshold:.5},deps:[n]},e)};Wl.fragment=Kl,Wl.displayName="RatePlanAnalyticsTracker";var Xl=i.gql`
  fragment RatePlanWithAmenitiesFragment on RatePlan {
    ...RatePlanAnalyticsFragment
    shareUrl {
      accessibilityLabel
      value
      link {
        clientSideAnalytics {
          linkName
          referrerId
        }
        uri {
          relativePath
        }
      }
    }
    id
    amenities {
      ...RatePlanAmenitiesFragment
    }
    ...PropertyRatePlanBadgeFragment
    paymentPolicy {
      ...PropertyPaymentPolicyInfoFragment
    }
    priceDetails {
      ...PriceDetailsFragment
    }
    marketingSection {
      ...MarketingSectionFragment
    }
    ...HighlightedMessagesFragment
    ...PropertyOffersPriceChangeMessageFragment
    ...PropertyReserveButtonFragment
    loyaltyMessage {
      ...LodgingEnrichedMessageFragment
    }
  }
  ${tr.fragment}
  ${fr.fragment}
  ${Ar.fragment}
  ${s.CWK.fragment}
  ${Lr.fragment}
  ${Ur.fragment}
  ${zl.fragment}
  ${Ul.fragment}
  ${Or.fragment}
  ${s.UKE.fragment}
  ${Nr.fragment}
  ${Wl.fragment}
  ${Fr}
  ${ql}
`,Yl="infosite-room-info-dialog-ratePlans",Ql=({data:e,roomId:t,amenityTextSize:n=200})=>{var i,o;const{priceDetails:[c],amenities:m,loyaltyMessage:g,marketingSection:u,shareUrl:p,paymentPolicy:y,id:f}=e,v=a.useContext(s.MVj);return c?a.createElement(Wl,{data:e,ratePlanId:f},(null==c?void 0:c.optionTitle)&&a.createElement(E.M,{tag:"h4",size:7},c.optionTitle.text),a.createElement(Or,{data:e}),a.createElement(r.X,{justifyContent:"space-between",wrap:"nowrap"},a.createElement(D.C,{grow:1},a.createElement("div",null,a.createElement(fr,{data:e}),a.createElement("ul",{className:"no-bullet"},m.map((e,t)=>a.createElement(l.N,{key:`rate-plan-amenity-${t}`,padding:{blockend:"one"}},a.createElement("li",null,a.createElement(zl,{textSize:n,data:e})))),g&&a.createElement(l.N,{padding:{blockend:"one"}},a.createElement("li",{"data-stid":"loyalty-earn-message"},a.createElement(s.UKE,{data:g})))),u&&a.createElement(l.N,{margin:{blockstart:"three",blockend:"two"}},a.createElement("div",null,a.createElement(tr,{data:u}))))),a.createElement(D.C,{grow:1,minWidth:"third_width",className:"uitk-type-right"},a.createElement(r.X,{direction:"column",alignItems:"end"},a.createElement("div",null,a.createElement(Ur,{data:e})),(null==(o=null==(i=c.price)?void 0:i.displayMessages)?void 0:o.length)?a.createElement(Q._,{data:c.price}):a.createElement(s.CWK,{align:Y.A$.RIGHT,data:c}),c.priceBreakDownSummary?a.createElement(Lr,{data:c,actionButton:a.createElement(Ul,{paymentPolicy:y,dialogSuffix:`${Yl}-price-breakdown`,data:e,isFullWidth:!0,rfrrSuffix:v?d.UF.Dialog:d.UF.Menu})}):a.createElement("div",null,a.createElement(Nr,{data:c,actionButton:a.createElement(Ul,{paymentPolicy:y,dialogSuffix:`${Yl}-price-breakdown`,data:e,isFullWidth:!0,rfrrSuffix:v?d.UF.Dialog:d.UF.Menu}),roomTypeId:t,ratePlanId:f})),c.pointsApplied&&a.createElement(l.N,{margin:{blockend:"one"}},a.createElement(x.D,{size:100,theme:"standard","data-stid":"price-points"},c.pointsApplied)),a.createElement(Ar,{data:c}),a.createElement(l.N,{padding:{block:"two"}},a.createElement("div",null,a.createElement(Ul,{paymentPolicy:y,dialogSuffix:Yl,data:e,rfrrSuffix:v?d.UF.Dialog:d.UF.Standard})))))),p&&a.createElement(vr,{shareUrl:p})):null};Ql.fragment=Xl,Ql.displayName="RatePlanWithAmenities";var jl=a.createContext({isMicroRoomCardRatesDialog:!1,isMicroRoomCardCarousel:!1,hasSelections:!1}),Jl=jl.Provider,Zl=i.gql`
  fragment LodgingNotificationsCardFragment on LodgingNotificationsCard {
    header {
      text
    }
    messages {
      ...LodgingEnrichedMessageFragment
    }
  }

  ${s.UKE.fragment}
`,ei=({data:e,border:t=!0})=>{if(!e)return null;const{header:n,messages:r}=e;return a.createElement(S.g,{padded:!0,border:t},n&&a.createElement(E.M,{size:7,tag:"h2"},n.text),a.createElement(l.N,{padding:{blockstart:"three"}},a.createElement(re.y,{bullet:"no-bullet"},r.map((e,t)=>"LodgingEnrichedMessage"===e.__typename?a.createElement(j.x,{key:`room-level-notification-${t}`},a.createElement(s.UKE,{data:e})):null))))};ei.displayName="LodgingNotificationsCard",ei.fragment=Zl;var ti=()=>{const{ratePlan:e}=La();if(!e||!(null==e?void 0:e.offerNotifications))return null;const{offerNotifications:t}=e;return a.createElement(l.N,{margin:{block:"six"}},a.createElement("div",null,a.createElement(ei,{data:t})))},ni=({highlightedMessages:e=[],id:t="",margin:n={block:"two"},asPlainMessages:r,rowGap:i})=>a.createElement(a.Fragment,null,e.length>0&&a.createElement(l.N,{margin:n},a.createElement(f.w,{"data-stid":`highlightedMessages-${t}`},e.map((e,n)=>a.createElement(l.N,{margin:0===n?void 0:{blockstart:i},key:`highlightedMessages-${t}-${n}`},a.createElement("div",null,a.createElement(Er,{data:e,asPlainMessage:r})))))));ni.displayName="UnitCategorizationHighlightedMessages";var ai={align:"start",showIcon:!0},ri=({ratePlan:e,badgeConfig:t=ai})=>{const n={...ai,...t};return a.createElement("div",{"data-stid":"unit-categorization-rate-plan-price-badge"},e.standardBadge?a.createElement(s.XF9,{data:e.standardBadge,...n}):a.createElement(Ur,{data:e,...n}))},li=i.gql`
  fragment PriceChangeNotificationCardFragment on RatePlan {
    priceNotificationCard {
      ...EGDSStandardMessagingCardFragment
    }
  }
`,ii=({data:e})=>{var t;const{priceNotificationCard:n}=e,i="secondary"===(null==n?void 0:n.background)?oe.g5.SECONDARY:oe.g5.HIGHLIGHT;return n?a.createElement(l.N,{margin:{block:"four"}},a.createElement(S.g,{"data-stid":"price-change-notification-container",backgroundTheme:i,padded:!0},a.createElement(r.X,{alignItems:"start",space:"two"},(null==(t=n.graphic)?void 0:t.id)&&a.createElement(z.LD,{"aria-hidden":!0,name:n.graphic.id,size:z.So.EXTRA_SMALL}),a.createElement(x.D,{size:300},n.message)))):null};ii.fragment=li,ii.displayName="PriceChangeNotificationCard";var oi="infosite-room-ratePlans",ci=({priceDetail:e,shouldRightAlignedPriceSummary:t,ratePlan:n,paymentPolicy:r,roomTypeId:l})=>e.priceBreakDownSummary?a.createElement(Lr,{data:e,menuContainerPosition:t?he.C.RIGHT:he.C.LEFT,actionButton:n&&a.createElement(Ul,{dialogSuffix:oi,data:n,paymentPolicy:r,rfrrSuffix:d.UF.Standard}),roomTypeId:l,ratePlanId:null==n?void 0:n.id,shouldRightAlignedPriceSummary:t}):a.createElement(Nr,{data:e,actionButton:n&&a.createElement(Ul,{dialogSuffix:oi,data:n,paymentPolicy:r,rfrrSuffix:d.UF.Standard,isFullWidth:!0}),roomTypeId:l,ratePlanId:null==n?void 0:n.id,shouldRightAlignedPriceSummary:t}),si=({pointsApplied:e,shouldRightAlignedPriceSummary:t})=>e?a.createElement(x.D,{size:100,theme:"standard","data-stid":"price-points",align:t?"right":"left"},e):null,mi=({paymentPolicy:e,priceDetail:t,ratePlan:n,enableInlineLink:r=!1,roomTypeId:i,shouldRightAlignedPriceSummary:o=!1,isDialog:c=!1})=>{var m,d,g,u;const p=a.useContext(s.MVj);return t?a.createElement("div",null,a.createElement(nn,{priceDetail:t,ratePlan:n,roomId:i,shouldRightAlignedPriceSummary:o,enableInlineLink:r,isDialog:c}),(null==(m=t.price)?void 0:m.reassuranceMessage)&&a.createElement(l.N,{margin:{blockstart:"one"}},a.createElement("div",null,a.createElement(s.UKE,{data:null==(d=t.price)?void 0:d.reassuranceMessage,textSize:200,iconMargin:{inlineend:"one"},includeGraphicInText:!0,align:o?"right":"left"}))),(null==(g=t.price)?void 0:g.installmentPlan)&&a.createElement(Gt,{data:null==(u=t.price)?void 0:u.installmentPlan,textSize:200,margin:"unset",align:o?"right":"left"}),!p&&a.createElement(si,{pointsApplied:t.pointsApplied,shouldRightAlignedPriceSummary:o}),a.createElement(ci,{priceDetail:t,ratePlan:n,paymentPolicy:e,shouldRightAlignedPriceSummary:o,roomTypeId:i}),p&&a.createElement(si,{pointsApplied:t.pointsApplied,shouldRightAlignedPriceSummary:o})):null},di=i.gql`
  fragment UnitCategorizationRatePlanFragment on RatePlan {
    ...RatePlanAnalyticsFragment
    shareUrl {
      accessibilityLabel
      value
      link {
        clientSideAnalytics {
          linkName
          referrerId
        }
        uri {
          relativePath
        }
      }
    }
    id
    loyaltyMessage {
      ...LodgingEnrichedMessageFragment
    }
    loyaltyMessages {
      ...LoyaltyMessagesFragment
    }
    paymentPolicy {
      ...PropertyPaymentPolicyInfoFragment
    }
    priceDetails {
      ...PriceDetailsFragment
    }
    shoppingButton {
      ...ShoppingActionButtonFragment
    }
    ...HighlightedMessagesFragment
    ...PropertyOffersPriceChangeMessageFragment
    ...PropertyRatePlanBadgeFragment
    ...PropertyReserveButtonFragment
    offerNotifications {
      ...LodgingNotificationsCardFragment
    }
    standardBadge {
      ...LodgingStandardBadgeFragment
    }
    paymentReassuranceMessage {
      value
    }
    saveQuoteDialog {
      title
      content
      errorMessage
      trigger {
        value
        accessibilityLabel
        adaptExAttemptEvents {
          ...LodgingAdaptExAnalyticsEventFragment
        }
      }
      primaryButton {
        primary
        disabled
      }
      tertiaryButton {
        primary
        disabled
      }
      lodgingLink {
        clientSideAnalytics {
          linkName
          referrerId
          __typename
        }
        uri {
          relativePath
          __typename
        }
        __typename
      }
      toolbar {
        title
        icon {
          description
          id
          token
        }
        __typename
      }
    }
    priceNotificationCard {
      ...EGDSStandardMessagingCardFragment
    }
  }

  ${y.Rx.fragment}
  ${s.UKE.fragment}
  ${s.nrZ.fragment}
  ${Ar.fragment}
  ${s.CWK.fragment}
  ${Lr.fragment}
  ${Ur.fragment}
  ${s.XF9.fragment}
  ${Or.fragment}
  ${Ul.fragment}
  ${s.GOx}
  ${ei.fragment}
  ${Nr.fragment}
  ${Wl.fragment}
  ${s.T5e.fragment}
  ${Fr}
  ${ql}
`,gi=({roomId:e,highlightedMessages:t,onClose:n,forceShowReserveButton:i=!1,additionalTrackingContext:o,signal:m,isDialog:g=!1})=>{var u,p,E,f;const{ratePlan:v}=La(),h=a.useContext(s.MVj),{isMicroRoomCardRatesDialog:C,hasSelections:k,isMicroRoomCardCarousel:S}=a.useContext(jl),{exposure:I}=(0,c.useExperiment)("TAAP_Externalize_Quotes_PaxConnect"),b=(0,c.useExperiment)("California_Right_Aligned_Price_Summary_and_full_width_CTA").exposure.bucket>0;if(!v)return null;const{id:P,loyaltyMessage:T,loyaltyMessages:L,marketingSection:_,headerMessage:N,paymentPolicy:R,priceDetails:[A],shoppingButton:F,paymentReassuranceMessage:$,saveQuoteDialog:O}=v,M=O&&1===I.bucket,w=h||!C||i,B=w&&(!S||h)&&!b,U=w&&(S&&!k&&!h||b),G=b?"left":"right",z=a.createElement(a.Fragment,null,a.createElement(Ul,{dialogSuffix:"infosite-room-ratePlans",data:v,paymentPolicy:R,rfrrSuffix:d.UF.Standard,isFullWidth:S&&!h||b,onClose:n,additionalTrackingContext:o,signal:m}),(null==$?void 0:$.value)&&a.createElement(l.N,{padding:{inlinestart:b||U?"unset":"three",blockstart:U?"two":"unset"}},a.createElement(x.D,{weight:"regular",overflow:"wrap",size:200,align:U?"center":G},a.createElement("span",{id:"payment-reassurance"},$.value)))),H=a.createElement(a.Fragment,null,a.createElement(D.C,{alignSelf:"end"},a.createElement(r.X,{direction:"column",alignItems:"start",space:"two"},A&&a.createElement(Ar,{data:A}),B&&!M&&z,F&&a.createElement(y.Rx,{data:F}))),a.createElement(D.C,{shrink:(null==(p=null==(u=null==A?void 0:A.price)?void 0:u.reassuranceMessage)?void 0:p.value)?1:0},a.createElement("div",null,a.createElement(ri,{ratePlan:v,badgeConfig:{align:"end"}}),a.createElement(mi,{paymentPolicy:R,priceDetail:A,ratePlan:v,roomTypeId:e,enableInlineLink:!0,shouldRightAlignedPriceSummary:b,isDialog:g})))),V=a.createElement(a.Fragment,null,a.createElement(D.C,{shrink:(null==(f=null==(E=null==A?void 0:A.price)?void 0:E.reassuranceMessage)?void 0:f.value)?1:0},a.createElement("div",null,a.createElement(ri,{ratePlan:v,badgeConfig:{align:"start"}}),a.createElement(mi,{paymentPolicy:R,priceDetail:A,ratePlan:v,roomTypeId:e,enableInlineLink:!0}))),a.createElement(D.C,{alignSelf:"end"},a.createElement(r.X,{direction:"column",alignItems:"end",space:"two"},A&&a.createElement(Ar,{data:A}),B&&!M&&z,F&&a.createElement(y.Rx,{data:F}))));return a.createElement(Wl,{data:v,ratePlanId:P},a.createElement(ni,{highlightedMessages:t,id:P}),(!S||h)&&a.createElement(ti,null),a.createElement(c.Experiment,{name:"TAAP_Externalize_Quotes_PaxConnect"},a.createElement(c.ExperimentControl,null),a.createElement(c.ExperimentVariant,{bucket:1},a.createElement(ii,{data:v}))),_&&a.createElement(l.N,{margin:{block:"six"}},a.createElement("div",null,a.createElement(tr,{data:_}))),N&&a.createElement(Or,{data:v}),(L||T)&&a.createElement(l.N,{margin:{block:"three"}},a.createElement("div",{"data-stid":"loyalty-earn-message"},L?a.createElement(s.nrZ,{data:L}):T&&a.createElement(s.UKE,{data:T,markSize:Z.K.SMALL,textSize:300}))),(q=a.createElement(r.X,{alignItems:h?"start":"end",justifyContent:"space-between"},b?H:V),b?a.createElement(l.N,{margin:{blockend:"three"}},q):q),U&&!M&&a.createElement(l.N,{margin:{blockend:"two"}},z));var q};gi.displayName="UnitCategorizationRatePlan";var ui=i.gql`
  fragment UnitCategorizationComplexDialogFragment on LodgingComplexDialog {
    content {
      content
      title {
        text
      }
    }
    primaryUIButton {
      ...PropertyOffersUIPrimaryButtonFragment
    }
    toolbar {
      title
      icon {
        description
      }
      clientSideAnalytics {
        linkName
        referrerId
      }
    }
    trigger {
      clientSideAnalytics {
        linkName
        referrerId
      }
      icon {
        id
        description
      }
      accessibilityLabel
      value
    }
  }
  ${lr}
`,pi=({data:e})=>{var t,n;const{ratePlan:r,roomTypeId:i}=La(),c=(0,s.vjX)(),[m,g,u]=(0,N.useDialog)(`unit-categorization-complex-${c}`,"pwaDialogNested"),p=(0,o.useClickTracker)(),y=(0,o.useEgClickstream)(),f=a.useRef(null);if(!e)return null;const{content:v,primaryUIButton:h,toolbar:C,trigger:k}=e,S=()=>{g.closeDialog(),(null==C?void 0:C.clientSideAnalytics)&&p(`${d.hs.Infosite}${C.clientSideAnalytics.referrerId}`,C.clientSideAnalytics.linkName)},I=(e,t)=>a.createElement(x.D,{key:t,size:300,spacing:t?"three":void 0},e),b=a.createElement(a.Fragment,null,a.createElement(q.p,{toolbarTitle:null!=(t=null==C?void 0:C.title)?t:void 0,navigationContent:{navType:"close",navIconLabel:null==(n=null==C?void 0:C.icon)?void 0:n.description,onClick:S}}),a.createElement(V.Y,null,null==v?void 0:v.map(({content:e,title:t},n)=>a.createElement(a.Fragment,{key:n},a.createElement(l.N,{margin:{blockstart:n?"three":void 0}},a.createElement(E.M,{tag:"h3",size:7,"data-stid":"property-offers-secondary-dialog-heading"},null==t?void 0:t.text)),null==e?void 0:e.map(I))),h&&a.createElement(l.N,{padding:{blockstart:"four"}},a.createElement("div",null,a.createElement(ye.q,{...or(h.action,p,S),isFullWidth:!0},h.primary||""))))),P={isVisible:m,returnFocusOnClose:!0,triggerRef:f};return a.createElement(l.N,{padding:{blockstart:"half",blockend:"one"}},a.createElement("div",null,a.createElement(l.N,{padding:{block:"two"}},a.createElement(B.i,{onClick:()=>{g.openDialog(),i&&(null==r?void 0:r.id)&&y((0,d.OE)(d.ZE.MORE_DETAILS_SELECTED,i,r.id)),(null==k?void 0:k.clientSideAnalytics)&&p(`${d.hs.Infosite}${k.clientSideAnalytics.referrerId}`,k.clientSideAnalytics.linkName)},"data-stid":"property-offers-secondary-dialog-link"},a.createElement("button",{type:"button",ref:f},a.createElement(x.D,{size:200,theme:"standard","data-stid":"property-offers-secondary-dialog-trigger"},k.value,k.icon&&a.createElement(z.LD,{name:k.icon.id,size:z.So.SMALL}))))),v&&a.createElement(L.K,{isVisible:m},a.createElement(u,null,a.createElement(X.LM,null,a.createElement(X.NP,null,a.createElement(te.t,{...P,type:"full"},b)),a.createElement(X.rw,null,a.createElement(te.t,{...P,type:"centered"},b)))))))};pi.fragment=ui,pi.displayName="UnitCategorizationComplexDialog";var Ei=i.gql`
  fragment SelectionHeaderDialogFragment on LodgingOfferSelectionHeaderDialog {
    ...UnitCategorizationComplexDialogFragment
    ...LodgingPolicyDialogFragment
  }
  ${pi.fragment}
  ${ur.fragment}
`,yi=({data:e})=>{switch(e.__typename){case"LodgingComplexDialog":return a.createElement(pi,{data:e});case"LodgingPolicyDialog":return a.createElement(ur,{data:e,uniqueDialogId:"lodging-cancellation-policy-dialog"});default:return null}};yi.fragment=Ei,yi.displayName="SelectionHeader";var fi=i.gql`
  fragment SelectionHeaderFragment on LodgingOfferSelectionHeader {
    title {
      text
      subText
      accessibilityLabel
    }
    dialog {
      ...UnitCategorizationComplexDialogFragment
    }
    complexDialog {
      ...SelectionHeaderDialogFragment
    }
  }
  ${pi.fragment}
  ${yi.fragment}
`,vi=({data:e})=>{const{title:t}=e;return t?a.createElement(l.N,null,a.createElement("div",null,a.createElement(r.X,{space:"one",justifyContent:"space-between"},a.createElement(D.C,null,a.createElement(E.M,{tag:"h4",size:7},t.text)),t.subText&&a.createElement(D.C,null,a.createElement(x.D,{size:200},t.subText))),e.dialog&&a.createElement(pi,{data:e.dialog}),!e.dialog&&e.complexDialog&&a.createElement(yi,{data:e.complexDialog}))):null};vi.fragment=fi,vi.displayName="SelectionHeader";var hi=({selectionHeader:e,radioGroup:t,children:n,unitCategorizationKey:r,handleChange:l,selectedIndex:i})=>{const o=`${r}-${t}-${_t()}`;return a.createElement(a.Fragment,null,e&&a.createElement(vi,{data:e}),a.createElement(Ne.O,{legendLabel:(null==e?void 0:e.title.text)||"",group:o,onChange:l,selected:`${r}-${t}-${i}`,key:`${r}-${t}RadioGroup`},n))};hi.displayName="RadioGroup";var Ci=i.gql`
  fragment UnitCategorizationPropertyUnitFragment on PropertyUnit {
    availabilityCallToAction {
      ...AvailabilityCtaFragment
    }
    detailsDialog {
      ...UnitPropertyOffersDetailsDialogFragment
      toolbar {
        title
        clientSideAnalytics {
          referrerId
          linkName
        }
      }
      trigger {
        ...LinkTriggerFragment
        clientSideAnalytics {
          referrerId
          linkName
        }
      }
    }
    id
    ratePlans {
      ...RatePlanWithAmenitiesFragment
      ...UnitCategorizationRatePlanFragment
    }
    roomAmenities {
      ...RoomAmenitiesDescriptionFragment
    }
    unitGallery {
      accessibilityLabel
      images {
        image {
          id
          description
          url
          thumbnailClickAnalytics {
            referrerId
            linkName
          }
        }
        imageId
        trackingId
        impressionAnalytics {
          referrerId
          linkName
        }
      }
    }
    spaceDetails {
      ...SpaceDetailsFragment
    }
    roomHighlights {
      ...UnitHighlightsFragment
    }
    roomHighlightsV2 {
      ...HighlightedAttributesSectionFragment
    }
    matchingFilterIds
    lodgingReview {
      ...LodgingReviewSectionFragment
    }
    shoppingJoinListContainer {
      ...ShoppingJoinListContainerFragment
    }
  }
  ${Hn.fragment}
  ${y._Q}
  ${Ht.fragment}
  ${ja.fragment}
  ${Ya.fragment}
  ${Ql.fragment}
  ${da.fragment}
  ${di}
  ${tn.fragment}
  ${Qn.fragment}
  ${Wn.fragment}
`,ki=i.gql`
  fragment UnitCategorizationSelectionFragment on LodgingOfferOption {
    clientSideAnalytics {
      linkName
      referrerId
    }
    description
    enabled
    optionId
    price
    subText
    stylizedSubTexts {
      accessibility
      text
      theme
      weight
    }
    accessibilityLabel
    liveAnnounceMessage
    liveAnnouncePoliteness
    selected
  }
`,Si=i.gql`
  fragment UnitCategorizationFragment on LodgingCategorizedUnit {
    primarySelections {
      propertyUnit {
        ...UnitCategorizationPropertyUnitFragment
      }
      primarySelection {
        ...UnitCategorizationSelectionFragment
      }
      secondarySelections {
        recommendedSelection
        secondarySelection {
          ...UnitCategorizationSelectionFragment
          dialog {
            ...LodgingPlainFullscreenDialogFragment
          }
        }
        tertiarySelections {
          ...UnitCategorizationSelectionFragment
          dialog {
            ...LodgingPlainFullscreenDialogFragment
          }
        }
      }
    }
    primaryHeader {
      ...SelectionHeaderFragment
    }
    secondaryHeader {
      ...SelectionHeaderFragment
    }
    tertiaryHeader {
      ...SelectionHeaderFragment
    }
  }

  ${Za.fragment}
  ${vi.fragment}
  ${Ci}
  ${ki}
`,Ii=({data:e})=>{var t;const{primarySelections:n,primaryHeader:r,secondaryHeader:i,tertiaryHeader:o}=e,{primaryIndex:c,secondaryIndex:m,tertiaryIndex:d,handleRadio:g,radioSelections:u}=La(),p=_t(),E={primaryIndex:c,secondaryIndex:m,tertiaryIndex:d},{secondaryTarget:y,secondarySelections:f}=n?xa(n,E):{secondaryTarget:void 0,secondarySelections:void 0},v=a.useContext(s.MVj),h=`${v?"dialog":"LodgingCategorizedUnit"}-${p}`,{hasPrimary:C,hasSecondary:k,hasTertiary:S}=u||{};return a.useEffect(()=>{var e,t;if(n&&void 0!==c){const a=null==(t=null==(e=n[c])?void 0:e.primarySelection)?void 0:t.liveAnnounceMessage;if(!a)return;(0,A.liveAnnounce)(a,A.Level.POLITE),setTimeout(()=>{(0,A.liveAnnounce)("",A.Level.ASSERTIVE)},500)}},[n,c]),n&&u?a.createElement(l.N,{margin:v?void 0:{inline:"three",blockstart:"three"}},a.createElement("div",null,C&&a.createElement(l.N,{padding:{inline:"half"}},a.createElement(O.E,{padded:!1},a.createElement(hi,{selectionHeader:r,selectedIndex:c,handleChange:g,unitCategorizationKey:h,radioGroup:"roomFeatures"},n.map((e,t)=>{var n,r,l,i,o,c;const s=`${h}-roomFeatures-${t}`;return a.createElement(w.PN,{description:(null==(n=null==e?void 0:e.primarySelection)?void 0:n.subText)||"",descriptionList:[...null!=(l=null==(r=null==e?void 0:e.primarySelection)?void 0:r.stylizedSubTexts)?l:[]],id:s,key:s,labelSuffix:(null==(i=null==e?void 0:e.primarySelection)?void 0:i.price)||"",value:s,a11yLabel:null==(o=null==e?void 0:e.primarySelection)?void 0:o.description},(null==(c=null==e?void 0:e.primarySelection)?void 0:c.description)&&a.createElement("span",{"aria-hidden":"true"},e.primarySelection.description))})))),k&&a.createElement(l.N,{padding:{inline:"half"},margin:C?{blockstart:"two"}:void 0},a.createElement(O.E,{padded:!!C&&["blockstart"],border:C?"top":void 0},a.createElement(hi,{selectionHeader:i,selectedIndex:m,handleChange:g,unitCategorizationKey:h,radioGroup:"cancellationPolicy"},null==f?void 0:f.map((e,t)=>{var n,r,l,i,o,c,s,m;const d=`${h}-cancellationPolicy-${t}`;return a.createElement(w.PN,{description:(null==(n=null==e?void 0:e.secondarySelection)?void 0:n.subText)||"",descriptionList:[...null!=(l=null==(r=null==e?void 0:e.secondarySelection)?void 0:r.stylizedSubTexts)?l:[]],disabled:!(null==(i=null==e?void 0:e.secondarySelection)?void 0:i.enabled)||!1,id:d,key:d,labelSuffix:(null==(o=null==e?void 0:e.secondarySelection)?void 0:o.price)||"",value:d,a11yLabel:null==(c=null==e?void 0:e.secondarySelection)?void 0:c.description},(null==(s=null==e?void 0:e.secondarySelection)?void 0:s.description)&&a.createElement("span",{"aria-hidden":"true"},e.secondarySelection.description),(null==(m=null==e?void 0:e.secondarySelection)?void 0:m.dialog)&&a.createElement("div",null,a.createElement(Za,{key:`${d}-dialog`,isHtmlContent:!0,uniqueDialogId:`${d}-dialog`,spacing:{padding:{block:"two"}},data:e.secondarySelection.dialog})))})))),S&&a.createElement(l.N,{padding:{inline:"half"},margin:C||k?{blockstart:"two"}:void 0},a.createElement(O.E,{padded:!(!C&&!k)&&["blockstart"],border:C||k?"top":void 0},a.createElement(hi,{handleChange:g,radioGroup:"extras",selectionHeader:o,unitCategorizationKey:h,selectedIndex:d},null==(t=null==y?void 0:y.tertiarySelections)?void 0:t.map((e,t)=>{var n,r;const l=`${h}-extras-${t}`;return a.createElement(w.PN,{description:(null==e?void 0:e.subText)||"",descriptionList:[...null!=(n=null==e?void 0:e.stylizedSubTexts)?n:[]],disabled:!e.enabled,id:l,key:l,labelSuffix:null!=(r=null==e?void 0:e.price)?r:"",value:l,a11yLabel:(null==e?void 0:e.accessibilityLabel)||(null==e?void 0:e.description)},(null==e?void 0:e.description)&&a.createElement("span",{"aria-hidden":"true"},e.description),(null==e?void 0:e.dialog)&&a.createElement("div",null,a.createElement(Za,{key:`${l}-dialog`,isHtmlContent:!0,uniqueDialogId:`${l}-dialog`,spacing:{padding:{block:"two"}},data:e.dialog})))})))))):null};Ii.fragment=Si,Ii.displayName="UnitCategorization";var bi=({data:e,roomId:t,closeDialog:n,additionalTrackingContext:i})=>{var o,c,s,m,d,g;const u=null==(c=null==(o=null==e?void 0:e.primarySelections)?void 0:o.find(()=>!0))?void 0:c.propertyUnit,{availabilityCallToAction:p,ratePlans:y,detailsDialog:f}=u||{},v=null==e?void 0:e.tnlFields,h=Vt(f)?f:null,C=Boolean(null==y?void 0:y.length),{highlightedMessages:k}=e,{dialogLayout:I}=Pt(),{suitabilityErrorMessage:b,suitabilityErrorMessageAccessibility:P,suitabilityErrorButton:T}=vt(v);if(!C){if(b&&P&&T)return null;if(p)return a.createElement(l.N,{margin:{blockend:"unset"}},a.createElement("div",null,a.createElement(r.X,{direction:"column"},a.createElement(D.C,{alignSelf:"end",grow:0},a.createElement("div",null,a.createElement(Ht,{data:p,closeDialog:n}))))))}return I===Ct?a.createElement(S.g,null,a.createElement(r.X,{direction:"column"},a.createElement(D.C,{shrink:1},a.createElement(M.v,{direction:"vertical"},a.createElement(l.N,{padding:"three"},a.createElement("div",null,a.createElement(Ii,{data:e}))))),a.createElement(D.C,null,a.createElement(O.E,{border:"top",padded:!0},a.createElement(gi,{roomId:t,highlightedMessages:k,additionalTrackingContext:i}),p&&a.createElement(Ht,{data:p}))))):a.createElement(S.g,{border:!0,padded:!0,overflow:!0},a.createElement(O.E,null,(null==(m=null==(s=null==h?void 0:h.content)?void 0:s.ratePlanTitle)?void 0:m.text)&&a.createElement(l.N,{margin:{blockend:"three"}},a.createElement(E.M,{tag:"h3",size:5},null==(g=null==(d=null==h?void 0:h.content)?void 0:d.ratePlanTitle)?void 0:g.text)),a.createElement(Ii,{data:e}),a.createElement(l.N,{margin:{blockstart:"three"}},a.createElement("div",null,a.createElement(gi,{roomId:t,highlightedMessages:k,onClose:n,additionalTrackingContext:i,isDialog:!0}))),p&&a.createElement(Ht,{data:p})))};bi.displayName="DialogUnitCategorization";var Pi={showIcon:!1,size:"small"},Di=({data:e})=>{const t=(0,c.useExperiment)("California_Right_Aligned_Price_Summary_and_full_width_CTA").exposure.bucket>0,n=(0,c.useExperiment)("Add_CTA_to_RR_cards_on_mWeb").exposure.bucket>0,i=La(),m=(0,a.useRef)(null),g=(0,o.useEgClickstream)(),{upgradeNudgeRoom:u}=Rt(),p=(0,o.useClickTracker)(),f=(0,o.useEgClickstream)(),v=_t(),{featuredHeader:R,heading:A,lodgingReview:F,offerImage:$,price:O,priceDetails:M,shoppingJoinListContainer:w,analytics:B,dialogAnalytics:U,unitId:G,features:z,footerButton:H,propertyUnit:V,impressionAnalytics:q,reassuranceMessage:K,installmentPlan:W,ratePlan:X,highlightedMessages:Y,tnlFields:Q}=(0,a.useMemo)(()=>((e,t,n)=>{var a,r,l,i,o,c;const{unitId:s,features:m,footerButton:d,lodgingReview:g,header:u,featureHeader:p,primarySelections:E,highlightedMessages:y,tnlFields:f}=e,{ratePlan:v,primaryIndex:h}=t,C=null==p?void 0:p.text,k=null==u?void 0:u.text,S=null==(a=null==E?void 0:E[h])?void 0:a.propertyUnit,I=null==(l=null==(r=null==S?void 0:S.unitGallery)?void 0:r.images.find(e=>"PropertyImage"===e.__typename))?void 0:l.image,b=null==d?void 0:d.analytics,P=null==(o=null==(i=null==S?void 0:S.detailsDialog)?void 0:i.toolbar)?void 0:o.clientSideAnalytics,D=null==(c=null==v?void 0:v.priceDetails)?void 0:c.find(Boolean),T=null==D?void 0:D.price,L=null==T?void 0:T.reassuranceMessage,_=null==T?void 0:T.installmentPlan;return{featuredHeader:C,heading:k,lodgingReview:g,offerImage:I,shoppingJoinListContainer:null==S?void 0:S.shoppingJoinListContainer,analytics:b,dialogAnalytics:P,unitId:s,features:m,footerButton:d,propertyUnit:S,impressionAnalytics:{referrerId:`HOT.HIS.CompactCard.Impression.${n}`,linkName:"Compact card view impression",trackOnce:!0},availabilityCallToAction:null==S?void 0:S.availabilityCallToAction,reassuranceMessage:L,ratePlan:v,price:T,priceDetails:D,highlightedMessages:y,tnlFields:f,installmentPlan:_}})(e,i,v),[e,v,i]),{suitabilityErrorMessage:j,suitabilityErrorMessageAccessibility:J,suitabilityErrorButton:Z,suitabilityEventName:ee,suitabilitySoldOutAttribute:te}=vt(Q),ne=j&&J&&Z;ft(g,m,ee,te);const[ae,re,le]=(0,N.useDialog)(`room-info-${G}`,"propertyUnitRoomInfoDialog"),ie=(0,a.useCallback)(e=>{B&&p([B.referrerId,e].filter(Boolean).join("."),B.linkName),u&&u.parentRoomId===G&&f((0,d.kj)(d.xr.ROOM_UPGRADE_NUDGE,d.Rn.page_name,d.Op.PDP)),re.openDialog()},[B,re,p]),oe=(0,a.useCallback)(()=>{U&&p(U.referrerId,U.linkName),re.closeDialog()},[]);if(!V||!G)return null;const ce=M&&a.createElement(D.C,{alignSelf:"end"},a.createElement(l.N,{margin:{blockstart:"two"}},a.createElement("div",null,a.createElement(Ar,{data:M})))),se=O&&a.createElement(D.C,null,a.createElement("div",null,X&&a.createElement(Wl,{data:X,ratePlanId:X.id},a.createElement(ri,{ratePlan:X,badgeConfig:t?{...Pi,align:"end"}:Pi}),a.createElement(nn,{priceDetail:M,ratePlan:X,roomId:V.id,enableInlineLink:!0,shouldRightAlignedPriceSummary:t})),K&&a.createElement(s.UKE,{data:K,textSize:200,iconMargin:{inlineend:"one"},includeGraphicInText:!0,align:t?"right":"left"}),W&&a.createElement(T.P,{type:"relative",position:{zindex:"layer2"}},a.createElement(Gt,{data:W,textSize:200,margin:"unset",align:t?"right":"left",placeholderLines:2})))),me=a.createElement(r.X,{justifyContent:"space-between",wrap:"wrap",alignItems:t?"end":"start",direction:t?"row-reverse":"row"},se,ce);return a.createElement(Dt,{dialogLayout:St},a.createElement(o.IntersectionTracker,{...q},a.createElement(S.g,{border:!0,overflow:!0},a.createElement(r.X,{direction:"column",blockSize:"full_size",justifyContent:"space-between",space:"two"},a.createElement(D.C,null,a.createElement("div",null,A&&a.createElement(E.M,{className:"is-visually-hidden"},A),a.createElement(b.M,{ratio:b.l.R4_3,className:"uitk-card-roundcorner-top-left uitk-card-roundcorner-top-right"},a.createElement(c.Experiment,{name:"Add_CTA_to_RR_cards_on_mWeb",logExposure:!1},a.createElement(c.ExperimentControl,null,a.createElement(P.F,{src:null==$?void 0:$.url,alt:null==$?void 0:$.description,placeholderImage:!0})),a.createElement(c.ExperimentVariant,{bucket:1},a.createElement("button",{onClick:()=>ie("unitGallery"),type:"button"},a.createElement(P.F,{src:null==$?void 0:$.url,alt:null==$?void 0:$.description,placeholderImage:!0}))))),R&&a.createElement(T.P,{type:"absolute",position:{top:"three",left:"three"}},a.createElement(h.G,{theme:"featured",text:R,size:Pi.size})),a.createElement(l.N,{margin:{blockstart:"two",blockend:"one",inline:"three"}},a.createElement("div",null,A&&a.createElement(E.M,{"aria-hidden":!0},A),F&&a.createElement(l.N,{margin:{block:"one"}},a.createElement("div",null,a.createElement(Wn,{data:F}))),null==z?void 0:z.map(({__typename:e,theme:t,text:n},r)=>a.createElement(l.N,{key:`${e}-${r}`,margin:{blockstart:"one",blockend:"one"}},a.createElement(x.D,{theme:(0,s.MEz)(t)},n))),a.createElement(ni,{highlightedMessages:Y,id:V.id,margin:{block:"one"},asPlainMessages:!0}))))),a.createElement("div",{ref:m},(!!O||!!M)&&a.createElement(D.C,null,a.createElement(l.N,{margin:{blockend:"three",inline:"three"}},a.createElement("div",null,me))),ne&&a.createElement(r.X,{direction:"column"},a.createElement(D.C,null,a.createElement("div",null,a.createElement(_.j,{"data-stid":"suitability-separator",blockMargin:"one"}),a.createElement(l.N,{margin:{inline:"three"}},a.createElement("div",null,a.createElement(ua,{textProps:{message:j,accessibility:J,size:100,weight:"regular",alignment:"left"},ctaProps:{blockStartMargin:"one",blockEndMargin:"one",isFullWidth:!1,useLinkInsteadOfButton:!0,text:Z}})))))),n&&(null==H?void 0:H.primary)&&a.createElement(l.N,{margin:{blockend:"three",inline:"three"}},a.createElement("div",null,a.createElement(C.y,{size:k.V.SMALL,isFullWidth:!0,onClick:()=>ie(),"data-stid":"see-options-dialog","aria-label":(null==H?void 0:H.accessibility)||void 0},null==H?void 0:H.primary))),V.availabilityCallToAction&&a.createElement(l.N,{margin:{blockend:"three",inline:"three"}},a.createElement(r.X,{justifyContent:"end"},a.createElement(D.C,null,a.createElement(Ht,{data:V.availabilityCallToAction}))))),!n&&a.createElement(I.w,null,a.createElement("button",{type:"button","aria-label":(null==H?void 0:H.accessibility)||void 0,onClick:()=>ie(),"data-stid":"see-options-dialog"},null==H?void 0:H.primary)))),a.createElement(L.K,{isVisible:ae},a.createElement(le,null,a.createElement(Ya,{closeDialog:oe,data:V.detailsDialog,isDialogOpen:ae,listing:V,expandoItemsCard:null,ratePlans:a.createElement(y._T,{id:`UnitCategorizationRatePlan-${v}`,shoppingJoinListContainer:w},a.createElement(bi,{data:e,roomId:G,closeDialog:oe})),suitabilityProps:{suitabilityErrorMessage:j,suitabilityErrorMessageAccessibility:J,suitabilityErrorButton:Z,useLinkInsteadOfButton:!0,closeDialog:oe}})))))},Ti=({data:e,listingIndex:t})=>{const{primarySelections:n}=e;return n?a.createElement(Lt,{value:t},a.createElement(Aa,{primarySelections:n},a.createElement(Di,{data:e}))):null},Li=({children:e,useInlineMargin:t=!0})=>t?a.createElement(l.N,{margin:{small:{inline:"three"},medium:{inline:"unset"}}},e):e,_i=({data:e,useInlineMargin:t})=>{var n,r;let l=0;const i=null==(n=(0,u.m9)("USFTC_SLIM_COACHMARK_TEXT"))?void 0:n.value,o=null==(r=(0,u.m9)("USFTC_SLIM_COACHMARK_URL"))?void 0:r.value;return 0===(null==e?void 0:e.length)?null:a.createElement(Li,{useInlineMargin:t},a.createElement(f.w,{columns:2,space:"two"},null==e?void 0:e.map((e,t)=>{switch(e.__typename){case"LodgingCategorizedUnit":return l+=1,a.createElement(v.T,{key:`${e.__typename}-${e.unitId}`},a.createElement(m.ln,{value:{cardId:e.unitId||"",cardPlacement:"Grid",text:i,iconUrl:o}},a.createElement(Ti,{data:e,listingIndex:l})));case"LodgingHeader":return a.createElement(v.T,{colSpan:"all",key:`${e.__typename}-${t}`},a.createElement("div",null,a.createElement(d.JR,{data:e})));case"MessageResult":return a.createElement(v.T,{colSpan:"all",key:`${e.__typename}-${t}`},a.createElement("div",null,a.createElement(d.Do,{data:e})));default:return null}})))},xi=(i.gql`
  fragment PropertyOffersClientSideAnalyticsFragment on ClientSideAnalytics {
    eventType
    linkName
    referrerId
    uisPrimeMessages {
      messageContent
      schemaName
    }
  }
`,({data:e})=>{const{text:t,accessibility:n,graphic:r,theme:l}=e;return a.createElement(h.G,{text:t||void 0,a11yText:n||void 0,theme:l||void 0,className:"experimental-lodging-badge"},r&&a.createElement(s.Dvy,{data:r}))});xi.fragment=d.if,xi.displayName="Badge";var Ni=({badges:e})=>e&&0!==e.length?a.createElement(r.X,{space:"one",wrap:"wrap",tag:"ul"},e.map((e,t)=>a.createElement(D.C,{key:t},a.createElement("li",null,a.createElement(xi,{data:e}))))):null,Ri=3,Ai=({children:e,expando:t})=>{const{expanded:n,expandedLabel:r,collapsedLabel:l,expandAnalytics:i,collapseAnalytics:c,items:s}=t,[m,d]=a.useState(n),g=((e,t,n,a)=>{var r;return{id:(e?null==t?void 0:t.referrerId:null==n?void 0:n.referrerId)||"",description:null!=(r=e?null==t?void 0:t.linkName:null==n?void 0:n.linkName)?r:"",callback:(e,t)=>{a(e,t)}}})(m,i,c,(0,o.useClickTracker)());return a.createElement(ie.A,{expandLabel:r,collapseLabel:l,items:s||Ri,hideScrim:!0,isVisible:m,handleClick:()=>d(e=>!e),analytics:g},e)},Fi=({children:e,data:t,show:n})=>n&&"EGDSExpandoPeek"===(null==t?void 0:t.__typename)?a.createElement(Ai,{expando:t},e):e;Fi.fragment=d.if,Fi.displayName="EGDSExpando";var $i=({data:e})=>{const{header:t,expando:n,badges:r,impressionAnalytics:i}=e,c=(0,X.s5)({[X.OB.SMALL]:!0,[X.OB.MEDIUM]:!1}),s=(e=>{var t,n,a;return{referrerId:null!=(t=null==e?void 0:e.referrerId)?t:"",linkName:null!=(n=null==e?void 0:e.linkName)?n:"",additionalUisPrimeMicroMessages:null==(a=null==e?void 0:e.uisPrimeMessages)?void 0:a.map(({messageContent:e,schemaName:t})=>({messageContent:JSON.parse(e),schemaName:t}))}})(i);return a.createElement(o.IntersectionTracker,{...s},a.createElement(S.g,{padded:!0,border:!0},t&&a.createElement(l.N,{margin:{blockend:"three"}},a.createElement(E.M,null,t)),n&&a.createElement(Fi,{data:n,show:c},a.createElement(Ni,{badges:r},(m=null==r?void 0:r.length,Array.from({length:m||0}).map((e,t)=>a.createElement("span",{key:t})))))));var m};$i.fragment=d.JC,$i.displayName="ExperimentalOfferCategoriesSection";var Oi=a.createContext({offers:[]}),Mi=({children:e,value:t})=>{const n=a.useMemo(()=>({offers:t}),[t]);return a.createElement(Oi.Provider,{value:n},e)},wi=e=>{const{offers:t}=a.useContext(Oi);if(!e)return;return e.map(e=>null==t?void 0:t.find(t=>"LodgingCategorizedUnit"===t.__typename&&t.unitId===e)).filter(e=>Boolean(e))},Bi=({data:e})=>{const{text:t}=e;return t?a.createElement(Re.s,{align:"center"},t):null};Bi.fragment=d.vb,Bi.displayName="Heading";var Ui=({data:e})=>{const{message:t,icon:n}=e;return t?a.createElement(r.X,{alignItems:"center"},n&&a.createElement(D.C,null,a.createElement(l.N,{padding:{inlineend:"two"}},a.createElement(s.Int,{data:n}))),a.createElement(D.C,null,a.createElement(s.Z37,{data:t}))):null};Ui.fragment=d.S2,Ui.displayName="OfferCategoryMessage";var Gi=({data:e})=>e&&0!==e.length?a.createElement("div",null,e.map((e,t)=>a.createElement(l.N,{margin:{block:"two"},key:t},a.createElement("div",null,a.createElement(Ui,{data:e}))))):null,zi=()=>{const{filteredList:e}=(0,p.a_)();return a.createElement(_i,{data:e,useInlineMargin:!1})},Hi=i.gql`
  fragment CategoryOverlayBodyFragment on OfferCategoryOverlayContentBodyCategorizedOffers {
    messages {
      ...OfferCategoryMessageFragment
    }
    offerIdentifiers
    offerFilters {
      ...LodgingOfferFiltersFragment
    }
    allOffersInclude {
      ...AllOffersIncludeFragment
    }
  }

  ${s.Z37.fragment}
  ${Ui.fragment}
  ${p.Wt.fragment}
  ${$i.fragment}
`,Vi=({data:e})=>{var t;const{messages:n,offerIdentifiers:r,offerFilters:i,allOffersInclude:o}=e,c=wi(r);return a.createElement("div",null,a.createElement(p.Dc,{value:{filters:null!=(t=null==i?void 0:i.filterPills)?t:null,list:null!=c?c:null}},a.createElement(Gi,{data:n}),o&&a.createElement(l.N,{margin:{block:"four"}},a.createElement("div",null,a.createElement($i,{data:o}))),i&&a.createElement(p.Wt,{data:i}),a.createElement(zi,null)))};Vi.fragment=Hi,Vi.displayName="CategoryOverlayBody";var qi=({data:e})=>{const{offerCategoryOverlayContentBody:t}=e;return"OfferCategoryOverlayContentBodyCategorizedOffers"===(null==t?void 0:t.__typename)?a.createElement(Vi,{data:t}):null};qi.fragment=d.At,qi.displayName="Body";var Ki=({data:e})=>a.createElement(l.N,{padding:{inline:"three",blockend:"four"}},a.createElement(V.Y,{padded:!1},a.createElement(qi,{data:e})));Ki.fragment=d.o3,Ki.displayName="OfferCategoryOverlayContent";var Wi=()=>{const e=(0,d.T_)(),t=(0,y.RN)(e),n=(0,d.Ry)(null==t?void 0:t.contentId);if(!n)return null;const{content:r}=n;return"OfferCategoryOverlayContent"===r.__typename?a.createElement(Ki,{data:r}):null};Wi.displayName="sharedui-OfferDetailsOverlayContent";var Xi={triggerRef:null,actionId:void 0},Yi={...Xi,setData:()=>{}},Qi=a.createContext(Yi),ji=()=>a.useContext(Qi),Ji=({children:e})=>{const[t,n]=a.useState(Xi),r=a.useMemo(()=>({triggerRef:t.triggerRef,actionId:t.actionId,setData:n}),[t.actionId,t.triggerRef]);return a.createElement(Qi.Provider,{value:r},e)},Zi=i.gql`
  fragment AllOffersSectionFragment on AllOffersSection {
    actionId
    primaryButton {
      accessibility
      analytics {
        linkName
        referrerId
      }
      primary
    }
  }
`,eo=({data:e})=>{const{primaryButton:t,actionId:n}=e,r=(0,y.pC)(n),l=a.useRef(null),i=(0,o.useClickTracker)(),{setData:c}=ji(),s=(0,a.useCallback)(()=>{if(null==t?void 0:t.analytics){const{referrerId:e,linkName:n}=t.analytics;i(e,n)}c({triggerRef:l,actionId:n}),r()},[t,r,i]);return e&&(null==t?void 0:t.primary)?a.createElement(C.y,{domRef:l,size:k.V.LARGE,isFullWidth:!0,onClick:s},null==t?void 0:t.primary):null};eo.fragment=Zi,eo.displayName="AllOffersSection";var to=({actionId:e})=>{const t=(0,y.KN)(e),n=(0,y.pC)(e),{setData:r}=ji(),l=a.useRef(null);return a.createElement(I.w,null,a.createElement("button",{onClick:()=>{r({triggerRef:l,actionId:e}),n()},type:"button",ref:l},a.createElement("span",{className:"is-visually-hidden"},null==t?void 0:t.accessibility)))},no=i.gql`
  fragment LodgingEGDSOverlayButtonFragment on EGDSOverlayButton {
    primary
  }
`,ao=({data:e})=>{const{primary:t}=e;return a.createElement(H.M,{size:k.V.MEDIUM,"aria-hidden":!0},t)};ao.displayName="LodgingEGDSOverlayButton",ao.fragment=no;var ro=i.gql`
  fragment OfferCategoryButtonFragment on OfferCategoryButton {
    ...LodgingEGDSOverlayButtonFragment
  }
  ${ao.fragment}
`,lo=({data:e})=>"EGDSOverlayButton"===e.__typename?a.createElement(ao,{data:e}):null;lo.displayName="LodgingEGDSOverlayButton",lo.fragment=ro;var io=i.gql`
  fragment OfferCategoryCardFragment on OfferCategory {
    media {
      ...LodgingEGDSImageFragment
    }
    heading {
      ...OfferCategoryHeadingFragment
    }
    messages {
      ...OfferCategoryMessageFragment
    }
    button {
      ...OfferCategoryButtonFragment
    }
    actionId
  }
  ${s.x3z.fragment}
  ${Bi.fragment}
  ${Ui.fragment}
  ${lo.fragment}
`,oo=({data:e})=>{const{media:t,heading:n,messages:i,actionId:o,button:c}=e;return a.createElement(S.g,null,a.createElement(O.E,{padded:!1},t&&a.createElement(s.x3z,{data:t,ratio:b.l.R1_1}),a.createElement(l.N,{padding:"four"},a.createElement(fe.O,{type:ve.Q.BOTTOM},a.createElement("div",null,a.createElement(l.N,{margin:{blockend:"two"}},a.createElement("div",null,a.createElement(Bi,{data:n}))),a.createElement(Gi,{data:i}),c&&a.createElement(r.X,{justifyContent:"center"},a.createElement(D.C,null,a.createElement(lo,{data:c}))))))),a.createElement(to,{actionId:o}))};oo.fragment=io,oo.displayName="OfferCategory";var co=({data:e})=>0===e.length?null:a.createElement("div",null,e.map((e,t)=>a.createElement(l.N,{margin:{block:"three",inline:"three"},key:t},a.createElement("div",null,a.createElement(oo,{data:e}))))),so=i.gql`
  fragment ExperimentalOfferCategoriesSectionFragment on OfferCategoriesSection {
    heading
    offerIdentifiers
    offerCategories {
      ...OfferCategoryCardFragment
    }
    allOffersSection {
      ...AllOffersSectionFragment
    }
  }
  ${eo.fragment}
  ${oo.fragment}
`,mo=({data:e})=>{const{heading:t,offerCategories:n,allOffersSection:r,offerIdentifiers:i}=e,o=wi(i),{triggerRef:c,actionId:s}=ji(),m=(0,y.RN)(s||""),g=(0,d.Ry)(null==m?void 0:m.contentId);return a.createElement(a.Fragment,null,t&&a.createElement(l.N,{margin:{block:"three",inline:"three"}},a.createElement(E.M,{size:5},t)),i&&o&&a.createElement(_i,{data:o}),n&&a.createElement(co,{data:n}),r&&a.createElement(l.N,{margin:{block:"three",inline:"three"}},a.createElement("div",null,a.createElement(eo,{data:r}))),s&&a.createElement(y.e3,{actionId:s,ref:c,sheetToolbar:(0,d.g_)(g),tall:!0},a.createElement(d.Pg,{value:s},a.createElement(Wi,null))))};mo.fragment=so,mo.displayName="ExperimentalOfferCategoriesSection";var go=i.gql`
  fragment PropertyPriceChangeCardFragment on OfferDetails {
    rateMessagingCard {
      ...EGDSStandardMessagingCardFragment
    }
  }
  ${s.T5e.fragment}
`,uo=({data:e})=>{const t=1===(0,c.useExperiment)("TAAP_Externalize_Quotes_PaxConnect").exposure.bucket;return e.rateMessagingCard&&t?a.createElement(l.N,{margin:{blockstart:"three"}},a.createElement(s.T5e,{data:e.rateMessagingCard}),";"):null};uo.fragment=go,uo.displayName="PropertyPriceChangeCard";var po=a.createContext({propertyId:""}),Eo=()=>a.useContext(po),yo=({children:e,inputs:t})=>a.createElement(po.Provider,{value:t},e),fo=({data:e,onError:t})=>{const{placementContext:{lob:n,path:r,placement:l}}=e;return a.createElement(Ae.fJ,{inputs:{placement:{placementContext:{lob:n,path:r,placement:l}}},onError:t,showSkeletonView:!0,backgroundTheme:oe.g5.PRIMARY})};fo.fragment=d.bn,fo.displayName="InsurtechPrimingCardCategorizedListing";var vo=i.gql`
  fragment PropertyBaseFeaturesFragment on PropertyInfoItem {
    primary {
      text
      graphic {
        __typename
        ... on Icon {
          description
          id
        }
      }
    }
  }
  ${mn.fragment}
`,ho=({data:e})=>{var t;const{text:n,graphic:r}=null!=(t=e.primary)?t:{};return a.createElement(j.x,null,r&&"Icon"===r.__typename&&a.createElement(z.LD,{name:r.id,description:r.description,id:r.id}),n)};ho.fragment=vo,ho.displayName="PropertyBaseFeatures";var Co=i.gql`
  fragment PropertyOffersHeaderFragment on LodgingHeader {
    text
    subText
  }
`,ko=({data:e,textSize:t=4,reviewSection:n})=>{const{text:r,subText:i}=e,o=t&&[3,4].includes(t)?{customStyle:4===t?"headline-large":"headline-extra-large"}:void 0;return a.createElement(a.Fragment,null,a.createElement(E.M,{tag:"h3",size:t,typeStyle:o},r),n&&a.createElement(Wn,{data:n}),i&&a.createElement(l.N,{padding:{blockstart:"two"}},a.createElement(x.D,null,i)))};ko.fragment=Co,ko.displayName="PropertyOffersHeader";var So=i.gql`
  fragment LodgingTrackingTextFragment on LodgingCategorizedUnit {
    lodgingTrackingText: footerText {
      text
      accessibilityLabel
      impressionAnalytics {
        linkName
        referrerId
      }
    }
  }
`,Io=({data:e})=>{const{lodgingTrackingText:t}=e;if(!t)return null;const{text:n,impressionAnalytics:r,accessibilityLabel:i}=t,c=a.createElement(a.Fragment,null,a.createElement(x.D,{"aria-hidden":"true",align:"center"},n),i&&a.createElement("span",{className:"is-visually-hidden"},i)),s=r&&Boolean((null==r?void 0:r.referrerId)&&(null==r?void 0:r.linkName))?a.createElement(o.IntersectionTracker,{referrerId:r.referrerId,linkName:r.linkName},c):a.createElement("div",null,"contentBase");return a.createElement(l.N,{margin:{blockstart:"two"}},s)};function bo(e){var t,n;return null!=(n="LodgingForm"===(null==e?void 0:e.__typename)&&(null==(t=e.inputs)?void 0:t.some(e=>"taapPackageRates"===e.name&&"true"===e.value)))&&n}Io.fragment=So,Io.displayName="FooterButton";var Po={FETCH_QUOTE_LINK_ERROR:new xe.SystemEvent(xe.SystemEventLevel.ERROR,"ERROR_FETCHING_PAXLONGE_URL")},Do=({saveQuoteDialog:e,isOpenDialog:t,triggerRef:n,paxloungeData:i,trackingCode:c,closeDialog:s,fetchQuoteLink:m,ratePlanType:g})=>{var u,p,y,f,v,h,S;const I=(0,xe.useLoggerEvents)(Po),b=(0,o.useEgClickstream)(),[P,D]=a.useState({result:null,error:null,loading:!1});(0,a.useEffect)(()=>{var e,t;(null==(e=P.result)?void 0:e.id)&&(null==(t=P.result)?void 0:t.link)&&(T(P.result.id),window.location.href=P.result.link),P.error&&I.FETCH_QUOTE_LINK_ERROR.log({message:P.error})},[P]);const T=e=>{const t=(0,d.qL)(d.ZE.SAVE_QUOTE_EXPORT,e,c,void 0,{supplier_name:d.ru.supplier_name,rate_plan_type_name:g||void 0},void 0,void 0,{type_code:i.roomId},{product_list:[{product_id:i.propertyId}]});b(t)};return e&&m?a.createElement(te.t,{type:"centered",centeredSheetSize:"small",isVisible:t,triggerRef:n},a.createElement(q.p,{toolbarTitle:null!=(p=null==(u=null==e?void 0:e.toolbar)?void 0:u.title)?p:void 0,navigationContent:{onClick:s,navIconLabel:"des"}}),a.createElement(V.Y,null,a.createElement(r.X,{direction:"column"},e.title&&a.createElement(E.M,{tag:"h2",size:5,key:"dialogHeading"},e.title),Array.isArray(e.content)&&e.content.map((e,t)=>a.createElement($e.u,{key:`dialogParagraph-${t}`,size:2},e))),P.error&&e.errorMessage&&a.createElement(l.N,{margin:{block:"three"}},a.createElement(x.D,{size:200,theme:"negative"},e.errorMessage)),(null==(y=e.primaryButton)?void 0:y.primary)&&a.createElement(l.N,{margin:{blockstart:"four"}},a.createElement("div",null,a.createElement(C.y,{disabled:P.loading,isFullWidth:!0,size:k.V.MEDIUM,onClick:async()=>{await m({paxloungeData:i,paxloungeState:P,setPaxloungeState:D})}},null==(f=e.primaryButton)?void 0:f.primary))),(null==(h=null==(v=null==e?void 0:e.lodgingLink)?void 0:v.uri)?void 0:h.relativePath)&&(null==(S=null==e?void 0:e.tertiaryButton)?void 0:S.primary)&&a.createElement(l.N,{margin:{block:"three"}},a.createElement("div",null,a.createElement("a",{href:e.lodgingLink.uri.relativePath,onClick:()=>{s()},target:"_blank",rel:"noopener"},a.createElement(ye.q,{isFullWidth:!0,size:k.V.MEDIUM},e.tertiaryButton.primary)))))):null},To=i.gql`
  fragment PropertySaveQuoteButtonFragment on SaveQuoteDialog {
    title
    content
    errorMessage
    trigger {
      value
      accessibilityLabel
      adaptExAttemptEvents {
        ...LodgingAdaptExAnalyticsEventFragment
      }
    }
    primaryButton {
      primary
      disabled
    }
    tertiaryButton {
      primary
      disabled
    }
    lodgingLink {
      clientSideAnalytics {
        linkName
        referrerId
        __typename
      }
      uri {
        relativePath
        __typename
      }
      __typename
    }
    toolbar {
      title
      icon {
        description
        id
        token
      }
      __typename
    }
  }
  ${lr}
  ${Fr}
`,Lo=({data:e,isFullWidth:t,showLargeBtn:n,propertyId:r,roomId:l,ratePlanId:i,ratePlanCalltoAction:o,originalQuotedPrice:c,clickstreamEvents:m,fetchQuoteLink:g,ratePlanType:u})=>{var p,E;const y=a.useRef(null),f=(0,s.vjX)(),[v,h,C]=(0,N.useDialog)(`save-quote-${f}-${i}`,"saveQuoteDialog"),{searchCriteria:S}=Eo(),I=gt(m,d.ZE.SAVE_QUOTE_EXPORT),{trigger:b}=e,P={isVisible:v,triggerRef:y,returnFocusOnClose:!0},D=e=>{if(!e)return e;const{year:t,month:n,day:a}=e,r=String(a).padStart(2,"0");return`${t}-${String(n).padStart(2,"0")}-${r}`},{siteId:T}=(0,de.R)().context,_={propertyId:r,roomId:l,checkIn:D(null==(p=null==S?void 0:S.primary.dateRange)?void 0:p.checkInDate),checkOut:D(null==(E=null==S?void 0:S.primary.dateRange)?void 0:E.checkOutDate),ratePlanId:i,destination:null==S?void 0:S.primary.destination.regionName,isPackageRate:bo(o),originalQuotedPrice:null==c?void 0:c.replace(/[^0-9]/g,""),rooms:null==S?void 0:S.primary.rooms,siteId:T};return a.createElement(a.Fragment,null,a.createElement(ce.y,{size:n?k.V.LARGE:k.V.MEDIUM,onClick:()=>{h.openDialog()},isFullWidth:t,domRef:y,"data-stid":"property-save-quote-button"},a.createElement("span",{"aria-hidden":!b.value},b.value),!b.value&&a.createElement("span",{className:"is-visually-hidden"},b.accessibilityLabel)),a.createElement(L.K,{isVisible:P.isVisible},a.createElement(L.K,{isVisible:v},a.createElement(C,null,a.createElement(Do,{"data-stid":"save-quote-dialog-content",saveQuoteDialog:e,isOpenDialog:v,triggerRef:y,closeDialog:()=>{h.closeDialog()},paxloungeData:_,trackingCode:I||"",fetchQuoteLink:g,ratePlanType:u})))))};Lo.fragment=To,Lo.displayName="PropertySaveQuoteButton";var _o=({onClose:e,onPropertyReserveButtonClick:t,roomId:n,propertyId:i,ratePlanId:o,ratePlanCalltoAction:c,originalQuotedPrice:s,clickstreamEvents:m,fetchQuoteLink:g})=>{var u;const{ratePlan:p}=La();if(!p)return null;const{paymentPolicy:E,saveQuoteDialog:y,priceDetails:[f]}=p;return a.createElement(O.E,{border:"top",padded:!1,"data-stid":"save-quote-section"},a.createElement(l.N,{padding:{blockstart:"three"}},a.createElement(r.X,{direction:"row",space:"four"},y&&a.createElement("div",null,a.createElement(Lo,{dialogSuffix:"save-quote",data:y,roomId:n,propertyId:i,isFullWidth:!1,ratePlanId:o,ratePlanCalltoAction:c,originalQuotedPrice:s,onClose:e,clickstreamEvents:m,fetchQuoteLink:g,ratePlanType:null==(u=null==f?void 0:f.propertyNaturalKeys[0])?void 0:u.ratePlanType})),a.createElement("div",null,a.createElement(Ul,{dialogSuffix:"infosite-room-ratePlans",data:p,paymentPolicy:E,rfrrSuffix:d.UF.Standard,isFullWidth:!1,onClose:e,onClick:t})))))};_o.displayName="SaveQuoteSection";var xo=({listingName:e,unitGallery:t,className:n,imageRatio:r,handleCarouselImageClick:l,roomSchemaMessageContent:i,propertyId:c,setCurrentImageIndex:s})=>{var m,g,u,p;const E=null!=(m=null==t?void 0:t.images.map(({image:e})=>({src:e.url,alt:e.description})))?m:[],y=(null==t?void 0:t.images.length)||0,f=y?y-1:0,v=(0,o.useClickTracker)(),h=(0,o.useEgClickstream)(),C=_t(),k=C?(C-1).toString():"0",[S,I]=a.useState(0),D=`property-offers-media-carousel-${C}`,T=null==t?void 0:t.images[S],L=null==T?void 0:T.image.thumbnailClickAnalytics,_=`${null==(g=null==T?void 0:T.image.thumbnailClickAnalytics)?void 0:g.referrerId}`,{ratePlan:x,roomTypeId:N}=La(),R=a.useRef(null),[A,F]=a.useState(!1),$=e=>{var n,a,r;return{image_gallery:{gallery_name:d.T4.PDP_ROOMS_AND_RATES,gallery_max_position:f},image_list:[{image_id:null!=(r=null==(a=null==(n=null==t?void 0:t.images[S])?void 0:n.image)?void 0:a.id)?r:"",gallery_position:e||S}]}},O=a.useMemo(()=>{if(N&&(null==x?void 0:x.id))return(0,d.OE)(d.ZE.ROOM_RATE_PLAN_IMAGE_SELECTED,N,x.id)},[N,null==x?void 0:x.id]);a.useEffect(()=>{I(0)},[D]),a.useEffect(()=>{const e=new IntersectionObserver(([e])=>{(null==e?void 0:e.isIntersecting)?F(!0):F(!1)});return R.current&&e.observe(R.current),()=>{e.disconnect()}},[R.current]),a.useEffect(()=>{if(A||0!==S){const e=(0,d.Sp)(d.ZE.ROOM_RATE_IMAGE_PRESENTED,N,C,c,d.$x.IMPRESSION,$());h(e)}},[A,S]);const M=a.useMemo(()=>(()=>{var e;if(L)return{id:_,description:`${null==(e=null==T?void 0:T.image.thumbnailClickAnalytics)?void 0:e.linkName}`,callback:(e,n)=>{var a,r;const l=ba(Ia(S,y,e),(null==(a=null==t?void 0:t.images[S])?void 0:a.trackingId)||"",y,(null==(r=null==t?void 0:t.images[S])?void 0:r.imageId)||"",c,"PDP_ROOMS_AND_RATES",k);i&&l.push({schemaName:"room",messageContent:JSON.parse(i)}),v(e,n,void 0,l)}}})(),[v]),w=a.useCallback(()=>{O&&h(O);const e=(0,d.Sp)(d.ZE.ROOM_RATE_IMAGE_GALLERY_ICON_SELECTED,N,C,c,d.$x.INTERACTION,$(S));h(e),null==l||l()},[N,null==x?void 0:x.id,S]),B=a.createElement(me.M,{allyHeadingText:(null==t?void 0:t.accessibilityLabel)||"",triggerA11yText:(null==t?void 0:t.accessibilityLabel)||"",analytics:M,carouselName:"PhotoGallery",carouselId:D,listingName:e,className:n,images:E,onImageClick:()=>{var e,n,a;if(O&&h(O),L){const r=`${_}.${S}`,l=`${null==(e=null==T?void 0:T.image.thumbnailClickAnalytics)?void 0:e.linkName}`;v(r,l,void 0,ba(S,(null==(n=null==t?void 0:t.images[S])?void 0:n.trackingId)||"",y,(null==(a=null==t?void 0:t.images[S])?void 0:a.imageId)||"",c,"PDP_ROOMS_AND_RATES",k))}const r=(0,d.Sp)(d.ZE.ROOM_RATE_IMAGE_SELECTED,N,C,c,d.$x.INTERACTION,$());h(r),null==l||l()},onMediaButtonClick:w,ratio:r,onIndexChange:e=>{I(e),s&&s(e),O&&h(O);const t=(0,d.Sp)(d.ZE.ROOM_RATE_IMAGE_SCROLL_SELECTED,N,C,c,d.$x.INTERACTION,$(S));h(t)},currentIndex:S,showGalleryButton:!0}),U=ba(S,(null==(u=null==t?void 0:t.images[S])?void 0:u.trackingId)||"",y,(null==(p=null==t?void 0:t.images[S])?void 0:p.imageId)||"",c,"PDP_ROOMS_AND_RATES",k);i&&U.push({schemaName:"room",messageContent:JSON.parse(i)});const G=(null==T?void 0:T.impressionAnalytics)?a.createElement(o.IntersectionTracker,{tag:"span",referrerId:`${T.impressionAnalytics.referrerId}.${k}`,linkName:T.impressionAnalytics.linkName||"",trackOnce:!0,additionalUisPrimeMicroMessages:U},B):a.createElement(a.Fragment,null,B);return a.createElement("div",null,0===E.length?a.createElement(b.M,{className:n,ratio:r},a.createElement(P.F,{placeholderImage:!0})):a.createElement("div",{ref:R},G))};xo.displayName="MediaSection";var No=({footerButton:e,onClick:t})=>{if(!e)return null;const{primary:n,accessibility:r}=e;return a.createElement(l.N,{margin:{blockstart:"three"}},a.createElement("div",null,a.createElement(C.y,{"data-stid":"see-options-dialog",onClick:t,"aria-label":r||void 0,isFullWidth:!0},n)))},Ro=({data:e,isMicroRoomCardCarouselVariant:t=!1,showRoomHighlights:n=!1,availabilityCallToActionSignal:i,showAttributeBasedShoppingOptions:m=!1,clickstreamEvents:g,fetchQuoteLink:u})=>{var p,E,v,h,C,k,I,P,_,x,R;const{upgradeNudgeRoom:A}=Rt(),{features:F,generatedHighlights:$,header:M,highlightedMessages:w,featureHeader:B,expandoItemsCard:U,lodgingReview:G,baseFeatures:z,roomDifferentiators:H,backgroundTheme:V,tnlFields:q,footerButton:K}=e,[W,X]=a.useState(""),[Y,Q]=a.useState(""),[j,J]=a.useState(0),[Z,ee]=a.useState(kt),te=(0,o.useClickTracker)(),ne=(0,o.useEgClickstream)(),ae=_t(),le=ka(),ie=(0,a.useRef)(null),{ratePlan:oe,radioSelections:ce,roomTypeId:se,setHasRecommendationValue:me,primaryIndex:ge}=La(),ue=null==(E=null==(p=e.primarySelections)?void 0:p[ge])?void 0:E.propertyUnit,{id:pe="",detailsDialog:Ee,unitGallery:ye,shoppingJoinListContainer:fe,availabilityCallToAction:ve}=null!=ue?ue:{},{context:he}=(0,de.R)(),Ce="MOBILE_PHONE"===(null==(v=null==he?void 0:he.device)?void 0:v.type),ke=(null==ye?void 0:ye.images.length)||0,Se=ke?ke-1:0,Ie=null==oe?void 0:oe.id;let be=null!=(I=null==(k=null==(C=null==(h=null==oe?void 0:oe.priceDetails[0])?void 0:h.price)?void 0:C.lead)?void 0:k.formatted)?I:"";if(""===be){const e=(null==(_=null==(P=null==oe?void 0:oe.priceDetails[0])?void 0:P.price)?void 0:_.displayMessages)||[];for(const t of e)for(const e of t.lineItems)if("DisplayPrice"===e.__typename&&"LEAD"===e.role){be=null==(x=e.price)?void 0:x.formatted;break}}const Pe=null==oe?void 0:oe.shareUrl,De=null==oe?void 0:oe.saveQuoteDialog,Te=Boolean(ce),Le=!!K,_e=Ce&&t,[xe,Ne,Re]=(0,N.useDialog)(`room-info-${pe}`,"propertyUnitRoomInfoDialog"),Ae=(0,a.useMemo)(()=>{var e,t,n;return{image_gallery:{gallery_name:xe?d.T4.PDP_ROOM_INFO:d.T4.PDP_ROOMS_AND_RATES,gallery_max_position:Se},image_list:[{image_id:null!=(n=null==(t=null==(e=null==ye?void 0:ye.images[j])?void 0:e.image)?void 0:t.id)?n:"",gallery_position:j}]}},[j,xe]);a.useEffect(()=>{J(0)},[ye]);const $e=a.useCallback(()=>{xe&&Ne.closeDialog(),te(W,Y);const e=(0,d.Sp)(d.ZE.ROOM_RATE_PRODUCT_DETAILS_ROOM_CLOSED,se,void 0,le,d.$x.INTERACTION,Ae);ne(e),setTimeout(()=>{ee(kt)},100)},[Ne,te,W,Y,xe]),{exposure:Oe,logExperiment:Me}=(0,c.useExperiment)("SmaSh_Simplified_Addons_Drawer_mweb",!1),{bucket:we}=Oe,Be=(e,t=kt)=>()=>{var n,a,r,l,i,o,c,s,m,g;const u=t===ht,p=u&&(Ce&&1===we||!Ce&&Le);p?ee(Ct):u&&ee(ht);const E=u?(null==(n=null==K?void 0:K.analytics)?void 0:n.referrerId)||"":`${null==(r=null==(a=null==e?void 0:e.trigger)?void 0:a.clientSideAnalytics)?void 0:r.referrerId}.${pe}.${null==oe?void 0:oe.id}`,y=u?(null==(l=null==K?void 0:K.analytics)?void 0:l.linkName)||"":(null==(o=null==(i=null==e?void 0:e.trigger)?void 0:i.clientSideAnalytics)?void 0:o.linkName)||"Open Room Gallery dialog",f=p?"HOT.HIS.AddOnsDrawer.Close":(null==(s=null==(c=null==e?void 0:e.toolbar)?void 0:c.clientSideAnalytics)?void 0:s.referrerId)||`Room.InfoDialog.PhotoGallery${ae}.Close`,v=p?"Close add-ons drawer":(null==(g=null==(m=null==e?void 0:e.toolbar)?void 0:m.clientSideAnalytics)?void 0:g.linkName)||"Close Room Info dialog";Ne.openDialog(),se&&(null==oe?void 0:oe.id)&&ne((0,d.OE)(Ce&&u?d.ZE.OPTIONS_BUTTON_SELECTED:d.ZE.MORE_DETAILS_SELECTED,se,oe.id)),te(E,y),X(f),Q(v),Ce&&u&&Me(Oe),A&&A.parentRoomId===pe&&ne((0,d.kj)(d.xr.ROOM_UPGRADE_NUDGE,d.Rn.page_name,d.Op.PDP))},Ue=(0,a.useMemo)(()=>({isMicroRoomCardRatesDialog:Le,isMicroRoomCardCarousel:_e,hasSelections:Te}),[Le,_e,Te]),{suitabilityErrorMessage:Ge,suitabilityErrorMessageAccessibility:ze,suitabilityErrorButton:He,suitabilityEventName:Ve,suitabilitySoldOutAttribute:qe}=vt(q),Ke=Ge&&ze&&He;if((0,a.useEffect)(()=>{B&&me&&me()},[B,me]),ft(ne,ie,Ve,qe),!ue)return null;const We=(0,f.I)(e=>a.createElement(re.y,{...e,bullet:"icon-standard","data-stid":"base-features"},z&&z.length>0&&z.map(e=>{var t;return e.primary&&a.createElement(ho,{data:e,key:null==(t=e.primary)?void 0:t.text})}))),Xe=!Le&&!_e&&Te||m,Ye=(0,s.Gf9)(V);return a.createElement(Dt,{dialogLayout:Z},a.createElement(Jl,{value:Ue},a.createElement(S.g,{border:!0,backgroundTheme:Ye},a.createElement(r.X,{direction:"column",justifyContent:"space-between","data-stid":`property-offer-${ae}`,blockSize:"full_size"},a.createElement(D.C,null,B&&a.createElement(T.P,{type:"absolute",position:{left:"zero",top:"zero",right:"zero",zindex:"layer3"}},a.createElement(Fe.f,{title:{tag:"h3",text:B.text}}))),a.createElement(D.C,null,a.createElement("div",null,ye&&a.createElement(xo,{listingName:null!=(R=null==M?void 0:M.text)?R:void 0,unitGallery:ye,imageRatio:t?b.l.R3_2:b.l.R16_9,handleCarouselImageClick:Ne.openDialog,roomSchemaMessageContent:Pa(oe),propertyId:le,setCurrentImageIndex:J}),a.createElement(l.N,{padding:{blockstart:"three",blockend:"two",inline:"three"}},a.createElement("div",null,M&&a.createElement(ko,{data:M,reviewSection:G,textSize:6}),$&&$.length>0&&a.createElement(l.N,{margin:{blockstart:"three"}},a.createElement(S.g,{backgroundTheme:"secondary",padded:!0},$.map((e,t)=>a.createElement(s.TLj,{key:`genAI-highlight-${ae}-${t}`,data:e,flexAlignItems:"start",customTextSize:300,flexLayout:!0})))),n&&ue.roomHighlights&&a.createElement(l.N,{margin:{blockstart:"three"}},a.createElement("div",null,a.createElement(Qn,{data:ue.roomHighlights}))),n&&ue.roomHighlightsV2&&a.createElement(l.N,{margin:{blockstart:"three"}},a.createElement("div",null,a.createElement(Hn,{data:ue.roomHighlightsV2}))),z&&z.length>0&&a.createElement(l.N,{margin:{blockstart:"three"}},a.createElement(We,{autoColumns:null,columns:["1fr 1fr"]})),F&&F.length>0&&a.createElement(l.N,{margin:{blockstart:"three"}},a.createElement(re.y,{bullet:"icon-standard"},F.map((e,t)=>a.createElement(gn,{data:e,uniqueDialogId:"propertyunit-feature",key:`feature-${t}`})))),H&&a.createElement(l.N,{margin:{blockstart:"three"}},a.createElement("div",null,a.createElement(Hn,{data:H,display:"dynamic-column-grid"}))),a.createElement(ni,{highlightedMessages:w,id:pe}),(null==Ee?void 0:Ee.trigger)&&a.createElement(l.N,{margin:{blockstart:"three"}},a.createElement(O.E,{"data-stid":"section-roomtype",padded:!1},a.createElement(ja,{data:null==Ee?void 0:Ee.trigger,openDialog:Be(Ee)}),a.createElement(L.K,{isVisible:xe},a.createElement(Re,null,a.createElement(Ya,{closeDialog:$e,data:null==ue?void 0:ue.detailsDialog,isDialogOpen:xe,listing:ue,expandoItemsCard:U,setCurrentImageIndex:J,shoppingJoinListContainer:fe,ratePlans:a.createElement(y._T,{id:`UnitCategorizationRatePlan-${ge}`,shoppingJoinListContainer:fe},a.createElement(bi,{data:e,roomId:pe,closeDialog:$e,additionalTrackingContext:Ae})),suitabilityProps:{suitabilityErrorMessage:Ge,suitabilityErrorMessageAccessibility:ze,suitabilityErrorButton:He,useLinkInsteadOfButton:!1,closeDialog:$e}}))))))),U&&a.createElement(l.N,{margin:{inline:"three",blockstart:"two",blockend:"four"}},a.createElement("div",null,a.createElement(On,{isWithinDetailsDialog:!1,data:U}))),Xe&&a.createElement(O.E,{padded:!1,border:"top"},a.createElement(Ii,{data:e})))),a.createElement(D.C,null,a.createElement(O.E,{padded:!1,border:Le||_e&&!ue.availabilityCallToAction?"top":void 0},a.createElement(l.N,{margin:"three"},a.createElement("div",null,a.createElement("div",{ref:ie},fe?a.createElement(y._T,{id:`UnitCategorizationRatePlan-${ge}`,shoppingJoinListContainer:fe},a.createElement(gi,{roomId:pe,forceShowReserveButton:m,additionalTrackingContext:Ae,signal:i})):a.createElement(gi,{roomId:pe,forceShowReserveButton:m,additionalTrackingContext:Ae,signal:i}),Ke&&a.createElement(ua,{textProps:{message:Ge,accessibility:ze,weight:"regular",size:100,alignment:"left"},ctaProps:{blockStartMargin:"one",isFullWidth:!0,text:He,justifyContent:"start"}}),ve&&a.createElement(r.X,{justifyContent:"end",id:"availabilityCallToActionLayoutFlex"},a.createElement(D.C,null,a.createElement(Ht,{data:ve,signal:i})))),a.createElement(c.Experiment,{name:"TAAP_Externalize_Quotes_PaxConnect"},a.createElement(c.ExperimentControl,null,Pe&&a.createElement(l.N,{margin:{blockstart:"three"}},a.createElement("div",null,a.createElement(vr,{shareUrl:Pe}))),!Xe&&a.createElement(a.Fragment,null,a.createElement(No,{footerButton:K,onClick:Be(Ee,ht)}),a.createElement(Io,{data:e}))),a.createElement(c.ExperimentVariant,{bucket:1},Pe&&!De&&a.createElement(l.N,{margin:{blockstart:"three"}},a.createElement("div",null,a.createElement(vr,{shareUrl:Pe}))),De&&a.createElement(l.N,{margin:{blockstart:"six"}},a.createElement("div",null,a.createElement(_o,{ratePlanId:Ie,ratePlanCalltoAction:null==oe?void 0:oe.reserveCallToAction,originalQuotedPrice:be,roomId:pe,propertyId:le,clickstreamEvents:g,fetchQuoteLink:u}))),!Xe&&!De&&a.createElement(a.Fragment,null,a.createElement(No,{footerButton:K,onClick:Be(Ee,ht)}),a.createElement(Io,{data:e}))))))))))))};Ro.displayName="PropertyUnitCard";var Ao=i.gql`
  fragment PropertyUnitCategorizationFragment on LodgingCategorizedUnit {
    unitId
    backgroundTheme
    __typename
    header {
      ...PropertyOffersHeaderFragment
    }
    baseFeatures {
      ...PropertyBaseFeaturesFragment
    }
    features {
      ...PropertyFeaturesFragment
    }
    generatedHighlights {
      ...LodgingEGDSGraphicTextFragment
    }
    highlightedMessages {
      ...RatePlanMessageFragment
    }
    featureHeader {
      text
    }
    expandoItemsCard {
      ...ExpandoItemsCardFragment
    }
    lodgingReview {
      ...LodgingReviewSectionFragment
    }
    roomDifferentiators {
      ...HighlightedAttributesSectionFragment
    }
    footerButton {
      primary
      accessibility
      analytics {
        linkName
        referrerId
      }
    }
    tnlFields {
      key
      value
    }
    ...UnitCategorizationFragment
    ...LodgingTrackingTextFragment
  }

  ${On.fragment}
  ${Io.fragment}
  ${Hn.fragment}
  ${s.TLj.fragment}
  ${Wn.fragment}
  ${ho.fragment}
  ${gn.fragment}
  ${ko.fragment}
  ${Er.fragment}
  ${Ii.fragment}
`,Fo=({availabilityCallToActionSignal:e,clickstreamEvents:t,data:n,fetchQuoteLink:r,isMicroRoomCardCarouselVariant:l=!1,listingIndex:i,showAttributeBasedShoppingOptions:c=!1,showRoomHighlights:s=!1})=>{const{primarySelections:m}=n,{isFullyRefundable:g,setDismissMessagingCard:u,setDefaultToFullyRefundable:p}=a.useContext(d.Fl),{searchCriteria:E}=Eo(),y={referrerId:`HOT.HIS${!(null==E?void 0:E.primary.dateRange)?".Dateless":""}.view.impression.Room.Carousel.Card.${i}`,linkName:"Room carousel card view impression",trackOnce:!0};return m?a.createElement(Lt,{value:i},a.createElement(Aa,{isFullyRefundable:g,primarySelections:m,setDismissMessagingCard:u,setDefaultToFullyRefundable:p},a.createElement(o.IntersectionTracker,{...y},a.createElement(Ro,{data:n,isMicroRoomCardCarouselVariant:l,showRoomHighlights:s,availabilityCallToActionSignal:e,showAttributeBasedShoppingOptions:c,clickstreamEvents:t,fetchQuoteLink:r})))):null};Fo.displayName="sharedui-PropertyUnitCategorization",Fo.fragment=Ao;var $o=({listings:e,showRoomHighlights:t=!1,useInlineMargin:n=!0,filterActive:r=!1,insurtechPrimingCardCategorizedListing:i,availabilityCallToActionSignal:o,clickstreamEvents:s,fetchQuoteLink:g})=>{var p,E,y;const h=null==(p=(0,u.m9)("USFTC_SLIM_COACHMARK_TEXT"))?void 0:p.value,C=null==(E=(0,u.m9)("USFTC_SLIM_COACHMARK_URL"))?void 0:E.value,{isMessagingCardDismissed:k}=a.useContext(d.Fl),[S,I]=(0,a.useState)(!!i);let b=0;const P=(0,c.useExperiment)("SmaSh_IR_Recommendations_highlights_MVP").exposure.bucket>0;return D=a.createElement(f.w,{columns:{auto_fill:"seventy_six"},space:"three",justifyContent:"start"},S&&i&&a.createElement(v.T,{key:"insurtech-priming-card",colSpan:"all",rowStart:null!=(y=i.position)?y:2},a.createElement("div",null,a.createElement(fo,{data:i,onError:()=>{I(!1)}}))),null==e?void 0:e.map((e,n)=>{const{__typename:l}=e;return"MessageResult"!==l||k?"LodgingCategorizedUnit"===l?(b+=1,a.createElement(v.T,{key:`${l}-${e.unitId}`},a.createElement(m.ln,{value:{cardId:(null==e?void 0:e.unitId)||"",text:h,iconUrl:C}},a.createElement(Fo,{data:e,showRoomHighlights:t,availabilityCallToActionSignal:o,listingIndex:b,clickstreamEvents:s,fetchQuoteLink:g})))):"LodgingHeader"===l?P&&r?null:a.createElement(v.T,{colStart:1,colEnd:"end",key:`${l}-${n}`},a.createElement("div",null,a.createElement(d.JR,{data:e}))):null:a.createElement(v.T,{key:`${l}-${n}`},a.createElement(d.Do,{data:e}))})),n?a.createElement(l.N,{margin:{small:{inline:"three"},medium:{inline:"unset"}}},D):D;var D},Oo=({availabilityCallToActionSignal:e,clickstreamEvents:t,fetchQuoteLink:n,insurtechPrimingCardCategorizedListing:r,listings:l,offerAdaptExSuccessEvents:i,propertyId:o,showRoomHighlights:c=!1,useInlineMargin:s})=>{var m,g;const u=(0,d.yL)(),{filteredList:E}=(0,p.a_)(),{searchCriteria:y}=Eo(),f=!(null==y?void 0:y.primary.dateRange),{context:v}=(0,de.R)(),h="MOBILE_PHONE"===(null==(m=null==v?void 0:v.device)?void 0:m.type)||"APP_PHONE"===(null==(g=null==v?void 0:v.device)?void 0:g.type);if(!l)return null;const C=E||l,k=E&&l&&E.length!==l.length||!1,S=e=>a.createElement("div",{"data-stid":"section-room-list",ref:u},a.createElement(d.ex,{offerAdaptExSuccessEvents:i},e));return S(f||!h?a.createElement($o,{availabilityCallToActionSignal:e,clickstreamEvents:t,fetchQuoteLink:n,filterActive:k,insurtechPrimingCardCategorizedListing:r,listings:C,propertyId:o,showRoomHighlights:c,useInlineMargin:s}):a.createElement(_i,{data:C,useInlineMargin:s}))};Oo.displayName="CategorizedListings";var Mo=i.gql`
  fragment ListingsFragment on OfferDetails {
    categorizedListings {
      ...LodgingSectionHeaderFragment
      ...MessageResultFragment
      ...PropertyUnitCategorizationFragment
    }
    clickstreamEvents
    offerAdaptExSuccessEvents {
      ...LodgingAdaptExAnalyticsEventFragment
    }
    id
    insurtechPrimingCardCategorizedListing {
      ...InsurtechPrimingCardCategorizedListingFragment
    }
  }

  ${s.AKj}
  ${fo.fragment}
  ${d.JR.fragment}
  ${s.LBk.fragment}
  ${Fo.fragment}
`,wo=e=>{const{data:t,showRoomHighlights:n=!1,availabilityCallToActionSignal:r,fetchQuoteLink:l}=e,i=t.id,{offerAdaptExSuccessEvents:o,categorizedListings:c,insurtechPrimingCardCategorizedListing:s,clickstreamEvents:m}=t;return a.createElement(Oo,{availabilityCallToActionSignal:r,clickstreamEvents:m,fetchQuoteLink:l,insurtechPrimingCardCategorizedListing:s,listings:c,offerAdaptExSuccessEvents:o,propertyId:i,showRoomHighlights:n})};wo.fragment=Mo,wo.displayName="Listings";var Bo=i.gql`
  fragment PropertyOffersFragment on OfferDetails {
    clickstreamEvents
    errorMessage {
      ...ErrorMessageFragment
    }
    experimentalOfferCategoriesSection {
      ...ExperimentalOfferCategoriesSectionFragment
    }
    experimentalUpgradeNudgeRoom {
      ...ExperimentalUpgradeNudgeRoomFragment
    }
    listingsHeader {
      ...LodgingHeaderFragment
    }
    offerFilters {
      ...LodgingOfferFiltersFragment
    }
    offerLevelMessages {
      ...MessageResultFragment
    }
    shoppingContext {
      ...ShoppingContextFragment
    }
    googleStructuredData
    tnlFields {
      key
      value
    }
    ...ListingsFragment
    ...PropertyPriceChangeCardFragment
  }

  ${d.CW}
  ${mo.fragment}
  ${Dn.fragment}
  ${wo.fragment}
  ${d.Kw.fragment}
  ${s.uZW.fragment}
  ${p.Wt.fragment}
  ${s.LBk.fragment}
  ${uo.fragment}
`,Uo=({data:e,defaultErrorMessage:t,fetchQuoteLink:n,form:i,handleMultiItemCallback:E,headerRight:y,LinkWrapper:f,refetch:v,taapQuoteId:h,variables:C})=>{var k,S,I,b,P,D;const T={packageType:null==(S=null==(k=null==e?void 0:e.shoppingContext)?void 0:k.multiItem)?void 0:S.packageType,handleMultiItemCallback:E,sessionId:null==(b=null==(I=null==e?void 0:e.shoppingContext)?void 0:I.multiItem)?void 0:b.id},L=(0,o.useEgClickstream)(),_=null==(P=null==C?void 0:C.searchCriteria)?void 0:P.primary.dateRange,x=null==C?void 0:C.selectedSavedQuoteInput,{exposure:N}=(0,c.useExperiment)("TAAP_Externalize_Quotes_PaxConnect"),{setAvailableRooms:R}=(0,d.xm)(),{categorizedListings:A,errorMessage:F,experimentalOfferCategoriesSection:$,experimentalUpgradeNudgeRoom:O,googleStructuredData:M,listingsHeader:w,offerFilters:B,offerLevelMessages:U,rateMessagingCard:G,tnlFields:z}=e,{dateRange:H,setDateRange:V,triggerRefetch:q,activityNaturalKey:K,setActivityNaturalKey:W,setHasAvailableListings:X,propertyOffersMountRef:Y}=(0,g.RR)(),Q=(null==C?void 0:C.searchCriteria)&&{primary:C.searchCriteria.primary,secondary:{...C.searchCriteria.secondary,booleans:[...(null==(D=C.searchCriteria.secondary)?void 0:D.booleans)||[],{id:"activitySelected",value:!0}]}};a.useEffect(()=>{Y&&(!(null==Y?void 0:Y.current)&&V&&V(JSON.stringify(_)),Y.current=!0)},[]),a.useEffect(()=>{var t,n;const a=(null==C?void 0:C.context.siteId)===st;if(1===N.bucket&&h&&a){const a=[mt(A,null==x?void 0:x.roomId)].flat().filter(Boolean)||null,r=a?a.find(e=>(null==e?void 0:e.id)===(null==x?void 0:x.ratePlanId)):null,l=!r,i=null==(n=null==(t=null==r?void 0:r.priceDetails[0])?void 0:t.propertyNaturalKeys[0])?void 0:n.ratePlanType;ut(L,G,h,null==e?void 0:e.clickstreamEvents,l,i,null==x?void 0:x.roomId,null==x||x.ratePlanId,null==e?void 0:e.id)}},[e]),a.useEffect(()=>{JSON.stringify(_)!==H&&W&&V&&(W({offerToken:"",productToken:""}),V(JSON.stringify(_)))},[_]),a.useEffect(()=>{X&&X(!!(null==A?void 0:A.length)),R(!!(null==A?void 0:A.length))},[e]),a.useEffect(()=>{q&&v&&v({...C,...(null==K?void 0:K.offerToken)&&{searchCriteria:Q}})},[q]);const j=(0,m.Aw)();(0,a.useEffect)(()=>{if((null==e?void 0:e.clickstreamEvents)&&e.clickstreamEvents.length>0){const t=(0,m.j_)(e.clickstreamEvents);null!=t&&L(t)}"function"==typeof j&&j({type:m.iE.GET_CLICKSTREAM_EVENTS,clickstreamEvents:null==e?void 0:e.clickstreamEvents})},[null==e?void 0:e.clickstreamEvents,j]);return(0,a.useEffect)(()=>{null!==j&&null!==_&&A&&A.length>0&&j({type:m.iE.REGISTER_ELIGIBLE_OFFERS_ID,eligibleOfferId:Et(A)})},[j,A]),a.createElement(p.Dc,{value:{filters:(null==B?void 0:B.filterPills)||null,list:A}},a.createElement(d.Db,{Link:f},a.createElement(d.SU,{defaultError:t,multiItemContext:T},a.createElement(d.r9,null,a.createElement(Mi,{value:A||[]},a.createElement(Nt,{initialData:O},a.createElement(u.p,{tnlFields:z},a.createElement(l.N,{margin:{small:{inline:"three"},medium:{inline:"unset"}}},a.createElement("div",null,a.createElement(l.N,{margin:{blockend:"three"}},a.createElement(r.X,{justifyContent:"space-between"},a.createElement(d.nX,{data:w}),y)),a.createElement(l.N,{margin:{blockend:"three"}},a.createElement(d.r3,{data:F})),i,a.createElement(d.q_,{data:U}),!$&&B&&a.createElement(p.Wt,{data:B}),G&&1===N.bucket?a.createElement(s.T5e,{data:G}):null)),!$&&a.createElement(l.N,{margin:{block:"three"}},a.createElement(wo,{data:e,fetchQuoteLink:n})),$&&a.createElement(Ji,null,a.createElement(mo,{data:$})))),M&&a.createElement("script",{"data-stid":"property-offers-structured-data",type:"application/ld+json",dangerouslySetInnerHTML:{__html:M}}))))))};Uo.displayName="sharedui-PropertyOffers",Uo.fragment=Bo;var Go=i.gql`
  fragment CancellationPolicyInfoFragment on LodgingCancellationPolicyInfo {
    policyContent {
      ...LodgingDetailedTimelineFragment
    }
    title {
      ... on EGDSStylizedText {
        text
      }
    }
  }

  ${s.k9Q.fragment}
`,zo=({data:e})=>{const t=e.title.text,{policyContent:n}=e,i=1===(0,c.useExperiment)("App_Shell_Property_Requirement_Web",!0).exposure.bucket,o=1===(0,c.useExperiment)("App_Shell_Property_Requirement_Web_Dateless",!0).exposure.bucket,m=i||o;return a.createElement(l.N,{padding:{blockstart:m?"four":"six",blockend:m?void 0:"six",small:{inline:m?"three":void 0},large:{inline:m?"unset":"six"},extra_large:{inline:m?"unset":"six"}}},a.createElement(S.g,null,a.createElement(O.E,{padded:!m},a.createElement(f.w,{space:"six",columns:{medium:1,large:3}},a.createElement(v.T,{colSpan:1},t&&a.createElement(r.X,{direction:"column"},a.createElement(E.M,{tag:"h2",size:m?5:4,typeStyle:m?void 0:{customStyle:"headline-large"}},t))),a.createElement(v.T,{colSpan:{medium:1,large:2}},a.createElement(r.X,{direction:"column"},a.createElement(s.k9Q,{data:n})))))))};zo.fragment=Go,zo.displayName="CancellationPolicyInfo";var Ho=i.gql`
  fragment DamageAndIncidentalsCardFragment on OfferDetails {
    propertyContentSectionGroup {
      ...PropertyContentSectionGroupFragment
    }
  }
  ${s.V5d.fragment}
`,Vo=({data:e})=>{const{propertyContentSectionGroup:t}=e;return t?a.createElement(s.V5d,{data:t}):null};Vo.fragment=Ho,Vo.displayName="DamageAndIncidentalsCard";var qo=i.gql`
  fragment FilterPillsFragment on OfferDetails {
    filterPills {
      pillLabel
      query
      type
      value
    }
  }
`,Ko=({data:e})=>{const t=(0,o.useClickTracker)(),{Link:n}=(0,d.d5)(),{filterPills:r}=e;if(!(null==r?void 0:r.length))return null;const i=r.map(e=>{const{type:r,value:l,pillLabel:i,query:o}=e,c=a.createElement(Ue.i,{id:`${r}-${l}`,onClick:()=>t(`RoomFilter.${l}.Off`,"pill link")},i);return o?a.createElement(n,{key:i,href:o},c):a.createElement(a.Fragment,{key:i},c)});return a.createElement(l.N,{margin:{block:"three"}},a.createElement("div",null,a.createElement(X.LM,null,a.createElement(X.NP,null,a.createElement(Ge.g,null,i)),a.createElement(X.zQ,null,a.createElement(Ge.g,{wrap:!0},i)))))};Ko.displayName="FilterPills",Ko.fragment=qo;var Wo=i.gql`
  fragment GreatFindCardFragment on OfferDetails {
    tnlFields {
      key
      value
    }
  }
`,Xo=({data:e})=>{var t,n;const{searchCriteria:r}=Eo(),i=!(null==r?void 0:r.primary.dateRange),c=null==(t=e.tnlFields.find(e=>"egtnl61090_bannerTitle"===e.key))?void 0:t.value,m=null==(n=e.tnlFields.find(e=>"egtnl61090_bannerText"===e.key))?void 0:n.value,d=!i&&c&&m;return a.createElement(o.EgClickstreamImpressionTracker,{trackOnce:!0,eventData:{event:{event_name:"great_find.presented",event_type:"Impression",event_version:"1.0.0",event_category:""},experience:{app_name:"shared-ui",app_version:"1.0.0",page_name:"Product Details"}}},a.createElement(a.Fragment,null,d&&a.createElement(l.N,{margin:{small:{inline:"three",blockend:"three"},medium:{inline:"unset",blockend:"three"},large:{block:"three"}},padding:{medium:{inlinestart:"three"}}},a.createElement(S.g,{overflow:!0},a.createElement(O.E,{padded:!1},a.createElement(s.T5e,{data:{__typename:"EGDSStandardMessagingCard",heading:c,message:m,graphic:{__typename:"Illustration",description:"",id:"light__binoculars",link:"https://a.travel-assets.com/travel-assets-manager/pictogram-vrbo/light__binoculars.svg"},links:null,background:"secondary",themes:null,dismiss:null,rightIcon:null,buttons:null,impressionTracking:null,themeProvider:null},preventDefaultLink:!0,columnAlignment:!0,dataStid:"property-offers-great-find",markSize:11,showBorder:!1}))))))};Xo.fragment=Wo,Xo.displayName="GreatFind";var Yo=i.gql`
  fragment HighlightedBenefitsFragment on OfferDetails {
    highlightedBenefits {
      listItems {
        icon {
          id
        }
        impressionAnalytics {
          referrerId
        }
        text
      }
    }
  }
`,Qo=({data:e})=>{var t;const n=null==(t=null==e?void 0:e.highlightedBenefits)?void 0:t.listItems;if(!n||!n.length)return null;return a.createElement(l.N,{padding:{blockend:"six"}},a.createElement(f.w,{columns:[(0,ze.l)("48x"),(0,ze.l)("48x")],space:"six"},n.map(({icon:e,text:t,impressionAnalytics:n},i)=>a.createElement(o.IntersectionTracker,{trackOnce:!0,referrerId:`${null==n?void 0:n.referrerId}`,linkName:t,intersectionOptions:{threshold:1},key:i},a.createElement(v.T,null,a.createElement(r.X,null,a.createElement(D.C,{alignSelf:"center"},a.createElement(l.N,{margin:{inlineend:"two"}},a.createElement(z.LD,{name:e.id,theme:"positive"}))),a.createElement(D.C,{alignSelf:"center"},a.createElement(x.D,{theme:"positive"},t))))))))};Qo.displayName="HighlightedBenefits",Qo.fragment=Yo;var jo=i.gql`
  fragment InsurtechPrimingBannerFragment on OfferDetails {
    availableInsurtechPrimings
  }
`,Jo=({data:e,placement:t,trackStatusChange:n,showSkeletonView:r})=>{var l;const{productType:i}=t,[o,c]=(0,a.useState)(Ae.hT.EMPTY);return(0,a.useEffect)(()=>{var t;i&&!(null==(t=e.availableInsurtechPrimings)?void 0:t.includes(i))?null==n||n(Ae.hT.EMPTY):null==n||n(o)},[e.availableInsurtechPrimings,i,o,n]),i&&(null==(l=e.availableInsurtechPrimings)?void 0:l.includes(i))?a.createElement(Ae.fJ,{inputs:{placement:t},showSkeletonView:r,trackStatusChange:e=>c(e)}):null};Jo.fragment=jo,Jo.displayName="InsurtechPrimingBanner";var Zo=i.gql`
  fragment LegalDisclaimerFragment on OfferDetails {
    legalDisclaimer {
      content {
        markupType
        text
      }
    }
  }
`,ec=({data:e})=>{const{legalDisclaimer:t}=e;if(!t||0===t.content.length)return null;const n=t.content.filter(e=>"HTML"===e.markupType).map(e=>e.text).join("<br/><br/>");return a.createElement(l.N,{margin:{block:"four"}},a.createElement(S.g,{padded:!0},a.createElement("p",{dangerouslySetInnerHTML:{__html:n}})))};ec.fragment=Zo,ec.displayName="LegalDisclaimer";var tc=i.gql`
  fragment LodgingOneKeyBurnSwitchFragment on OfferDetails {
    lodgingOneKeyBurnSwitch {
      burnSwitchGraphic: graphic {
        ...UIGraphicFragment
      }
      switch {
        enabled
        checked
        checkedLabel
        uncheckedLabel
        checkedDescription
        uncheckedDescription
        checkedAnalytics {
          linkName
          referrerId
        }
        uncheckedAnalytics {
          linkName
          referrerId
        }
      }
      impressionTracking {
        ...ClientSideAnalyticsFragment
      }
    }
  }
  ${s.hth}
  ${s.Dvy.fragment}
`,nc=({data:e,handler:t,markSize:n,className:r})=>e.lodgingOneKeyBurnSwitch?a.createElement(Ve.D,{className:r,data:e.lodgingOneKeyBurnSwitch,handler:t,markSize:n}):null;nc.displayName="LodgingOneKeyBurnSwitch",nc.fragment=tc;var ac=i.gql`
  fragment LoyaltyDiscountToggleFragment on OfferDetails {
    loyaltyDiscount {
      saveWithPointsMessage
      saveWithPointsActionMessage
      toggleSubText
    }
  }
`,rc=({data:e,checked:t=!1,onChange:n})=>{const{loyaltyDiscount:r}=e,[i,c]=a.useState(t),s=(0,o.useClickTracker)();if(!r)return null;return a.createElement(l.N,{padding:{block:"two"}},a.createElement("div",null,a.createElement(qe.Y,{id:"swpToggle",checked:i,onChange:()=>{c(!i),null==n||n(!i),s(`swpToggle: ${r.saveWithPointsActionMessage}`,"",!0)},labelClassName:"uitk-type-300",description:r.toggleSubText||""},r.saveWithPointsMessage||"")))};rc.displayName="LoyaltyDiscountToggle",rc.fragment=ac;var lc=i.gql`
  fragment PropertyLevelMessagingSectionFragment on OfferDetails {
    propertyLevelMessagingSection {
      ...EGDSStandardMessagingCardFragment
      ...ShoppingBannerFragment
    }
  }
  ${s.T5e.fragment}
  ${s.nCN.fragment}
`,ic=({data:e})=>{const{propertyLevelMessagingSection:t}=e,n=(0,c.useExperiment)("PARTNER_MESSAGING_ONBOARD_TO_TCUPS").exposure.bucket>0,r=(0,c.useExperiment)("PARTNER_MESSAGING_CONTENT_API").exposure.bucket>0;switch(null==t?void 0:t.__typename){case"ShoppingBanner":return a.createElement(l.N,null,a.createElement("div",null,a.createElement(s.nCN,{data:t})));case"EGDSStandardMessagingCard":return n&&r?a.createElement(l.N,{padding:{small:{inline:"three"},medium:{inline:"unset"}}},a.createElement("div",null,a.createElement(s.T5e,{data:t,columnAlignment:!0}))):null;default:return null}};ic.fragment=lc,ic.displayName="PropertyLevelMessagingSection";var oc=i.gql`
  fragment PropertyLevelOffersCardFragment on OfferDetails {
    propertyLevelOffersCard {
      ...EGDSStandardMessagingCardFragment
    }
  }
  ${s.T5e.fragment}
`,cc=({data:e,asideElement:t})=>{const n=1===(0,c.useExperiment)("App_Shell_Property_Requirement_Web",!0).exposure.bucket,r=1===(0,c.useExperiment)("App_Shell_Property_Requirement_Web_Dateless",!0).exposure.bucket,i=n||r;return(null==e?void 0:e.propertyLevelOffersCard)?a.createElement(l.N,{margin:{small:{inlinestart:"three",inlineend:"three",blockstart:i?"eight":"unset",blockend:i?"two":"three"},medium:{inlinestart:"unset",inlineend:"unset",blockstart:i?"eight":"unset",blockend:i?"two":"three"},large:t?{blockstart:i?"eight":"three",blockend:"three",inlinestart:"three",inlineend:"unset"}:void 0}},a.createElement("div",null,a.createElement(s.T5e,{data:e.propertyLevelOffersCard,dataStid:"property-offers-message-card",markSize:11,showBorder:!0}))):null};cc.fragment=oc,cc.displayName="PropertyLevelOffersCard";var sc=i.gql`
  fragment PropertyLevelOffersMessageFragment on OfferDetails {
    propertyLevelOffersMessage {
      ...MessageResultFragment
      ...SparkleBannerFragment
    }
  }

  ${s.LBk.fragment}
  ${s.v8F.fragment}
`,mc=({data:e,className:t})=>{const{propertyLevelOffersMessage:n}=e;return n?"BRANDED_THEME_DARK"===n.type||"BRANDED_THEME_ACCENT"===n.type?a.createElement(s.v8F,{data:n,className:t,bannerToAddMargin:"sparklePDP"}):a.createElement(s.LBk,{data:n,className:t}):null};mc.fragment=sc,mc.displayName="PropertyLevelOffersMessage";var dc=({cards:e})=>a.createElement(Ke.F,{carouselName:"OffersCarouselPlaceholder",buttonText:{nextButton:"",prevButton:""},itemsVisible:{sm:1,md:2,lg:3},pageBy:1,peek:!0,itemsMaxHeight:!0,pagingInset:!0,hideNav:!0,shouldSnapOnScroll:!1,extraPeekWidth:!0},[...Array(e)].map((e,t)=>a.createElement("div",{key:`similar-properties-placeholder-${t}`},a.createElement(S.g,{padded:!0},a.createElement("div",null,a.createElement(l.N,{padding:{blockend:"sixteen"},margin:{blockend:"six"}},a.createElement("div",null,a.createElement(b.M,{ratio:b.l.R16_9,className:"uitk-card-roundcorner-all"},a.createElement(R.R,{type:"block"})),a.createElement(O.E,{padded:!1},a.createElement(l.N,{margin:{block:"four"}},a.createElement(R.R,{type:"line",animation:!0})),a.createElement(l.N,{margin:{block:"four"}},a.createElement(R.R,{type:"line",animation:!0})),a.createElement(l.N,{margin:{block:"four"}},a.createElement(R.R,{type:"line",animation:!0,lineLength:"secondary"})),a.createElement(l.N,{margin:{block:"four"}},a.createElement(R.R,{type:"line",animation:!0,lineLength:"secondary"})))))))))),gc=()=>a.createElement(X.LM,null,a.createElement(X.NP,null,a.createElement(l.N,{margin:{block:"four"}},a.createElement(S.g,{padded:!0},a.createElement(O.E,{padded:!1},a.createElement(r.X,{justifyContent:"space-between"},a.createElement(l.N,{margin:{block:"four"}},a.createElement(R.R,{type:"line",animation:!0})),a.createElement(l.N,{margin:{block:"four"}},a.createElement(R.R,{type:"line",animation:!0}))))))),a.createElement(X.zQ,null,a.createElement(f.w,{columns:6,space:"two"},[1,2,3].map((e,t)=>a.createElement(v.T,{colSpan:3===e?3:1,key:`date-placeholder-${t}`},a.createElement(l.N,{margin:{block:"four"}},a.createElement(S.g,{padded:!0},a.createElement(O.E,{padded:!1},a.createElement(l.N,{margin:{block:"four"}},a.createElement(R.R,{type:"line",animation:!0}))))))),a.createElement(v.T,null,a.createElement(l.N,{margin:{block:"twelve"}},a.createElement(R.R,{type:"line",animation:!0})))))),uc=()=>a.createElement(l.N,{margin:{block:"four"}},a.createElement(r.X,{justifyContent:"space-between"},a.createElement(R.R,{type:"line",animation:!0}),a.createElement(X.LM,null,a.createElement(X.NP,null,a.createElement(R.R,{type:"line",animation:!0,lineLength:"secondary"})),a.createElement(X.zQ,null)))),pc=({aspectRatio:e})=>a.createElement(S.g,{padded:!0,border:!0,style:{minHeight:"276px"}},a.createElement(b.M,{ratio:e,className:"uitk-card-roundcorner-all"},a.createElement(R.R,{type:"block"})),a.createElement(O.E,{padded:!1},a.createElement(l.N,{margin:{block:"four"}},a.createElement(R.R,{type:"line",animation:!0})),a.createElement(l.N,{margin:{block:"four"}},a.createElement(R.R,{type:"line",animation:!0,lineLength:"secondary"})))),Ec=()=>a.createElement(l.N,{margin:"three"},a.createElement("div",null,a.createElement(f.w,{columns:2,space:"two"},[1,2,3,4].map(e=>a.createElement(v.T,{key:`compact-card-placeholder-${e}`},a.createElement(pc,{aspectRatio:b.l.R4_3})))))),yc=()=>a.createElement(a.Fragment,null,[1,2].map(e=>a.createElement(l.N,{key:`compact-card-placeholder-${e}`,margin:"three"},a.createElement("div",null,a.createElement(pc,{aspectRatio:b.l.R21_9}))))),fc=({isMobile:e})=>a.createElement(l.N,{margin:e?{inlinestart:"three"}:{inline:"three"}},a.createElement("div",null,a.createElement(X.LM,null,a.createElement(X.NP,null,a.createElement(dc,{cards:2})),a.createElement(X.rw,null,a.createElement(dc,{cards:3})),a.createElement(X.zQ,null,a.createElement(dc,{cards:4}))))),vc=()=>{var e,t;const n="MOBILE_PHONE"===(null==(t=null==(e=(0,de.R)().context)?void 0:e.device)?void 0:t.type),{exposure:r}=(0,c.useExperiment)("Compact_Room_Card_mWeb"),l=(null==r?void 0:r.bucket)||0;if(n)switch(l){case 1:return a.createElement(Ec,null);case 2:return a.createElement(yc,null);default:return a.createElement(fc,{isMobile:n})}return a.createElement(fc,{isMobile:n})},hc=()=>a.createElement(a.Fragment,null,a.createElement(l.N,{margin:{small:{inline:"three"},medium:{inline:"unset"}}},a.createElement("div",null,a.createElement(uc,null),a.createElement(gc,null))),a.createElement(l.N,{margin:{blockstart:"four"}},a.createElement(vc,null)));vc.displayName="sharedui-LoadingPlaceholderCards",uc.displayName="sharedui-OffersHeadingPlaceholder",gc.displayName="sharedui-CheckInCheckOutInputPlaceholder",hc.displayName="sharedui-ListingsInitialPlaceholder",dc.displayName="sharedui-OfferCarouselPlaceholder";var Cc=i.gql`
  fragment PropertySearchLinkFragment on OfferDetails {
    propertySearchLink {
      ...OffersLodgingLinkMessageFragment
    }
    partnerPropertySearchLink {
      ...OffersLodgingLinkMessageFragment
    }
  }

  ${d.qZ.fragment}
`,kc=({data:e,inputs:t,...n})=>{var r;const{propertySearchLink:l,partnerPropertySearchLink:i}=e,o=null===(null==(r=null==t?void 0:t.searchCriteria)?void 0:r.primary.dateRange);return l?a.createElement(d.vf,{...n,data:l,isDateless:o,isPartnerLink:!1}):i?a.createElement(d.vf,{...n,data:i,isDateless:o,isPartnerLink:!0}):null};function Sc(e){if(!e)return{};const t={};return a.Children.forEach(e,e=>{var n,a;const r=null==(n=null==e?void 0:e.type)?void 0:n.displayName;r&&(t[r]||(t[r]=[]),null==(a=t[r])||a.push(e))}),t}kc.displayName="PropertySearchLink",kc.fragment=Cc;var Ic=(e=>(e.TRAVELER_SELECTOR="TRAVELER_SELECTOR",e.AVAILABILITY_CALENDAR="AVAILABILITY_CALENDAR",e.LODGING_ONE_KEY_BURN_SWITCH="LODGING_ONE_KEY_BURN_SWITCH",e))(Ic||{});var bc=i.gql`
  fragment AlternateAvailabilityMsgFragment on LodgingComplexLinkMessage {
    text {
      value
    }
    actionLink {
      link {
        uri {
          relativePath
          value
        }
      }
      value
    }
  }
`,Pc=({data:e})=>{var t;if(!e||!e.text||!e.actionLink)return null;const{text:n,actionLink:r}=e;return a.createElement(S.g,{key:"alternate-availability","data-stid":"alternate-availability"},a.createElement(O.E,null,a.createElement(x.D,{size:300},n.value),a.createElement(B.i,null,a.createElement("a",{href:null==(t=null==r?void 0:r.link)?void 0:t.uri.relativePath},null==r?void 0:r.value))))};Pc.displayName="AlternateAvailabilityMsg",Pc.fragment=bc;var Dc=a.createContext({ratePlan:void 0,setRatePlan:()=>{}}),Tc=()=>a.useContext(Dc),Lc=({children:e})=>{const[t,n]=a.useState(void 0),r=a.useMemo(()=>({ratePlan:t,setRatePlan:n}),[t,n]);return a.createElement(Dc.Provider,{value:r},e)},_c=e=>{var t;const{ratePlan:n,roomId:r,clickstreamEvents:i,travelerSingleUnitData:o}=e,{saveQuoteDialog:s,shareUrl:m,id:d,reserveCallToAction:g,priceDetails:[u]=[]}=n||{},p=ka(),E=(e=>{var t,n,a,r,l,i;let o=(null==(a=null==(n=null==(t=e.priceDetails[0])?void 0:t.price)?void 0:n.lead)?void 0:a.formatted)||"";if(""===o){const t=(null==(l=null==(r=e.priceDetails[0])?void 0:r.price)?void 0:l.displayMessages)||[];for(const e of t)for(const t of e.lineItems)if("DisplayPrice"===t.__typename&&"LEAD"===t.role){o=null==(i=t.price)?void 0:i.formatted;break}}return o})(n);return a.createElement(c.Experiment,{name:"TAAP_Externalize_Quotes_PaxConnect"},a.createElement(c.ExperimentControl,null,m&&a.createElement(l.N,{padding:{blockstart:"three"}},a.createElement("div",null,a.createElement(vr,{shareUrl:m,linkAlignment:"center"})))),a.createElement(c.ExperimentVariant,{bucket:1},m&&!s&&a.createElement(l.N,{margin:{blockstart:"three"}},a.createElement("div",null,a.createElement(vr,{shareUrl:m}))),s&&a.createElement(l.N,{padding:{blockstart:"three",inline:"three"}},a.createElement("div",null,a.createElement(O.E,{border:"top",padded:!1},a.createElement(l.N,{padding:{blockstart:"three"}},a.createElement("div",null,a.createElement(Lo,{data:s,ratePlanCalltoAction:g,ratePlanId:d,originalQuotedPrice:E,isFullWidth:!0,roomId:r,propertyId:p,clickstreamEvents:i,fetchQuoteLink:null==o?void 0:o.fetchQuoteLink,ratePlanType:null==(t=null==u?void 0:u.propertyNaturalKeys[0])?void 0:t.ratePlanType}))))))))},xc=({data:e,form:t,travelerSingleUnitData:n,clickstreamEvents:r})=>{var i,o;const{highlightedMessages:c}=e,{primaryIndex:s,ratePlan:m}=La(),{setRatePlan:d}=Tc();d(m);const g=null==(o=null==(i=e.primarySelections)?void 0:i[s])?void 0:o.propertyUnit,{id:u="",availabilityCallToAction:p}=null!=g?g:{};return a.createElement("div",null,p&&a.createElement(Ht,{data:p}),a.createElement(ni,{highlightedMessages:c,id:u,rowGap:"three"}),t,a.createElement(Ii,{data:e}),a.createElement(l.N,{margin:{blockstart:"four"}},a.createElement("div",null,a.createElement(gi,{roomId:u}))),m&&a.createElement(_c,{ratePlan:m,travelerSingleUnitData:n,clickstreamEvents:r,roomId:u}))},Nc=({data:e})=>{const{pricePresentation:t,pricePresentationDialog:n}=e;if(!t||!n)return null;const{trigger:r}=n;return a.createElement(l.N,{padding:{blockstart:"three"}},a.createElement("div",null,a.createElement("h3",{className:"is-visually-hidden"},r.value),a.createElement(X.LM,null,a.createElement(X.NP,null,a.createElement(Se.iR,{data:t,dialogType:"bottom"})),a.createElement(X.zQ,null,a.createElement(Se.iR,{data:t,dialogType:"centered"})))))};Nc.fragment=_r,Nc.displayName="PricePresentationExpanded";var Rc=({data:e,children:t})=>{const{primarySelections:n}=e;return n?a.createElement(Aa,{primarySelections:n},t):t},Ac=i.gql`
  fragment PriceMessagesFragment on SingleUnitOfferDetails {
    displayPrice {
      priceMessages {
        ...LodgingEnrichedMessageFragment
      }
    }
  }
  ${s.UKE.fragment}
`,Fc=({data:e})=>{var t,n;return a.createElement(a.Fragment,null,Array.isArray(null==(t=null==e?void 0:e.displayPrice)?void 0:t.priceMessages)&&(null==(n=null==e?void 0:e.displayPrice)?void 0:n.priceMessages.map((e,t)=>a.createElement(x.D,{size:200,key:`message-${t}`},a.createElement(s.UKE,{data:e})))))};Fc.fragment=Ac,Fc.displayName="SingleUnitPriceMessages";var $c=i.gql`
  fragment SingleUnitPriceSummaryFragment on RatePlan {
    ...PropertyOffersPriceChangeMessageFragment
    ...PropertyRatePlanBadgeFragment
    standardBadge {
      ...LodgingStandardBadgeFragment
    }
    priceDetails {
      ...PriceDetailsFragment
    }
  }
  ${s.XF9.fragment}
  ${s.CWK.fragment}
  ${Ur.fragment}
  ${Or.fragment}
  ${s.GOx}
  ${Fr}
`,Oc=["VRBO_DISCOUNT_BADGE","LONG_STAY_DISCOUNT_BADGE"],Mc=({data:e,isDialog:t=!1})=>{var n,i,o,c;const{priceDetails:[m]}=e,d=(null==(n=null==m?void 0:m.price)?void 0:n.priceMessaging)&&m.price.priceMessaging.length>0&&(null==(i=m.price.priceMessaging[0])?void 0:i.value),g=null==(o=null==e?void 0:e.standardBadge)?void 0:o.standardBadge,{price:u}=m||{};return a.createElement(a.Fragment,null,a.createElement(Or,{data:e}),(null==g?void 0:g.egdsElementId)&&Oc.includes(g.egdsElementId)&&a.createElement(s.XF9,{data:e.standardBadge,align:"start"}),a.createElement(r.X,{justifyContent:"space-between",alignItems:"center"},a.createElement(D.C,null,a.createElement("div",null,(null==(c=null==u?void 0:u.displayMessages)?void 0:c.length)?a.createElement(Q._,{data:u,flexAlignment:"start",enableInlineLink:!0,isDialog:t}):a.createElement(r.X,{alignItems:"end",space:"two"},m&&a.createElement(s.CWK,{data:m,showPriceDetails:!1}),a.createElement(x.D,{theme:"standard"},d)),(null==u?void 0:u.reassuranceMessage)&&a.createElement(l.N,{margin:{blockstart:"one"}},a.createElement("div",null,a.createElement(s.UKE,{data:null==u?void 0:u.reassuranceMessage,textSize:200,iconMargin:{inlineend:"one"},includeGraphicInText:!0}))))),a.createElement(D.C,null,a.createElement(Ur,{data:e}))))};Mc.fragment=$c,Mc.displayName="SingleUnitRatePlan";var wc=i.gql`
  fragment PropertySingleOfferDetailsFragment on SingleUnitOfferDetails {
    id
    ...PriceMessagesFragment
    ratePlans {
      ...SingleUnitPriceSummaryFragment
      ...HighlightedMessagesFragment
    }
    availabilityCallToAction {
      ...AvailabilityCtaFragment
    }
  }
  ${Fc.fragment}
  ${Mc.fragment}
  ${fr.fragment}
  ${Ht.fragment}
`,Bc=({data:e,isDialog:t=!1,showOffer:n=!0,showHighlights:r=!0})=>{const{id:i,ratePlans:o,availabilityCallToAction:c}=e;if(!i)return null;const s=null==o?void 0:o[0];if(!s)return null;const m=n?"blockstart":"unset",d=n?"three":"unset",g=r?"property-offer":"property-offer-price-summary";return a.createElement(S.g,{overflow:!0},a.createElement(O.E,{"data-stid":g},n&&a.createElement(a.Fragment,null,c&&a.createElement(Ht,{data:c}),a.createElement(Mc,{data:s,isDialog:t}),a.createElement(Fc,{data:e})),r&&s.highlightedMessages&&a.createElement(l.N,{margin:{blockstart:d},padding:{blockstart:d},border:[m]},a.createElement("div",null,a.createElement(fr,{data:s})))))},Uc=({data:e,otherHighlights:t,isDialog:n=!1})=>{const{id:r,ratePlans:i,availabilityCallToAction:o}=e;if(!r)return null;const c=Array.isArray(i)&&1===i.length&&i[0];return c?a.createElement(S.g,{overflow:!0},a.createElement(O.E,{"data-stid":"property-single-offer-variant"},o&&a.createElement(Ht,{data:o}),a.createElement(Mc,{data:c,isDialog:n}),t&&a.createElement(l.N,{margin:{blockstart:"three"},padding:{blockstart:"three"}},a.createElement("div",null,a.createElement(l.N,{padding:{blockend:"one"}},a.createElement(f.w,{"data-stid":`highlighted-message-${r}`,space:"three"},t)))))):null};Bc.fragment=wc,Bc.displayName="PropertySingleOfferDetails",Uc.fragment=wc,Uc.displayName="PropertySingleOfferDetailsVariant";var Gc=({data:e})=>{const{sections:t,priceSummaryHeading:n}=e.priceBreakDownSummary||{},{accessibilityLabel:r,value:l}=n||{},i=r||l;return a.createElement(a.Fragment,null,i&&a.createElement("h3",{className:"is-visually-hidden"},i),null==t?void 0:t.map((e,n)=>a.createElement(br,{data:e,key:`price-summary-section-${n}`,lastSection:n===t.length-1})))};Gc.fragment=Pr,Gc.displayName="PriceBreakdownDialog";var zc=i.gql`
  fragment ReservePropertyFragment on RatePlan {
    paymentPolicy {
      ...PropertyPaymentPolicyInfoFragment
    }
    priceDetails {
      ...PriceDetailsFragment
    }
    ...PropertyReserveButtonFragment
  }

  ${Ul.fragment}
  ${Fr}
  ${ql}
`,Hc=({data:e,isFullWidth:t=!0,onClose:n,showLargeBtn:r=!1})=>{const{paymentPolicy:l}=e;return a.createElement(a.Fragment,null,a.createElement(Ul,{paymentPolicy:l,dialogSuffix:"infosite-room-ratePlans",data:e,isFullWidth:t,onClose:n,showLargeBtn:r}))};Hc.fragment=zc,Hc.displayName="SingleUnitRatePlan";var Vc=i.gql`
  fragment PropertySingleOfferDialogFragment on SingleUnitOfferDialog {
    content {
      ...PropertySingleOfferDetailsFragment
      ratePlans {
        priceDetails {
          ...PriceDetailsFragment
        }
        marketingSection {
          ...MarketingSectionFragment
        }
        ...ReservePropertyFragment
      }
    }
    trigger {
      value
      secondaryValue
    }
    toolbar {
      icon {
        description
      }
      title
    }
  }

  ${Bc.fragment}
  ${tr.fragment}
  ${Hc.fragment}
  ${Nc.fragment}
  ${Fr}
`,qc=({data:{graphic:e,primary:t,size:n,theme:l,weight:i}})=>a.createElement(r.X,{alignItems:"center",justifyContent:"center",space:"one",dataTestId:"OKC-component"},a.createElement(D.C,null,e&&a.createElement(z.LD,{name:e.id,size:e.size,theme:e.theme,title:e.title})),a.createElement(D.C,null,a.createElement(x.D,{size:n,theme:l,weight:i},t))),Kc=({singleUnitOfferDialog:e,onClose:t,triggerRef:n,viewport:i,installmentPlan:o,hasFooterandCancellationBelowCTA:c})=>{var s,m,d;const{content:g,toolbar:u}=e,p=null==(s=null==g?void 0:g.ratePlans)?void 0:s[0],{priceDetails:[E]=[]}=p||{},{priceBreakDownSummary:y}=E||{},{priceDetail:f,oneKeyCashData:v}=(0,a.useMemo)(()=>{var e,t,n,a,r;if(!c||!E)return{priceDetail:E,oneKeyCashData:null};let l;const i=null==(n=null==(t=null==(e=null==E?void 0:E.pricePresentation)?void 0:e.footer)?void 0:t.messages)?void 0:n.reduce((e,t)=>{var n;return"PriceLineText"===(null==t?void 0:t.__typename)&&"onekeycash"===(null==(n=t.graphic)?void 0:n.id)?(l=t,e):t?[...e,t]:e},[]);return{priceDetail:{...E,pricePresentation:E.pricePresentation?{...E.pricePresentation,footer:E.pricePresentation.footer?{...E.pricePresentation.footer,messages:i||[]}:null}:null},oneKeyCashData:l?{size:300,theme:l.theme||void 0,weight:l.weight||void 0,graphic:"Icon"===(null==(a=l.graphic)?void 0:a.__typename)?{__typename:"Icon",id:l.graphic.id||"",size:"small",theme:l.graphic.iconTheme||void 0,description:l.graphic.description||"",title:(null==(r=l.graphic)?void 0:r.description)||"",withBackground:!1}:null,primary:l.primary}:null}},[c,E]);let h="centered";return"SMALL"===i&&(h=c?"bottom":"full"),a.createElement(te.t,{type:h,isVisible:!0,triggerRef:n,returnFocusOnClose:!0,centeredSheetSize:c?"small":"medium"},a.createElement(q.p,{toolbarTitle:null!=(m=u.title)?m:void 0,navigationContent:{onClick:t,navIconLabel:null==(d=null==u?void 0:u.icon)?void 0:d.description}}),a.createElement(ue.h,{zeroPadding:!0},a.createElement(a.Fragment,null,a.createElement(Bc,{data:g,isDialog:!0,showHighlights:!c}),a.createElement(l.N,{padding:{inline:"three"}},a.createElement("div",null,f&&(y?a.createElement(Gc,{data:f}):a.createElement(Nc,{data:f})),a.createElement(tr,{data:null==p?void 0:p.marketingSection}))),o&&a.createElement(l.N,{padding:{inlinestart:"four",inlineend:"four",blockstart:"six",blockend:"two"}},a.createElement(r.X,{wrap:"wrap"},a.createElement(D.C,{minWidth:"full_width"},a.createElement(Gt,{data:o})))))),p&&a.createElement(l.N,{padding:{small:c?"three":"four"}},a.createElement(r.X,{wrap:"wrap"},a.createElement(D.C,{minWidth:"full_width"},a.createElement(Hc,{data:p,onClose:t})))),c&&a.createElement(a.Fragment,null,v&&a.createElement(l.N,{margin:{blockend:"one"}},a.createElement(r.X,{wrap:"wrap",alignItems:"center",justifyContent:"center"},a.createElement(D.C,null,a.createElement(qc,{data:v})))),p&&a.createElement(l.N,{padding:{blockend:"four"}},a.createElement(r.X,{direction:"column",alignItems:"center",dataTestId:"free-cancelation-dialog-container"},a.createElement(D.C,null,a.createElement(fr,{data:p}))))))},Wc=({data:e,view:t,installmentPlan:n,hasFooterandCancellationBelowCTA:l=!1})=>{var i;const{trigger:c,content:s}=e,[m,d,g]=(0,N.useDialog)("price-details","pwaDialogNested"),u=(0,o.useClickTracker)(),p=a.useRef(null);if(!c||!s||!(null==(i=null==s?void 0:s.ratePlans)?void 0:i.length))return null;const E=()=>{d.closeDialog(),u("HOT.HIS.PriceDetails.Close","close price details dialog")},y=(t="SMALL")=>({singleUnitOfferDialog:e,installmentPlan:n,onClose:E,triggerRef:p,viewport:t,hasFooterandCancellationBelowCTA:l});return a.createElement(a.Fragment,null,a.createElement(r.X,{justifyContent:"space-between",direction:"row"},"COMPACT"===t&&a.createElement(D.C,null,a.createElement(x.D,null,c.secondaryValue)),c.value&&a.createElement(D.C,null,a.createElement(B.i,{onClick:()=>{d.openDialog(),u("HOT.HIS.PriceDetails.Open","open price details dialog")},inline:!0,size:"medium"},a.createElement("button",{type:"button",ref:p},c.value,"COMPACT"!==t&&a.createElement(z.LD,{name:"chevron_right",size:z.So.SMALL}))))),a.createElement(L.K,{isVisible:m},a.createElement(g,null,a.createElement(X.LM,null,a.createElement(X.NP,null,a.createElement(Kc,{...y("SMALL")})),a.createElement(X.rw,null,a.createElement(Kc,{...y("MEDIUM")}))))))};Wc.fragment=Vc,Wc.displayName="PropertySingleOfferDialogLink";var Xc=e=>new Date(e.year,e.month-1,e.day),Yc=({hotelId:e,dateRangeInput:t,onSubmitCB:n})=>{const{registerTarget:r}=(0,$.OK)(),l=r("startDate"),i=r("endDate"),o=t?{end:t.checkOutDate,start:t.checkInDate}:null;return a.createElement(We.D2,{startDateRef:l,endDateRef:i,inputs:{eid:String(e),dateRange:o},onSubmit:n,skipSsr:!0})},Qc=({children:e,travelerSingleUnitData:t,hideBurnSwitch:n})=>{const i=(0,a.useCallback)((e,n)=>{if(null!=t){const{offersFormSubmit:a}=t;a({startDate:e,endDate:n},"AVAILABILITY_CALENDAR")}},[t]);if((0,a.useEffect)(()=>{const e=e=>{const{dateRangeInput:t}=e.detail;if(null!=t){const e=Xc(t.checkInDate),n=Xc(t.checkOutDate);i(e,n)}};return window.addEventListener("availabilityChangeDates",e),()=>{window.removeEventListener("availabilityChangeDates",e)}},[i]),!t)return null;const{hotelId:o,dateRangeInput:c}=t,{PropertyOffersLodgingOneKeyBurnSwitch:s,PropertyOffersTravelerSelector:m}=Sc(e);return a.createElement(l.N,{padding:n?{inline:"three",blockend:"three"}:{inline:"three",block:"three"}},a.createElement("div",null,a.createElement("h3",{className:"is-visually-hidden"},a.createElement(K.LocalizedText,{message:"hotels.infosite.availabilityWizard.changeSearch.a11yLabel"})),a.createElement(l.N,{margin:{blockend:"two"}},a.createElement(r.X,{direction:"column",space:"three"},a.createElement(D.C,null,a.createElement(Yc,{hotelId:o,dateRangeInput:c,onSubmitCB:i})),a.createElement(D.C,null,m))),!n&&s))},jc=i.gql`
  fragment SingleUnitOfferRatePlanFragment on RatePlan {
    priceDetails {
      ...PriceDetailsFragment
    }
    marketingSection {
      ...MarketingSectionFragment
    }
    shareUrl {
      accessibilityLabel
      value
      link {
        clientSideAnalytics {
          linkName
          referrerId
        }
        uri {
          relativePath
          value
        }
      }
    }
    saveQuoteDialog {
      title
      content
      errorMessage
      trigger {
        value
        accessibilityLabel
        adaptExAttemptEvents {
          ...LodgingAdaptExAnalyticsEventFragment
        }
      }
      primaryButton {
        primary
        disabled
      }
      tertiaryButton {
        primary
        disabled
      }
      lodgingLink {
        clientSideAnalytics {
          linkName
          referrerId
        }
        uri {
          relativePath
        }
      }
      toolbar {
        title
        icon {
          description
          id
          token
        }
      }
    }
    priceNotificationCard {
      ...EGDSStandardMessagingCardFragment
    }
    paymentReassuranceMessage {
      ...LodgingEnrichedMessageFragment
    }
    ...ReservePropertyFragment
  }

  ${Fr}
  ${tr.fragment}
  ${s.AKj}
  ${s.UKE.fragment}
  ${s.T5e.fragment}
  ${Hc.fragment}
`,Jc=({data:e,adoptSrpPriceSummary:t,clickstreamEvents:n,mappedCancellationPolicies:i,travelerSingleUnitData:o,installmentPlan:m,roomId:d,showLargeBtn:g})=>{const u=(0,X.s5)({[X.OB.SMALL]:!1,[X.OB.LARGE]:!0}),{paymentReassuranceMessage:p,marketingSection:E,priceDetails:[y]}=e,{priceBreakDownSummary:v}=y||{},h=(0,c.useExperiment)("Vrbo_Price_Block_Redesign_on_Web",!0).exposure.bucket>0;return a.createElement(a.Fragment,null,u&&y&&a.createElement(l.N,{padding:{inline:"three"}},a.createElement("div",null,v?a.createElement(Gc,{data:y}):a.createElement(Nc,{data:y}))),a.createElement(c.Experiment,{name:"TAAP_Externalize_Quotes_PaxConnect"},a.createElement(c.ExperimentControl,null),a.createElement(c.ExperimentVariant,{bucket:1},a.createElement(ii,{data:e}))),E&&a.createElement(l.N,{margin:{block:"two"}},a.createElement("div",null,a.createElement(tr,{data:E}))),m&&(h?a.createElement(X.LM,null,a.createElement(X.NP,null,a.createElement(Gt,{data:m,margin:"three"})),a.createElement(X.zQ,null)):a.createElement(l.N,{padding:{blockstart:"six",blockend:t?"one":"three",inline:"three"}},a.createElement("div",null,a.createElement(Gt,{data:m,adoptSrpPriceSummary:t})))),a.createElement(l.N,{padding:{blockstart:"three",inline:"three"}},a.createElement("div",null,a.createElement(Hc,{data:e,showLargeBtn:g}))),p&&a.createElement(l.N,{padding:{blockstart:"three"}},a.createElement(r.X,{direction:"column",alignItems:"center"},a.createElement(D.C,null,a.createElement(s.UKE,{data:p})))),h&&i&&a.createElement(l.N,{padding:{blockstart:"two"}},a.createElement(f.w,{"data-stid":"cancellation-policies",space:"three",justifyItems:"center"},i)),a.createElement(_c,{ratePlan:e,travelerSingleUnitData:o,clickstreamEvents:n,roomId:d}))};Jc.fragment=jc,Jc.displayName="SingleUnitOfferDetails";var Zc=i.gql`
  fragment TotalPriceFragment on SingleUnitOfferDetails {
    totalPrice {
      label {
        ...LodgingEnrichedMessageFragment
      }
      amount {
        ...LodgingEnrichedMessageFragment
      }
    }
  }
  ${s.UKE.fragment}
`,es=({data:e})=>{var t,n;const l=(0,u.m9)("vrboPriceDetailsEnhancement"),i="true"===(null==l?void 0:l.value);return(null==(t=null==e?void 0:e.totalPrice)?void 0:t.label)&&(null==(n=null==e?void 0:e.totalPrice)?void 0:n.amount)?a.createElement(r.X,{justifyContent:"space-between"},a.createElement(D.C,null,i?a.createElement(s.UKE,{data:e.totalPrice.label,textSize:400}):a.createElement(E.M,{size:6,tag:"h4"},a.createElement(s.UKE,{data:e.totalPrice.label}))),a.createElement(D.C,null,i?a.createElement(s.UKE,{data:e.totalPrice.amount,textSize:400}):a.createElement(E.M,{size:6,tag:"h4"},a.createElement(s.UKE,{data:e.totalPrice.amount})))):null};es.fragment=Zc,es.displayName="TotalPrice";var ts=i.gql`
  fragment SingleUnitOfferDetailsFragment on SingleUnitOfferDetails {
    accessibilityLabel
    ...TotalPriceFragment
    ...PropertySingleOfferDetailsFragment
    ratePlans {
      ...SingleUnitOfferRatePlanFragment
      ...HighlightedMessagesFragment
    }
    categorizedUnit {
      highlightedMessages {
        ...RatePlanMessageFragment
      }
      ...UnitCategorizationFragment
    }
    installmentPlan {
      ...InstallmentPlanFragment
    }
    view
  }

  ${es.fragment}
  ${Bc.fragment}
  ${Gt.fragment}
  ${Jc.fragment}
  ${fr.fragment}
  ${Ii.fragment}
  ${Er.fragment}
`,ns=({data:e,adoptSrpPriceSummary:t,clickstreamEvents:n,travelerSingleUnitData:i,singleUnitOfferDialog:o,mappedCancellationPolicies:c,showLargeBtn:s,hasFooterandCancellationBelowCTA:m=!1})=>{const{installmentPlan:d,id:g,ratePlans:u,view:p}=e||{},E=null==u?void 0:u[0],y=(0,X.s5)({[X.OB.SMALL]:!0,[X.OB.LARGE]:!1})||"COMPACT"===p;return a.createElement(a.Fragment,null,y&&a.createElement("div",null,t&&a.createElement(Bc,{data:e,showHighlights:!1}),a.createElement(l.N,{padding:{inline:"three"}},a.createElement("div",{"data-stid":"total-price"},a.createElement(es,{data:e}))),o&&a.createElement(l.N,{padding:{inline:"three",block:"one"}},a.createElement(r.X,null,a.createElement(Wc,{data:o,view:p,installmentPlan:d,hasFooterandCancellationBelowCTA:m})))),E&&a.createElement(Jc,{data:E,roomId:g,clickstreamEvents:n,travelerSingleUnitData:i,installmentPlan:d,adoptSrpPriceSummary:t,mappedCancellationPolicies:c,showLargeBtn:s}))};ns.fragment=ts,ns.displayName="SingleUnitOfferDetails";var as=i.gql`
  fragment PropertySingleRatePlanFragment on OfferDetails {
    clickstreamEvents
    errorMessage {
      ...ErrorMessageFragment
    }
    alternateAvailabilityMsg {
      ...AlternateAvailabilityMsgFragment
    }
    singleUnitOffer {
      ...SingleUnitOfferDetailsFragment
    }
    singleUnitOfferDialog {
      ...PropertySingleOfferDialogFragment
    }
  }
  ${d.Kw.fragment}
  ${Pc.fragment}
  ${Bc.fragment}
  ${Wc.fragment}
  ${Nc.fragment}
  ${ns.fragment}
`;function rs(e){return e?e.map((e,t)=>e?a.createElement(Er,{key:`mapped-msg-${t}`,data:e}):null):null}var ls=({children:e,data:t,travelerSingleUnitData:n})=>{var r;const{singleUnitOffer:i,singleUnitOfferDialog:o,clickstreamEvents:s,alternateAvailabilityMsg:m,errorMessage:g}=t,p=1===(0,c.useExperiment)("USFTC_Adopt_the_SRP_Price_Summary_component_on_PDP_for_Vrbo_brand",!0).exposure.bucket,{setAvailableRooms:E}=(0,d.xm)(),y="true"===(null==(r=(0,u.m9)("footerAndCancellationPolicyBelowCta"))?void 0:r.value);if(a.useEffect(()=>{i&&E(Boolean(i))},[]),!n)return null;const f=a.createElement(Qc,{travelerSingleUnitData:n},e);return a.createElement("div",{"data-stid":"property-offers"},(null==i?void 0:i.accessibilityLabel)&&a.createElement("h2",{className:"is-visually-hidden"},i.accessibilityLabel),g&&a.createElement(l.N,{padding:{blockstart:"three",inline:"three"}},a.createElement(d.Kw,{data:g})),m&&a.createElement(l.N,{padding:{blockend:"three"}},a.createElement(Pc,{data:m})),a.createElement("div",{key:"single-unit-offer"},(null==i?void 0:i.categorizedUnit)?a.createElement(Rc,{data:i.categorizedUnit},a.createElement(xc,{data:i.categorizedUnit,form:f,travelerSingleUnitData:n,clickstreamEvents:s})):a.createElement(a.Fragment,null,i&&a.createElement(Bc,{data:i,showOffer:!p}),f,i&&a.createElement(ns,{data:i,adoptSrpPriceSummary:p,clickstreamEvents:s,travelerSingleUnitData:n,singleUnitOfferDialog:o,hasFooterandCancellationBelowCTA:y}))))},is=({children:e,data:t,travelerSingleUnitData:n})=>{const{alternateAvailabilityMsg:r,clickstreamEvents:i,errorMessage:o,singleUnitOffer:c,singleUnitOfferDialog:s}=t,{setAvailableRooms:m}=(0,d.xm)();if(a.useEffect(()=>{c&&m(Boolean(c))},[]),!n)return null;const{accessibilityLabel:g,ratePlans:u}=c||{},p=(null==u?void 0:u[0])||null,{highlightedMessages:E}=p||{},y=p&&E?function(e){return(null==e?void 0:e.filter(e=>"LodgingPolicyDialog"===e.__typename))||null}(E):null,f=p&&E?function(e){return(null==e?void 0:e.filter(e=>"LodgingPolicyDialog"!==e.__typename))||null}(E):null,v=y&&rs(y),h=f&&rs(f),{PropertyOffersLodgingOneKeyBurnSwitch:C}=Sc(e);return a.createElement("div",{"data-stid":"property-offers-variant"},g&&a.createElement("h2",{className:"is-visually-hidden"},g),o&&a.createElement(l.N,{padding:{blockstart:"three",inline:"three"}},a.createElement(d.Kw,{data:o})),C,r&&a.createElement(l.N,{padding:{blockend:"three"}},a.createElement(Pc,{data:r})),a.createElement("div",{key:"single-unit-offer"},c&&a.createElement(Uc,{data:c,otherHighlights:h}),a.createElement(Qc,{travelerSingleUnitData:n,hideBurnSwitch:!0},e),c&&a.createElement(ns,{data:c,adoptSrpPriceSummary:!1,clickstreamEvents:i,travelerSingleUnitData:n,singleUnitOfferDialog:s,mappedCancellationPolicies:v,showLargeBtn:!0})))};ls.fragment=as,ls.displayName="PropertySingleRatePlan",is.fragment=as,is.displayName="PropertySingleRatePlanVariant";var os=i.gql`
  fragment SingleOfferFragment on OfferDetails {
    id
    rateMessagingCard {
      ...EGDSStandardMessagingCardFragment
    }
    tnlFields {
      key
      value
    }
    ...PropertySingleRatePlanFragment
  }

  ${ls.fragment}
  ${s.T5e.fragment}
`,cs=(e,t)=>{var n;return null==(n=null==e?void 0:e.find(e=>e.key===t))?void 0:n.value},ss=({children:e,data:t,travelerSingleUnitData:n})=>{var r;const{context:l}=(0,de.R)(),i=(0,o.useEgClickstream)(),{trackEvent:d}=(0,Oe.eS)(),{exposure:g}=(0,c.useExperiment)("TAAP_Externalize_Quotes_PaxConnect"),p=(0,c.useExperiment)("Vrbo_Price_Block_Redesign_on_Web",!0).exposure.bucket>0,[E]=(0,a.useContext)(Le.I),{amenitiesAdaptExSuccessEvents:y}=E,f=null!=y?y:[],v=null==(r=null==n?void 0:n.inputs)?void 0:r.selectedSavedQuoteInput,h=(null==l?void 0:l.siteId)===st,{rateMessagingCard:C,clickstreamEvents:k,id:S,tnlFields:I}=t,b=(0,m.Aw)();return a.useEffect(()=>{if((null==t?void 0:t.clickstreamEvents)&&t.clickstreamEvents.length>0){const e=(0,m.j_)(t.clickstreamEvents);null!=e&&i(e)}"function"==typeof b&&b({type:m.iE.GET_CLICKSTREAM_EVENTS,clickstreamEvents:null==t?void 0:t.clickstreamEvents})},[null==t?void 0:t.clickstreamEvents,b]),a.useEffect(()=>{var e,a,r,l;if(1===g.bucket&&(null==n?void 0:n.taapQuoteId)&&h){const o=null==(a=null==(e=null==t?void 0:t.singleUnitOffer)?void 0:e.ratePlans)?void 0:a.find(e=>(null==e?void 0:e.id)===(null==v?void 0:v.ratePlanId)),c=!o,s=null==(l=null==(r=null==o?void 0:o.priceDetails[0])?void 0:r.propertyNaturalKeys[0])?void 0:l.ratePlanType;ut(i,C,n.taapQuoteId,k,c,s,null==v?void 0:v.roomId,null==v||v.ratePlanId,S)}},[t]),a.useEffect(()=>{d("action",{action:"PropertyOffers-componentPresented"})},[]),a.useEffect(()=>{null!==b&&t.singleUnitOffer&&b({type:m.iE.REGISTER_ELIGIBLE_OFFERS_ID,eligibleOfferId:yt(t)})},[b,t.singleUnitOffer]),a.createElement(u.p,{tnlFields:t.tnlFields},a.createElement(s.gQk,{value:{adaptExSuccessEvents:f}},a.createElement(m.ln,{value:{cardId:"single-unit-offer",text:cs(I,"USFTC_SLIM_COACHMARK_TEXT"),iconUrl:cs(I,"USFTC_SLIM_COACHMARK_URL"),hasVrboPriceDetailsEnhancements:"true"===cs(I,"vrboPriceDetailsEnhancement")}},p?a.createElement(is,{data:t,travelerSingleUnitData:n},e):a.createElement(ls,{data:t,travelerSingleUnitData:n},e))))};ss.displayName="PropertySingleOffer",ss.fragment=os;var ms=({text:e})=>{const t={__typename:"LodgingFormSubmitButton",label:e};return a.createElement(Xe.b7,{fieldName:"submit",data:t})},ds=({travelerSingleUnitData:e,skipSsr:t})=>{const n=a.useRef(null);if(!e)return null;const{offersFormSubmit:r}=e;return a.createElement(wm,{travelerSingleUnitData:e,inputs:e.inputs,skipSsr:t},a.createElement(Wm,{inputs:e.inputs,updateStoreWithTravelerUrlData:e=>{const{adults:t,children:n,isPetsIncluded:a}=e;r({adults:t,children:n,petsIncluded:a},"TRAVELER_SELECTOR")},triggerRef:n}),a.createElement(Km,{inputs:e.inputs,handler:e=>{r({isChecked:e},"LODGING_ONE_KEY_BURN_SWITCH")},skipSsr:!0}),a.createElement(Hm,{inputs:e.inputs,ButtonWrapper:ms,skipSsr:!0}))},gs=i.gql`
  fragment PropertySpaceDetailsFragment on OfferDetails {
    spaceDetails {
      ...SpaceDetailsHeaderFragment
      ...SpaceDetailsSpacesFragment
      ...SpaceDetailsFloorPlanFragment
      virtualTourPrompt {
        ...VirtualTourPromptFragment
      }
    }
  }
  ${Yt.fragment}
  ${jt.fragment}
  ${Wt.fragment}
  ${Zt.fragment}
`,us=({data:e,className:t})=>{const{spaceDetails:n}=e;return n?a.createElement(l.N,{padding:"six"},a.createElement(tn,{className:t,data:n})):null};us.displayName="PropertySpaceDetails",us.fragment=gs;var ps=({colSpan:e,colStart:t})=>a.createElement(v.T,{colSpan:e,colStart:t},a.createElement(r.X,{space:"four",direction:"column"},a.createElement(D.C,null,a.createElement(He.l,{animation:!0})),a.createElement(D.C,null,a.createElement(He.l,{animation:!0,type:"secondary"})))),Es=({colSpan:e,colStart:t})=>a.createElement(v.T,{colSpan:e,colStart:t},a.createElement(b.M,{ratio:b.l.R4_1},a.createElement(Ye.U,{type:"rounded"}))),ys=()=>a.createElement(l.N,{padding:{block:"six",large:{inline:"six"}}},a.createElement(S.g,{overflow:!1},a.createElement(O.E,null,a.createElement(f.w,{space:"six",columns:{small:1,medium:1,large:3}},a.createElement(ps,null),a.createElement(X.LM,null,a.createElement(X.NP,null,a.createElement(Es,{colSpan:1,colStart:1})),a.createElement(X.zQ,null,a.createElement(Es,{colSpan:1,colStart:3})))))));ys.displayName="PropertySpaceDetailsPlaceholder";var fs=i.gql`
  fragment StickyCtaFragment on OfferDetails {
    stickyBar {
      ...BaseStickyCtaFragment
      button {
        ...ShoppingActionButtonFragment
      }
    }
    shoppingContext {
      ...ShoppingContextFragment
    }
    singleUnitOfferDialog {
      ...PropertySingleOfferDialogFragment
    }
  }

  ${d.x9.fragment}
  ${Wc.fragment}
  ${y.Rx.fragment}
  ${d.CW}
`,vs=e=>{var t,n;const{data:r,isFullWidth:l,overlayContent:i}=e,{shoppingContext:o,singleUnitOfferDialog:c,stickyBar:s}=r,{ratePlan:m}=Tc(),g=null==s?void 0:s.button,u=null==s?void 0:s.stickyButton,p=null==(t=null==o?void 0:o.multiItem)?void 0:t.packageType,E="AVAILABILITY_CALENDAR_START_DATE"===(null==u?void 0:u.targetRef),y=null==c?void 0:c.content,f=m||Array.isArray(null==y?void 0:y.ratePlans)&&(null==(n=null==y?void 0:y.ratePlans)?void 0:n[0]);return g?a.createElement(d._5,{data:g,isFullWidth:l,overlayContent:i}):s&&(p||!f||E)?a.createElement(d.x9,{...e,data:s}):a.createElement(Hc,{data:f,isFullWidth:l})};vs.fragment=fs,vs.displayName="StickyCta";var hs=e=>{const t=ka(),{categorizedUnitPriceDetails:n,ratePlan:r}=e,{paymentPolicy:l}=r||{};return n.price?a.createElement("div",null,a.createElement(Q._,{data:n.price,flexAlignment:"start",showStrikeThroughPrice:!1,enableInlineLink:!0}),a.createElement(ci,{priceDetail:n,ratePlan:r,paymentPolicy:l,roomTypeId:t})):null},Cs=i.gql`
  fragment StickyPropertyPriceFragment on PropertyDetailsStickyBar {
    ...BaseStickyPropertyPriceFragment
  }
  ${d.O2.fragment}
`,ks=e=>{const{ratePlan:t}=Tc(),{priceDetails:[n]=[]}=t||{};return n?a.createElement(hs,{categorizedUnitPriceDetails:n,ratePlan:t}):a.createElement(d.O2,{...e})};ks.fragment=Cs,ks.displayName="StickyPriceSummary";var Ss=()=>{var e;const{context:t}=(0,de.R)(),{formatDateString:n}=(0,K.useLocalization)(),{getTargets:r}=(0,$.OK)(),{searchCriteria:l}=Eo(),i=(0,o.useClickTracker)(),c=null!=(e=null==l?void 0:l.primary.dateRange)?e:null;if(null===c)return null;const s=c?n((0,We.zr)(c.checkInDate),{raw:We.DX}):null,m=c?n((0,We.zr)(c.checkOutDate),{raw:We.DX}):null,d=t.locale.replace("_","-"),g=Qe._r(null!=s?s:"",null!=m?m:"",d,{month:"short",day:"numeric"});return a.createElement(ye.q,{onClick:()=>{var e;const{startDate:t}=r(["startDate"]);i("HOT.SR.StickyBookBar","Open calendar via tertiary button"),null==(e=null==t?void 0:t.current)||e.click()},size:k.V.SMALL,isFullWidth:!0},g)};Ss.displayName="PropertyStickyBookBarCalendarButton";var Is=i.gql`
  fragment PropertyStickyBookBarFragment on OfferDetails {
    stickyBar {
      ...StickyPropertyPriceFragment
      ...PropertyStickyBookBarPricePresentationDialogFragment
      ...StickyBarStructuredDataFragment
      ...TnlFieldsFragment
    }
    ...StickyCtaFragment
    singleUnitOfferDialog {
      ...PropertySingleOfferDialogFragment
    }
  }

  ${d.Wf}
  ${Wc.fragment}
  ${vs.fragment}
  ${ks.fragment}
  ${d.I1.fragment}
  ${d.sR.fragment}
`,bs=e=>{var t;const{clickTargetRef:n,focusTargetRef:r,scrollSectionRef:l,isSticky:i=!0,align:o="end",hideCtaButton:m=!1,hidePrice:g=!1,data:u,children:p,className:E,priceSummaryJustifyContent:y}=e,{stickyBar:f,singleUnitOfferDialog:v}=u,[h,C]=a.useState(!1),k=a.useRef(null),S=`dateless-price-${(0,s.vjX)()}`,I=(0,c.useExperiment)("Vrbo_Price_Block_Redesign").exposure.bucket>0,b=(0,c.useExperiment)("Vrbo_Price_Block_Redesign_on_Web").exposure.bucket>0;if(!(null==(t=null==f?void 0:f.stickyButton)?void 0:t.text)&&!(null==f?void 0:f.button))return null;const{subText:P,price:T,propertyPrice:L,pricePresentation:_,pricePresentationDialog:x}=f,{formattedDisplayPrice:N}=T||{},R=N||P||L,A=I?a.createElement(Ss,null):v&&a.createElement(Wc,{data:v},p),F=a.createElement(Wi,null),$=a.createElement(a.Fragment,null,!g&&a.createElement("div",{className:E},a.createElement(ks,{data:f,wrapLeadPriceQualifier:!1,dialogId:S,align:o,justifyContent:y,triggerRef:k},v&&!_&&!x&&A,_&&x&&a.createElement(d.I1,{data:f}))),a.createElement(D.C,null,(h||!i)&&!m&&a.createElement(vs,{data:u,isFullWidth:!R||g,clickTargetRef:n,focusTargetRef:r,scrollSectionRef:l,overlayContent:F}))),O=a.createElement(vs,{data:u,isFullWidth:!1,clickTargetRef:n,focusTargetRef:r,scrollSectionRef:l,overlayContent:F});return a.createElement(d.J7,{...e,data:f,dialogId:S,triggerRef:k,setStickyVisible:C,stickyVisible:h,priceComponent:$,stickyCtaComponent:O,visibilityOverride:b})};bs.displayName="PropertyStickyBookBar",bs.fragment=Is;var Ps=e=>({__typename:"Offer",price:e}),Ds=({priceSummary:e,flexAlignment:t,flexDirection:n,align:r=Y.A$.RIGHT,enableInlineLink:l=!1,isReassuranceStylingEnabled:i,disableFeeInclusive:o=!1,theme:c="regular"})=>{var m;return null==e?null:(null==(m=e.displayMessages)?void 0:m.length)?a.createElement(Q._,{data:e,flexAlignment:t,messageLineFlexDirection:n,enableInlineLink:l,isReassuranceStylingEnabled:i,disableFeeInclusive:o,theme:c}):a.createElement(s.CWK,{align:r,data:Ps(e)})},Ts=i.gql`
  fragment TripSummaryFragment on TripSummaryContent {
    header {
      text
    }
    summary {
      value
    }
    installmentPlanOptions {
      totalPrice
      textRequired
    }
    price {
      ...PropertyPriceFragment
    }
    tripSummaryHeaderBanner {
      ...EGDSStandardMessageFragment
    }
  }
  ${s.VLF.fragment}
  ${s.wP$.fragment}
  ${s.GOx}
`,Ls={medium:["2fr","1fr"]},_s=({className:e,showBorder:t,data:n})=>{var l,i,c,m,d,g,u,p;const[y,h,C]=(0,N.useDialog)("TripSummaryStrikeThroughDisclaimer"),k=(0,o.useClickTracker)(),I=a.useRef(null);if(!(null==(l=n.price)?void 0:l.options)||0===n.price.options.length)return null;const{priceMessaging:b,options:P}=n.price,D=null==P?void 0:P[0],T=null==D?void 0:D.priceDisclaimer,_=(null==(i=null==T?void 0:T.trigger)||i.clientSideAnalytics,null==(m=null==(c=null==T?void 0:T.tertiaryUIButton)?void 0:c.action)?void 0:m.analytics),R=null==(d=null==T?void 0:T.tertiaryUIButton)?void 0:d.primary,A=(g=null==b?void 0:b.map(e=>e.value),null==T?void 0:T.content),F=null==n?void 0:n.tripSummaryHeaderBanner;(0,s.$HA)(P),P.find(e=>e.priceHeaderDialog);return a.createElement(S.g,{className:e,border:t},a.createElement(O.E,{padded:!0},F&&a.createElement(f.w,null,a.createElement(v.T,null,a.createElement("div",null,a.createElement(s.wP$,{data:F})))),a.createElement(f.w,{columns:Ls},a.createElement(v.T,null,a.createElement("div",null,a.createElement(E.M,{tag:"h3",size:7},n.header.text),n.summary.map(({value:e},t)=>a.createElement(x.D,{size:300,theme:"standard",key:`trip-summary-secondary-${t}`},e)))),a.createElement(v.T,null,a.createElement("div",null,a.createElement(Ds,{priceSummary:n.price}),a.createElement(L.K,{isVisible:y,closeCallback:h.closeDialog},a.createElement(C,null,a.createElement(pe.Q,{dialogShow:y,returnFocusOnClose:!0,triggerRef:I},A&&a.createElement(ue.h,null,A.map((e,t)=>a.createElement("div",{key:`dialog-message-content-${t}`},e)),R&&a.createElement(Ee.l,{buttonOne:{onClick:()=>{h.closeDialog(),_&&k(_.referrerId,_.linkName)},text:R,type:"tertiary"}}))))),n.installmentPlanOptions&&a.createElement(r.X,{justifyContent:"end","data-stid":"property-offer-installment-plan"},a.createElement(je.p,{inputs:{multiItemSessionId:null,amount:null==(u=n.installmentPlanOptions)?void 0:u.totalPrice},alignment:"end",legalText:null==(p=n.installmentPlanOptions)?void 0:p.textRequired})))))))};_s.displayName="TripSummary",_s.fragment=Ts;var xs=i.gql`
  fragment PropertyTripSummaryFragment on OfferDetails {
    tripSummary {
      ...TripSummaryFragment
    }
  }

  ${_s.fragment}
`,Ns=({className:e,showBorder:t,data:n})=>{const{tripSummary:r}=n;return r?a.createElement(_s,{className:e,data:r,showBorder:t}):null};Ns.fragment=xs,Ns.displayName="PropertyTripSummary";var Rs=i.gql`
  fragment SingleOfferSearchFragment on OfferDetails {
    errorMessage {
      title {
        text
      }
      action {
        primary {
          text
          linkUrl
        }
      }
    }
    searchCriteria {
      primary {
        dateRange {
          checkInDate {
            month
          }
        }
      }
    }
    singleUnitOffer {
      ratePlans {
        id
      }
    }
  }
`,As=({data:e,doneKey:t,submitKey:n,DateFieldWrapper:r})=>{const{formatText:l}=(0,K.useLocalization)(),i=$s(e)?t:n;return a.createElement(r,{buttonText:l(i),closeOnSubmit:!1})};As.displayName="SingleOfferSearchDateField",As.fragment=Rs;var Fs=({data:e,ButtonWrapper:t})=>{var n,r,l;if(!$s(e))return null;const i=null==(l=null==(r=null==(n=e.errorMessage)?void 0:n.action)?void 0:r.primary)?void 0:l.text;return i?a.createElement("div",null,a.createElement(t,{text:i})):null};function $s(e){var t;const{errorMessage:n,searchCriteria:a,singleUnitOffer:r}=e;return Boolean((null==a?void 0:a.primary.dateRange)||(null==(t=null==n?void 0:n.title)?void 0:t.text)&&!function(e){var t,n;return Boolean(null==(n=null==(t=null==e?void 0:e.action)?void 0:t.primary)?void 0:n.linkUrl)}(n)&&function(e){var t,n;return Boolean(null==(n=null==(t=null==e?void 0:e.action)?void 0:t.primary)?void 0:n.text)}(n)||!(null==r?void 0:r.ratePlans))}Fs.displayName="SingleOfferSearchButton",Fs.fragment=Rs;var Os=14,Ms={rooms:[{adults:2}]},ws=(e,t)=>{var n,a,r;switch(t.type){case"ADD_ROOM":return{...e,rooms:e.rooms.concat([{adults:1}])};case"REMOVE_ROOM":{const{roomIndex:n}=t;return{...e,rooms:e.rooms.filter((e,t)=>t!==n)}}case"UPDATE_ADULTS_COUNT":{const{roomIndex:n,count:a}=t;return{...e,rooms:e.rooms.map((e,t)=>t===n?{...e,adults:a}:e)}}case"UPDATE_CHILDREN_COUNT":{const{roomIndex:l,count:i}=t,o=i>(null!=(r=null==(a=null==(n=e.rooms[l])?void 0:n.children)?void 0:a.length)?r:0);return{...e,rooms:e.rooms.map((e,t)=>{var n,a;return t===l?{...e,children:o?(null==(n=e.children)?void 0:n.concat([{age:0}]))||[{age:0}]:null==(a=e.children)?void 0:a.slice(0,-1)}:e})}}case"UPDATE_CHILD_AGE":{const{roomIndex:n,childIndex:a,childAge:r}=t;return{...e,rooms:e.rooms.map((e,t)=>{var l;return n===t?{...e,children:null==(l=e.children)?void 0:l.map((e,t)=>a===t?{age:r}:e)}:e})}}default:return e}},Bs=a.createContext(()=>{}),Us=()=>a.useContext(Bs),Gs=Bs.Provider;function zs(e,t,n){return e.replace(`\${${t}}`,n)}var Hs=(e,t,n=!1)=>{var a;const r=null==(a=e[n?"secondaryTemplates":"templates"])?void 0:a.find(e=>e.category===(e=>0===e?"ZERO":1===e?"ONE":2===e?"TWO":e>2&&e<5?"FEW":e>=5&&e<10?"MANY":"OTHER")(t));return r&&e.models[0]?zs(r.template,e.models[0].key,t.toString()):""},Vs=({rooms:e},t)=>{const n=e.reduce((e,t)=>{var n,a,r;return e+(null!=(n=t.adults)?n:0)+(null!=(r=null==(a=t.children)?void 0:a.length)?r:0)},0);return((e,...t)=>{const{models:n,template:a}=e,r=n.map((e,n)=>"EGDSCardinalLocalizedText"===e.models.__typename?Hs(e.models,(null==t?void 0:t[n])||0):"");return n.reduce((e,t,n)=>zs(e,t.key,r[n]),a)})(t,e.length,n)},qs=(e,t,n)=>{const r=Us(),l=(0,o.useClickTracker)(),{increaseAnalytics:i=null,decreaseAnalytics:c=null}="EGDSTravelerStepInput"===e.__typename?e:{};return(0,a.useCallback)((e,a)=>{const o="adults"===a?"UPDATE_ADULTS_COUNT":"UPDATE_CHILDREN_COUNT",s=parseInt(e.target.value,10);Number.isNaN(s)||(r({type:o,count:s,roomIndex:t}),i&&c&&(s>n?l(i.referrerId,i.linkName):l(c.referrerId,c.linkName)))},[t,i,c,n])},Ks=i.gql`
  fragment EGDSTravelerChildrenFragment on EGDSTraveler {
    count {
      ...EGDSTravelerStepInputFragment
    }
    ... on EGDSTravelerChildren {
      ages {
        ...EGDSTravelerChildAgeSelectFragment
      }
      ageTemplate {
        ...EGDSTravelerChildAgeSelectFragment
      }
    }
  }

  ${s.PsZ.fragment}
  ${s.IoU.fragment}
`,Ws=({data:e,room:t,roomIndex:n,totalTravelers:r,isUnderGuestLimit:i})=>{const{buildOnChange:c,onSelectChange:m,ageTemplate:d,children:g,childMax:u}=((e,t,n,a,r)=>{const{count:l}=e,{ageTemplate:i=null}="EGDSTravelerChildren"===e.__typename?e:{},{children:c=null}=t||{},s=(null==c?void 0:c.length)||0,m=Us(),d=(0,o.useClickTracker)(),g=qs(l,n,s),u=l.max||0,p=((null==c?void 0:c.length)||0)+Os-a,E=r?null!=u?u:p:s;return{buildOnChange:g,onSelectChange:(e,t,a)=>{const r=parseInt(e.target.value,10);Number.isNaN(r)||(m({type:"UPDATE_CHILD_AGE",roomIndex:n,childIndex:t,childAge:r}),d(a.referrerId,a.linkName))},ageTemplate:"EGDSTravelerChildAgeSelect"===(null==i?void 0:i.__typename)?i:null,children:c,childMax:E}})(e,t,n,r,i);if(!e||"EGDSTravelerChildren"!==e.__typename||!d)return null;const{count:p}=e;return a.createElement(l.N,{padding:{blockstart:"two"}},a.createElement("div",null,"EGDSTravelerStepInput"===p.__typename&&a.createElement(s.PsZ,{data:p,onChange:c,value:(null==g?void 0:g.length)||0,customMax:u,travelerType:"children"}),g&&(null==g?void 0:g.length)>0&&a.createElement(f.w,{space:"two",columns:2},null==g?void 0:g.map(({age:e},t)=>a.createElement(s.IoU,{key:t,name:`child-${n}-${t}`,customValue:e.toString(),onSelect:m,childIndex:t,data:d})))))};Ws.displayName="EGDSTravelerChildren",Ws.fragment=Ks;var Xs=i.gql`
  fragment EGDSTravelerSelectorRoomFragment on EGDSTravelerSelectorRoom {
    label {
      ... on EGDSBasicLocalizedText {
        models {
          key
          source
        }
        template
      }
    }
    adults {
      ...EGDSTravelerStepInputFragment
    }
    children {
      ...EGDSTravelerChildrenFragment
    }
    removeRoomButton {
      ...LodgingEGDSButtonFragment
    }
    removeRoomAnnouncement
  }
  ${s.PsZ.fragment}
  ${Ws.fragment}
  ${s.E_b.fragment}
`,Ys=({data:e,roomIndex:t,room:n,focusAddRoomButton:i,headerRef:o,totalTravelers:c,totalRooms:m,isUnderGuestLimit:d})=>{const{adults:g,children:u,removeRoomButton:p}=e,{buildOnChange:E,onRemoveRoom:y,roomsLength:f,roomTitle:v,roomAdults:h,adultMax:C,isLastRoom:k}=((e,t,n,r,l,i)=>{var o,c;const{adults:s,label:m,removeRoomAnnouncement:d}=l,{adults:g}=e||{},u=Us(),p=qs(s,t,g||1),E=(0,a.useRef)(n),y=t+1,f=E.current===y,v=r?null!=(o=s.max)?o:Os:g,h="EGDSBasicLocalizedText"===m.__typename&&1===(null==(c=m.models)?void 0:c.length)&&zs(m.template,m.models[0].key,y.toString());return{buildOnChange:p,onRemoveRoom:(0,a.useCallback)(()=>{d&&(0,A.liveAnnounce)(d),i&&i(),u({type:"REMOVE_ROOM",roomIndex:t})},[d,i,t]),roomsLength:E,roomTitle:h,roomAdults:g,adultMax:v,isLastRoom:f}})(n,t,m,d,e,i);return a.createElement(l.N,{key:`room-${f.current}-${t}`,padding:{block:"three"},margin:{block:"three"},border:["blockend"]},a.createElement("div",null,v&&a.createElement("h3",{tabIndex:-1,className:"uitk-type-200 uitk-type-medium",ref:k?o:null},v),"EGDSTravelerStepInput"===g.__typename&&a.createElement(l.N,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(s.PsZ,{data:g,onChange:E,value:h||1,customMax:C,travelerType:"adults"}))),a.createElement(Ws,{data:u,room:n,roomIndex:t,totalTravelers:c,isUnderGuestLimit:d}),0!==t&&m>1&&p&&"UITertiaryButton"===p.__typename&&a.createElement(l.N,{padding:{blockstart:"four"}},a.createElement(r.X,{justifyContent:"end"},a.createElement(D.C,null,a.createElement(s.E_b,{onClick:y,data:p}))))))};Ys.displayName="EGDSTravelerSelectorRoom",Ys.fragment=Xs;var Qs=()=>{(0,A.liveAnnounce)("",A.Level.ASSERTIVE)},js=i.gql`
  fragment EGDSRoomsTravelerSelectorFragment on EGDSRoomsTravelerSelector {
    addAnotherRoomButton {
      ...LodgingEGDSButtonFragment
    }
    closeButton {
      ...LodgingEGDSButtonFragment
    }
    doneButton {
      ...LodgingEGDSButtonFragment
    }
    title
    maxRoomCount
    rooms {
      ...EGDSTravelerSelectorRoomFragment
    }
    validations {
      ... on EGDSTravelersInputValidation {
        type
        maxCount
      }
    }
  }
  ${s.E_b.fragment}
  ${Ys.fragment}
`,Js=({data:e,handleSubmit:t,updateInputValue:n,triggerRef:i,closeDialog:c})=>{const{closeButton:m,doneButton:d,title:g,rooms:u}=e,{state:p,dispatch:E}=(e=>{const t=e?{rooms:(null==e?void 0:e.map(e=>{return{adults:e.adults.value,children:(t=e.children,"EGDSTravelerChildren"===t.__typename?t.ages.map(e=>{var t;return{age:"EGDSTravelerChildAgeSelect"===e.__typename&&null!=(t=e.value)?t:0}}):[])};var t}))||[]}:Ms,[n,r]=(0,a.useReducer)(ws,t);return{state:n,dispatch:r}})(u),y=((e,t)=>{var n;const r=(0,o.useClickTracker)(),{__typename:l,analytics:i}=e;return{onClick:(0,a.useCallback)(()=>{Qs(),null==t||t(),i&&r(i.referrerId,i.linkName)},[i]),navType:"close",navIconLabel:"UIPrimaryButton"!==l&&"UITertiaryButton"!==l||null==(n=e.accessibility)?"":n}})(m,c),{onSubmit:f,onAddRoom:v,focusAddRoomButton:h,addNewRoomButton:C,addRoomRef:k,lastRoomHeaderRef:S,totalTravelers:I,isUnderGuestLimit:b}=((e,t,n,r,l,i)=>{const{addAnotherRoomButton:o,maxRoomCount:c,validations:s}=e,m=(0,a.useRef)(null),d=(0,a.useRef)(null),g=(0,a.useCallback)(()=>{Qs();const e=t.rooms.map(e=>{var t;return{adults:e.adults,children:null==(t=e.children)?void 0:t.map(e=>({age:e.age}))}});null==l||l(t),null==r||r(e),null==i||i()},[t]),u=(0,a.useCallback)(()=>{n({type:"ADD_ROOM"})},[]),p=(0,a.useCallback)(()=>{var e;null==(e=m.current)||e.focus()},[m]),E=(0,a.useCallback)(()=>{var e;"function"==typeof(null==(e=null==d?void 0:d.current)?void 0:e.focus)&&d.current.focus()},[d]);(0,a.useEffect)(()=>{o&&E()},[t.rooms.length,o]);const y=(0,a.useMemo)(()=>(e=>{var t;const n=null==e?void 0:e.map(e=>{if("EGDSTravelersInputValidation"===e.__typename){const{maxCount:t}=e;return{MAX_TRAVELERS:t}.MAX_TRAVELERS}return null}).filter(e=>null!==e);return n&&1!==n.length?20:null!=(t=null==n?void 0:n.at(0))?t:20})(s),[s]),f=(0,a.useMemo)(()=>t.rooms.reduce((e,t)=>{var n;return e+t.adults+((null==(n=t.children)?void 0:n.length)||0)},0),[t.rooms]),v=f<y;return{onSubmit:g,onAddRoom:u,focusAddRoomButton:p,addNewRoomButton:{...o,disabled:!!c&&(t.rooms.length>=c||!v)},addRoomRef:m,lastRoomHeaderRef:d,totalTravelers:f,isUnderGuestLimit:v}})(e,p,E,t,n,c),P=u[0];return p.rooms.length<1||!P?null:a.createElement(Gs,{value:E},a.createElement(te.t,{isVisible:!0,type:"centered",centeredSheetSize:"small",triggerRef:i,ariaLabel:null!=g?g:""},a.createElement(q.p,{toolbarTitle:g||"",navigationContent:y}),a.createElement(l.N,{className:"uitk-scroll-vertical",padding:{inline:"four",blockstart:"half",blockend:"three"}},a.createElement("div",null,a.createElement(r.X,{direction:"column"},a.createElement("section",null,p.rooms.map((e,t)=>a.createElement(Ys,{key:t,data:P,roomIndex:t,focusAddRoomButton:h,room:e,headerRef:S,isUnderGuestLimit:b,totalTravelers:I,totalRooms:p.rooms.length})),C&&a.createElement(l.N,{padding:{blockstart:"four",blockend:"twelve"}},a.createElement(r.X,{justifyContent:"end"},a.createElement(D.C,null,a.createElement(s.E_b,{onClick:v,data:C,domRef:k})))),a.createElement(s.E_b,{onClick:f,data:d,isFullWidth:!0})))))))};Js.displayName="EGDSRoomsTravelerSelector",Js.fragment=js;var Zs=i.gql`
  fragment EGDSOpenRoomsTravelerSelectorActionFragment on EGDSOpenTravelerSelectorAction {
    travelerSelector {
      ... on EGDSRoomsTravelerSelector {
        ...EGDSRoomsTravelerSelectorFragment
      }
    }
    analytics {
      linkName
      referrerId
    }
  }
  ${Js.fragment}
`,em=({data:e,handleSubmit:t,updateInputValue:n,triggerRef:r,closeDialog:l})=>{const{travelerSelector:i}=e;return e&&i&&"EGDSRoomsTravelerSelector"===i.__typename?a.createElement(Js,{handleSubmit:t,data:i,triggerRef:r,updateInputValue:n,closeDialog:l}):null};em.displayName="EGDSOpenRoomsTravelerSelectorAction",em.fragment=Zs;var tm=(e,t)=>{var n,a,r,l;switch(t.type){case"UPDATE_ADULTS_COUNT":{const{count:n}=t;return{...e,adults:n}}case"UPDATE_CHILDREN_COUNT":{const{count:l}=t,i=l>((null==(n=e.children)?void 0:n.length)||0);return{...e,children:i?(null==(a=e.children)?void 0:a.concat([{age:0}]))||[{age:0}]:null==(r=e.children)?void 0:r.slice(0,-1)}}case"UPDATE_CHILD_AGE":{const{childIndex:n,childAge:a}=t;return{...e,children:null==(l=e.children)?void 0:l.map((e,t)=>n===t?{age:a}:e)}}case"INCLUDE_PETS":return{...e,petsIncluded:!0};case"EXCLUDE_PETS":return{...e,petsIncluded:!1};case"RESET_STATE":return t.payload;default:return e}},nm=a.createContext(()=>{}),am=nm.Provider,rm=i.gql`
  fragment TemplateModelFragment on TemplateModel {
    key
    source
  }
`,lm=i.gql`
  fragment EGDSBasicLocalizedTextFragment on EGDSBasicLocalizedText {
    template
    models {
      ...TemplateModelFragment
    }
  }
  ${rm}
`,im=i.gql`
  fragment EGDSCardinalLocalizedTextFragment on EGDSCardinalLocalizedText {
    egdsElementId
    text
    models {
      ...TemplateModelFragment
    }
    templates {
      ...CardinalTemplateFragment
    }
  }
  fragment CardinalTemplateFragment on CardinalTemplate {
    template
    category
  }
  ${rm}
`,om=i.gql`
  fragment EGDSCompositeLocalizedTextFragment on EGDSCompositeLocalizedText {
    egdsElementId
    text
    template
    models {
      ...CompositeLocalizedTextModelFragment
    }
  }
  fragment CompositeLocalizedTextModelFragment on CompositeLocalizedTextModel {
    key
    models {
      ...EGDSTemplateModelsFragment
      ...EGDSCardinalLocalizedTextFragment
    }
  }
  fragment EGDSTemplateModelsFragment on EGDSTemplateModels {
    models {
      ...TemplateModelFragment
    }
  }
  ${rm}
`,cm=i.gql`
  fragment EGDSLocalizedTextFragment on EGDSLocalizedText {
    ...EGDSBasicLocalizedTextFragment
    ...EGDSCardinalLocalizedTextFragment
    ...EGDSCompositeLocalizedTextFragment
  }
  ${lm}
  ${im}
  ${om}
`,sm=i.gql`
  fragment EGDSTravelersFragment on EGDSTravelers {
    adults {
      ...EGDSTravelerStepInputFragment
    }
    children {
      count {
        ...EGDSTravelerStepInputFragment
      }
      ages {
        ...EGDSTravelerChildAgeSelectFragment
      }
    }
    pets {
      ...EGDSBasicCheckBoxFragment
    }
  }
  ${s.PsZ.fragment}
  ${s.IoU.fragment}
  ${s.tX.fragment}
`,mm=({data:e,state:t,maxGuests:n})=>{var r,i,c,m,d,g,u,p,E;const y=(0,o.useClickTracker)(),v=a.useContext(nm),[h,C]=a.useState(t.petsIncluded?"CHECKED":"UNCHECKED"),{adults:k,children:S,pets:I}=e,b=(e,t)=>{const n="adults"===t?"UPDATE_ADULTS_COUNT":"UPDATE_CHILDREN_COUNT",a=parseInt(e.target.value,10);Number.isNaN(a)||v({type:n,count:a})},P=(e,t)=>{const n=parseInt(e.target.value,10);Number.isNaN(n)||v({type:"UPDATE_CHILD_AGE",childIndex:t,childAge:n}),y(`HOT.HIS:ROOM.Child.${t}.AGE.${n}`,"Child age update")},D=a.useCallback(e=>{const t=e.target.checked,n=t?"INCLUDE_PETS":"EXCLUDE_PETS";C(t?"CHECKED":"UNCHECKED"),v({type:n}),y(`HOT.HIS.TravelersField.${n}`,`Travelers Field ${n}`)},[]),T=t.adults+((null==(r=t.children)?void 0:r.length)||0),L=(null==S?void 0:S.count.max)||0,_=((null==(i=t.children)?void 0:i.length)||0)+Os-T,x=T<n?null!=(c=k.max)?c:Os:t.adults,N=T<n?null!=L?L:_:(null==(m=t.children)?void 0:m.length)||0;return a.createElement(a.Fragment,null,"EGDSTravelerStepInput"===k.__typename&&a.createElement(s.PsZ,{data:k,onChange:b,value:t.adults,customMax:x,travelerType:"adults"}),"EGDSTravelerChildren"===(null==S?void 0:S.__typename)&&a.createElement(a.Fragment,null,"EGDSTravelerStepInput"===S.count.__typename&&a.createElement(s.PsZ,{data:S.count,onChange:b,value:null!=(g=null==(d=t.children)?void 0:d.length)?g:0,customMax:N,travelerType:"children"}),t.children&&(null==(u=t.children)?void 0:u.length)>0&&a.createElement(f.w,{space:"two",columns:2},null==(p=t.children)?void 0:p.map(({age:e},t)=>{const n=S.ages[t];return"EGDSTravelerChildAgeSelect"===(null==n?void 0:n.__typename)&&a.createElement(s.IoU,{data:n,customValue:e.toString(),name:`child-${t}`,childIndex:t,onSelect:P})}))),I&&a.createElement(l.N,{padding:{blockstart:"four"}},a.createElement("div",null,"EGDSBasicCheckBox"===I.__typename&&a.createElement(s.tX,{data:I,isChecked:null!=(E=t.petsIncluded)&&E,handleCheckboxChange:D}))))};mm.displayName="EGDSTravelers",mm.fragment=sm;var dm=i.gql`
  fragment EGDSBasicTravelerSelectorFragment on EGDSBasicTravelerSelector {
    doneButton {
      ...LodgingEGDSButtonFragment
    }
    title
    travelers {
      ...EGDSTravelersFragment
    }
    validations {
      ... on EGDSTravelersInputValidation {
        errorMessage
        maxCount
        type
      }
    }
  }
  ${s.E_b.fragment}
  ${mm.fragment}
`,gm=({data:e,state:t,handleSubmit:n})=>{var r;const{doneButton:i,travelers:o,title:c,validations:m}=e,d=null==m?void 0:m.map(e=>{if("EGDSTravelersInputValidation"===e.__typename){const{maxCount:t}=e;return{MAX_TRAVELERS:t}.MAX_TRAVELERS}return null}),g=d&&1!==d.length?Os:null!=(r=null==d?void 0:d.at(0))?r:Os;return o?a.createElement(a.Fragment,null,""!==c&&a.createElement(E.M,{size:5},c),a.createElement(mm,{data:o,state:t,maxGuests:g}),a.createElement(l.N,{padding:{blockstart:"four"}},a.createElement("div",null,a.createElement(s.E_b,{data:i,isFullWidth:!0,onClick:n})))):null};gm.displayName="EGDSBasicTravelerSelector",gm.fragment=dm;var um=i.gql`
  fragment EGDSOpenTravelerSelectorActionFragment on EGDSOpenTravelerSelectorAction {
    travelerSelector {
      ... on EGDSBasicTravelerSelector {
        ...EGDSBasicTravelerSelectorFragment
      }
    }
  }
  ${gm.fragment}
`,pm=({data:e,state:t,handleSubmit:n})=>{const{travelerSelector:r}=e;return e&&r&&"EGDSBasicTravelerSelector"===r.__typename?a.createElement("section",null,a.createElement(l.N,{padding:{blockstart:"four"}},a.createElement(gm,{data:r,state:t,handleSubmit:n}))):null};pm.displayName="EGDSOpenTravelerSelectorAction",pm.fragment=um;var Em=i.gql`
  fragment EGDSSearchFormTravelersFieldFragment on EGDSSearchFormTravelersField {
    action {
      ...EGDSOpenTravelerSelectorActionFragment
      ...EGDSOpenRoomsTravelerSelectorActionFragment
    }
    egdsElementId
    label
    labelTemplate {
      ...EGDSLocalizedTextFragment
    }
    readOnly
    value
    leftIcon {
      id
    }
  }
  ${pm.fragment}
  ${em.fragment}
  ${cm}
`,ym={adults:1,children:[{age:1}],petsIncluded:!1},fm=({action:e,state:t,handleSubmit:n})=>a.createElement(V.Y,null,a.createElement(l.N,{padding:{blockstart:"half"}},e&&"EGDSOpenTravelerSelectorAction"===e.__typename&&a.createElement("div",null,a.createElement(pm,{data:e,state:t,handleSubmit:n})))),vm=({data:e,triggerRef:t,updateStoreWithTravelerUrlData:n,isNestDialog:r=!1,dialogId:l="full-sheet-traveler-selector",initialState:i})=>{var o,c,s,m,d,g;const u=r?"pwaDialogNested":void 0,[p,E,y]=(0,N.useDialog)(l,u),{action:f,label:v,labelTemplate:h,leftIcon:C,value:k}=e,S=C?C.id:"",I="EGDSOpenTravelerSelectorAction"===(null==f?void 0:f.__typename)&&"EGDSBasicTravelerSelector"===(null==f?void 0:f.travelerSelector.__typename)?null==(o=null==f?void 0:f.travelerSelector)?void 0:o.travelers:null,b=[];null==(s=null==(c=null==I?void 0:I.children)?void 0:c.ages)||s.forEach(e=>{"EGDSTravelerChildAgeSelect"===e.__typename&&null!==e.value&&b.push({age:e.value})});const P="EGDSTravelers"===(null==I?void 0:I.__typename)?{adults:null!=(m=null==I?void 0:I.adults.value)?m:1,children:b,petsIncluded:"EGDSBasicCheckBox"===(null==(d=null==I?void 0:I.pets)?void 0:d.__typename)&&(D=I.pets.state,"CHECKED"===D)}:ym;var D;const[_,x]=a.useReducer(tm,i||P),R=(0,a.useRef)(_),A=(()=>{const e=(0,De.Zp)(),t=(0,De.zy)();return(0,a.useCallback)((n,a)=>{const r=new URLSearchParams(t.search);r.set("adults",String(n.adults)),r.set("children",String(n.children)),r.delete("rm1"),a&&r.has("pwaDialog")&&r.delete("pwaDialog"),n.amenities?(r.set("amenities",String(n.amenities)),r.set("house_rules_group",String(n.house_rules_group))):(r.delete("amenities"),r.delete("house_rules_group")),e(`${t.pathname}?${r}`,{replace:!0})},[t,e])})(),F=a.useCallback((e=!1)=>{var t;const a=_.adults,l=null!=(t=_.petsIncluded)&&t,i=l?"PETS":void 0,o=l?"pets_allowed":void 0,{children:c}=_;R.current=_;const s={adults:a,children:(null==c?void 0:c.map(({age:e})=>`1_${e}`))||[],amenities:i,house_rules_group:o,isPetsIncluded:l};r||setTimeout(()=>A(s,!0),50),e||E.closeDialog(),n(s)},[_]),$=()=>{et()(R.current,_)||(F(!0),R.current=_)};return e&&e.action&&"EGDSOpenTravelerSelectorAction"===e.action.__typename?a.createElement(T.P,{type:"relative"},a.createElement(Je.H,{label:null!=v?v:"",value:null!=(g=i&&h?(e=>{var t;const n=e.adults+((null==(t=e.children)?void 0:t.length)||0),a=e.petsIncluded;return"EGDSCardinalLocalizedText"===(null==h?void 0:h.__typename)?Hs(h,n,a):k})(i):k)?g:"","data-stid":"open-room-picker",onClick:()=>E.openDialog(),domRef:t,name:"travelers",icon:S}),a.createElement(am,{value:x},a.createElement(X.LM,null,a.createElement(X.zQ,null,a.createElement(L.K,{isVisible:p,closeCallback:$},a.createElement(te.t,{isVisible:p,type:"popover",triggerRef:t,onDismiss:E.closeDialog,showOverTrigger:!0,width:400},a.createElement(fm,{action:f,state:_,handleSubmit:()=>F(!1)})))),a.createElement(X.rw,null,a.createElement(L.K,{isVisible:p,closeCallback:$},a.createElement(y,null,a.createElement(te.t,{isVisible:p,type:"centered",triggerRef:t},a.createElement(q.p,{navigationContent:{onClick:()=>E.closeDialog(),navIconLabel:"Close"}}),a.createElement(fm,{action:f,state:_,handleSubmit:()=>F(!1)}))))),a.createElement(X.NP,null,a.createElement(L.K,{isVisible:p,closeCallback:$},a.createElement(y,null,a.createElement(te.t,{isVisible:p,type:"full",triggerRef:t},a.createElement(q.p,{navigationContent:{onClick:()=>E.closeDialog(),navIconLabel:"Close"}}),a.createElement(fm,{action:f,state:_,handleSubmit:()=>F(!1)})))))))):null};vm.displayName="EGDSSearchFormTravelersField",vm.fragment=Em;var hm=({data:e,triggerRef:t,updateRooms:n,isNestDialog:r=!1,dialogId:l="rooms-traveler-selector"})=>{const{action:i,label:c,leftIcon:s}=e,m=r?"pwaDialogNested":void 0,[d,g,u]=(0,N.useDialog)(l,m),{inputValue:p,updateInputValue:E,handleClick:y}=((e,t)=>{const{action:n,labelTemplate:r,value:l}=e,{analytics:i=null}="EGDSOpenTravelerSelectorAction"===(null==n?void 0:n.__typename)?n:{},[c,s]=(0,a.useState)(l||""),m=(0,o.useClickTracker)();return{inputValue:c,updateInputValue:e=>{s(e?Vs(e,r):l||"")},handleClick:()=>{null==t||t(),i&&m(i.referrerId,i.linkName)}}})(e,g.openDialog);return e&&i&&"EGDSOpenTravelerSelectorAction"===i.__typename?a.createElement(T.P,{type:"relative"},a.createElement(Je.H,{label:null!=c?c:"",value:null!=p?p:"","data-stid":"open-room-picker",onClick:y,domRef:t,name:"travelers",icon:null==s?void 0:s.id}),a.createElement(L.K,{isVisible:d},a.createElement(u,null,a.createElement(em,{data:i,handleSubmit:n,updateInputValue:E,triggerRef:t,closeDialog:g.closeDialog})))):null};hm.displayName="EGDSSearchFormRoomsTravelersField",hm.fragment=vm.fragment;var Cm=i.gql`
  fragment OffersTravelerSelectorFragment on OffersTravelerSelector {
    travelers {
      ...EGDSSearchFormTravelersFieldFragment
    }
  }
  ${vm.fragment}
`,km=({data:e,updateStoreWithTravelerUrlData:t,triggerRef:n,dialogId:r,isNestDialog:l,initialState:i})=>{if(!e||!(null==e?void 0:e.travelers))return null;const{travelers:o}=e;return a.createElement(vm,{data:o,isNestDialog:l,dialogId:r,triggerRef:n,initialState:i,updateStoreWithTravelerUrlData:t})};km.displayName="TravelerSelector",km.fragment=Cm;var Sm=({data:e,updateRooms:t,triggerRef:n,dialogId:r,isNestDialog:l})=>{if(!e||!(null==e?void 0:e.travelers))return null;const{travelers:i}=e;return a.createElement(hm,{data:i,isNestDialog:l,dialogId:r,triggerRef:n,updateRooms:t})};Sm.displayName="RoomsTravelerSelector",Sm.fragment=km.fragment;var Im=i.gql`
  fragment UnitsCarouselFragment on OfferDetails {
    unitsCarousel {
      carousel {
        nextButton {
          __typename
          icon {
            description
          }
        }
        previousButton {
          __typename
          icon {
            description
          }
        }
      }
      heading {
        ... on EGDSStylizedText {
          text
        }
      }
      impressionAnalytics {
        linkName
        referrerId
      }
      items {
        ... on LodgingUnitCard {
          ...LodgingUnitCardFragment
        }
      }
    }
  }
  ${s.Pek.fragment}
`,bm=({data:e})=>{var t,n,r,i,c,m;if(!e||!e.unitsCarousel||0===e.unitsCarousel.items.length)return null;const{carousel:d,heading:g,impressionAnalytics:u,items:p}=e.unitsCarousel;return a.createElement(o.IntersectionTracker,{referrerId:null!=(t=null==u?void 0:u.referrerId)?t:"",linkName:null!=(n=null==u?void 0:u.linkName)?n:"",trackOnce:!0},a.createElement(l.N,{padding:{blockend:"six"}},a.createElement("div",null,"EGDSStylizedText"===g.__typename&&a.createElement(E.M,{size:5,tag:"h2"},g.text),(null==p?void 0:p.length)>0&&a.createElement(l.N,{margin:{blockstart:"four"}},a.createElement(tt._N,{buttonText:{nextButton:(null==(i=null==(r=null==d?void 0:d.nextButton)?void 0:r.icon)?void 0:i.description)||"",prevButton:(null==(m=null==(c=null==d?void 0:d.previousButton)?void 0:c.icon)?void 0:m.description)||""},itemsVisible:{sm:2,md:2,lg:2},pageBy:1,peek:!0,itemsMaxHeight:!0},p.map((e,t)=>"LodgingUnitCard"===e.__typename&&a.createElement(s.Pek,{data:e,key:`units-carousel-item-${t}`,dialogProps:{id:`room-info-${e.unitId}`,dialogQueryKey:"propertyUnitRoomInfoDialog"}})))))))};bm.fragment=Im,bm.displayName="UnitsCarousel";var Pm=i.gql`
  query RoomsAndRatesPropertyOffersQuery(
    $context: ContextInput!
    $propertyId: String!
    $searchCriteria: PropertySearchCriteriaInput
    $selectedSavedQuoteInput: SelectedSavedQuoteInput
    $shoppingContext: ShoppingContextInput
    $travelAdTrackingInfo: PropertyTravelAdTrackingInfoInput
    $searchOffer: SearchOfferInput
    $referrer: String
    $productIdentifier: ProductIdentifierInput
  ) {
    propertyOffers(
      context: $context
      propertyId: $propertyId
      referrer: $referrer
      searchCriteria: $searchCriteria
      selectedSavedQuoteInput: $selectedSavedQuoteInput
      searchOffer: $searchOffer
      shoppingContext: $shoppingContext
      travelAdTrackingInfo: $travelAdTrackingInfo
      productIdentifier: $productIdentifier
    ) {
      ...PropertyIdFragment
      ...PropertyOffersFragment
      ...OfferDetailsShoppingActionPatternFragment
    }
  }

  ${Sa.fragment}
  ${Uo.fragment}
  ${d.mf.fragment}
`,Dm=i.gql`
  query AncillaryPropertyOffersQuery(
    $context: ContextInput!
    $propertyId: String!
    $searchCriteria: PropertySearchCriteriaInput
    $selectedSavedQuoteInput: SelectedSavedQuoteInput
    $shoppingContext: ShoppingContextInput
    $travelAdTrackingInfo: PropertyTravelAdTrackingInfoInput
    $searchOffer: SearchOfferInput
    $referrer: String
    $productIdentifier: ProductIdentifierInput
  ) {
    propertyOffers(
      context: $context
      propertyId: $propertyId
      referrer: $referrer
      searchCriteria: $searchCriteria
      selectedSavedQuoteInput: $selectedSavedQuoteInput
      searchOffer: $searchOffer
      shoppingContext: $shoppingContext
      travelAdTrackingInfo: $travelAdTrackingInfo
      productIdentifier: $productIdentifier
    ) {
      listingsHeader {
        ...LodgingHeaderFragment
      }
      loading {
        accessibilityLabel
      }
      ...PropertyIdFragment
      ...PropertyLevelMessagingSectionFragment
      ...PropertyLevelOffersMessageFragment
      ...PropertyLevelOffersCardFragment
      ...VipMessagingCardFragment
      ...DamageAndIncidentalsCardFragment
      ...NewVipModuleFragment
      ...PriceInsightFragment
      ...PropertyTripSummaryFragment
      ...SingleOfferFragment
      ...PropertyStickyBookBarFragment
      ...PropertySpaceDetailsFragment
      ...PropertySearchLinkFragment
      ...FilterPillsFragment
      ...LoyaltyDiscountToggleFragment
      ...LegalDisclaimerFragment
      ...HighlightedBenefitsFragment
      ...LodgingOneKeyBurnSwitchFragment
      ...UnitsCarouselFragment
      ...InsurtechPrimingBannerFragment
      ...GreatFindCardFragment
      ...AlmostLongStayCardFragment
      ...OfferDetailsShoppingActionPatternFragment
    }
    offersTravelerSelector(context: $context, searchCriteria: $searchCriteria, propertyId: $propertyId, shoppingContext: $shoppingContext) {
      ...OffersTravelerSelectorFragment
    }
    cancellationPolicyInfo(
      context: $context
      propertyId: $propertyId
      searchCriteria: $searchCriteria
      shoppingContext: $shoppingContext
      searchOffer: $searchOffer
    ) {
      ...CancellationPolicyInfoFragment
    }
  }

  ${Xo.fragment}
  ${Me.M.fragment}
  ${Sa.fragment}
  ${ic.fragment}
  ${mc.fragment}
  ${cc.fragment}
  ${Be._j.fragment}
  ${Vo.fragment}
  ${Be.wr.fragment}
  ${we.a.fragment}
  ${Ns.fragment}
  ${ss.fragment}
  ${bs.fragment}
  ${us.fragment}
  ${kc.fragment}
  ${s.uZW.fragment}
  ${Ko.fragment}
  ${rc.fragment}
  ${ec.fragment}
  ${Qo.fragment}
  ${nc.fragment}
  ${km.fragment}
  ${bm.fragment}
  ${zo.fragment}
  ${Jo.fragment}
  ${Pr}
  ${d.mf.fragment}
`;function Tm(e,{placeholder:t,documentNode:n=Dm,rum:r}={}){const l=l=>{const{inputs:o,skipSsr:c,children:s}=l,{context:m}=(0,de.R)(),g=n===Pm?"no-cache":"cache-first",{setIsLoading:p}=(0,d.xm)(),E=o.searchCriteria,y=(0,d.Px)(E),f=JSON.stringify(y),v=(0,a.useMemo)(()=>({...o,context:m}),[f]),{trackEvent:h}=(0,Oe.eS)(),{data:C,previousData:k,loading:S,refetch:I}=(0,i.useQuery)(n,{variables:v,context:{batchKey:"lodging-property-offers",shouldLogPerformance:!0},ssr:!c,notifyOnNetworkStatusChange:!0,fetchPolicy:g}),b=null==C?void 0:C.propertyOffers,P=null==k?void 0:k.propertyOffers;a.useEffect(()=>{p(S)},[S]);const D=(0,a.useRef)(!0);if(S)return t?a.createElement(t,{...l,data:P}):null;const T=r&&D.current&&!0;return D.current=!1,b?(T&&(h("timing",{name:"propertyOffersInitialLoad"}),h("action",{action:"propertyOffersQueryExecuted"})),a.createElement(Sa,{value:b.id},a.createElement(d.mf,{contents:b.contents,shoppingJoinListContainer:b.shoppingJoinListContainer,id:`property-offers-${e.displayName}`},a.createElement(u.p,{tnlFields:null==b?void 0:b.tnlFields},a.createElement(yo,{inputs:o},a.createElement(e,{data:b,loading:S,refetch:I,variables:v,...l},s)))))):null};return l.displayName=`PropertyOffers${e.displayName}`,l}function Lm(e,t){const n=n=>{const{inputs:r,skipSsr:l,children:o}=n,{context:c}=(0,de.R)(),s={...r,context:c},{data:m,previousData:d,loading:g}=(0,i.useQuery)(Dm,{variables:s,context:{batchKey:"lodging-property-offers",shouldLogPerformance:!0},ssr:!l}),u=null==m?void 0:m.offersTravelerSelector,p=null==d?void 0:d.propertyOffers;return g?t?a.createElement(t,{data:p},o):null:u?a.createElement(yo,{inputs:r},a.createElement(e,{data:u,...n},o)):null};return n.displayName=`PropertyOffers${e.displayName}`,n}var _m=Tm(Me.M),xm=Tm(Xo),Nm=Tm(Be._j),Rm=Tm(Vo),Am=(Tm(Be.wr),Tm(we.a)),Fm=Tm(Ns),$m=Tm(ic),Om=Tm(mc),Mm=Tm(cc),wm=Tm(ss),Bm=Tm(bs),Um=Tm(us,{placeholder:ys}),Gm=Tm(kc,{placeholder:d.B0}),zm=(Tm(Ko),Tm(rc)),Hm=(Tm(As),Tm(Fs)),Vm=Tm(ec),qm=Tm(Qo,{placeholder:()=>a.createElement(l.N,{padding:{blockend:"six"}},a.createElement(f.w,{columns:[(0,ze.ZF)("16x","40x"),(0,ze.ZF)("16x","40x")],space:"six",alignItems:"center"},a.createElement(v.T,null,a.createElement(He.l,{animation:!1,type:"primary"})),a.createElement(v.T,null,a.createElement(He.l,{animation:!1,type:"primary"}))))}),Km=Tm(nc),Wm=(Tm(bm,{placeholder:()=>a.createElement(l.N,{padding:{blockend:"six"}},a.createElement("div",null,a.createElement(He.l,{type:"primary"}),a.createElement(l.N,{padding:{blockstart:"six"}},a.createElement(f.w,{columns:{small:2,medium:2,large:2},space:"three"},[0,1].map((e,t)=>a.createElement(v.T,{key:`units-carousel-placeholder-${t}`},a.createElement(S.g,null,a.createElement(b.M,{ratio:b.l.R16_9},a.createElement(Ye.U,null)),a.createElement(O.E,{padded:!0},a.createElement(l.N,{margin:{blockstart:"one"}},a.createElement(He.l,{animation:!0})),a.createElement(l.N,{margin:{block:"three"}},a.createElement(He.l,{animation:!0,type:"secondary"}))))))))))}),Lm(km)),Xm=Lm(Sm),Ym=function(e,t){const n=n=>{const{inputs:r,skipSsr:l,children:o}=n,{context:c}=(0,de.R)(),s={...r,context:c},{data:m,previousData:d,loading:g}=(0,i.useQuery)(Dm,{variables:s,context:{batchKey:"lodging-property-offers",shouldLogPerformance:!0},ssr:!l}),u=null==m?void 0:m.cancellationPolicyInfo,p=null==d?void 0:d.propertyOffers;if(g)return t?a.createElement(t,{data:p},o):null;if(null==(null==u?void 0:u.policyContent)||null==u.title)return null;const E={__typename:"LodgingCancellationPolicyInfo",policyContent:u.policyContent,title:u.title};return E?a.createElement(yo,{inputs:r},a.createElement(e,{data:E,...n},o)):null};return n.displayName=`PropertyOffers${e.displayName}`,n}(zo),Qm=Tm(uo),jm=Tm(Jo),Jm=(0,s.TAd)({label:"PropertyOffers",rum:!0})(Tm(Uo,{placeholder:({data:e,form:t,headerRight:n})=>e?a.createElement("div",null,a.createElement(l.N,{margin:{small:{inline:"three"},medium:{inline:"unset"}}},a.createElement("div",null,a.createElement(l.N,{margin:{blockend:"three"}},a.createElement(r.X,{justifyContent:"space-between"},e.listingsHeader&&a.createElement(d.nX,{data:e.listingsHeader}),n)),t,(null==e?void 0:e.offerFilters)&&a.createElement(p.Wt,{data:e.offerFilters}))),a.createElement(l.N,{margin:{blockstart:"four"}},a.createElement(vc,null))):a.createElement("div",null,a.createElement(hc,null)),documentNode:Pm,rum:!0}));((e,t)=>{for(var n in t)ct(e,n,{get:t[n],enumerable:!0})})({},{ChangeShopping:()=>cg,ChangeShoppingComponent:()=>sg,ListingsDisplayContext:()=>Ed,LodgingBookingPlayback:()=>fg,LodgingCSPConfig:()=>mg,NavigationContext:()=>gd,NavigationToolbar:()=>dg,__ChangeShoppingNavigationLinkActionFragment:()=>vg,__Query:()=>og,defaultBackToCLP:()=>md,defaultListingsDisplayState:()=>pd,redirect:()=>gg,useListingsDisplayContext:()=>yd,useNavigationContext:()=>ud,useNavigationLinkAction:()=>hg});var Zm=({listing:e,ratePlanTitle:t,closeDialog:n})=>{const{ratePlans:r,availabilityCallToAction:i}=e;return a.createElement("div",null,r.length>0&&t&&a.createElement(E.M,{tag:"h3",size:4,"data-stid":"property-offers-details-room-options-header",typeStyle:{customStyle:"headline-large"}},t.text),i&&a.createElement(l.N,{margin:{block:"two"}},a.createElement("div",{className:"uitk-type-right"},a.createElement(Ht,{data:i,closeDialog:n}))),a.createElement(f.w,{columns:[(0,ze.kM)("auto-fit",(0,ze.ZF)("70x","1fr"))],space:"three"},r.map((t,n)=>a.createElement(v.T,{key:`dialog-rate-plan-${n}`},a.createElement(S.g,{border:!0,padded:!0,overflow:!0},a.createElement(Ql,{data:t,roomId:e.id}))))))};Zm.displayName="DialogRatePlanSection";var ed=i.gql`
  fragment RatePlansExpandoFragment on RatePlansExpando {
    collapseButton {
      text
    }
    expandButton {
      text
    }
  }
`,td=({data:e,children:t})=>{const{collapseButton:n,expandButton:r}=e;return a.createElement(l.N,{padding:{inlinestart:"one"}},a.createElement(nt.X,{size:"small",isVisible:!1,expandoTitle:r.text,expandedLabel:n.text},t))};td.fragment=ed,td.displayName="RatePlansExpando";var nd=({features:e,maxColumns:t})=>{const n=(0,f.I)(t=>a.createElement(re.y,{bullet:"icon-standard",...t},e.map((e,t)=>a.createElement(gn,{data:e,uniqueDialogId:"propertyunit-feature",key:`feature-${t}`}))));return a.createElement(n,{columns:e.length<=4||1===t?1:2})};nd.displayName="Features";var ad=({features:e})=>(null==e?void 0:e.length)?a.createElement(X.LM,null,a.createElement(X.NP,null,a.createElement(nd,{features:e,maxColumns:1})),a.createElement(X.rw,null,a.createElement(nd,{features:e,maxColumns:2}))):null;ad.displayName="MultiColumnFeaturesSection";var rd=({children:e,headerData:t,features:n})=>a.createElement("div",{"data-stid":"section-roomtype"},a.createElement(l.N,{padding:{large:{inlineend:"six"},extra_large:{inlineend:"six"}}},a.createElement("div",null,a.createElement(X.LM,null,a.createElement(X.NP,null,a.createElement(ko,{data:t,textSize:6})),a.createElement(X.rw,null,a.createElement(ko,{data:t,textSize:5}))))),a.createElement(ad,{features:n}),a.createElement(X.LM,null,a.createElement(X.NP,null,a.createElement(r.X,{justifyContent:"start"},a.createElement("div",null,e))),a.createElement(X.rw,null,a.createElement("div",null,e))));rd.displayName="InfoSection";var ld=({children:e,shouldRenderLargeImage:t})=>{if(!e)return null;const{MediaSection:n,InfoSection:r,RatePlanWithAmenities:i,AvailabilityCTA:o}=Sc(e);return a.createElement(S.g,{overflow:!0,padded:!t},a.createElement("div",{"data-stid":"horizontal-layout"},a.createElement(f.w,{columns:12,space:"three"},a.createElement(v.T,{colSpan:t?4:3},a.createElement("div",null,n&&n.length>0&&n[0]&&a.cloneElement(n[0],{className:"uitk-rounded-border-top uitk-rounded-border-bottom"}))),a.createElement(v.T,{colSpan:t?8:9},a.createElement(l.N,{padding:t?{blockstart:"three",inlineend:"two"}:{}},a.createElement(O.E,{padded:!1},a.createElement(f.w,{columns:8,space:"three"},a.createElement(v.T,{colSpan:4},a.createElement("div",null,r)),a.createElement(v.T,{colSpan:4},a.createElement("div",null,i)))))),o&&a.createElement(T.P,{type:"absolute",position:{top:"three",right:"three"}},o))))};ld.displayName="HorizontalOneRowPropertyUnitLayout";var id=({children:e})=>{if(!e)return null;const{MediaSection:t,InfoSection:n,RatePlanWithAmenities:r,AvailabilityCTA:l}=Sc(e);return a.createElement(S.g,{padded:!0,overflow:!0},a.createElement("div",{"data-stid":"horizontal-two-row-layout"},a.createElement(f.w,{columns:6,space:"three"},a.createElement(v.T,{colSpan:2},a.createElement("div",null,t&&(null==t?void 0:t.length)>0&&t[0]&&a.cloneElement(t[0],{className:"uitk-rounded-border-top uitk-rounded-border-bottom"}))),a.createElement(v.T,{colSpan:4},a.createElement("div",null,n)),null==r?void 0:r.map((e,t)=>a.createElement(v.T,{key:`horizontal-two-rows-unit-${t}`,colSpan:3},a.createElement("div",null,a.createElement(S.g,{overflow:!0,padded:!0,border:!0},e)))),l&&a.createElement(T.P,{type:"absolute",position:{top:"four",right:"four"}},l))))};id.displayName="HorizontalTwoRowsPropertyUnitLayout";var od=({children:e,imageRatio:t})=>{if(!e)return null;const{MediaSection:n,InfoSection:r,RatePlanWithAmenities:i,AvailabilityCTA:o,RatePlansExpando:c}=Sc(e),s=(null==i?void 0:i.slice(0,2))||i,m=i&&(null==i?void 0:i.length)>2&&i.slice(2)||null,d=null==m?void 0:m.map((e,t)=>a.createElement(O.E,{key:`vertical-dynamic-unit-${t}`,border:"top"},e)),g=d&&c&&c.length>0&&c[0]&&a.cloneElement(c[0],{},d);return a.createElement(l.N,{margin:{blockend:"three"}},a.createElement(S.g,{"data-stid":"vertical-layout",overflow:!0},n&&(null==n?void 0:n.length)>0&&n[0]&&a.cloneElement(n[0],{className:"uitk-rounded-border-top",imageRatio:t}),a.createElement(O.E,{padded:!1},a.createElement(l.N,{padding:{small:"three",medium:{blockstart:"four",blockend:"one",inline:"four"}}},a.createElement("div",null,r))),o&&a.createElement(O.E,{className:"uitk-type-right",border:"top"},o),null==s?void 0:s.map((e,t)=>a.createElement(O.E,{key:`vertical-unit-${t}`,border:"top"},a.createElement(l.N,{padding:{block:"two"}},a.createElement("div",null,e)))),g))};od.displayName="VerticalPropertyUnitLayout";var cd=i.gql`
  fragment PropertyUnitFragment on PropertyUnit {
    __typename
    ... on PropertyUnit {
      id
      header {
        ...PropertyOffersHeaderFragment
      }
      features {
        ...PropertyFeaturesFragment
      }
      unitGallery {
        accessibilityLabel
        images {
          image {
            id
            description
            url
            thumbnailClickAnalytics {
              referrerId
              linkName
            }
          }
          imageId
          trackingId
          impressionAnalytics {
            referrerId
            linkName
          }
        }
      }
      ratePlans {
        ...RatePlanWithAmenitiesFragment
        saveQuoteDialog {
          ...PropertySaveQuoteButtonFragment
        }
      }
      ratePlansExpando {
        ...RatePlansExpandoFragment
      }
      availabilityCallToAction {
        ...AvailabilityCtaFragment
      }
      roomAmenities {
        ...RoomAmenitiesDescriptionFragment
      }
      detailsDialog {
        ...UnitPropertyOffersDetailsDialogFragment
        toolbar {
          title
          clientSideAnalytics {
            referrerId
            linkName
          }
        }
        trigger {
          ...LinkTriggerFragment
          clientSideAnalytics {
            referrerId
            linkName
          }
        }
      }
      spaceDetails {
        ...SpaceDetailsFragment
      }
      roomHighlights {
        ...UnitHighlightsFragment
      }
      lodgingReview {
        ...LodgingReviewSectionFragment
      }
    }
  }
  ${ko.fragment}
  ${gn.fragment}
  ${fr.fragment}
  ${Ar.fragment}
  ${Ul.fragment}
  ${Lo.fragment}
  ${Ur.fragment}
  ${Ya.fragment}
  ${Ql.fragment}
  ${ja.fragment}
  ${Ht.fragment}
  ${td.fragment}
  ${da.fragment}
  ${tn.fragment}
  ${Qn.fragment}
  ${Wn.fragment}
`,sd=({data:e,shouldRenderAsTwoRows:t,shouldRenderLargeImage:n,className:r,forceVerticalPropertyUnitLayout:l,propertyId:i})=>{const{unitGallery:c,detailsDialog:s,id:m,features:d,ratePlans:g,availabilityCallToAction:u,ratePlansExpando:p,header:E}=e,y=(0,o.useClickTracker)(),[f,v]=a.useState(""),[h,C]=a.useState(""),k=_t(),[S,I,P]=(0,N.useDialog)(`room-info-dialog-${m}-${k}`,"propertyUnitRoomInfoDialog"),D=a.useCallback(()=>{S&&I.closeDialog(),y(f,h)},[I,y,f,h,S]);if(!m||!s)return null;const{trigger:T,toolbar:_,content:x}=s;function R(e){var t,n,r,l,o,s,f,h;return[a.createElement(xo,{key:`media-section-${m}`,unitGallery:c,handleCarouselImageClick:I.openDialog,propertyId:i}),a.createElement(rd,{key:`info-section-${m}`,headerData:E,features:d},a.createElement(ja,{data:T,openDialog:(o=`${null==(t=T.clientSideAnalytics)?void 0:t.referrerId}`,s=`${null==(n=T.clientSideAnalytics)?void 0:n.linkName}`,f=`${null==(r=null==_?void 0:_.clientSideAnalytics)?void 0:r.referrerId}`,h=`${null==(l=null==_?void 0:_.clientSideAnalytics)?void 0:l.linkName}`,()=>{I.openDialog(),y(o,s),v(f),C(h)})})),...g.map((t,n)=>a.createElement(Ql,{key:`rate-plan-section-${m}-${n}`,data:t,roomId:m,amenityTextSize:e})),u&&a.createElement(Ht,{data:u,key:`availability-cta-${m}`}),a.createElement(td,{data:p,key:`rate-plans-expando-${m}`})]}const A=t?a.createElement(id,null,R(200)):a.createElement(ld,{shouldRenderLargeImage:n},R(300));return a.createElement("div",{className:r,"data-stid":`property-offer-${k}`},a.createElement(X.LM,null,a.createElement(X.NP,null,a.createElement(od,{imageRatio:b.l.R21_9},R())),a.createElement(X.zQ,null,l?a.createElement(od,{imageRatio:b.l.R21_9},R()):A)),a.createElement(L.K,{isVisible:S},a.createElement(P,null,a.createElement(Ya,{closeDialog:D,isDialogOpen:S,listing:e,data:s,ratePlans:a.createElement(Zm,{ratePlanTitle:x.ratePlanTitle,listing:e,closeDialog:D})}))))};sd.fragment=cd,sd.displayName="ControlPropertyUnit";var md={actionDestinationResolver:()=>{},actionElementId:"",actionAnalyticsCallback:()=>{},accessibility:null},dd={config:{backToCLP:md},setConfig:()=>{}},gd=(0,a.createContext)(dd);function ud(){return(0,a.useContext)(gd)}var pd={listingsDisplayed:!1,setListingsDisplayed:()=>{},sectionDisplayStates:void 0},Ed=(0,a.createContext)(pd);function yd(){return(0,a.useContext)(Ed)}var fd=i.gql`
  fragment CancellationChangeFragment on LodgingPlainDialog {
    trigger {
      theme
      value
    }
    content
    primaryUIButton {
      primary
    }
  }
`,vd=({data:e})=>{const t=(0,a.useRef)(null),[n,r,i]=(0,N.useDialog)("cancellation-change-info"),{closeDialog:o,openDialog:c}=r,{content:s,trigger:m,primaryUIButton:d}=e,g=function(e){switch(e){case"HIGHLIGHT":return"positive";case"AGGRESSIVE":return"negative";default:return"default"}}(m.theme);return a.createElement(l.N,{padding:{blockstart:"three"}},a.createElement("div",null,a.createElement(L.K,{isVisible:n},a.createElement(i,null,a.createElement(pe.Q,{returnFocusOnClose:!0,dialogShow:n},a.createElement(ue.h,null,s.map((e,t)=>a.createElement($e.u,{key:`cc-d-p-${t}`,size:2},e)),d&&a.createElement(Ee.l,{key:"EGDSDialogFooter",stacked:!0},a.createElement(ye.q,{onClick:()=>{o(),t.current&&t.current.focus()}},d.primary||"")))))),a.createElement(ee.t,{theme:g},a.createElement("button",{type:"button",onClick:()=>c(),ref:t},m.value,a.createElement(z.LD,{name:"info_outline"})))))};vd.fragment=fd,vd.displayName="CancellationChange";var hd=i.gql`
  fragment LodgingChangeShoppingBannerTextFragment on LodgingChangeShoppingBannerText {
    ...EGDSPlainTextFragment
    ...EGDSStylizedTextFragment
  }

  ${s.Z37.fragment}
  ${s.Zb0.fragment}
`,Cd=({data:e})=>{switch(e.__typename){case"EGDSPlainText":return a.createElement(s.Zb0,{data:e});case"EGDSStylizedText":return a.createElement(s.Z37,{data:e});default:return null}};Cd.fragment=hd,Cd.displayName="LodgingChangeShoppingBannerText";var kd=i.gql`
  fragment LodgingErrorBannerFragment on LodgingChangeShoppingBanner {
    graphic {
      ...UIGraphicFragment
    }
    content {
      ...LodgingChangeShoppingBannerTextFragment
    }
  }

  ${s.Dvy.fragment}
  ${Cd.fragment}
`,Sd=({data:e})=>{const{graphic:t,content:n}=e;return t&&n?a.createElement(at.O,{theme:"critical"},a.createElement(r.X,{alignItems:"center",space:"four"},a.createElement(D.C,null,a.createElement(l.N,{margin:{inlinestart:"three"}},a.createElement(s.Dvy,{data:t}))),a.createElement(D.C,null,n.map((e,t)=>a.createElement(Cd,{key:`error-banner-text-${t}`,data:e}))))):null};Sd.fragment=kd,Sd.displayName="LodgingErrorBanner";var Id=i.gql`
  fragment LodgingChangeContentElementFragment on ShoppingProductContentElement {
    ... on ShoppingProductContent {
      header {
        icon {
          ...IconFragment
        }
        text
      }
      impressionAnalytics {
        linkName
        referrerId
      }
      items {
        ... on EGDSPlainText {
          text
        }
      }
    }
  }

  ${s.Int.fragment}
`,bd=({className:e,data:t})=>{var n,i;if("ShoppingProductContent"!==t.__typename)return null;const{header:c,items:m,impressionAnalytics:d}=t;return m.some(({__typename:e})=>"EGDSPlainText"===e)?a.createElement(o.IntersectionTracker,{trackOnce:!0,referrerId:null!=(n=null==d?void 0:d.referrerId)?n:"",linkName:null!=(i=null==d?void 0:d.linkName)?i:""},a.createElement(S.g,{className:e,border:!0,overflow:!0,padded:!0},a.createElement(r.X,null,(null==c?void 0:c.icon)&&a.createElement(D.C,null,a.createElement(l.N,{margin:{inlineend:"three"}},a.createElement(s.Int,{data:c.icon}))),a.createElement(D.C,{grow:1},a.createElement(r.X,{direction:"column",justifyContent:"space-between",space:"one"},a.createElement(D.C,null,a.createElement(a.Fragment,null,(null==c?void 0:c.text)&&a.createElement(E.M,{tag:"h3",size:7},c.text),m.map((e,t)=>"EGDSPlainText"===e.__typename&&a.createElement(x.D,{size:300,key:`info-card-text-${t}`},e.text))))))))):null};bd.fragment=Id,bd.displayName="LodgingChangeContentElement";var Pd=i.gql`
  fragment LodgingChangeContentElementGroupFragment on ShoppingProductContentElementGroup {
    elements {
      ...LodgingChangeContentElementFragment
    }
  }

  ${bd.fragment}
`,Dd=({className:e,data:{elements:t}})=>a.createElement(a.Fragment,null,t.map((t,n)=>a.createElement(bd,{data:t,key:`element-${n}`,className:e})));Dd.fragment=Pd,Dd.displayName="LodgingChangeContentElementGroup";var Td=i.gql`
  fragment LodgingChangeContentSubSectionFragment on ShoppingProductContentSubSection {
    elements {
      ...LodgingChangeContentElementGroupFragment
    }
    header {
      text
    }
  }

  ${Dd.fragment}
`,Ld=({data:{elements:e,header:t}})=>e.length?a.createElement(a.Fragment,null,t&&a.createElement(l.N,{margin:{blockstart:"six"}},a.createElement(E.M,{tag:"h2",size:6},t.text)),e.map((e,t)=>a.createElement(l.N,{margin:{blockstart:"four"},key:`element-${t}`},a.createElement(Dd,{data:e})))):null;Ld.fragment=Td,Ld.displayName="LodgingChangeContentSubSection";var _d=i.gql`
  fragment LodgingChangeContentSectionFragment on ShoppingProductContentSection {
    subSections {
      ...LodgingChangeContentSubSectionFragment
    }
  }

  ${Ld.fragment}
`,xd=({data:{subSections:e}})=>e.length?a.createElement(l.N,{padding:{blockstart:"one"}},a.createElement("div",{"data-stid":"messaging"},a.createElement(_.j,{blockMargin:"six"}),e.map((e,t)=>a.createElement(Ld,{data:e,key:`subsection-${t}`})))):null;xd.fragment=_d,xd.displayName="LodgingChangeContentSection";var Nd={listingsShown:{original:{title:!0,pricePlayback:!0,separator:!1,toggleButtonText:"alternate",criteriaPlaybackCard:!1},updated:{title:!0,pricePlayback:!1,criteriaPlaybackCard:!0},listings:{title:!0,pricePlayback:!1,criteriaPlaybackCard:!1}},listingsHidden:{original:{title:!0,pricePlayback:!0,separator:!0,toggleButtonText:"primary",criteriaPlaybackCard:!0},updated:{title:!1,pricePlayback:!0,criteriaPlaybackCard:!0}}},Rd={listingsShown:{original:{title:!0,pricePlayback:!0,separator:!0,criteriaPlaybackCard:!0},updated:{title:!0,pricePlayback:!0,criteriaPlaybackCard:!0,separator:!0},listings:{title:!0,pricePlayback:!1,criteriaPlaybackCard:!1}}},Ad=({accessibility:e,actionId:t,contentsList:n,children:r})=>{var l,i;const o=(0,y.pC)(t),c=((e,t)=>{const n=(0,y.RN)(e),a=null==t?void 0:t.find(e=>e.contentId===(null==n?void 0:n.contentId));return null==a?void 0:a.content})(t,n),s=(0,a.useRef)(null);if("PropertyUnit"===(null==c?void 0:c.__typename)){const n=(null==(i=null==(l=c.detailsDialog)?void 0:l.toolbar)?void 0:i.title)||"";return a.createElement(S.g,null,r,a.createElement(I.w,null,a.createElement("button",{type:"button",ref:s,onClick:o},e)),a.createElement(y.e3,{actionId:t,ref:s,sheetToolbar:{title:n,subtitle:null},centeredSheetSize:"medium"},a.createElement(V.Y,{padded:!1},a.createElement(Ga,{listing:c}))))}return r};Ad.displayName="ButtonWithDialog";var Fd=i.gql`
  fragment ClickableLodgingMicroCardFragment on LodgingMicroCard {
    accessibility
    actionId
    ...LodgingMicroCardFragment
  }

  ${s.NB0.fragment}
`,$d=({data:e,contentsList:t})=>{const{accessibility:n,actionId:r}=e;return r?a.createElement(Ad,{actionId:r,accessibility:n,contentsList:t},a.createElement(s.NB0,{data:e})):a.createElement(s.NB0,{data:e})};$d.fragment=Fd,$d.displayName="ClickableLodgingMicroCard";var Od=i.gql`
  fragment EGDSTextListItemFragment on EGDSTextListItem {
    ... on EGDSTextIconListItem {
      ...EGDSTextIconListItemFragment
    }
    ... on EGDSTextStandardListItem {
      ...EGDSTextStandardListItemFragment
    }
  }

  fragment EGDSTextIconListItemFragment on EGDSTextIconListItem {
    accessibilityLabel
    icon {
      id
    }
    subText
    text
    __typename
  }

  fragment EGDSTextStandardListItemFragment on EGDSTextStandardListItem {
    accessibilityLabel
    subText
    text
    __typename
  }
`,Md=({data:e})=>{const t=(e.__typename,e);return a.createElement(a.Fragment,null,a.createElement("div",{"aria-hidden":"true"},a.createElement(E.M,{tag:"h3"},t.text),a.createElement(l.N,{padding:{blockstart:"one"}},a.createElement(r.X,{alignItems:"center",space:"one"},a.createElement(D.C,null,a.createElement(x.D,null,t.subText))))),a.createElement("p",{className:"is-visually-hidden"},t.accessibilityLabel))};Md.fragment=Od,Md.displayName="EGDSTextListItem";var wd=i.gql`
  fragment CriteriaPlaybackFragment on LodgingCriteriaPlaybackItem {
    title
    criteria {
      ...EGDSTextListItemFragment
    }
  }

  ${Md.fragment}
`,Bd=({data:e})=>{const{title:t,criteria:n}=e;return a.createElement(r.X,{direction:"column",space:"three"},a.createElement(D.C,null,a.createElement(Re.s,{tag:"h2"},t)),a.createElement(D.C,null,a.createElement(rt.f,{columns:2},null==n?void 0:n.map((e,n)=>a.createElement(lt.S,{key:`${t}-${n}`},a.createElement(Md,{key:n,data:e}))))))};Bd.fragment=wd,Bd.displayName="CriteriaPlayback";var Ud=i.gql`
  fragment CriteriaPlaybackCardFragment on LodgingCriteriaPlaybackCard {
    primaryCriteria {
      ...CriteriaPlaybackFragment
    }
    secondaryCriteria {
      ...CriteriaPlaybackFragment
    }
  }

  ${Bd.fragment}
`,Gd=({data:e})=>{const{primaryCriteria:t,secondaryCriteria:n}=e;return t&&n?a.createElement(S.g,{border:!0,padded:!0},a.createElement(rt.f,{columns:2},a.createElement(lt.S,null,a.createElement(Bd,{data:t})),a.createElement(lt.S,null,a.createElement(Bd,{data:n})))):t?a.createElement(S.g,{border:!0,padded:!0},a.createElement("div",null,a.createElement(Bd,{data:t}))):null};Gd.fragment=Ud,Gd.displayName="CriteriaPlaybackCard";var zd=i.gql`
  fragment LodgingPricePresentationFragment on PricePresentation {
    title {
      primary
    }
    sections {
      ...LodgingPricePresentationSectionFragment
    }
    footer {
      header
      messages {
        ...ChangeShoppingPriceLineTextFragment
      }
    }
  }
  fragment LodgingPricePresentationSectionFragment on PricePresentationSection {
    header {
      name {
        primaryMessage {
          ...ChangeShoppingPriceLineTextFragment
        }
      }
      enrichedValue {
        primaryMessage {
          ...ChangeShoppingPriceLineTextFragment
        }
      }
    }
    subSections {
      ...ChangeShoppingPricePresentationSubSectionFragment
    }
  }
  fragment ChangeShoppingPricePresentationSubSectionFragment on PricePresentationSubSection {
    header {
      name {
        primaryMessage {
          __typename
          ... on PriceLineText {
            primary
          }
        }
      }
      enrichedValue {
        ...LodgingPricePresentationLineItemEntryFragment
      }
    }
    items {
      ...ChangeShoppingPricePresentationLineItemFragment
    }
  }
  fragment ChangeShoppingPricePresentationLineItemFragment on PricePresentationLineItem {
    enrichedValue {
      ...LodgingPricePresentationLineItemEntryFragment
    }
    name {
      ...LodgingPricePresentationLineItemEntryFragment
    }
  }
  fragment LodgingPricePresentationLineItemEntryFragment on PricePresentationLineItemEntry {
    primaryMessage {
      ...ChangeShoppingPriceLineHeadingFragment
      ...ChangeShoppingPriceLineTextFragment
    }
    secondaryMessages {
      ...ChangeShoppingPriceLineHeadingFragment
      ...ChangeShoppingPriceLineTextFragment
    }
  }
  fragment ChangeShoppingPriceLineTextFragment on PriceLineText {
    __typename
    theme
    primary
    weight
    icon {
      id
      description
      size
    }
    graphic {
      ...ChangeShoppingUIGraphicFragment
    }
    additionalInfo {
      __typename
      ...AdditionalInformationPopoverFragment
    }
  }
  fragment ChangeShoppingUIGraphicFragment on UIGraphic {
    ... on Icon {
      ...IconFragments
    }
    ... on Mark {
      ...MarkFragments
    }
    ... on Illustration {
      ...IllustrationFragments
    }
  }
  fragment IconFragments on Icon {
    description
    id
    size
    theme
    title
    withBackground
  }
  fragment MarkFragments on Mark {
    description
    id
    markSize: size
    url {
      ... on HttpURI {
        __typename
        relativePath
        value
      }
    }
  }
  fragment IllustrationFragments on Illustration {
    description
    id
    link: url
  }
  fragment ChangeShoppingPriceLineHeadingFragment on PriceLineHeading {
    __typename
    primary
    tag
    size
    icon {
      id
      description
      size
    }
  }
`,Hd=({data:e,loading:t})=>a.createElement(Se.iR,{"data-stid":"price-presentation",data:e,loading:t});Hd.fragment={...zd,__typename:"PricePresentation"},Hd.displayName="LodgingPricePresentation";var Vd=i.gql`
  fragment LodgingPricePresentationExpandoFragment on LodgingPricePresentationExpando {
    collapsedAnalytics {
      ...ClientSideAnalyticsFragment
    }
    collapsedLabel {
      ...ChangeShoppingPricePresentationLineItemFragment
    }
    expandedAnalytics {
      ...ClientSideAnalyticsFragment
    }
    expandedLabel {
      ...ChangeShoppingPricePresentationLineItemFragment
    }
  }

  ${s.hth}
`,qd=(e,t)=>e||t,Kd=({id:e,collapsedLabel:t,data:{expandedLabel:n,collapsedLabel:i,expandedAnalytics:c,collapsedAnalytics:s},expandedLabel:m,children:d})=>{const g=(0,a.useMemo)(()=>qd(t,i),[t,i]),u=(0,a.useMemo)(()=>qd(m,n),[m,n]),p=(0,o.useClickTracker)(),[E,y]=(0,a.useState)(!1),[f,v]=(0,a.useState)(E?u:g),h=()=>{E?(s&&p(s.referrerId,s.linkName),v(g)):(c&&p(c.referrerId,c.linkName),v(u)),y(e=>!e),setTimeout(()=>{const t=document.getElementById(e);t&&t.focus()})},C=a.useCallback(h,[E,g,u]);return a.createElement(S.g,{border:!0},a.createElement(l.N,{className:"uitk-expando-trigger-content",padding:"three"},a.createElement(r.X,{alignItems:"center",space:"two",onClick:C,role:"button","aria-expanded":E,tabIndex:0,id:e,onKeyUp:e=>{"Enter"!==e.key&&" "!==e.key||h()}},a.createElement(D.C,null,a.createElement("div",null,a.createElement(z.LD,{name:E?"expand_less":"expand_more",className:E?"expand_less_price_presentation":"expand_more_price_presentation"}))),a.createElement(D.C,{grow:1},a.createElement(O.E,{padded:!1},a.createElement(it.yg,{overflow:!1},a.createElement(ot.u,null,f)))))),E&&a.createElement(O.E,{className:"expando-content",border:"top"},d))};Kd.fragment=Vd,Kd.displayName="LodgingPricePresentationExpando";var Wd=i.gql`
  fragment PricePlaybackDetailsFragment on LodgingChangePriceDetails {
    content {
      ...LodgingPricePresentationFragment
    }
    expando {
      ...LodgingPricePresentationExpandoFragment
    }
  }
  ${Hd.fragment}
  ${Kd.fragment}
`,Xd=({id:e,data:t})=>{const{content:n,expando:r}=t;return a.createElement("div",{className:"uitk-expando-list"},r&&n&&a.createElement(Kd,{id:e,collapsedLabel:a.createElement(Se.NV,{data:null==r?void 0:r.collapsedLabel}),data:r,expandedLabel:a.createElement(Se.NV,{data:null==r?void 0:r.expandedLabel})},a.createElement(Hd,{data:n})))};Xd.fragment=Wd,Xd.displayName="PricePlaybackDetails";var Yd={UIPrimaryButton:C.y,UISecondaryButton:ce.y,UITertiaryButton:ye.q},Qd=({data:e})=>{var t;const{button:n,toggledText:r}=e,{sectionDisplayStates:l,listingsDisplayed:i,setListingsDisplayed:c}=yd(),m=(0,o.useClickTracker)(),d="alternate"===(null==(t=null==l?void 0:l.original)?void 0:t.toggleButtonText)?r:n.primary,g=n.icon,u=g&&!i,p=Yd[n.__typename];return a.createElement(p,{onClick:()=>{if(c(e=>!e),n.analytics){const{referrerId:e,linkName:t}=n.analytics;m(e,t)}},size:k.V.LARGE},d,u&&a.createElement(s.TQy,{data:g}))};Qd.displayName="ListingsToggleButton";var jd=i.gql`
  fragment LodgingChangePlaybackButtonFragment on LodgingChangePlaybackButton {
    action
    button {
      ... on UIPrimaryButton {
        primary
        analytics {
          ...ClientSideAnalyticsFragment
        }
        icon {
          ...LodgingEGDSIconFragment
        }
      }
      ... on UISecondaryButton {
        primary
        analytics {
          ...ClientSideAnalyticsFragment
        }
        icon {
          ...LodgingEGDSIconFragment
        }
      }
      ... on UITertiaryButton {
        primary
        analytics {
          ...ClientSideAnalyticsFragment
        }
        icon {
          ...LodgingEGDSIconFragment
        }
      }
    }
    toggledText
  }
  ${s.hth}
  ${s.TQy.fragment}
`,Jd=({data:e})=>{const{action:t}=e;return"toggleListings"===t?a.createElement(Qd,{data:e}):null};Jd.fragment=jd,Jd.displayName="LodgingChangeListings";var Zd=i.gql`
  fragment DetailsDisclaimerFragment on LodgingChangeShoppingBanner {
    graphic {
      ...UIGraphicFragment
    }
    content {
      ...LodgingChangeShoppingBannerTextFragment
    }
  }

  ${s.Dvy.fragment}
  ${Cd.fragment}
`,eg=({data:e})=>{const{graphic:t,content:n}=e;return t&&n?a.createElement(S.g,{border:!0,padded:!0},a.createElement(r.X,null,a.createElement(D.C,{alignSelf:"center",grow:0},a.createElement(O.E,{padded:["blockstart","blockend","inlinestart"]},a.createElement(l.N,{margin:{inlineend:"four"}},a.createElement(s.Dvy,{data:t})))),a.createElement(D.C,{alignSelf:"center",grow:1},a.createElement(O.E,{padded:!0},n.map((e,t)=>a.createElement(Cd,{key:`error-banner-text-${t}`,data:e})))))):null};eg.fragment=Zd,eg.displayName="DetailsDisclaimer";var tg=i.gql`
  fragment LodgingChangeListingsFragment on LodgingChangeListings {
    listings {
      ...PropertyUnitCategorizationFragment
    }
    banner {
      ...DetailsDisclaimerFragment
    }
  }

  ${Ao}
  ${eg.fragment}
`,ng=({data:e,propertyId:t})=>{const{banner:n,listings:r}=e;return a.createElement(a.Fragment,null,n&&a.createElement(eg,{data:n}),a.createElement(Oo,{listings:r,propertyId:null!=t?t:"",useInlineMargin:!1}))};ng.fragment=tg,ng.displayName="LodgingChangeListings";var ag=i.gql`
  fragment LodgingChangePlaybackSectionFragment on LodgingChangePlaybackSection {
    sectionId
    title
    separator {
      graphic {
        ... on Icon {
          id
          description
        }
      }
      accessibilityLabel
    }
    items {
      ...CriteriaPlaybackCardFragment
      ...LodgingChangeListingsFragment
      ...LodgingChangePlaybackButtonFragment
      ...ClickableLodgingMicroCardFragment
      ...LodgingMicroCardFragment
      ...PricePlaybackDetailsFragment
    }
  }

  ${Gd.fragment}
  ${ng.fragment}
  ${Jd.fragment}
  ${$d.fragment}
  ${s.NB0.fragment}
  ${Xd.fragment}
`,rg=({data:e,propertyId:t,sectionIdx:n,contents:i=[],sectionDisplayState:o})=>{var c;const{sectionId:s,title:m,items:d,separator:g}=e,{listingsDisplayed:u,sectionDisplayStates:p}=yd(),y=null!=o?o:null==p?void 0:p[s],f=e=>a.createElement(l.N,{padding:{blockend:"three"}},a.createElement(D.C,null,e)),v=null==d?void 0:d.map((e,r)=>{switch(e.__typename){case"LodgingChangeListings":return u&&f(a.createElement(ng,{data:e,propertyId:t}));case"LodgingChangePriceDetails":return(null==y?void 0:y.pricePlayback)&&f(a.createElement(Xd,{id:`price-expando-${n}-${r}`,data:e}));case"LodgingCriteriaPlaybackCard":return(null==y?void 0:y.criteriaPlaybackCard)&&f(a.createElement(Gd,{data:e}));case"LodgingChangePlaybackButton":return f(a.createElement(Jd,{data:e}));case"LodgingMicroCard":return f(a.createElement($d,{data:e,contentsList:i}));default:return null}}).filter(Boolean);if(!(null==v?void 0:v.length))return null;const h="Icon"===(null==(c=null==g?void 0:g.graphic)?void 0:c.__typename)?a.createElement(D.C,{alignSelf:"center"},a.createElement(z.LD,{title:g.accessibilityLabel||"",name:g.graphic.id})):a.createElement("div",null);return a.createElement(l.N,{padding:{blockstart:"three"}},a.createElement(r.X,{direction:"column",alignItems:"stretch",space:"four"},m&&(null==y?void 0:y.title)&&a.createElement(E.M,{size:6,tag:"h2"},m),v,(null==y?void 0:y.separator)&&g&&h))};rg.fragment=ag,rg.displayName="LodgingChangeListings";var lg=i.gql`
  fragment TotalDifferenceFragment on PricePresentationSection {
    header {
      name {
        ...TotalDifferenceLineItemEntryFragment
      }
      enrichedValue {
        ...TotalDifferenceLineItemEntryFragment
      }
      accessibilityLabel
    }
  }

  fragment TotalDifferenceLineItemEntryFragment on PricePresentationLineItemEntry {
    primaryMessage {
      ... on PriceLineHeading {
        primary
      }
    }
  }
`,ig=({data:e})=>{if(!e.header)return null;const{name:t,enrichedValue:n,accessibilityLabel:i}=e.header;return n&&"PriceLineHeading"===t.primaryMessage.__typename&&"PriceLineHeading"===n.primaryMessage.__typename?a.createElement(a.Fragment,null,a.createElement(l.N,{padding:{blockstart:"six"}},a.createElement("div",{"aria-hidden":"true"},a.createElement(r.X,{justifyContent:"space-between"},a.createElement(D.C,null,a.createElement(E.M,{tag:"h2",size:6},t.primaryMessage.primary)),a.createElement(D.C,null,a.createElement(E.M,{tag:"h2",size:6},n.primaryMessage.primary))))),a.createElement("span",{className:"is-visually-hidden"}," ",i," ")):null};ig.fragment=lg,ig.displayName="TotalDifference";var og=i.gql`
  query ChangeShoppingQuery(
    $context: ContextInput!
    $tripId: String!
    $orderNumber: String
    $orderLineNumber: String
    $searchCriteria: PropertySearchCriteriaInput!
    $changeType: String
    $shoppingPath: ShoppingPathType
  ) {
    changeOffers(
      context: $context
      tripId: $tripId
      orderNumber: $orderNumber
      orderLineNumber: $orderLineNumber
      searchCriteria: $searchCriteria
      changeType: $changeType
      shoppingPath: $shoppingPath
    ) {
      comboChangeType
      propertyId
      title
      subtitle
      banner {
        ...LodgingErrorBannerFragment
      }
      callToAction {
        ...ChangeOfferCallToActionFragment
      }
      changeYourOptionsLink {
        action {
          analytics {
            linkName
            referrerId
          }
          accessibility
        }
      }
      changePlaybackSections {
        ...LodgingChangePlaybackSectionFragment
      }
      cancellationChange {
        ...CancellationChangeFragment
      }
      totalDifference {
        ...TotalDifferenceFragment
      }
      messaging {
        ...LodgingChangeContentSectionFragment
      }
      disclaimer {
        ...EGDSStandardMessagingCardFragment
      }
      errorRedirectUrlPath
      impressionAnalytics {
        event
        linkName
        referrerId
      }
      listings {
        ...PropertyUnitCategorizationFragment
      }
      contents {
        contentId
        content {
          ... on PropertyUnit {
            ...PropertyUnitFragment
          }
        }
      }
      shoppingJoinListContainer {
        ...ShoppingJoinListContainerFragment
      }
    }
  }

  ${y._Q}
  ${Kr.fragment}
  ${rg.fragment}
  ${vd.fragment}
  ${ig.fragment}
  ${xd.fragment}
  ${Sd.fragment}
  ${s.T5e.fragment}
  ${sd.fragment}
`,cg=e=>{const{inputs:t,skipSsr:n,errorRedirection:r}=e,{context:l}=(0,de.R)(),c=(0,o.useClickTracker)(),{config:m,setConfig:d}=ud(),g={...t,context:l},{data:u,error:p,loading:E}=(0,i.useQuery)(og,{context:{shouldLogPerformance:!0},variables:g,ssr:!n,fetchPolicy:"no-cache"}),{changeType:y}=t;return(0,a.useEffect)(()=>{var e,t;if(!E){if(null==(e=null==u?void 0:u.changeOffers)?void 0:e.changeYourOptionsLink){const{analytics:e,accessibility:t}=u.changeOffers.changeYourOptionsLink.action;d({...m,backToCLP:{...m.backToCLP||md,actionAnalyticsCallback:()=>c(e.referrerId,e.linkName),accessibility:t}})}if(window&&r){if(p||!u){const e={errorType:"technical",errorMessage:(null==p?void 0:p.message)||""};r(window.location,void 0,e)}(null==(t=null==u?void 0:u.changeOffers)?void 0:t.errorRedirectUrlPath)&&r(window.location,u.changeOffers.errorRedirectUrlPath,void 0)}}},[E,u]),y?E?a.createElement(s.qc2,null):(null==u?void 0:u.changeOffers)?a.createElement(sg,{changeType:y,changeOffers:u.changeOffers}):null:null};cg.displayName="sharedui-ChangeShopping";var sg=({changeType:e,changeOffers:t})=>{var n,r,i,c,m,d;const{comboChangeType:g}=t,p="ROOM"===e||"UPGRADE_ROOM"===e||"INVOLUNTARY"===g||"DEFAULT"===g,[f,v]=(0,a.useState)(p),h="DEFAULT"===g?Rd:Nd,C=f?h.listingsShown:h.listingsHidden,S=(0,a.useMemo)(()=>({listingsDisplayed:f,setListingsDisplayed:v,sectionDisplayStates:C}),[f,v,C]);return a.createElement(o.IntersectionTracker,{trackOnce:!0,referrerId:null!=(r=null==(n=null==t?void 0:t.impressionAnalytics)?void 0:n.referrerId)?r:"",linkName:null!=(c=null==(i=null==t?void 0:t.impressionAnalytics)?void 0:i.linkName)?c:""},t.disclaimer&&a.createElement(s.T5e,{data:t.disclaimer,showBorder:!1}),t.banner&&a.createElement(Sd,{data:t.banner}),t.title&&a.createElement(l.N,{margin:{blockstart:t.banner||t.disclaimer?"six":void 0}},a.createElement(E.M,{tag:"h1",size:4,typeStyle:{customStyle:"headline-large"}},t.title)),t.subtitle&&a.createElement(l.N,{margin:{block:"three"}},a.createElement($e.u,null,t.subtitle)),a.createElement(u.p,{tnlFields:[]},a.createElement(y._T,{id:"change-shopping",shoppingJoinListContainer:t.shoppingJoinListContainer},null==(m=t.changePlaybackSections)?void 0:m.map((e,n)=>a.createElement(Ed.Provider,{value:S,key:`section-${n}`},a.createElement(rg,{data:e,propertyId:t.propertyId||"",sectionIdx:n,contents:t.contents}))))),!f&&a.createElement(a.Fragment,null,"LodgingPlainDialog"===(null==(d=t.cancellationChange)?void 0:d.__typename)&&a.createElement(vd,{data:t.cancellationChange}),t.totalDifference&&a.createElement(ig,{data:t.totalDifference}),t.messaging&&a.createElement(xd,{data:t.messaging}),t.callToAction&&a.createElement(l.N,{margin:{blockstart:"six"}},a.createElement(Kr,{data:t.callToAction,isFullWidth:!0,size:k.V.LARGE}))))};sg.displayName="sharedui-ChangeShoppingComponent";var mg={backToCLP:{actionDestinationResolver:e=>{const t=new URLSearchParams(e.search),n=t.get("tripId"),a=t.get("orderNumber"),r=t.get("orderLineId");if(n&&a&&r)return{pathname:"/booking-servicing/lodging/voluntary/change",search:`?tripId=${n}&orderNumber=${a}&orderLineId=${r}`}},actionElementId:"back-to-clp"}},dg=({actionName:e})=>{const t=ud().config[e],n=(0,De.zy)(),r=(0,De.Zp)();if(!t)return null;const{actionDestinationResolver:i,actionElementId:o,actionAnalyticsCallback:c,accessibility:s}=t,m=i(n);if(!m)return null;const d="string"==typeof m?{children:a.createElement(l.N,{padding:"one"},a.createElement("div",null,a.createElement(l.N,{padding:"half"},a.createElement("div",null,a.createElement(ye.q,{id:o,href:m,tag:"a",onClick:c,"aria-label":null!=s?s:""},a.createElement(z.LD,{name:"arrow_back",size:z.So.MEDIUM}))))))}:{navigationContent:{navType:"back",onClick:()=>{c&&c(),r(m)},navButtonId:o,navIconLabel:null!=s?s:void 0}};return a.createElement(q.p,{...d})};function gg(e,t,n){e&&(t?e.replace(`${e.origin}${t}`):e.replace(function(e,t){const{origin:n,pathname:a,search:r}=e,l=`${a}/error`,i=new URLSearchParams(r),o={errorType:(null==t?void 0:t.errorType)||"technical",errorMessage:(null==t?void 0:t.errorMessage)&&encodeURIComponent(null==t?void 0:t.errorMessage),checkInDate:i.get("checkin"),checkOutDate:i.get("checkout"),backNavigation:`${a}?bspwa=true`},c=["checkin","checkout"];Object.keys(o).forEach(e=>i.append(e,o[e]||"")),c.forEach(e=>i.delete(e));const s=i.toString();return`${n}${l}?${s}`}(e,n)))}dg.displayName="sharedui-NavigationToolbar";var ug=()=>a.createElement(S.g,null,a.createElement(l.N,{padding:"six"},a.createElement(r.X,{direction:"column",space:"six"},a.createElement(He.l,null),a.createElement(rt.f,{columns:2},a.createElement(He.l,{type:"secondary"}),a.createElement(He.l,{type:"secondary"}))))),pg=()=>a.createElement(S.g,null,a.createElement(l.N,{padding:"six"},a.createElement(r.X,{justifyContent:"space-between"},a.createElement(He.l,null),a.createElement(He.l,{type:"secondary"})))),Eg=e=>{const{showOriginal:t,showUpdated:n}=e;return a.createElement("div",{"data-test-id":"lodging-booking-playback-skeleton"},a.createElement(r.X,{direction:"column",space:"six"},t&&a.createElement(pg,null),t&&a.createElement(ug,null),n&&a.createElement(ug,null),n&&a.createElement(pg,null)))},yg=i.gql`
  query LodgingBookingPlaybackQuery(
    $context: ContextInput!
    $changeType: String
    $tripId: String!
    $offerKey: PropertyNaturalKeyInput
    $playbackType: LodgingBookingPlaybackType
  ) {
    lodgingBookingPlayback(context: $context, changeType: $changeType, tripId: $tripId, offerKey: $offerKey, playbackType: $playbackType) {
      changePlaybackSections {
        ...LodgingChangePlaybackSectionFragment
      }
    }
  }

  ${rg.fragment}
`,fg=({inputs:e,hidePricePlayback:t=!1,skipSsr:n,onLoad:r})=>{const{context:l}=(0,de.R)(),o={...e,context:l},{data:c,error:s,loading:m}=(0,i.useQuery)(yg,{context:{useApq:!0,shouldLogPerformance:!0},variables:o,ssr:!n});if(a.useEffect(()=>{var e,t,n,a;if(!m){const l=null==(a=null==(n=null==(t=null==(e=null==c?void 0:c.lodgingBookingPlayback)?void 0:e.changePlaybackSections)?void 0:t[0])?void 0:n.items)?void 0:a.find(e=>"LodgingChangePriceDetails"===e.__typename);null==r||r(!s&&!!(null==c?void 0:c.lodgingBookingPlayback),null!=l?l:void 0)}},[m,s,c,r]),m||s||!(null==c?void 0:c.lodgingBookingPlayback))return a.createElement(Eg,{showOriginal:!!e.tripId,showUpdated:!!e.offerKey});const{changePlaybackSections:d}=c.lodgingBookingPlayback,g={title:!0,pricePlayback:!t,separator:!0,criteriaPlaybackCard:!0};return a.createElement(a.Fragment,null,null==d?void 0:d.map((e,t)=>a.createElement(rg,{key:e.sectionId,data:e,propertyId:"",sectionIdx:t,sectionDisplayState:g})))};fg.displayName="sharedui-LodgingBookingPlayback";var vg=i.gql`
  fragment ChangeShoppingNavigationLinkActionFragment on UILinkAction {
    accessibility
    analytics {
      referrerId
      linkName
    }
    resource {
      value
    }
  }
`,hg=(e,t,n)=>{const{config:r,setConfig:l}=ud(),i=(0,o.useClickTracker)();(0,a.useEffect)(()=>{if(e){const{accessibility:a,analytics:o,resource:c}=e;l({...r,[n]:{accessibility:a,actionAnalyticsCallback:()=>i(o.referrerId,o.linkName),actionDestinationResolver:()=>c.value,actionElementId:t}})}},[t,n,e])};i.gql`
  query ChangeOffersQuery($context: ContextInput!, $tripId: String!, $searchCriteria: PropertySearchCriteriaInput!, $changeType: String) {
    changeOffers(context: $context, tripId: $tripId, searchCriteria: $searchCriteria, changeType: $changeType) {
      listings {
        ...PropertyUnitCategorizationFragment
      }
    }
  }

  ${Ao}
`,i.gql`
  query ChangeCurrentRoomQuery($context: ContextInput!, $tripId: String!, $searchCriteria: PropertySearchCriteriaInput!, $changeType: String) {
    changeOffers(context: $context, tripId: $tripId, searchCriteria: $searchCriteria, changeType: $changeType) {
      currentRoom {
        ...ClickableLodgingMicroCardFragment
      }
      contents {
        contentId
        content {
          ... on PropertyUnit {
            ...PropertyUnitFragment
          }
        }
      }
      shoppingJoinListContainer {
        ...ShoppingJoinListContainerFragment
      }
    }
  }

  ${$d.fragment}
  ${sd.fragment}
  ${y._Q}
`,i.gql`
  query BasicPropertyOffersQuery(
    $context: ContextInput!
    $propertyId: String!
    $searchCriteria: PropertySearchCriteriaInput
    $shoppingContext: ShoppingContextInput
    $searchOffer: SearchOfferInput
  ) {
    propertyOffers(
      context: $context
      propertyId: $propertyId
      searchCriteria: $searchCriteria
      searchOffer: $searchOffer
      shoppingContext: $shoppingContext
    ) {
      listingsHeader {
        ...LodgingHeaderFragment
      }
      offerFilters {
        ...LodgingOfferFiltersFragment
      }
      shoppingContext {
        ...ShoppingContextFragment
      }
      tnlFields {
        key
        value
      }
      ...ListingsFragment
      ...OfferDetailsShoppingActionPatternFragment
      ...PropertyIdFragment
    }
  }

  ${wo.fragment}
  ${s.uZW.fragment}
  ${p.Wt.fragment}
  ${d.mf.fragment}
  ${Sa.fragment}
  ${d.CW}
`,i.gql`
  query RoomDetailsQuery(
    $context: ContextInput!
    $propertyId: String!
    $searchCriteria: PropertySearchCriteriaInput
    $shoppingContext: ShoppingContextInput
    $travelAdTrackingInfo: PropertyTravelAdTrackingInfoInput
    $searchOffer: SearchOfferInput
    $referrer: String
  ) {
    propertyOffers(
      context: $context
      propertyId: $propertyId
      referrer: $referrer
      searchCriteria: $searchCriteria
      searchOffer: $searchOffer
      shoppingContext: $shoppingContext
      travelAdTrackingInfo: $travelAdTrackingInfo
    ) {
      units {
        ...PropertyUnitFragment
      }
      ...PropertyIdFragment
    }
  }

  ${Sa.fragment}
  ${sd.fragment}
`}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/shopping-pwa/shared-ui-lodging-property-offers.b8affed4689827682493.js.map