/*@license For license information please refer to shared-ui-retail-search-tools-product.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[8110],{65175:function(e,t,a){a.d(t,{EB:function(){return Wc},GR:function(){return qp},GT:function(){return Xo},Hb:function(){return Ve},Rn:function(){return He},XU:function(){return Gu},Z0:function(){return zp}});var n=a(56195),l=a(92919),r=a(42534),i=a(23101),o=a(76462),c=a(23726),s=a(4149),d=a(46559),u=a(26690),m=a(64341),p=a(63085),y=a(32462),_=a(2557),S=a(4162),g=a(96924),E=a(468),v=a(97778),h=a(86405),D=a(2533),f=a(96895),T=a(87698),C=a(9010),b=a(36145),I=a(1226),A=a(87818),F=(a(24109),a(522)),O=a(99828),k=a(49858),G=a(73492),R=a(47540),L=a(58624),P=a(37292),N=a(74071),M=a(27102),x=a(51537),B=a(87993),$=a(80240),W=a(53017),w=a(68034),U=a(11116),H=a(69768),V=a(90237),q=a(14986),z=a(51213),Y=a(69287),K=a(70882),j=a(18174),X=a(95519),Q=a(7484),Z=a(89438),J=a(43888),ee=a(934),te=a(33121),ae=a(4664),ne=a(39938),le=a(12389),re=a(53877),ie=a(25229),oe=a(70833),ce=a(87179),se=a(36327),de=a(56934),ue=a(34014),me=a(60156),pe=a(93870),ye=a(52986),_e=a(10295),Se=a(79216),ge=a(34372),Ee=a(50734),ve=a(82319),he=a(18704),De=a(28230),fe=a(66862),Te=a(76580),Ce=a(22272),be=a(11683),Ie=a(17396),Ae=a(71061),Fe=a(72402),Oe=a(63744),ke=a(52174),Ge=a(33500),Re=a(10582),Le=a(38101),Pe=a(30169),Ne=a(7138),Me=a(22142),xe=a(96870),Be=e=>{const[t,a]=n.useState(!1),{children:l}=e;return n.createElement(o.D,{zIndex:500,onFixed:e=>{a(e)}},n.createElement(c.p,{elevation:t?"floating":"default",toolbarType:t?"standard":"transparent"},n.createElement(s.s,{layout:"fullwidth",canvasTheme:t?"primary":"none",paddedViewRow:!1},n.createElement(r.N,{padding:{block:"four",inline:t?"three":void 0}},n.createElement("div",{"data-stid":"sticky-search-form"},l)))),!t&&n.createElement(r.N,{padding:"six"},n.createElement("div",null)))},$e=(e=>(e.LOWER="LOWER",e.UPPER="UPPER",e))($e||{}),We=(e=>(e.DAY="DAY",e.MONTH="MONTH",e.WEEK="WEEK",e.WEEKEND="WEEKEND",e))(We||{}),we=(e=>(e.MULTI_DESTINATION="MULTI_DESTINATION",e.ONE_WAY="ONE_WAY",e.ROUND_TRIP="ROUND_TRIP",e))(we||{}),Ue=(e=>(e.FROM_AIRPORT="FROM_AIRPORT",e.ROUNDTRIP="ROUNDTRIP",e.TO_AIRPORT="TO_AIRPORT",e))(Ue||{}),He=(e=>(e.FLIGHT_CAR="FLIGHT_CAR",e.FLIGHT_HOTEL="FLIGHT_HOTEL",e.FLIGHT_HOTEL_CAR="FLIGHT_HOTEL_CAR",e.HOTEL_ACTIVITY="HOTEL_ACTIVITY",e.HOTEL_CAR="HOTEL_CAR",e))(He||{}),Ve=(e=>(e.CFAR_DETAILS="CFAR_DETAILS",e.CHECKOUT="CHECKOUT",e.CHECKOUT_ERROR="CHECKOUT_ERROR",e.CONFIRMATION="CONFIRMATION",e.DETAILS="DETAILS",e.ENTRY="ENTRY",e.FEATURES="FEATURES",e.INSURANCE_DETAILS="INSURANCE_DETAILS",e.ITINERARY="ITINERARY",e.PAYMENT_ERROR="PAYMENT_ERROR",e.POST_BOOKING="POST_BOOKING",e.SEARCH_RESULTS="SEARCH_RESULTS",e.SYSTEM="SYSTEM",e.USER="USER",e))(Ve||{}),qe=["localhost","wwwexpediacom","shared-ui.expedia.biz"],ze=e=>{const{children:t}=e,a=qe.includes(window.location.hostname);return n.createElement(n.Fragment,null,a&&n.createElement(r.N,{margin:{blockend:"three"}},n.createElement(y.G,{theme:"warning",text:"Fallback is in use"},n.createElement(_.LD,{size:_.So.MEDIUM,name:"warning"}))),t)};ze.displayName="FallbackBadge";var Ye=(e=>(e.BOTTOM="BOTTOM",e.CENTERED="CENTERED",e.FULLSCREEN="FULLSCREEN",e.POPOVER="POPOVER",e.SIDE="SIDE",e))(Ye||{}),Ke=u.gql`
  fragment IconFragment on Icon {
    id
    title
    token
    description
    size
  }
`,je={EXTRA_SMALL:_.So.EXTRA_SMALL,SMALL:_.So.SMALL,MEDIUM:_.So.MEDIUM,MEDIUM_LARGE:_.So.MEDIUM,LARGE:_.So.LARGE,XLARGE:_.So.XLARGE},Xe=e=>{const{data:t,uniqueId:a}=e,{id:l,title:r,description:i,size:o}=t,c=(0,f.D4)(),s=a||l||c,d=je[null!=o?o:"LARGE"];return n.createElement(_.LD,{id:s,name:l,title:null!=r?r:i,description:i,size:d})};Xe.displayName="Icon",Xe.fragment=Ke;var Qe=u.gql`
  fragment MarkFragment on Mark {
    description
    id
    url {
      ... on HttpURI {
        __typename
        value
      }
    }
  }
`,Ze=({data:e,className:t,size:a})=>{var l,r;return n.createElement(T.D,{className:t,id:e.id,name:e.id,description:e.description,url:null!=(r=null==(l=e.url)?void 0:l.value)?r:void 0,size:a})};Ze.displayName="Mark",Ze.fragment=Qe;var Je=u.gql`
  fragment UIGraphicFragment on UIGraphic {
    ... on Icon {
      ...IconFragment
    }

    ... on Mark {
      ...MarkFragment
    }
  }
  ${Xe.fragment}
  ${Ze.fragment}
`,et=({data:e,markOptions:t})=>{switch(e.__typename){case"Icon":return n.createElement(Xe,{data:e});case"Mark":return n.createElement(Ze,{data:e,...t});default:return null}};et.displayName="UIGraphic",et.fragment=Je;var tt=u.gql`
  fragment SearchFormProductSelectorFragment on SearchFormProductSelector {
    products {
      ...SearchFormProductFragment
    }
    showPictograms
  }

  fragment SearchFormProductFragment on SearchFormProduct {
    clickAnalytics {
      linkName
      referrerId
    }
    id
    label
    selected
    type
    targetURI
    graphic {
      ...UIGraphicFragment
    }
  }

  ${et.fragment}
`,at=e=>{const{data:t,initialSelectedProduct:a,onProductTypeSelection:l}=e,{products:i,showPictograms:o}=t,c=(0,v.useClickTracker)(),{publish:s}=(0,h.Yj)(),u=i.findIndex(({type:e})=>e===a),[m,p]=n.useState(-1!==u?u:0),y={selectedTab:m,onTabSelect:e=>{const{clickAnalytics:t,type:a,targetURI:n}=i[e];if(t){const{linkName:e,referrerId:a}=t;c(a,e)}if(null==n?void 0:n.startsWith("http"))return void window.open(n,"_blank");const r={lineOfBusiness:i[e].type};s(new D.P6(D._8,r)),p(e),l(a)},tabsType:S.D0.NATURAL,targetURI:"",tabAnchorType:o?g.H.GRAPHIC:g.H.DEFAULT},_=i.map((e,t)=>{const{id:a,label:l,targetURI:i,graphic:c}=e,s=o&&"Mark"===(null==c?void 0:c.__typename)?n.createElement(r.N,{margin:{blockstart:"four"},padding:{blockstart:"one"}},n.createElement("div",null,n.createElement(et,{data:c,markOptions:{size:12}}))):void 0;return n.createElement(E.e,{key:t,id:null!=a?a:void 0,name:l,targetURI:null!=i?i:"",graphic:s})});return n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(S.NX,{...y},_)),n.createElement(d.rw,null,n.createElement(S.NX,{className:"uitk-card-roundcorner-top-left uitk-card-roundcorner-top-right",...y,centerAlign:!0},_)))};at.displayName="SearchFormProductSelector",at.fragment=tt;var nt={SEARCH_TOOLS_PRODUCT_SELECTOR_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_PRODUCT_SELECTOR_QUERY_FAILURE"),SEARCH_TOOLS_PRODUCT_SELECTOR_SINGLE_PRODUCT_RENDER:new p.SystemEvent(p.SystemEventLevel.INFO,"SEARCH_TOOLS_PRODUCT_SELECTOR_SINGLE_PRODUCT_RENDER")},lt={__typename:"SearchFormProductSelector",showPictograms:null,products:[{clickAnalytics:{linkName:"Lodging search form selected",referrerId:"Web.SearchForm.Product.Selector.Lodging.Click",__typename:"ClientSideAnalytics"},id:"search_form_product_selector_lodging",label:"Stays",selected:!0,targetURI:"/Hotels",type:"LODGING",__typename:"SearchFormProduct",graphic:null},{clickAnalytics:{linkName:"Flights search form selected",referrerId:"Web.SearchForm.Product.Selector.Flights.Click",__typename:"ClientSideAnalytics"},id:"search_form_product_selector_flights",label:"Flights",selected:!1,targetURI:"/Flights",type:"FLIGHTS",__typename:"SearchFormProduct",graphic:null},{clickAnalytics:{linkName:"Cars search form selected",referrerId:"WebSearchForm.Product.Selector.Cars.Click",__typename:"ClientSideAnalytics"},id:"search_form_product_selector_cars",label:"Cars",selected:!1,targetURI:"/Cars",type:"CARS",__typename:"SearchFormProduct",graphic:null},{clickAnalytics:{linkName:"Packages search form selected",referrerId:"Web.SearchForm.Product.Selector.Packages.Click",__typename:"ClientSideAnalytics"},id:"search_form_product_selector_packages",label:"Packages",selected:!1,targetURI:"/Vacation-Packages",type:"PACKAGES",__typename:"SearchFormProduct",graphic:null},{clickAnalytics:{linkName:"All-inclusive vacations selected",referrerId:"Web.SearchForm.Product.Selector.AllInclusive.Click",__typename:"ClientSideAnalytics"},id:"search_form_product_selector_all_inclusive",label:"All-inclusive vacations",selected:!1,targetURI:"/",type:"ALL_INCLUSIVE",__typename:"SearchFormProduct",graphic:null},{clickAnalytics:{linkName:"Activities search form selected",referrerId:"Web.SearchForm.Product.Selector.Activities.Click",__typename:"ClientSideAnalytics"},id:"search_form_product_selector_activities",label:"Things to do",selected:!1,targetURI:"/Activities",type:"ACTIVITIES",__typename:"SearchFormProduct",graphic:null},{clickAnalytics:{linkName:"Cruises search form selected",referrerId:"Web.SearchForm.Product.Selector.Cruises.Click",__typename:"ClientSideAnalytics"},id:"search_form_product_selector_cruises",label:"Cruises",selected:!1,targetURI:"/Cruises",type:"CRUISES",__typename:"SearchFormProduct",graphic:null}]},rt=u.gql`
  query ProductSelectorQuery($context: ContextInput!) {
    searchForm(context: $context) {
      productSelector {
        ...SearchFormProductSelectorFragment
      }
    }
  }
  ${at.fragment}
`,it=e=>{var t,a,l;const{inputs:r,skipSsr:i,skipQuery:o,batchKey:c}=e,{context:s}=(0,m.R)(),d=(0,p.useLoggerEvents)(nt),y={...r,context:s},{data:_,error:S,loading:g}=(0,u.useQuery)(rt,{context:{batchKey:c,shouldLogPerformance:!0},variables:y,ssr:!i,skip:!!o});if(g)return null;if(S)return d.SEARCH_TOOLS_PRODUCT_SELECTOR_QUERY_FAILURE.log({name:S.name,error:new Error(S.message)}),n.createElement(ze,null,n.createElement(at,{...e,data:lt}));const E=null!=(l=null==(a=null==(t=null==_?void 0:_.searchForm)?void 0:t.productSelector)?void 0:a.products)?l:[];if(!_||E.length<=1){return 1===E.length&&d.SEARCH_TOOLS_PRODUCT_SELECTOR_SINGLE_PRODUCT_RENDER.log({name:"A single product is rendered"}),null}return n.createElement(at,{...e,data:_.searchForm.productSelector})};it.displayName="sharedui-ProductSelector";C.l.R1_1,C.l.R4_3,C.l.R16_9,C.l.R3_2,C.l.R3_4,C.l.R21_9,C.l.R4_1,u.gql`
  query SearchFormBackgroundImageQuery($context: ContextInput!, $uriContext: UriContextInput!, $contentTopic: String!, $experienceType: String!) {
    travelExperienceManagerContent(context: $context, uriContext: $uriContext, contentTopic: $contentTopic, experienceType: $experienceType) {
      editorialComponent {
        content {
          ... on EMMediaComponents {
            items {
              mediaType {
                ... on Image {
                  description
                  src: url
                  aspectRatio
                }
              }
            }
          }
        }
      }
    }
  }
`;var ot=({rows:e})=>n.createElement(n.Fragment,null,e.map(({lineLength:e},t)=>n.createElement(r.N,{key:t,padding:0===t?void 0:{blockstart:"three"}},n.createElement("div",null,n.createElement(k.R,{type:"line",animation:!0,lineLength:e}))))),ct={__typename:"AllInclusiveVacationsSearchForm",actionURL:"https://shopping.expedia.ca/cgi-bin/handler.cgi?code_ag=EXA&alias=EXA&searchtype=PA",egdsElementId:"all-inclusive-vacations-search-form",errorSummary:{egdsElementId:"search_form_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.all-inclusive-vacations-search-form.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.all-inclusive-vacations-search-form.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},search:{egdsElementId:"search_button",primary:"Search",disabled:!1,accessibility:"Search",icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.all-inclusive-vacations-search-form.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}},origin:{__typename:"AllInclusiveVacationsSearchFormOrigin",location:{__typename:"EGDSBasicSelect",egdsElementId:"origin-select",clickAnalytics:{__typename:"ClientSideAnalytics",linkName:"All Inclusive Vacations Location Selection Open",referrerId:"Web.All.Inclusive.Vacations.origin-select.Selection.Open"},icon:{id:"place",__typename:"Icon"},label:"Leaving from",options:[],disabled:!1,errorMessage:"Please select where you're leaving from.",readOnly:!1},departureCities:{__typename:"AllInclusiveVacationsSearchFormContents",results:[{__typename:"EGDSBasicOption",egdsElementId:"YUL",selected:!1,value:"YUL",label:"Montreal",changeAnalytics:{__typename:"ClientSideAnalytics",linkName:"Departure city selected",referrerId:"DepartureCity.value.selected.Montreal"}}]}},destination:{__typename:"AllInclusiveVacationsSearchFormDestination",location:{__typename:"EGDSBasicSelect",egdsElementId:"destination-select",clickAnalytics:{__typename:"ClientSideAnalytics",linkName:"All Inclusive Vacations Location Selection Open",referrerId:"Web.All.Inclusive.Vacations.destination-select.Selection.Open"},icon:{id:"place",__typename:"Icon"},label:"Going to",options:[],disabled:!0,errorMessage:"Please select where you're going to.",readOnly:!1}},duration:{__typename:"EGDSBasicSelect",egdsElementId:"duration-select",clickAnalytics:{__typename:"ClientSideAnalytics",linkName:"All Inclusive Vacations Duration Selection",referrerId:"Web.All.Inclusive.Vacations.Duration.Open"},icon:{id:"access_time",__typename:"Icon"},label:"Duration",options:[],disabled:!0,errorMessage:"Please select a duration.",readOnly:!1},date:{__typename:"EGDSSearchFormDatePickerField",egdsElementId:"date-picker",label:"Departing",placeholder:"Departing",errorMessage:"Please select a valid date.",validations:[{errorMessage:"Please select valid dates",__typename:"EGDSRequiredInputValidation"}],action:{accessibility:null,analytics:{linkName:"All Inclusive Vacations Calendar Selection",referrerId:"Web.All.Inclusive.Vacations.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{buttonText:"Done",selectedStartDate:null,validDaysLowerBoundInclusive:{day:26,month:5,year:2025,__typename:"Date"},validDaysUpperBoundInclusive:{day:21,month:5,year:2026,__typename:"Date"},submitButtonAnalytics:{linkName:"All Inclusive Vacations Date Picker Submit",referrerId:"Web.All.Inclusive.Vacations.Date.Picker.Submit",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"All Inclusive Vacations Date Picker Start Date",referrerId:"Web.All.Inclusive.Vacations.Date.Picker.Start.Date",__typename:"ClientSideAnalytics"},firstDayOfWeek:"SUN",__typename:"EGDSSingleDatePicker"},__typename:"EGDSOpenDatePickerAction"}},travelers:{action:{analytics:{linkName:"All Inclusive Vacations Traveler Selector Open",referrerId:"Web.All.Inclusive.Vacations.Traveler.Selector.Open",__typename:"ClientSideAnalytics"},travelerSelector:{addAnotherRoomButton:{egdsElementId:"add-room-button",primary:"Add another room",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"All Inclusive Vacations Add Room",referrerId:"Web.All.Inclusive.Vacations.Traveler.Add.Room",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},closeButton:{egdsElementId:"traveler-selector-close-button",primary:null,disabled:!1,accessibility:null,icon:{id:"close",description:"close",token:"icon__close",title:"",__typename:"Icon"},analytics:{linkName:"All Inclusive Vacations Traveler Selector Close",referrerId:"Web.All.Inclusive.Vacations.Traveler.Selector.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},doneButton:{egdsElementId:"traveler-selector-done-button",primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers Results Updated",referrerId:"Web.All.Inclusive.Vacations.Traveler.Done",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},infantSeatSelection:null,maxRoomCount:6,rooms:[{label:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},adults:{decreaseAnalytics:{linkName:"All Inclusive Vacations Step input decrease",referrerId:"Web.All.Inclusive.Vacations.Step.Input.Decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"All Inclusive Vacations Step input increase",referrerId:"Web.All.Inclusive.Vacations.Step.Input.Increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of adults",decreaseTextTemplate:null,increaseText:"Increase the number of adults",increaseTextTemplate:null,egdsElementId:null,__typename:"EGDSTravelerStepInput",label:"Adults",max:6,min:1,step:1,subLabel:null,value:2},children:{count:{decreaseAnalytics:{linkName:"All Inclusive Vacations Step input decrease",referrerId:"Web.All.Inclusive.Vacations.Step.Input.Decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"All Inclusive Vacations Step input increase",referrerId:"Web.All.Inclusive.Vacations.Step.Input.Increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of children",decreaseTextTemplate:null,increaseText:"Increase the number of children",increaseTextTemplate:null,egdsElementId:"children-step-input",__typename:"EGDSTravelerStepInput",label:"Children",max:4,min:0,step:1,subLabel:"",value:0},ages:[],ageTemplate:{disabled:!1,labelTemplate:{models:[{key:"childNumber",source:"childNumber",__typename:"TemplateModel"}],template:"Child ${childNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{label:"1",value:"1",egdsElementId:"children-age-option_1",changeAnalytics:{linkName:"All Inclusive Vacations Child Age",referrerId:"Web.All.Inclusive.Vacations.Traveler.Child.Age.1",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{label:"2",value:"2",egdsElementId:"children-age-option_2",changeAnalytics:{linkName:"All Inclusive Vacations Child Age",referrerId:"Web.All.Inclusive.Vacations.Traveler.Child.Age.2",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{label:"3",value:"3",egdsElementId:"children-age-option_3",changeAnalytics:{linkName:"All Inclusive Vacations Child Age",referrerId:"Web.All.Inclusive.Vacations.Traveler.Child.Age.3",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{label:"4",value:"4",egdsElementId:"children-age-option_4",changeAnalytics:{linkName:"All Inclusive Vacations Child Age",referrerId:"Web.All.Inclusive.Vacations.Traveler.Child.Age.4",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{label:"5",value:"5",egdsElementId:"children-age-option_5",changeAnalytics:{linkName:"All Inclusive Vacations Child Age",referrerId:"Web.All.Inclusive.Vacations.Traveler.Child.Age.5",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{label:"6",value:"6",egdsElementId:"children-age-option_6",changeAnalytics:{linkName:"All Inclusive Vacations Child Age",referrerId:"Web.All.Inclusive.Vacations.Traveler.Child.Age.6",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{label:"7",value:"7",egdsElementId:"children-age-option_7",changeAnalytics:{linkName:"All Inclusive Vacations Child Age",referrerId:"Web.All.Inclusive.Vacations.Traveler.Child.Age.7",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{label:"8",value:"8",egdsElementId:"children-age-option_8",changeAnalytics:{linkName:"All Inclusive Vacations Child Age",referrerId:"Web.All.Inclusive.Vacations.Traveler.Child.Age.8",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{label:"9",value:"9",egdsElementId:"children-age-option_9",changeAnalytics:{linkName:"All Inclusive Vacations Child Age",referrerId:"Web.All.Inclusive.Vacations.Traveler.Child.Age.9",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{label:"10",value:"10",egdsElementId:"children-age-option_10",changeAnalytics:{linkName:"All Inclusive Vacations Child Age",referrerId:"Web.All.Inclusive.Vacations.Traveler.Child.Age.10",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{label:"11",value:"11",egdsElementId:"children-age-option_11",changeAnalytics:{linkName:"All Inclusive Vacations Child Age",referrerId:"Web.All.Inclusive.Vacations.Traveler.Child.Age.11",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{label:"12",value:"12",egdsElementId:"children-age-option_12",changeAnalytics:{linkName:"All Inclusive Vacations Child Age",referrerId:"Web.All.Inclusive.Vacations.Traveler.Child.Age.12",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{label:"13",value:"13",egdsElementId:"children-age-option_13",changeAnalytics:{linkName:"All Inclusive Vacations Child Age",referrerId:"Web.All.Inclusive.Vacations.Traveler.Child.Age.13",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{label:"14",value:"14",egdsElementId:"children-age-option_14",changeAnalytics:{linkName:"All Inclusive Vacations Child Age",referrerId:"Web.All.Inclusive.Vacations.Traveler.Child.Age.14",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{label:"15",value:"15",egdsElementId:"children-age-option_15",changeAnalytics:{linkName:"All Inclusive Vacations Child Age",referrerId:"Web.All.Inclusive.Vacations.Traveler.Child.Age.15",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{label:"16",value:"16",egdsElementId:"children-age-option_16",changeAnalytics:{linkName:"All Inclusive Vacations Child Age",referrerId:"Web.All.Inclusive.Vacations.Traveler.Child.Age.16",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{label:"17",value:"17",egdsElementId:"children-age-option_17",changeAnalytics:{linkName:"All Inclusive Vacations Child Age",referrerId:"Web.All.Inclusive.Vacations.Traveler.Child.Age.17",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"}],egdsElementId:"children-age-select",value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerChildren"},infants:null,removeRoomButton:{egdsElementId:null,primary:"Remove room",disabled:!1,accessibility:"Room removed",icon:null,analytics:{linkName:"All Inclusive Vacations Remove Room",referrerId:"Web.All.Inclusive.Vacations.Traveler.Remove.Room",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},removeRoomAnnouncement:"Room removed",__typename:"EGDSTravelerSelectorRoom"}],title:"Travellers",validations:[{errorMessage:"We allow up to 6 travellers per booking.",maxCount:6,type:"MAX_TRAVELERS",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"travelers-error-summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"We allow up to 6 travellers per booking.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.All Inclusive Vacations.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"Provide the age of the child.",maxCount:null,type:"CHILD_AGE_REQUIRED",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"travelers-error-summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.All Inclusive Vacations.Traveler.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.All Inclusive Vacations.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"We allow up to 1 room with children per booking.",maxCount:1,type:"MAX_ROOMS_WITH_CHILD",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"travelers-error-summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"We allow up to 1 room with children per booking.",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.All Inclusive Vacations.Traveler.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.All Inclusive Vacations.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"The number of adults must be separated equally between the number of rooms.",maxCount:null,type:"EQUAL_ADULTS_BETWEEN_ROOMS",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"travelers-error-summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"The number of adults must be separated equally between the number of rooms.",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.All Inclusive Vacations.Traveler.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.All Inclusive Vacations.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"}],__typename:"EGDSRoomsTravelerSelector"},accessibility:"",__typename:"EGDSOpenTravelerSelectorAction"},label:"Travellers",labelTemplate:{models:[{key:"rooms",models:{models:[{key:"roomCount",source:"roomCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"ONE",template:"${roomCount} room",__typename:"CardinalTemplate"},{category:"TWO",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"FEW",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"MANY",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"OTHER",template:"${roomCount} rooms",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"},{key:"travelers",models:{models:[{key:"travelerCount",source:"travelerCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"${travelerCount} travellers",__typename:"CardinalTemplate"},{category:"ONE",template:"${travelerCount} traveller",__typename:"CardinalTemplate"},{category:"TWO",template:"${travelerCount} travellers",__typename:"CardinalTemplate"},{category:"FEW",template:"${travelerCount} travellers",__typename:"CardinalTemplate"},{category:"MANY",template:"${travelerCount} travellers",__typename:"CardinalTemplate"},{category:"OTHER",template:"${travelerCount} travellers",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"}],template:"${travelers}, ${rooms}",text:"2 travellers, 1 room",__typename:"EGDSCompositeLocalizedText"},leftIcon:{id:"person",__typename:"Icon"},readOnly:!1,__typename:"EGDSSearchFormTravelersField"}},st={__typename:"AllInclusiveVacationsSearchFormContents",results:[{egdsElementId:"All Countriesxxx27_29_26_188_25_30_57_2577_346767_60_33_11_55_16_22_64_569962_21_2974_76_13_73_710451_8_10_40_14_12_34_83_18_4244_1843_1341400_1341882_2_17_44_2478_7_77_69_3049111_9_24_156_59_259_2521_35_36_95_39_2889252_251_62",label:"All Countries",value:"27,29,26,188,25,30,57,2577,346767,60,33,11,55,16,22,64,569962,21,2974,76,13,73,710451,8,10,40,14,12,34,83,18,4244,1843,1341400,1341882,2,17,44,2478,7,77,69,3049111,9,24,156,59,259,2521,35,36,95,39,2889252,251,62",selected:!1,changeAnalytics:{linkName:"Destination value selected",referrerId:"Destination.value.selected.All Countries",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"}]},dt={__typename:"AllInclusiveVacationsSearchFormContents",results:[{egdsElementId:null,label:"3 or 4 days",value:"3",selected:!1,changeAnalytics:{linkName:"Duration value selected",referrerId:"Duration.value.selected.3",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{egdsElementId:null,label:"5 to 10 days",value:"7",selected:!0,changeAnalytics:{linkName:"Duration value selected",referrerId:"Duration.value.selected.7",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{egdsElementId:null,label:"11 to 16 days",value:"14",selected:!1,changeAnalytics:{linkName:"Duration value selected",referrerId:"Duration.value.selected.14",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{egdsElementId:null,label:"17 days or more",value:"21",selected:!1,changeAnalytics:{linkName:"Duration value selected",referrerId:"Duration.value.selected.21",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{id:"Separator",__typename:"AllInclusiveVacationsSearchFormOptionsSeparator"},{egdsElementId:null,label:"3 days",value:"3DAYS",selected:!1,changeAnalytics:{linkName:"Duration value selected",referrerId:"Duration.value.selected.3",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{egdsElementId:null,label:"4 days",value:"4DAYS",selected:!1,changeAnalytics:{linkName:"Duration value selected",referrerId:"Duration.value.selected.4",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{egdsElementId:null,label:"5 days",value:"5DAYS",selected:!1,changeAnalytics:{linkName:"Duration value selected",referrerId:"Duration.value.selected.5",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{egdsElementId:null,label:"6 days",value:"6DAYS",selected:!1,changeAnalytics:{linkName:"Duration value selected",referrerId:"Duration.value.selected.6",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{egdsElementId:null,label:"7 days",value:"7DAYS",selected:!1,changeAnalytics:{linkName:"Duration value selected",referrerId:"Duration.value.selected.7",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{egdsElementId:null,label:"8 days",value:"8DAYS",selected:!1,changeAnalytics:{linkName:"Duration value selected",referrerId:"Duration.value.selected.8",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{egdsElementId:null,label:"9 days",value:"9DAYS",selected:!1,changeAnalytics:{linkName:"Duration value selected",referrerId:"Duration.value.selected.9",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{egdsElementId:null,label:"10 days",value:"10DAYS",selected:!1,changeAnalytics:{linkName:"Duration value selected",referrerId:"Duration.value.selected.10",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{egdsElementId:null,label:"11 days",value:"11DAYS",selected:!1,changeAnalytics:{linkName:"Duration value selected",referrerId:"Duration.value.selected.11",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{egdsElementId:null,label:"12 days",value:"12DAYS",selected:!1,changeAnalytics:{linkName:"Duration value selected",referrerId:"Duration.value.selected.12",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{egdsElementId:null,label:"13 days",value:"13DAYS",selected:!1,changeAnalytics:{linkName:"Duration value selected",referrerId:"Duration.value.selected.13",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{egdsElementId:null,label:"14 days",value:"14DAYS",selected:!1,changeAnalytics:{linkName:"Duration value selected",referrerId:"Duration.value.selected.14",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{egdsElementId:null,label:"15 days",value:"15DAYS",selected:!1,changeAnalytics:{linkName:"Duration value selected",referrerId:"Duration.value.selected.15",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{egdsElementId:null,label:"16 days",value:"16DAYS",selected:!1,changeAnalytics:{linkName:"Duration value selected",referrerId:"Duration.value.selected.16",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{egdsElementId:null,label:"17 days",value:"17DAYS",selected:!1,changeAnalytics:{linkName:"Duration value selected",referrerId:"Duration.value.selected.17",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{egdsElementId:null,label:"18 days",value:"18DAYS",selected:!1,changeAnalytics:{linkName:"Duration value selected",referrerId:"Duration.value.selected.18",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{egdsElementId:null,label:"19 days",value:"19DAYS",selected:!1,changeAnalytics:{linkName:"Duration value selected",referrerId:"Duration.value.selected.19",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{egdsElementId:null,label:"20 days",value:"20DAYS",selected:!1,changeAnalytics:{linkName:"Duration value selected",referrerId:"Duration.value.selected.20",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{egdsElementId:null,label:"21 days",value:"21DAYS",selected:!1,changeAnalytics:{linkName:"Duration value selected",referrerId:"Duration.value.selected.21",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{egdsElementId:null,label:"22 days",value:"22DAYS",selected:!1,changeAnalytics:{linkName:"Duration value selected",referrerId:"Duration.value.selected.22",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{egdsElementId:null,label:"28 days",value:"28DAYS",selected:!1,changeAnalytics:{linkName:"Duration value selected",referrerId:"Duration.value.selected.28",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"},{egdsElementId:null,label:"29 days",value:"29DAYS",selected:!1,changeAnalytics:{linkName:"Duration value selected",referrerId:"Duration.value.selected.29",__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"}]};function ut(e,t,a){return e.replace(`\${${t}}`,a)}var mt=e=>e.includes("(")?e.split("(")[0].trim():e.trim(),pt=({textFragment:e,values:t,count:a=0,locale:n="en-US"})=>{if(!e||"EGDSCardinalLocalizedText"!==e.__typename)return"";const{templates:l,models:r}=e,i=new Intl.PluralRules(n.replace("_","-")).select(a).toUpperCase(),o=l.find(e=>e.category===i);return o&&r?function(e,t,a){return t.reduce((e,t,n)=>ut(e,t.key,a[n]),e)}(o.template,r,t):""},yt=u.gql`
  fragment EGDSErrorSummaryFragment on EGDSErrorSummary {
    egdsElementId
    goToErrorLinkText
    goToFirstErrorLinkText
    heading
    body {
      text
    }
    analytics {
      linkName
      referrerId
    }
    impressionAnalytics {
      linkName
      referrerId
    }
    headingTemplate {
      ... on EGDSCardinalLocalizedText {
        models {
          key
          source
        }
        templates {
          category
          template
        }
      }
    }
  }
`,_t=({errorCount:e=0,inputErrorRef:t,data:a})=>{var l,r;const i=(0,v.useClickTracker)(),{body:o,goToErrorLinkText:c,goToFirstErrorLinkText:s,heading:d,analytics:u,impressionAnalytics:m,headingTemplate:p}=a,y=0===e,_=1===e,S=n.createRef();if(n.useEffect(()=>{var e;(0,x.liveAnnounce)(E,x.Level.ASSERTIVE),null==(e=S.current)||e.focus()},[]),y)return null;const g=_?c:s,E=d.trim()?d:(e=>{if("EGDSCardinalLocalizedText"===(null==p?void 0:p.__typename)){const t=p.templates.slice(1,3),a=_?"":p.models[0].key;return ut(_?t[0].template:t[1].template,a,e.toString())}return""})(e);return n.createElement(v.IntersectionTracker,{referrerId:null!=(l=null==m?void 0:m.referrerId)?l:"",linkName:null!=(r=null==m?void 0:m.linkName)?r:""},n.createElement(L.O,{theme:"error"},n.createElement(N.M,{size:7,"aria-level":3},E),o&&n.createElement(M.D,{size:300},o.text),g&&n.createElement(P.i,{domRef:S},n.createElement("button",{type:"button",onClick:()=>{var e;if(null==(e=null==t?void 0:t.current)||e.focus(),u){const{referrerId:e,linkName:t}=u;i(_?`${e}.One.Error`:`${e}.Many.Errors`,t)}}},g))))};_t.displayName="SearchToolsEGDSErrorSummary",_t.fragment=yt;var St=u.gql`
  fragment EGDSButtonFragment on EGDSButton {
    primary
    disabled
    accessibility
    icon {
      id
      description
      token
      title
    }
    analytics {
      linkName
      referrerId
    }
    action {
      accessibility
    }
  }
`,gt=u.gql`
  fragment EGDSSearchFormButtonFragment on EGDSSearchFormButton {
    egdsElementId
    ...EGDSButtonFragment
    onClick {
      ...EGDSSubmitSearchFormActionFragment
    }
  }

  fragment EGDSSubmitSearchFormActionFragment on EGDSSubmitSearchFormAction {
    analytics {
      linkName
      referrerId
    }
  }
  ${St}
`,Et=({children:e,submitButtonProps:t,primary:a,isFullWidth:l=!1})=>n.createElement(B.y,{...t,size:$.V.LARGE,"aria-label":null!=a?a:"",isFullWidth:l},e),vt=({data:e,isFullWidth:t=!1})=>{var a,l;const r=(0,v.useClickTracker)(),{egdsElementId:i,primary:o,disabled:c,onClick:s,icon:u}=e,m={id:null!=i?i:"search_form_submit_button",disabled:c,onClick:n.useCallback(()=>{if(s&&"EGDSSubmitSearchFormAction"===s.__typename){const{referrerId:e,linkName:t}=s.analytics;r(e,t)}},[s,r]),type:"submit"};return n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(Et,{isFullWidth:!0,submitButtonProps:m,primary:o},o)),n.createElement(d.rw,null,u?n.createElement(Et,{submitButtonProps:m,primary:o,isFullWidth:t},n.createElement(_.LD,{name:null!=(a=null==u?void 0:u.token)?a:"search",title:null!=(l=null==u?void 0:u.title)?l:"",id:null==u?void 0:u.id})):n.createElement(Et,{submitButtonProps:m,primary:o,isFullWidth:t},o)))};vt.displayName="EGDSSearchFormButton",vt.fragment=gt;var ht=0;var Dt=function(e){const t=n.useRef();if(!t.current){const a=ht+=1;t.current=e?`${e}-${a}`:`dialog-${a}`}return t.current},ft=(e,t,a,n)=>{const l=new CustomEvent("change"),r=document.createElement("input");a&&(r.type=a),n&&r.setAttribute("id",n),r.value=e;const i=e=>{t(e)};r.addEventListener("change",i),r.dispatchEvent(l),r.removeEventListener("change",i)},Tt="yyyy-MM-dd",Ct=e=>{const t=864e5*e;return new Date((new Date).getTime()+t)},bt=e=>Math.ceil(e/1e3/60/60/24),It=({year:e,month:t,day:a})=>new Date(e,t-1,a),At=/[٠-٩]/,Ft=e=>{if("string"==typeof e)return t=e,At.test(t)?t.replace(/[٠-٩]/g,e=>String.fromCharCode(e.charCodeAt(0)-1632+48)):t;var t;const a=e.getDate().toString().padStart(2,"0"),n=(e.getMonth()+1).toString().padStart(2,"0");return`${e.getFullYear()}-${n}-${a}`},Ot={SUN:V.aF.SUN,MON:V.aF.MON,TUE:V.aF.TUE,WED:V.aF.WED,THU:V.aF.THU,FRI:V.aF.FRI,SAT:V.aF.SAT},kt=e=>{var t;return!!(null==(t=null==e?void 0:e.value)?void 0:t.startsWith("0"))},Gt=(e,t,a)=>{const n=new Date(e.year,e.month,e.day);return!e.isPast&&(t&&a?n>=t&&n<=a:t&&!a?n>=t:!(!t&&a)||n<=a)},Rt=e=>new Date(`${e}T00:00:00`),Lt=(e,t,a,n,l)=>{const r=n,{formatDateString:i}=l;if(e&&t){const n=new Date(e),l=new Date(t);if(n<l){n.setDate(n.getDate()+1);for(let e=n;e<=l;e.setDate(e.getDate()+1)){const t=i(e,{raw:Tt});r[t]&&(r[t].isWithinDateRange=a)}}}return r},Pt=(e,t,a,n,l,r,i,o,c)=>{const s=e;return a&&s[a]&&(s[a].isSelected=!0,n&&s[n]&&(s[n].isSelected=!0)),l&&s[l]&&(!t||i&&l!==a)&&(s[l].isSelected=!1),c&&s[c]&&(s[c].isSelected=!0),r&&s[r]&&(s[r].isSelected=!0),r&&s[r]&&o&&l!==c&&r!==c&&(s[r].isSelected=!1),s},Nt=e=>e.locale?e.locale.replace("_","-"):"en-US",Mt=e=>String(e).padStart(2,"0"),xt=e=>({positive:"positive",standard:"default"}[e.theme]||"default"),Bt=e=>{const t={defaults:null};return e.forEach(e=>{const a=`${(n=e.date).year}-${Mt(n.month)}-${Mt(n.day)}`;var n;t[a]=(e=>{var t;return{dateText:{textTheme:xt(e),date:e.date},accessibilityText:null!=(t=e.accessibilityText)?t:null,isSelected:!1,isWithinDateRange:!1}})(e)}),t},$t=e=>({day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()}),Wt=e=>({__typename:"Date",...$t(e)}),wt=(e,t,a)=>"flights"===e&&(null==t?void 0:t.journeyCriteria)&&t.journeyCriteria.length>0?{journeyCriteria:t.journeyCriteria.map(e=>({origin:e.origin,destination:e.destination,departureDate:e.departureDate})),flightsSearchContext:{tripType:a?"ROUND_TRIP":"ONE_WAY"}}:null,Ut=e=>{const{day:t,dayData:a}=e,{day:l,isPast:r,isToday:i}=t,{dateText:o,isSelected:c,isWithinDateRange:s,validStartDate:d,validEndDate:u}=a||{},m=!Gt(t,d,u),{textTheme:p}=o||{},y=n.useMemo(()=>{if(!c){if(r)return"muted";if("positive"===p&&c)return"default"}return"default"},[c,i,r]);return n.createElement("div",{"data-stid":c?"selected":s?"in-range":"positive"===p||"negative"===p?i?`today-${p}`:p:i?"today":"default"},n.createElement(H.T,{theme:!c&&!s&&!r&&p||"default",backgroundShape:"rounded"},n.createElement(U.f,{"aria-disabled":"true",theme:y,size:300,weight:"regular",disabled:m},"positive"!==p||c||s?l:n.createElement(M.D,{theme:"inverse"},l))))},Ht=(e,t)=>Gt(t,e.validStartDate,e.validEndDate);Ut.canClick=Ht,Ut.canSpan=Ht,Ut.getAriaLabel=(e,t,a)=>{const{localeDateString:n}=t,{accessibilityText:l}=e,r=l?ut(l,"date",n):n;return Gt(t,e.validStartDate,e.validEndDate)?r:a.formatText("calendar.unavailable.a11yLabel",n)};var Vt=(e,t,a)=>{var n,l;const{formatDateString:r}=t,[i,o]=e.split(" - ");if(!i||!o)return"";const c=null!=(n=zt(i,t))?n:Ft(i),s=null!=(l=zt(o,t))?l:Ft(o);if(!c||!s)return"";const d=r(c,{skeleton:"MMMd"}),u=r(s,{skeleton:"MMMd"});return(null==a?void 0:a.start)&&(null==a?void 0:a.end)?`${d}, ${a.start} - ${u}, ${a.end}`:`${d} - ${u}`},qt=(e,t,a,n)=>{const{formatDateString:l}=n,[r,i]=t.split(" - "),o=a?l(e,{skeleton:"MMMd"}):r,c=a?i:l(e,{skeleton:"MMMd"});return"Invalid date"===o||"Invalid date"===c?"":`${o} - ${c}`},zt=(e,t)=>{let a=null;try{if(a=t.parseLocalDateString(e,{raw:"yyyy-MM-dd"})||t.parseLocalDateString(e,{raw:"MM/dd/yyyy"}),!a)return null}catch(n){return null}return t.formatDate(a,{raw:"yyyy-MM-dd"})||null},Yt=e=>{const{day:t,dayData:{validStartDate:a,validEndDate:l}={}}=e,r=!Gt(t,a,l),i=n.useMemo(()=>t.isPast?"muted":t.isToday?"today":"default",[t.isPast,t.isToday]);return n.createElement(U.f,{theme:i,disabled:r},t.day)},Kt=(e,t)=>Gt(t,e.validStartDate,e.validEndDate);Yt.canClick=Kt,Yt.canSpan=Kt,Yt.getAriaLabel=(e,t,a)=>{const{localeDateString:n}=t;return Gt(t,e.validStartDate,e.validEndDate)?n:a.formatText("calendar.unavailable.a11yLabel",n)};var jt=u.gql`
  fragment EGDSSearchFormMoreInfoTriggerSheetFragment on EGDSSheet {
    closeAccessibility
    closeAnalytics {
      referrerId
      linkName
    }
    sheetTypes {
      ... on EGDSSheetTypePerViewSize {
        sheetType
        viewSize
      }
    }
  }
`,Xt=(e,t)=>{const a={BOTTOM:{hasModal:!0,type:"bottom",triggerRef:null},DEFAULT:{type:"popover",width:"LARGE"===t?360:void 0,applyBlockStartMargin:!0,position:"LARGE"===t?{inline:"leading",block:"trailing"}:{inline:"block"},showOverTrigger:!1}};return a[e]||a.DEFAULT},Qt=n.forwardRef(({data:e,isVisible:t,toggleVisibility:a,children:l,position:r,showOverTrigger:i=!1,sheetTypesByView:o},c)=>{var s,u,m,p;const y=(0,v.useClickTracker)(),{closeAccessibility:S,sheetTypes:g,closeAnalytics:E}=e,h=(null==o?void 0:o.mobile)||Ye[null!=(u=null==(s=null==g?void 0:g.find(e=>"SMALL"===e.viewSize))?void 0:s.sheetType)?u:"BOTTOM"],D=(null==o?void 0:o.desktop)||Ye[null!=(p=null==(m=null==g?void 0:g.find(e=>"LARGE"===e.viewSize))?void 0:m.sheetType)?p:"POPOVER"],f=Xt(h,"SMALL"),T=Xt(D,"LARGE"),C=()=>{const{linkName:e,referrerId:t}=E;y(t,e),a&&a()},b={isVisible:t,triggerRef:null!=c?c:null,onDismiss:C,autoFocus:!0,returnFocusOnClose:!0},I=n.createElement(Q.t,null,n.createElement(X.q,{type:"button",onClick:C},n.createElement(_.LD,{name:"close",title:null!=S?S:"",id:"sheet-close-button"}))),A=n.createElement(Z.Y,{padded:!0},l);return n.createElement(J.K,{isVisible:t},n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement("div",{"data-testid":`${f.type}-sheet`},n.createElement(ee.t,{...b,...f},I,A))),n.createElement(d.rw,null,n.createElement(ee.t,{...b,...T,position:null!=r?r:null==T?void 0:T.position,showOverTrigger:null!=i?i:null==T?void 0:T.showOverTrigger},I,A))))});Qt.fragment=jt,Qt.displayName="EGDSSearchFormMoreInfoTriggerSheet";var Zt=u.gql`
  fragment EGDSSearchFormMoreInfoTriggerFragment on EGDSMoreInfoTrigger {
    text
    icon {
      ...IconFragment
    }
    triggerAction {
      accessibility
      text
      analytics {
        referrerId
        linkName
      }
      sheet {
        ...EGDSSearchFormMoreInfoTriggerSheetFragment
      }
    }
  }
  ${Xe.fragment}
  ${Qt.fragment}
`,Jt=n.forwardRef(({data:e,children:t,onHandleClick:a,textSize:l},r)=>{var i;const{icon:o,text:c,triggerAction:{analytics:s}}=e,d=(0,v.useClickTracker)(),u={...o,size:null!=(i=o.size)?i:"SMALL",description:""};return n.createElement(j.t,{theme:"default"},n.createElement("button",{type:"button",onClick:()=>{if(s){const{referrerId:e,linkName:t}=s;d(e,t)}a&&a()},ref:r},null!=t?t:n.createElement(M.D,{size:null!=l?l:300},c),n.createElement(Xe,{data:u})))});Jt.fragment=Zt,Jt.displayName="EGDSSearchFormMoreInfoTrigger";var ea=e=>{const{data:t,isCalendarTab:a}=e,l=(0,d.eg)({viewSizes:d.pf})<=d.pf.SMALL?"start":"center",[i,o]=n.useState(!1),[c,s,u]=(0,K.useDialog)("more-info-trigger-sheet","pwaDialogNested"),m=n.useRef(null),p=()=>{c?s.closeDialog():s.openDialog()},_=()=>{o(e=>{var t;return e&&(null==(t=m.current)||t.focus()),!e})};return n.createElement(r.N,{padding:{small:{blockend:"one"}},margin:{medium:{blockend:"four"},small:{inlinestart:"two",blockend:"four"}}},n.createElement(F.X,{alignItems:"start",space:"two",justifyContent:l},n.createElement(O.C,{alignSelf:"center"},n.createElement(r.N,null,n.createElement(y.G,{size:"small",theme:"positive"}))),n.createElement(O.C,null,n.createElement(F.X,{justifyContent:"center"},n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(F.X,{justifyContent:"center"},n.createElement(Jt,{ref:m,data:t,onHandleClick:p,textSize:200}),n.createElement(u,null,n.createElement(Qt,{toggleVisibility:p,isVisible:c,data:t.triggerAction.sheet},n.createElement(Y.u,{size:2},t.triggerAction.text))))),n.createElement(d.rw,null,n.createElement(n.Fragment,null,n.createElement(Jt,{ref:m,data:t,onHandleClick:_,textSize:200}),n.createElement(Qt,{toggleVisibility:_,isVisible:i,data:t.triggerAction.sheet,ref:m,position:{inline:"leading",block:"leading"},showOverTrigger:!0},n.createElement(Y.u,{size:2},t.triggerAction.text)))))))))},ta="EGDSBasicPill",aa=u.gql`
  fragment EGDSBasicPillFragment on EGDSBasicPill {
    accessibility
    disabled
    name
    primary
    selected
    selectedText
    value
    icon {
      ...IconFragment
    }
    selectAnalytics {
      ...AnalyticsFragment
    }
    deselectAnalytics {
      ...AnalyticsFragment
    }
  }

  fragment AnalyticsFragment on ClientSideAnalytics {
    linkName
    referrerId
  }

  ${Xe.fragment}
`,na=e=>{var t;const{data:a,onChange:l,triggerPill:r,onClick:i,active:o}=e,{accessibility:c,name:s,primary:d,selected:u,value:m,disabled:p,icon:y,selectAnalytics:_,deselectAnalytics:S,selectedText:g}=a,E=(0,v.useClickTracker)(),h=null!=s?s:"egds-basic-pill",[D,f]=n.useState(u),T=(0,n.useRef)(!1),C=g||d,b=(0,G.j)(h,e=>{const{checked:t}=e.currentTarget;if(f(t),T.current||(T.current=!0),l&&l(e),_&&t){const{linkName:t,referrerId:a}=_;return E(a,t),e}if(S&&!t){const{linkName:e,referrerId:t}=S;E(t,e)}return e});return n.useEffect(()=>{T.current&&(0,x.liveAnnounce)(null!=c?c:void 0,x.Level.POLITE)},[c]),n.useEffect(()=>{f(u)},[u]),n.createElement(ae.B,{checked:D,active:o,disabled:p,icon:"Icon"===(null==y?void 0:y.__typename)?y.token:"",id:h,name:`${ta}-${s}`,onChange:b,value:null!=m?m:"",altText:null!=c?c:"",triggerPill:r,onClick:()=>{i&&i()}},null!=(t=D?C:d)?t:"")};na.displayName="EGDSBasicPill",na.fragment={...aa,__typename:"EGDSBasicPill"};var la=u.gql`
  fragment EGDSDatePickerFlexibilityCalendarContentFragment on EGDSDatePickerFlexibilityCalendarContent {
    __typename
    flexibleDateOptions {
      ...EGDSBasicPillFragment
    }
    formElementId
    title {
      text
      accessibility
    }
  }
  ${na.fragment}
`,ra="EGDSDatePickerFlexibilityCalendarContent",ia=`${ra}-SelectedOption`,oa=({data:e,onSelect:t,currentlySelectedPillValue:a,className:l})=>{var i,o;const c=null!=(o=null==(i=null==e?void 0:e.flexibleDateOptions)?void 0:i.map(e=>{var t,n,l,r;return{selected:e.value===a,checked:e.value===a,text:null!=(t=e.primary)?t:"",disabled:e.disabled,value:null!=(n=e.value)?n:"",id:null!=(l=e.value)?l:"",altText:null!=(r=e.accessibility)?r:void 0}}))?o:[];return n.createElement(r.N,{margin:{medium:{inlinestart:"two",blockend:"three",blockstart:"one"},small:{inlinestart:"two",blockend:"three",blockstart:"one"}}},n.createElement("div",{className:l},n.createElement(te.p,{data:c,handleSelectedPill:e=>{t(e)}})))};oa.displayName=ra,oa.fragment=la;var ca=e=>{const{flexibleCalendarProps:t,dailyPriceExplainabilityTextProps:a}=e,l=null==t?void 0:t.data,r=null==t?void 0:t.includeFlexibleCalendarContent,i=null==a?void 0:a.isCalendarTab;return n.createElement(n.Fragment,null,a&&i&&n.createElement(ea,{...a}),r&&t&&l&&n.createElement(oa,{...t,data:l}))},sa=u.gql`
  fragment EGDSBasicTabsFragment on EGDSBasicTabs {
    __typename
    egdsElementId
    selectedTabId
    tabs {
      ... on EGDSBasicTab {
        __typename
        accessibility
        clickAnalytics {
          linkName
          referrerId
        }
        label
        tabId
      }
    }
  }
`,da=({data:e,onTabSelected:t,backgroundColor:a,tabsType:l})=>{const{tabs:r,selectedTabId:i}=e,o=(0,v.useClickTracker)(),c=i?r.findIndex(e=>"EGDSBasicTab"===e.__typename?e.tabId===i:0):0,[s,u]=(0,n.useState)(c),m=(0,d.eg)({viewSizes:d.pf})<=d.pf.SMALL,p=m?le.Ah.EQUAL_WIDTH:le.Ah.NATURAL,y={selectedTab:-1!==s?s:0,onTabSelect:e=>{u(e);const a=r[e];if("EGDSBasicTab"===a.__typename){const{clickAnalytics:e,tabId:n}=a;(e=>{if(e&&"ClientSideAnalytics"===(null==e?void 0:e.__typename)){const{linkName:t,referrerId:a}=e;o(a,t)}})(e),t&&t(n)}},tabsType:null!=l?l:p,backgroundColor:null!=a?a:le.pD.PRIMARY};return n.createElement(le.IN,{...y,withBorder:!0},r.map(e=>{const t="EGDSBasicTab"===e.__typename?e.tabId:"",a="EGDSBasicTab"===e.__typename?e.label:"";return n.createElement(re.X,{id:t,key:t,name:a,targetURI:`#EGDSBasicTabSearchForm_${t}`})}))};da.fragment=sa,da.displayName="EGDSBasicTabs";var ua=u.gql`
  fragment EGDSToggleButtonFragment on EGDSToggleButton {
    __typename
    egdsElementId
    primary
    subText
    name
    selectedAnalytics {
      linkName
      referrerId
    }
    unselectedAnalytics {
      linkName
      referrerId
    }
    icon {
      ... on Icon {
        id
        size
      }
    }
    selected
    disabled
  }
`,ma=({data:e,onChange:t,children:a,ariaLabel:l})=>{const{primary:r,subText:i,disabled:o,selected:c,name:s,selectedAnalytics:d,unselectedAnalytics:u}=e,m=(0,v.useClickTracker)();return n.createElement(ce.t,{id:null!=s?s:"",disabled:o,name:null!=s?s:"",checked:c,onChange:e=>{t&&t(e),(e=>{const t=e?d:u;if("ClientSideAnalytics"===(null==t?void 0:t.__typename)){const{linkName:e,referrerId:a}=t;m(a,e)}})(!c)},"aria-label":null!=l?l:`${r} ${i}`},a)};ma.displayName="EGDSToggleButton",ma.fragment=ua;var pa=u.gql`
  fragment EGDSToggleButtonGroupFragment on EGDSToggleButtonGroup {
    __typename
    options {
      ...EGDSToggleButtonFragment
    }
  }

  ${ma.fragment}
`,ya=({data:e})=>{const{options:t}=e,[a,l]=n.useState(t),r=e=>{l(t=>t.map(t=>t.name===e.target.name?{...t,selected:!t.selected}:t))};return n.createElement(se.v,{wrapButtons:!0},a.map((e,t)=>n.createElement(ma,{key:t,data:e,onChange:r})))};ya.displayName="EGDSToggleButtonGroup",ya.fragment=pa;var _a=u.gql`
  fragment EGDSDatePickerFlexibleMonthsFragment on EGDSDatePickerFlexibleMonths {
    heading
    subHeading
    options {
      ...EGDSToggleButtonGroupFragment
    }
  }
  ${ya.fragment}
`,Sa="EGDSDatePickerFlexibleMonths",ga=`${Sa}-Options`,Ea=({monthSelectionButton:e,onMonthSelectionToggle:t})=>{const{icon:a,primary:l,subText:r}=e;return n.createElement(ma,{data:e,onChange:t,ariaLabel:`${l} ${r}`},n.createElement(F.X,{direction:"column",alignItems:"center",blockSize:"full_size",justifyContent:"center"},a&&n.createElement(_.LD,{name:"Icon"===(null==a?void 0:a.__typename)?a.id:""}),l&&n.createElement(M.D,{size:100,weight:"bold",spacing:"one"},null!=l?l:""),r&&n.createElement(M.D,{size:100},null!=r?r:"")))},va=({data:e,monthsSelectionToggleButtons:t,onMonthSelectionToggle:a})=>{const{heading:l,subHeading:i}=e,o=(0,d.eg)({viewSizes:d.pf}),c=o<=d.pf.MEDIUM,s=o<=d.pf.SMALL,u={grow:1,maxWidth:s||c?void 0:"twenty_four",minWidth:s||c?"quarter_width":void 0};return n.createElement("div",null,n.createElement(F.X,{alignItems:"center",direction:"column",space:"three"},n.createElement(O.C,null,n.createElement("div",null,n.createElement(N.M,{size:6,align:"center"},l),n.createElement(oe.s,null,i)))),t&&n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(r.N,{padding:{blockstart:"four"}},n.createElement(F.X,{direction:"row",justifyContent:"space-around",wrap:"wrap",space:"three"},null==t?void 0:t.options.map((e,t)=>n.createElement(O.C,{...u,key:t},n.createElement("div",null,n.createElement(Ea,{monthSelectionButton:e,onMonthSelectionToggle:a}))))))),n.createElement(d.zQ,null,n.createElement(r.N,{padding:{blockstart:"four"}},n.createElement(I.w,{columns:6,space:"three"},null==t?void 0:t.options.map((e,t)=>n.createElement(R.T,{...u,key:t},n.createElement("div",null,n.createElement(Ea,{monthSelectionButton:e,onMonthSelectionToggle:a})))))))))};va.displayName=Sa,va.fragment=_a;var ha=u.gql`
  fragment EGDSBasicCheckBoxFragment on EGDSBasicCheckBox {
    egdsElementId
    description
    enabled
    checkedAnalytics {
      linkName
      referrerId
    }
    uncheckedAnalytics {
      linkName
      referrerId
    }
    label {
      text
    }
    name
    required
    state
  }
`,Da=({data:e,checked:t,onChange:a})=>{const{egdsElementId:l,description:r,enabled:i,name:o,required:c,label:s,checkedAnalytics:d,uncheckedAnalytics:u,state:m}=e,[p,y]=n.useState(null!=t?t:"CHECKED"===m);n.useEffect(()=>{y(null!=t?t:"CHECKED"===m)},[t,m]);const _=(0,v.useClickTracker)(),S=n.useCallback(e=>{if(y(e.currentTarget.checked),d&&!p){const{referrerId:e,linkName:t}=d;_(e,t)}if(u&&p){const{referrerId:e,linkName:t}=u;_(e,t)}null==a||a(e)},[d,p,a,_,u]);return n.createElement(de.x,{id:null!=l?l:"",checked:p,description:null!=r?r:void 0,disabled:!i,name:null!=o?o:void 0,onChange:S,required:c},null==s?void 0:s.text)};Da.displayName="EGDSBasicCheckBox",Da.fragment={...ha,__typename:"EGDSBasicCheckBox"};var fa=u.gql`
  fragment EGDSCheckBoxFragment on EGDSCheckBox {
    __typename

    ...EGDSBasicCheckBoxFragment
  }

  ${Da.fragment}
`,Ta=({data:e,onChange:t})=>"EGDSBasicCheckBox"===(null==e?void 0:e.__typename)?n.createElement(Da,{onChange:t,data:e}):null;Ta.displayName="EGDSCheckBox",Ta.fragment=fa;var Ca=u.gql`
  fragment EGDSBasicRemovablePillFragment on EGDSBasicRemovablePill {
    primary
    name
    accessibility
    id
    removeAnalytics {
      referrerId
      linkName
    }
    value
  }
`,ba=({data:e,onClick:t})=>{var a;const{id:l,primary:r,accessibility:i,removeAnalytics:o,name:c,value:s}=e,d=null!=(a=null!=l?l:c)?a:"egds-basic-removable-pill",u=(0,v.useClickTracker)();return n.createElement("div",null,n.createElement(ue.i,{id:d,onClick:e=>{if(t&&t({event:e,id:null!=l?l:""}),o){const{referrerId:e,linkName:t}=o;u(e,t)}},a11yRemoveText:i||""},r),n.createElement("input",{type:"hidden",name:null!=c?c:"",value:null!=s?s:""}))};ba.displayName="EGDSBasicRemovablePill",ba.fragment=Ca;var Ia=u.gql`
  fragment EGDSBasicTriggerPillFragment on EGDSBasicTriggerPill {
    id
    disabled
    primary
    selected
    icon {
      ...IconFragment
    }
    selectAnalytics {
      ...AnalyticsFragment
    }
    deselectAnalytics {
      ...AnalyticsFragment
    }
    accessibility
  }

  fragment AnalyticsFragment on ClientSideAnalytics {
    linkName
    referrerId
  }

  ${Xe.fragment}
`,Aa=e=>{const{data:t,onChange:a,triggerPill:l,onClick:r,domRef:i,active:o}=e,{id:c,primary:s,selected:d,disabled:u,icon:m,selectAnalytics:p,deselectAnalytics:y,accessibility:_}=t,S=(0,v.useClickTracker)(),g=null!=c?c:"egds-basic-pill",[E,h]=n.useState(o||d);n.useEffect(()=>{h(null!=o&&o)},[o]);const D=(0,G.j)(g,e=>{if(h(!E),a&&a(e),r&&r(),p&&E){const{linkName:t,referrerId:a}=p;return S(a,t),e}if(y&&!E){const{linkName:e,referrerId:t}=y;S(t,e)}return e});return n.createElement(ae.B,{checked:E,active:E,selected:d,disabled:u,icon:"Icon"===(null==m?void 0:m.__typename)?m.token:"",id:g,name:`EGDSBasicTriggerPill-${g}`,triggerPill:l,onClick:D,altText:null!=_?_:"",domRef:i},null!=s?s:"")};Aa.displayName="EGDSBasicTriggerPill",Aa.fragment=Ia;var Fa=u.gql`
  fragment EGDSPillFragment on EGDSPill {
    __typename

    ...EGDSBasicPillFragment
    ...EGDSBasicTriggerPillFragment
    ...EGDSBasicRemovablePillFragment
  }

  ${na.fragment}
  ${Aa.fragment}
  ${ba.fragment}
`,Oa=e=>{const{data:t}=e;switch(t.__typename){case"EGDSBasicPill":return n.createElement(na,{...e,data:t});case"EGDSBasicTriggerPill":return n.createElement(Aa,{...e,data:t});case"EGDSBasicRemovablePill":return n.createElement(ba,{...e,data:t});default:return null}};Oa.displayName="SearchToolsEGDSPill",Oa.fragment=Fa;var ka=u.gql`
  fragment EGDSDatePickerFlexibleNightsFragment on EGDSDatePickerFlexibleNights {
    heading
    includeWeekend {
      ...EGDSCheckBoxFragment
    }
    options {
      ...EGDSPillFragment
    }
  }
  ${Oa.fragment}
  ${Ta.fragment}
`,Ga="EGDSDatePickerFlexibleNights",Ra=`${Ga}-Options`,La=`${Ga}-Weekend`,Pa=({data:e,onNightSelectionPillChange:t,nightsSelectionPills:a,onIncludeWeekendCheck:l,includeWeekendCheckbox:r})=>{const{heading:i}=e;return n.createElement("div",null,n.createElement(F.X,{alignItems:"center",direction:"column",space:"three"},n.createElement(O.C,null,n.createElement(N.M,{size:6},i)),n.createElement(O.C,null,n.createElement(te.p,{data:a,handleSelectedPill:t,wrap:!0,align:"center"}),";"),r&&n.createElement(O.C,null,n.createElement(Ta,{data:r,onChange:l}))))};Pa.displayName=Ga,Pa.fragment=ka;var Na=u.gql`
  fragment EGDSDatePickerFlexibilityDatesContentFragment on EGDSDatePickerFlexibilityDatesContent {
    __typename
    nightsSelection {
      ...EGDSDatePickerFlexibleNightsFragment
    }
    monthsSelection {
      ...EGDSDatePickerFlexibleMonthsFragment
    }
  }
  ${va.fragment}
  ${Pa.fragment}
`,Ma=({data:e,className:t,onNightSelectionPillChange:a,nightsSelectionPills:l,onIncludeWeekendCheck:i,includeWeekendCheckbox:o,monthsSelectionToggleButtons:c,onMonthSelectionToggle:s})=>{const{nightsSelection:d,monthsSelection:u}=e;return n.createElement(r.N,{padding:"four"},n.createElement("div",{className:t},d&&n.createElement(Pa,{data:d,onNightSelectionPillChange:a,nightsSelectionPills:l,onIncludeWeekendCheck:i,includeWeekendCheckbox:o}),n.createElement(ie.j,{blockMargin:"six"}),u&&n.createElement(va,{data:u,monthsSelectionToggleButtons:c,onMonthSelectionToggle:s})))};Ma.displayName="EGDSDatePickerFlexibilityDatesContent",Ma.fragment=Na;var xa=u.gql`
  fragment EGDSDatePickerFlexibilityContentFragment on EGDSDatePickerFlexibilityContent {
    __typename
    calendarContent {
      ...EGDSDatePickerFlexibilityCalendarContentFragment
    }
    contentSelector {
      ...EGDSBasicTabsFragment
    }
    flexibleDatesContent {
      ...EGDSDatePickerFlexibilityDatesContentFragment
    }
    flexibilityLabel {
      templates {
        template
        category
      }
      models {
        key
      }
    }
  }
  ${da.fragment}
  ${oa.fragment}
  ${Ma.fragment}
`,Ba=({data:e,children:t,className:a,onContentSelectorSelection:l,onNightSelectionPillChange:r,nightsSelectionPills:i,onIncludeWeekendCheck:o,includeWeekendCheckbox:c,monthsSelectionToggleButtons:s,onMonthSelectionToggle:u,contentSelector:m})=>{const{flexibleDatesContent:p}=e,y="EGDSBasicTabs"===(null==m?void 0:m.__typename)?m.selectedTabId:"",_={calendarTabId:"calendar-tab",flexibleTabId:"flexible-dates-tab"},{calendarTabId:S,flexibleTabId:g}=(()=>{if("EGDSBasicTabs"===(null==m?void 0:m.__typename)){const{tabs:e}=m;return"EGDSBasicTab"===e[0].__typename&&"EGDSBasicTab"===e[1].__typename?{calendarTabId:e[0].tabId,flexibleTabId:e[1].tabId}:_}return _})(),E=n.createElement("div",{className:a},"EGDSBasicTabs"===(null==m?void 0:m.__typename)&&n.createElement(da,{data:m,onTabSelected:l,backgroundColor:le.pD.SECONDARY,tabsType:le.Ah.EQUAL_WIDTH}),y===S&&n.createElement(n.Fragment,null,n.createElement("div",{id:S}),t),y===g&&p&&n.createElement("div",{id:g},n.createElement(Ma,{data:p,onNightSelectionPillChange:r,nightsSelectionPills:i,onIncludeWeekendCheck:o,includeWeekendCheckbox:c,monthsSelectionToggleButtons:s,onMonthSelectionToggle:u})));return n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(ne.v,{direction:"vertical"},E)),n.createElement(d.rw,null,E))};Ba.displayName="EGDSDatePickerFlexibilityContent",Ba.fragment=xa;var $a=e=>{var t;const a=null==(t=e.find(e=>e.selected))?void 0:t.value;return!!a&&((null==a?void 0:a.includes("WEEK"))||(null==a?void 0:a.includes("6_DAY_LOWER,7_DAY_UPPER"))||(null==a?void 0:a.includes("MONTH")))},Wa=e=>{if(e){const t=null==e?void 0:e.options.map((e,t)=>0===t||1===t?{...e,selected:!e.selected}:e);return{...e,options:[...t]}}return null},wa={...{CONTENT_SELECTOR_CHANGED:(e,{tabSelected:t})=>e.contentSelector.data?{...e,contentSelector:{...e.contentSelector,data:{...e.contentSelector.data,selectedTabId:null!=t?t:""}}}:{...e},CONTENT_SELECTOR_RESET:e=>{if(e.contentSelector.data){const{prevTabSelected:t,data:a}=e.contentSelector,{selectedTabId:n}=a;return{...e,contentSelector:{...e.contentSelector,data:{...e.contentSelector.data,selectedTabId:null!=t?t:n}}}}return{...e}},CONTENT_SELECTOR_PREV_STATE_UPDATE:(e,{prevTab:t})=>({...e,contentSelector:{...e.contentSelector,prevTabSelected:null!=t?t:e.contentSelector.prevTabSelected}})},...{NIGHTS_OPTIONS_CHANGED:(e,{nightsRangeSelected:t})=>{if(e.nightsSelection.data){const a=e.nightsSelection.data.map(e=>e.value===t?{...e,selected:!0}:{...e,selected:!1});return{...e,nightsSelection:{...e.nightsSelection,data:[...a]}}}return{...e}},NIGHTS_OPTIONS_PREV_STATE_UPDATE:(e,{prevNightsOptions:t})=>({...e,nightsSelection:{...e.nightsSelection,prevNightsRangeSelected:t}}),NIGHTS_OPTIONS_RESET:e=>{var t;return e.nightsSelection.data?{...e,nightsSelection:{...e.nightsSelection,data:null!=(t=e.nightsSelection.prevNightsRangeSelected)?t:e.nightsSelection.data}}:{...e}}},...{INCLUDE_WEEKEND_UPDATE:(e,{checked:t,enabled:a=!0})=>e.includeWeekendCheckbox.data?{...e,includeWeekendCheckbox:{...e.includeWeekendCheckbox,data:{...e.includeWeekendCheckbox.data,state:t,enabled:a}}}:{...e},INCLUDE_WEEKEND_NIGHTS_STATE_UPDATE:(e,{checked:t})=>e.includeWeekendCheckbox.data?{...e,includeWeekendCheckbox:{...e.includeWeekendCheckbox,checkboxNightsState:t}}:{...e},INCLUDE_WEEKEND_RESET:e=>{var t;return e.includeWeekendCheckbox.data?{...e,includeWeekendCheckbox:{...e.includeWeekendCheckbox,data:null!=(t=e.includeWeekendCheckbox.prevIncludeWeekendState)?t:e.includeWeekendCheckbox.data}}:{...e}},INCLUDE_WEEKEND_PREV_STATE_UPDATE:(e,{prevIncludeWeekendState:t})=>e.includeWeekendCheckbox.data?{...e,includeWeekendCheckbox:{...e.includeWeekendCheckbox,prevIncludeWeekendState:t}}:{...e}},...{MONTHS_SELECTION_UPDATE:(e,{selectedMonth:t})=>{if(e.monthsOptions.data&&t){const a=e.monthsOptions.data.options.map(e=>e.name===t?{...e,selected:!e.selected}:e);return{...e,monthsOptions:{...e.monthsOptions,data:{...e.monthsOptions.data,options:[...a]}}}}return{...e}},MONTHS_SELECTION_RESET:e=>{var t;return e.monthsOptions.data?{...e,monthsOptions:{...e.monthsOptions,data:null!=(t=e.monthsOptions.prevMonthsOptionsSelected)?t:e.monthsOptions.data}}:{...e}},MONTHS_SELECTION_PREV_STATE_UPDATE:(e,{prevMonthsOptions:t})=>({...e,monthsOptions:{...e.monthsOptions,prevMonthsOptionsSelected:t}}),MONTHS_SELECTION_DEFAULT_UPDATE:e=>{var t;return e.monthsOptions.data?{...e,monthsOptions:{...e.monthsOptions,data:{...null!=(t=Wa(e.monthsOptions.data))?t:e.monthsOptions.data}}}:{...e}},MONTHS_SELECTION_OPTIONS_UPDATE:(e,{monthsSelectionOptions:t})=>e.monthsOptions.data?{...e,monthsOptions:{...e.monthsOptions,data:{...e.monthsOptions.data.options,__typename:"EGDSToggleButtonGroup",options:t}}}:{...e}}},Ua=(e,t)=>{const a=wa[t.type];return a?a(e,t):e},Ha="on_submit",Va="on_close",qa="on_checkin_date_change",za=e=>{var t,a,l,r,i,o,c,s,u,p,y,_,S,g,E,f,T,C,b,I,A,F,O,k,R,L,P,N,M,x,B,$,w;const{autoOpen:U,startDate:H,endDate:V,enableSameDayDateRange:Y,buttonText:K,clearButtonText:j,inputLabel1:X,inputLabel2:Q,allowClearDates:Z,validDaysLowerBoundInclusive:J,validDaysUpperBoundInclusive:ee,skipQuery:te,typename:ae,errorMessage:ne,buttonTextTemplate:le,onClearDates:re,onSelectEndDate:ie,onSelectStartDate:oe,onChangeEndDate:ce,onChangeStartDate:se,onClose:de,onOpen:ue,setFieldRefByTypename:me,onNextCalendarClick:pe,onPreviousCalendarClick:ye,flexibleDateContent:_e,flexibleContentConfig:Se,dialogId:ge,startDateString:Ee,endDateString:ve,showCalendar:he,toggleCalendar:De,showStartDateEndDateHiddenInputs:fe,input1Stid:Te,popoverWidth:Ce,gaiaId:be,onFlexibleTabSelection:Ie,dailyPriceInsightsConfig:Ae,priceInsightsDayData:Fe,dayTemplateComponent:Oe,handleCalendarScroll:ke,dailyPriceAnalytics:Ge,dailyPriceInsightsExplainabilityText:Re}=e,{context:Le}=(0,m.R)(),Pe=(0,v.useEgClickstream)(),Ne=Nt(Le),Me=(0,v.useClickTracker)(),xe=(0,z.useLocalization)(),Be=n.useRef(null),{exposure:$e,logExperiment:We}=(0,W.useExperiment)("Auto_close_date_selector_after_end_date_selection"),we=(e,t)=>{const a=null!=e?e:t?It(t):"";return a?Ft(a):null};U&&ue&&ue();const Ue=we(Ee,H),He=we(ve,V),[Ve,qe]=n.useState(Ue),[ze,Ye]=n.useState(He),[Ke,je]=n.useState(Ue),[Xe,Qe]=n.useState(He),[Ze,Je]=n.useState(500),[et,tt]=n.useState(!1),at="boolean"==typeof he&&De,[nt,lt]=n.useState(at?he:null!=U&&U),[rt,it]=n.useState(nt),[ot,ct]=n.useState(!1),st=n.useMemo(()=>ee?It(ee):Ct(Ze),[Ze,ee]),dt=n.useMemo(()=>J?It(J):void 0,[J]),[mt,pt]=n.useState({defaults:{validStartDate:dt,validEndDate:st}});n.useEffect(()=>{if(Fe&&(null==Ae?void 0:Ae.dailyPriceInsightsEnabled)){const e=Pt(Fe,H,Ue,He,Ke,Xe,!1,!1,V),t=Lt(Ke,Xe,!0,e,xe);pt(e=>({...e,...t,defaults:{...e.defaults,dateText:{textTheme:null}}}))}else pt({defaults:{validStartDate:dt,validEndDate:st}})},[st,dt,!!Fe,be]);const[yt,_t]=n.useState("EGDSCardinalLocalizedText"===(null==le?void 0:le.__typename)?le.text:K),St=null==(t=null==_e?void 0:_e.calendarContent)?void 0:t.flexibleDateOptions,gt=null!=(a=null==St?void 0:St.find(e=>Ke&&Xe?e.selected:kt(e)))?a:null,Et=(null==gt?void 0:gt.primary)?`(${gt.primary})`:void 0,vt={value:null==gt?void 0:gt.value,hasValueChanged:!1,trailingText:gt&&kt(gt)?"":Et},[ht,Dt]=n.useState(vt),At=(0,d.eg)({viewSizes:d.pf})>=d.pf.LARGE,Ot=!(!(null==_e?void 0:_e.contentSelector)||!(null==Se?void 0:Se.includeFlexibleDatesContent)),Gt=null==_e?void 0:_e.contentSelector,Rt=(e=>{var t;return null!=(t=null==e?void 0:e.options.map(e=>{var t,a,n,l;return{selected:e.selected,checked:!1,text:null!=(t=e.primary)?t:"",disabled:e.disabled,value:null!=(a=e.value)?a:"",id:null!=(n=e.name)?n:"",altText:null!=(l=e.accessibility)?l:""}}))?t:[]})(null!=(r=null==(l=null==_e?void 0:_e.flexibleDatesContent)?void 0:l.nightsSelection)?r:null),Mt=null!=(c=null==(o=null==(i=null==_e?void 0:_e.flexibleDatesContent)?void 0:i.nightsSelection)?void 0:o.includeWeekend)?c:null,xt=null!=(p=null==(u=null==(s=null==_e?void 0:_e.flexibleDatesContent)?void 0:s.monthsSelection)?void 0:u.options)?p:null,Bt={contentSelector:{data:null!=Gt?Gt:null},nightsSelection:{data:Rt},includeWeekendCheckbox:{data:Mt,checkboxNightsState:$a(Rt)?"UNCHECKED":null!=(y=null==Mt?void 0:Mt.state)?y:"UNCHECKED"},monthsOptions:{data:xt}},[$t,Wt]=(e=>{const[t,a]=(0,n.useReducer)(Ua,e);return[t,a]})(Bt),{contentSelector:wt,nightsSelection:Ut,includeWeekendCheckbox:Ht,monthsOptions:qt}=$t,zt="EGDSBasicTab"===(null==(S=null==(_=wt.data)?void 0:_.tabs[0])?void 0:S.__typename)?null==(E=null==(g=wt.data)?void 0:g.tabs[0])?void 0:E.tabId:"date_form_nested_flexible_tab_calendar",Kt="EGDSBasicTab"!==(null==(T=null==(f=wt.data)?void 0:f.tabs[0])?void 0:T.__typename)||wt.data.selectedTabId===zt,jt=null!=(C=(null==Se?void 0:Se.includeFlexibleDatesContent)&&!Kt)&&C,[Xt,Qt]=n.useState(),Zt=(0,G.j)((()=>{const e=Kt&&(null==Se?void 0:Se.includeFlexibleCalendarContent)&&ht.trailingText;return jt||e?`${ae}-Flexible`:ae})(),e=>e),[Jt,ea]=n.useState();n.useEffect(()=>{(null==Jt?void 0:Jt.includes(Va))&&!(null==Jt?void 0:Jt.includes(Ha))?At||(Ot&&(Wt({type:"CONTENT_SELECTOR_RESET"}),qt.prevMonthsOptionsSelected&&Wt({type:"MONTHS_SELECTION_RESET"}),Ut.prevNightsRangeSelected&&Wt({type:"NIGHTS_OPTIONS_RESET"}),Ht.prevIncludeWeekendState&&Wt({type:"INCLUDE_WEEKEND_RESET"})),je(Ve),Qe(ze)):ea(null)},[Jt]),n.useEffect(()=>{var e,t;Wt({type:"NIGHTS_OPTIONS_PREV_STATE_UPDATE",prevNightsOptions:Rt}),Wt({type:"INCLUDE_WEEKEND_PREV_STATE_UPDATE",prevIncludeWeekendState:Mt}),Wt({type:"CONTENT_SELECTOR_PREV_STATE_UPDATE",prevTab:null!=(t=null==(e=wt.data)?void 0:e.selectedTabId)?t:zt}),Wt({type:"MONTHS_SELECTION_PREV_STATE_UPDATE",prevMonthsOptions:xt})},[]);n.useEffect(()=>{if(et){tt(!1);let e="";Ke&&Xe&&(e=(()=>{const e=`${Ke} - ${Xe}`,t=Vt(e,xe),{trailingText:a}=ht;return a&&Kt&&(null==Se?void 0:Se.includeFlexibleCalendarContent)?`${t} ${a}`:e})());const t=(null==Jt?void 0:Jt.includes(Ha))?"done":"close";ft(Kt?e:null!=Xt?Xt:"",Zt,void 0,`${ae}_${t}`)}},[et,Jt]),n.useEffect(()=>{if(Ue&&(je(Ue),qe(Ue)),He&&(Qe(He),Ye(He)),Ue||He||(je(""),Qe("")),ee){const e=It(ee).getTime()-(new Date).getTime();Je(bt(e))}},[He,Ue,te,J,ee]),n.useEffect(()=>{te||(null==gt?void 0:gt.value)===ht.value||Dt(vt)},[gt,te]),n.useEffect(()=>{me("EGDSSearchFormDatePickerField",Be)},[]);const ta=n.useCallback(()=>{var e,t;nt&&(null!=(t=null==(e=null==Be?void 0:Be.current)?void 0:e.getBoundingClientRect().top)?t:20)<=20&&(lt(!1),document.body.click())},[nt]);n.useEffect(()=>{if(nt)return window.addEventListener("scroll",ta),()=>window.removeEventListener("scroll",ta)},[nt,ta]),n.useEffect(()=>{var e;at&&(he&&!rt?null==(e=Be.current)||e.click():!he&&rt&&document.body.click())},[he,De]),(0,h._H)(D.Jm,D.ht,{onSuccess:()=>{var e;null==(e=Be.current)||e.click()}});const aa=(e,t)=>{if("EGDSCardinalLocalizedText"===(null==le?void 0:le.__typename)&&e&&t){const a=Number(new Date(e)),n=Number(new Date(null!=t?t:"")),l=bt(n-a);_t(((e,t)=>{const a=e.templates.find(e=>e.category===(e=>0===e?"ZERO":1===e?"ONE":2===e?"TWO":e>2&&e<5?"FEW":e>=5&&e<10?"MANY":"OTHER")(t));return a?ut(a.template,e.models[0].key,t.toString()):""})(le,l))}},na=(e,t)=>{var a,n;const l=Xe!==e,r=V&&l;tt(!1),ct(!0),null===e&&null!==Ke||je(e),e&&(se(e),Ke!==e&&oe(),Fe&&"positive"===(null==(n=null==(a=Fe[e])?void 0:a.dateText)?void 0:n.textTheme)&&(null==Ge?void 0:Ge.startDateAnalytics)&&Pe({clientPayload:JSON.parse(null==Ge?void 0:Ge.startDateAnalytics)})),e||(je(""),se(""),oe());const i=(e=>{var t,a;return null==(a=null==(t=null==e?void 0:e.toISOString())?void 0:t.match(/[0-9]{4}-[0-9]{2}-[0-9]{2}/gi))?void 0:a[0]})(e&&(e=>{const t=new Date(e);return null==t||t.setDate(t.getDate()+1),t})(e)),o=t||i||null;t&&We($e),o?(Qe(o),Xe!==o&&ie(),ce(o),aa(e,o)):e?je(e):e||(Qe(""),ce(""),ie()),((e,t,a,n)=>{var l,r;const{formatDateString:i}=n;if(e&&t){const n=new Date(e),o=new Date(t);if(n<o){n.setDate(n.getDate()+1);for(let e=n;e<=o;e.setDate(e.getDate()+1))if("positive"===(null==(r=null==(l=a[i(e,{raw:Tt})])?void 0:l.dateText)?void 0:r.textTheme))return!0}}return!1})(e,o,mt,xe)&&(null==Ge?void 0:Ge.rangeAnalytics)&&Pe({clientPayload:JSON.parse(Ge.rangeAnalytics)}),Fe&&(null==Ae?void 0:Ae.dailyPriceInsightsEnabled)&&(pt(Pt(mt,H,e,o,Ke,Xe,l,r,t)),pt(Lt(Ke,Xe,!1,mt,xe)),pt(Lt(e,t,!0,mt,xe)))},la=()=>{var e;const t=null!=(e=null==St?void 0:St.find(e=>"0_day"===e.value))?e:null;if(t){const{value:e}=t;Dt({value:e,trailingText:"",hasValueChanged:!0})}},{selectedFlexibleDatesNights:ra,selectedFlexibleDatesMonths:oa}=jt?(()=>{var e,t,a,n,l,r,i;const o=null==(e=Ut.data)?void 0:e.find(e=>!0===e.selected),c=(null==(t=qt.data)?void 0:t.options)?[null==(a=null==qt?void 0:qt.data)?void 0:a.options[0],null==(n=null==qt?void 0:qt.data)?void 0:n.options[1]]:[],s=null!=(i=null==(r=null==(l=qt.data)?void 0:l.options)?void 0:r.filter(e=>e.selected))?i:[],d=null==(u=s&&(null==s?void 0:s.length)>0?s:c)?void 0:u.map(e=>{var t,a;const n=null==(t=e.name)?void 0:t.split("_"),l=null!=(a=null==n?void 0:n.splice(n.length-2,n.length).join("_"))?a:"";return{shortMonthName:n?n[n.length-1]:"",monthsDate:l}}).filter(e=>!!e.monthsDate&&!!e.shortMonthName);var u;return{selectedFlexibleDatesNights:o,selectedFlexibleDatesMonths:d}})():{selectedFlexibleDatesNights:void 0,selectedFlexibleDatesMonths:[]},sa=()=>{var e;const t=null==(e=null==_e?void 0:_e.flexibilityLabel)?void 0:e.templates,a=null==ra?void 0:ra.text,n=null==oa?void 0:oa.map(e=>e.shortMonthName),l=xt&&n.length>0,r=l&&n.length>6?5:n.length-1,i=l&&t?t[r].template:"",o=l?[a,...n]:[];let c=i;return o.forEach((e,t)=>{var a,n;const l=null==(n=null==(a=null==_e?void 0:_e.flexibilityLabel)?void 0:a.models[t])?void 0:n.key;c=ut(c,null!=l?l:"",null!=e?e:"")}),c};n.useEffect(()=>{jt&&Qt(sa)},[]);const da=()=>{var e,t,a,n;if(jt){const a=sa();Qt(a);const n=null!=(t=null==(e=qt.data)?void 0:e.options.some(e=>e.selected))&&t;n||Wt({type:"MONTHS_SELECTION_DEFAULT_UPDATE"});const l=Ut.prevNightsRangeSelected!==Ut.data||(null==Ht?void 0:Ht.prevIncludeWeekendState)!==(null==Ht?void 0:Ht.data)||(null==qt?void 0:qt.prevMonthsOptionsSelected)!==qt.data;Wt({type:"MONTHS_SELECTION_PREV_STATE_UPDATE",prevMonthsOptions:n?qt.data:Wa(qt.data)}),Wt({type:"INCLUDE_WEEKEND_PREV_STATE_UPDATE",prevIncludeWeekendState:null==Ht?void 0:Ht.data}),Wt({type:"NIGHTS_OPTIONS_PREV_STATE_UPDATE",prevNightsOptions:Ut.data}),tt(l)}if(Ot){const e="EGDSBasicTabs"===(null==(a=null==wt?void 0:wt.data)?void 0:a.__typename)?null==(n=wt.data)?void 0:n.selectedTabId:"";Wt({type:"CONTENT_SELECTOR_PREV_STATE_UPDATE",prevTab:e}),wt.prevTabSelected!==e&&tt(!0)}},ua=(e,t)=>{if(ea([Ha]),!At&&Ot&&da(),!H&&!V&&e&&t)return qe(e),Ye(t),void tt(!0);e||t||la(),(null!=Ue?Ue:"")===e&&(null!=He?He:"")===t||(qe(e),Ye(t),tt(!0))};(0,h._H)(D.z,D.vZ,{onSuccess:({payload:e})=>{const t=e.startDate?Ft(e.startDate):null,a=e.endDate?Ft(e.endDate):null;na(t,a),ua(t,a)}}),(0,h._H)(D.dO,D.Wj,{onSuccess:({payload:e})=>{ma(e.flexibleOptionValue)}});const ma=e=>{if(null==St?void 0:St.length){const t=St.find(t=>t.value===e);if(t){const{selectAnalytics:e,value:a,primary:n}=t,l=kt(t)?"":`(${n})`;Dt(e=>{var t,n;const r=null!=(n=null==(t=St.find(t=>t.value===e.value))?void 0:t.deselectAnalytics)?n:null;return r&&Me(r.referrerId,r.linkName),{value:a,trailingText:l,prevValue:e.value,hasValueChanged:!0}}),e&&Me(e.referrerId,e.linkName)}}},pa={data:_e,onNightSelectionPillChange:e=>{Wt({type:"NIGHTS_OPTIONS_CHANGED",nightsRangeSelected:e}),(e=>{var t,a,n;const l=Ut.data.findIndex(t=>t.value===e),r=null==(n=null==(a=null==(t=null==_e?void 0:_e.flexibleDatesContent)?void 0:t.nightsSelection)?void 0:a.options[l])?void 0:n.selectAnalytics;(null==r?void 0:r.linkName)&&(null==r?void 0:r.referrerId)&&Me(r.referrerId,r.linkName)})(e);const t=e.includes("WEEK")||e.includes("6_DAY_LOWER,7_DAY_UPPER")||e.includes("MONTH"),a=e.includes("DAY"),n=$a(Ut.data);t&&Wt({type:"INCLUDE_WEEKEND_UPDATE",checked:"CHECKED",enabled:!1}),a&&n&&Wt({type:"INCLUDE_WEEKEND_UPDATE",checked:Ht.checkboxNightsState,enabled:!0})},nightsSelectionPills:Ut.data,includeWeekendCheckbox:Ht.data,onIncludeWeekendCheck:e=>{const t=e.target.checked?"CHECKED":"UNCHECKED";Wt({type:"INCLUDE_WEEKEND_NIGHTS_STATE_UPDATE",checked:t}),Wt({type:"INCLUDE_WEEKEND_UPDATE",checked:t})},onMonthSelectionToggle:e=>{Wt({type:"MONTHS_SELECTION_UPDATE",selectedMonth:e.target.name})},monthsSelectionToggleButtons:qt.data,onContentSelectorSelection:e=>{var t;fe("EGDSBasicTabs"===(null==(t=wt.data)?void 0:t.__typename)&&e===zt),Wt({type:"CONTENT_SELECTOR_CHANGED",tabSelected:e}),e!==zt&&(null==Ie||Ie())},contentSelector:wt.data},ya=Ot?{component:Ba,props:pa}:void 0,_a=At||Kt?ca:void 0,Sa=null==Se?void 0:Se.includeFlexibleCalendarContent,Ea="EGDSBasicTabs"===(null==(b=wt.data)?void 0:b.__typename)&&Kt?"":"is-visually-hidden is-hidden",va={data:null!=(I=null==_e?void 0:_e.calendarContent)?I:{},onSelect:ma,currentlySelectedPillValue:null!=(A=ht.value)?A:"",className:Ot?Ea:"",includeFlexibleCalendarContent:!(!(null==Se?void 0:Se.includeFlexibleCalendarContent)||!(null==_e?void 0:_e.calendarContent))},ha=At||Kt?{flexibleCalendarProps:va,dailyPriceExplainabilityTextProps:Re?{data:Re,isCalendarTab:Kt}:void 0}:void 0,Da={inputName1:"EGDSDateRange-date-selector-trigger",input1Stid:null!=Te?Te:"default",autoCloseOnSelection:1===$e.bucket,allowClearDates:null!=(F=Z&&Kt)&&F,clearButtonLabel:j,dateFormatOptions:{month:"short",day:"numeric"},dayNameLength:"narrow",dayTemplateComponent:null!=Oe?Oe:Yt,dayData:mt,endDate:Xe,enableSameDayDateRange:Y,inputLabel1:X,inputLabel2:Q,locale:Ne,maxDate:st,minDate:dt,onDateRangeChange:na,onDateRangeClear:()=>{je(null),Qe(null),la(),re()},onClose:()=>{at&&De(!1);const e=Ve!==Ke;ea(t=>{const a=e?[Va,qa]:[Va];return t?[...t,...a]:[...a]}),At&&da(),ht.hasValueChanged&&""!==Ke&&""!==Xe&&(tt(!0),Dt(e=>({...e,hasValueChanged:!1}))),ot&&(tt(!0),ct(!1)),de(),it(!1)},onSubmit:ua,onOpen:()=>{(null==Ge?void 0:Ge.presentationAnalytics)&&Fe?Pe({clientPayload:JSON.parse(null==Ge?void 0:Ge.presentationAnalytics)}):(null==Ge?void 0:Ge.errorAnalytics)&&!Fe&&Pe({clientPayload:JSON.parse(null==Ge?void 0:Ge.errorAnalytics)}),at&&De(!0),ue(),it(!0),Kt||null==Ie||Ie()},invalidInput1:ne,startDate:Ke,submitButtonLabel:yt,useSingleTrigger:!0,initialOpenState:nt,startDateRef:Be,onNextClicked:pe,onPrevClicked:ye,onScrollHandler:ke,handleShape:"circle",alertTemplateComponent:_a,alertTemplateData:ha,calendarWrapper:ya,trailingText1:Sa&&!jt?null!=(O=ht.trailingText)?O:"":void 0,dialogId:ge,inputValue1:jt?Xt:void 0,popoverWidth:Ce};return n.createElement(n.Fragment,null,n.createElement(q.L,{...Da}),(null==(R=null==(k=null==_e?void 0:_e.flexibleDatesContent)?void 0:k.nightsSelection)?void 0:R.includeWeekend)&&"CHECKED"===(null==(L=null==Ht?void 0:Ht.data)?void 0:L.state)&&Ot&&!Kt&&n.createElement("input",{type:"hidden","data-stid":La,name:`${La}-${null==(P=_e.flexibleDatesContent.nightsSelection)?void 0:P.includeWeekend.name}`,value:"INCLUDE_WEEKEND"}),(null==(M=null==(N=null==_e?void 0:_e.flexibleDatesContent)?void 0:N.nightsSelection)?void 0:M.options)&&ra&&Ot&&!Kt&&n.createElement("input",{type:"hidden","data-stid":Ra,name:`${Ra}-${ra.id}`,value:ra.value}),(null==(B=null==(x=null==_e?void 0:_e.flexibleDatesContent)?void 0:x.monthsSelection)?void 0:B.options)&&Ot&&!Kt&&n.createElement("input",{type:"hidden","data-stid":ga,name:ga,value:oa.map(e=>e.monthsDate).join("/")}),(null==_e?void 0:_e.calendarContent)&&Sa&&Kt&&n.createElement("input",{type:"hidden","data-stid":ia,name:`${ia}-${null==($=_e.calendarContent)?void 0:$.formElementId}`,value:null!=(w=ht.value)?w:""}))},Ya=u.gql`
  fragment SearchFormFlexibleDatesPriceInsightsDailyFragment on SearchFormPriceInsightsDailyResponse {
    days {
      ...SearchFormPriceInsightsDayFragment
    }
    explainabilityText {
      ...EGDSSearchFormMoreInfoTriggerFragment
    }
    analytics {
      presentationAnalytics
      rangeAnalytics
      startDateAnalytics
      errorAnalytics
    }
  }

  fragment SearchFormPriceInsightsDayFragment on SearchFormPriceInsightsDay {
    date {
      day
      month
      year
    }
    theme
    accessibilityText
  }
  ${Jt.fragment}
`,Ka=u.gql`
  query SearchFormPriceInsightsDaily($context: ContextInput!, $criteria: SearchFormPriceInsightsDailyInput!) {
    searchFormPriceInsights(context: $context) {
      dailyPrice(criteria: $criteria) {
        __typename
        ...SearchFormFlexibleDatesPriceInsightsDailyFragment
      }
    }
  }

  ${Ya}
`,ja=u.gql`
  fragment EGDSDateRangePickerFragment on EGDSDateRangePicker {
    buttonText
    buttonTextTemplate {
      ... on EGDSCardinalLocalizedText {
        text
        models {
          key
          source
          __typename
        }
        templates {
          category
          template
          __typename
        }
        __typename
      }
    }
    clearButtonText
    firstDayOfWeek
    maxNumberOfDaysSelected
    sameDaySelectionAllowed
    selectedStartDate {
      ...DateFragment
    }
    startDatePlaceholderText
    selectedEndDate {
      ...DateFragment
    }
    endDatePlaceholderText
    validDaysLowerBoundInclusive {
      ...DateFragment
    }
    validDaysUpperBoundInclusive {
      ...DateFragment
    }
    submitButtonAnalytics {
      linkName
      referrerId
    }
    nextButtonAnalytics {
      linkName
      referrerId
    }
    previousButtonAnalytics {
      linkName
      referrerId
    }
    startDateButtonAnalytics {
      linkName
      referrerId
    }
    endDateButtonAnalytics {
      linkName
      referrerId
    }
    clearDatesButtonAnalytics {
      linkName
      referrerId
    }
    showClearDatesButton

    flexibleDateContent {
      ...EGDSDatePickerFlexibilityContentFragment
    }
  }

  fragment DateFragment on Date {
    day
    month
    year
  }

  ${Ba.fragment}
`,Xa="EGDSDatePickerFlexibleNights",Qa="EGDSDateRangePicker",Za={START_DATE_NAME_PREFIX:`${Qa}-StartDate`,END_DATE_NAME_PREFIX:`${Qa}-EndDate`,PARTIAL_STAY_START_DATE_NAME_PREFIX:"EGDSDateRangePartialStay-StartDate",PARTIAL_STAY_END_DATE_NAME_PREFIX:"EGDSDateRangePartialStay-EndDate",SOFT_PACKAGES_START_DATE_NAME_PREFIX:"EGDSDateRangePickerSoftPackages-StartDate",SOFT_PACKAGES_END_DATE_NAME_PREFIX:"EGDSDateRangePickerSoftPackages-EndDate",FLEXIBILITY_PREFIX:"EGDSDatePickerFlexibilityCalendarContent-SelectedOption",FLEXIBILITY_NIGHTS_PREFIX:`${Xa}-Options`,FLEXIBILITY_WEEKEND_PREFIX:`${Xa}-Weekend`,FLEXIBILITY_MONTHS_PREFIX:"EGDSDatePickerFlexibleMonths-Options"},Ja=e=>{var t,a,l,r,o,c;const s=(0,v.useClickTracker)(),{data:p,analytics:y,egdsElementId:_,label:S,validDaysUpperBoundInclusive:g,skipReflection:E,onOpenDatesField:h,updatePlaybackDates:D,lobName:f,enablePriceCalendar:T,priceCalendarInputs:C,dialogId:b,popoverWidth:I,gaiaId:A,dailyPriceInsightsConfig:F,onLocationChange:O,isPartialDates:k}=e,{__typename:R,selectedStartDate:L,selectedEndDate:P,validDaysUpperBoundInclusive:N,sameDaySelectionAllowed:M,clearButtonText:x,showClearDatesButton:B,startDatePlaceholderText:$,endDatePlaceholderText:U,clearDatesButtonAnalytics:H,endDateButtonAnalytics:V,startDateButtonAnalytics:q,submitButtonAnalytics:z,nextButtonAnalytics:Y,previousButtonAnalytics:K,flexibleDateContent:j,buttonText:X}=p,{context:Q}=(0,m.R)(),{state:Z,dispatch:J}=(0,i.kW)(),{start:ee,end:te}=null!=(t=Z.dates)?t:{},{start:ae,end:ne}=null!=(a=Z.partialStaysDates)?a:{},le=k&&ae?Wt(Rt(null!=ae?ae:"")):L,re=k&&ne?Wt(Rt(ne)):P,ie=le?Ft(It(le)):"",oe=re?Ft(It(re)):"",[ce,se]=n.useState({startDate:ie,endDate:oe}),de="EGDSBasicTabs"===(null==(l=null==j?void 0:j.contentSelector)?void 0:l.__typename)?null==j?void 0:j.contentSelector.tabs:null,ue=de&&"EGDSBasicTab"===de[0].__typename?de[0].tabId:"calendar-tab",[me,pe]=n.useState("EGDSBasicTabs"!==(null==(r=null==j?void 0:j.contentSelector)?void 0:r.__typename)||(null==j?void 0:j.contentSelector.selectedTabId)===ue),{exposure:ye,logExperiment:_e}=(0,W.useExperiment)("Daily_Price_Insight_AA_test"),{exposure:Se,logExperiment:ge}=(0,W.useExperiment)("Price_Insight_Calendar_in_Search_Form"),{dailyPriceDebounce:Ee}=null!=F?F:{},ve=e=>"partial-stay-date-range-select"===_?Za[`PARTIAL_STAY_${e}_DATE_NAME_PREFIX`]:"soft_packages_date_form_field"===_?Za[`SOFT_PACKAGES_${e}_DATE_NAME_PREFIX`]:Za[`${e}_DATE_NAME_PREFIX`],he=e=>{var t,a;const n=null!=(t=null==e?void 0:e.referrerId)?t:"",l=null!=(a=null==e?void 0:e.linkName)?a:"";n&&l&&s(n,l)},De=(0,G.j)("EGDSPriceCalendar_close",e=>e),fe=(0,G.j)("EGDSPriceCalendar_done",e=>e),Te=e=>{if(T){const t=`${ce.startDate} - ${ce.endDate}`;ft(t,"close"===e?De:fe)}},Ce=()=>{he(z),Te("close")},be=()=>{var e;if(T&&O&&(null==(e=null==C?void 0:C.journeyCriteria)?void 0:e[0])){const e=C.journeyCriteria[0];O({name:"origin_select",value:e.origin}),O({name:"destination_select",value:e.destination})}ge&&Se&&ge(Se),null==h||h(),he(y)},[Ie,Ae]=n.useState(void 0),[Fe,Oe]=n.useState(void 0),[ke]=(0,u.useLazyQuery)(Ka,{onCompleted:e=>{var t,a,n,l,r,i,o,c,s,d;const u=null!=(n=null==(a=null==(t=null==e?void 0:e.searchFormPriceInsights)?void 0:t.dailyPrice)?void 0:a.days)?n:[];if(1===(null==Se?void 0:Se.bucket)){const t=u.length>0?Bt(u):void 0;Ae({days:t,explainabilityText:(null==(r=null==(l=null==e?void 0:e.searchFormPriceInsights)?void 0:l.dailyPrice)?void 0:r.explainabilityText)&&u.length>0?null==(o=null==(i=null==e?void 0:e.searchFormPriceInsights)?void 0:i.dailyPrice)?void 0:o.explainabilityText:void 0,analytics:null!=(d=null==(s=null==(c=null==e?void 0:e.searchFormPriceInsights)?void 0:c.dailyPrice)?void 0:s.analytics)?d:void 0})}}});n.useEffect(()=>{Oe(null==Ie?void 0:Ie.days)},[Ie]);const Ge=e=>{ke({variables:e})},Re=1===(null==Se?void 0:Se.bucket)&&Fe?Ut:void 0,[Le,Pe]=n.useState(!1),Ne=!!A&&!!Ge&&Le;n.useEffect(()=>{A?(Oe(void 0),Pe(!0)):A||Ae(void 0)},[A]),n.useEffect(()=>{if(Ne){const e=$t(new Date),t=$t(new Date((new Date).getFullYear(),(new Date).getMonth()+3));if(e&&t&&1===(null==ye?void 0:ye.bucket)){Ge({context:Q,criteria:{checkInDate:e,checkOutDate:t,gaiaId:A}})}_e&&ye&&Ee&&_e(ye),Pe(!1)}},[Le]);const Me={onClearDates:()=>he(H),onSelectEndDate:()=>he(V),onSelectStartDate:()=>he(q),onClose:Ce,onOpen:be,onChangeStartDate:e=>{se(t=>({...t,startDate:null!=e?e:t.startDate})),D&&D(e,!0)},onChangeEndDate:e=>{se(t=>(E||J({type:"UPDATE_DATES",end:e,start:t.startDate}),D&&D(e,!1),{...t,endDate:null!=e?e:t.endDate}))},onNextCalendarClick:()=>{he(Y)},onPreviousCalendarClick:()=>{he(K)},...E?{}:{startDateString:ee,endDateString:te}},xe={...e,...p,...Me,typename:R,startDate:le,endDate:re,validDaysUpperBoundInclusive:null!=g?g:N,enableSameDayDateRange:M,clearButtonText:null!=x?x:"",inputLabel1:null!=S?S:$,inputLabel2:null!=S?S:U,allowClearDates:null!=B&&B,dayTemplateComponent:Re,priceInsightsDayData:Fe,dailyPriceInsightsConfig:{...F,dailyPriceInsightsEnabled:1===Se.bucket},dailyPriceAnalytics:null==Ie?void 0:Ie.analytics,showStartDateEndDateHiddenInputs:e=>pe(e),dailyPriceInsightsExplainabilityText:null==Ie?void 0:Ie.explainabilityText};n.useEffect(()=>{E||k||se(e=>({...e,...ee?{startDate:ee}:{},...te?{endDate:te}:{}}))},[se,ee,te,E]),n.useEffect(()=>{k&&se(e=>({...e,...ae?{startDate:ae}:{},...ne?{endDate:ne}:{}}))},[ae,ne,k]);const Be=n.useCallback(()=>wt(f,C,!0),[f,C])(),$e={submitButtonLabel:X,initialStartDate:ie,initialEndDate:oe,dateLabel:null!=S?S:$,dialogId:b,onOpen:be,onClose:Ce,onDateChange:(e,t)=>{se({startDate:e,endDate:t})},onDoneButtonClick:()=>{Te("done")}};return n.createElement(n.Fragment,null,T&&f&&Be?n.createElement(w.D,{lobName:f,queryInputs:Be,priceCalendarPassthroughProps:$e}):n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(za,{...xe,autoOpen:!1})),n.createElement(d.rw,null,n.createElement(za,{...xe,popoverWidth:I}))),me&&n.createElement(n.Fragment,null,n.createElement("input",{type:"hidden","data-stid":ve("START"),name:`${ve("START")}-${_}`,value:null!=(o=ce.startDate)?o:""}),n.createElement("input",{type:"hidden","data-stid":ve("END"),name:`${ve("END")}-${_}`,value:null!=(c=ce.endDate)?c:""})))};Ja.displayName=Qa,Ja.fragment=ja;var en="EGDSSingleDatePicker",tn=`${en}-Date`,an=u.gql`
  fragment EGDSSingleDatePickerFragment on EGDSSingleDatePicker {
    buttonText
    selectedStartDate {
      ...DateFragment
    }
    validDaysLowerBoundInclusive {
      ...DateFragment
    }
    validDaysUpperBoundInclusive {
      ...DateFragment
    }
    submitButtonAnalytics {
      linkName
      referrerId
    }
    startDateButtonAnalytics {
      linkName
      referrerId
    }
    firstDayOfWeek
  }

  fragment DateFragment on Date {
    day
    month
    year
  }
`,nn=({analytics:e,data:t,egdsElementId:a,label:l,setFieldRefByTypename:r,errorMessage:o,index:c,showCalendar:s,toggleCalendar:d,autoOpen:u,dialogId:p,skipReflection:y,updatePlaybackDates:_,totalLegs:S,input1Stid:g,lobName:E,enablePriceCalendar:f,priceCalendarInputs:T,onLocationChange:C})=>{var b;const I=(0,v.useClickTracker)(),{__typename:A,buttonText:F,selectedStartDate:O,validDaysLowerBoundInclusive:k,validDaysUpperBoundInclusive:R,startDateButtonAnalytics:L,submitButtonAnalytics:P}=t,{state:N,dispatch:M}=(0,i.kW)(),{start:x,end:B}=null!=(b=N.dates)?b:{},[$]=n.useState(null!=u&&u),W=new Date;(new Date).setDate(W.getDate()+1);const[U,H]=n.useState((()=>{if(O)return Ft(It(O));if(f&&"flights"===E){const e=new Date;return e.setDate(e.getDate()+14),Ft(e)}return""})()),[V,z]=n.useState(Ft(W)),[Y,K]=n.useState(330),j=(0,G.j)(`${A}`,e=>e),[X,Q]=n.useState(!1),[Z,J]=n.useState(!1);n.useEffect(()=>{if(!y&&x?H(x):O&&H(Ft(It(O))),k&&z(Ft(It(k))),R){const e=It(R).getTime()-(new Date).getTime();K(bt(e))}},[Ft,O,k,R,x]),n.useEffect(()=>{if(X){Q(!1);ft(U?`${U}`:"",j,void 0,`${A}${null!=c?c:""}_close`)}},[X]);const ee=`${a}${Number.isInteger(c)?`-${c}`:""}`,{context:te}=(0,m.R)(),ae=n.useRef(null),ne=e=>{var t,a;const n=null!=(t=null==e?void 0:e.referrerId)?t:"",l=null!=(a=null==e?void 0:e.linkName)?a:"";n&&l&&I(n,l)};n.useEffect(()=>{r("EGDSSearchFormDatePickerField",ae)},[]);const le=e=>{Q(!1),J(!0),H(e),_&&S&&(0===c||c===S-1)&&_(e,0===c),ne(L)},re=n.useCallback(()=>wt(E,T,!1),[E,T]),ie=()=>{var t;if(f&&C&&(null==(t=null==T?void 0:T.journeyCriteria)?void 0:t[0])){const e=T.journeyCriteria[0];C({name:"origin_select",value:e.origin}),C({name:"destination_select",value:e.destination})}ne(e)},oe=()=>{ne(P),Z&&(Q(!0),J(!1))};(0,h._H)(D.Jm,D.ht,{onSuccess:()=>{var e;null==(e=ae.current)||e.click()}});const ce={isSingleDateSelection:!0,input1Stid:null!=g?g:"default",startDate:U,submitButtonLabel:F,inputLabel1:null!=l?l:void 0,maxDate:Ct(Y),autoCloseOnSelection:!1,allowClearDates:!1,dateFormatOptions:{month:"short",day:"numeric"},dayNameLength:"narrow",initialOpenState:$,locale:Nt(te),handleShape:"circle",invalidInput1:o,dialogId:p,startDateRef:ae,onDateRangeChange:le,onOpen:ie,onClose:oe,endDate:null},se=re(),de={submitButtonLabel:F,initialStartDate:U,dateLabel:null!=l?l:void 0,dialogId:p,onOpen:ie,onClose:oe,onDateChange:le,onDoneButtonClick:()=>{J(!1),Q(!1);ft(U?`${U}`:"",j,void 0,`${A}${null!=c?c:""}_done`)}};return n.createElement(n.Fragment,null,f&&E&&se?n.createElement(w.D,{lobName:E,queryInputs:se,priceCalendarPassthroughProps:de}):n.createElement(q.L,{...ce}),n.createElement("input",{type:"hidden","data-stid":tn,name:`${tn}-${ee}`,value:U}))};nn.displayName=en,nn.fragment=an;var ln=u.gql`
  fragment EGDSSearchFormDatePickerFieldFragment on EGDSSearchFormDatePickerField {
    egdsElementId
    label
    placeholder
    errorMessage
    validations {
      ... on EGDSMaxLengthInputValidation {
        errorMessage
      }
      ... on EGDSRangeInputValidation {
        errorMessage
        min
      }
      ... on EGDSRequiredInputValidation {
        errorMessage
      }
    }
    action {
      ...EGDSOpenDatePickerActionFragment
    }
  }

  fragment EGDSOpenDatePickerActionFragment on EGDSOpenDatePickerAction {
    accessibility
    analytics {
      linkName
      referrerId
    }
    datePicker {
      ...EGDSDateRangePickerFragment
      ...EGDSSingleDatePickerFragment
    }
  }

  ${Ja.fragment}
  ${nn.fragment}
`,rn=e=>{const{setFieldRefByTypename:t,fieldError:a,data:l,dialogId:r,validDaysUpperBoundInclusive:i,overrideErrorMessage:o,priceCalendarProps:c,popoverWidth:s,maxDateMessage:d}=e,{action:u,errorMessage:m,validations:p}=l,{lobName:y,enablePriceCalendar:_,priceCalendarInputs:S,onLocationChange:g}=null!=c?c:{},E=Dt();if("EGDSOpenDatePickerAction"!==(null==u?void 0:u.__typename))return null;const v=a?(e=>{var t,a,n,r;const i=e.validations,c=null==p?void 0:p.some(e=>"EGDSRequiredInputValidation"===e.__typename),s=null==p?void 0:p.find(e=>"EGDSRangeInputValidation"===e.__typename);if((null==i?void 0:i.sameDate)||(null==i?void 0:i.endDateBeforeStartDate)||(null==i?void 0:i.dateOutsideTripRange))return null!=(t=null!=o?o:m)?t:"";if(null==i?void 0:i.maxDate){const e=p&&"EGDSMaxLengthInputValidation"===p[0].__typename&&null!=(a=p[0].errorMessage)?a:"";return null!=d?d:e}if(null==i?void 0:i.emptyDate){if("soft_packages_date_form_field"===l.egdsElementId){const e=null==p?void 0:p.find(e=>"EGDSRequiredInputValidation"===e.__typename);return null!=(r=null!=(n=null==e?void 0:e.errorMessage)?n:m)?r:""}if(c)return null!=m?m:""}return i.startDateOutsideMinRange&&s?s.errorMessage:""})(a):"",h={...e,analytics:u.analytics,setFieldRefByTypename:t,errorMessage:v,dialogId:r||E};switch(u.datePicker.__typename){case"EGDSDateRangePicker":return n.createElement(Ja,{...l,...h,data:u.datePicker,validDaysUpperBoundInclusive:i,lobName:y,enablePriceCalendar:_,priceCalendarInputs:S,onLocationChange:g,popoverWidth:s});case"EGDSSingleDatePicker":return n.createElement(nn,{...l,...h,data:u.datePicker,lobName:y,enablePriceCalendar:_,priceCalendarInputs:S,onLocationChange:g});default:return null}};rn.displayName="EGDSSearchFormDatePickerField",rn.fragment=ln;var on=u.gql`
  fragment EGDSPrimaryButtonFragment on UIPrimaryButton {
    egdsElementId
    ...EGDSButtonFragment
  }

  ${St}
`,cn=({data:e,onClick:t,size:a,isFullWidth:l=!0,floating:r=!1})=>{const{egdsElementId:i,primary:o,analytics:c}=e,s=null!=i?i:"search_form_primary_button",d=(0,v.useClickTracker)(),u={onClick:n.useCallback(()=>{if(c){const{referrerId:e,linkName:t}=c;d(e,t)}t()},[c,t,d]),id:s,isFullWidth:l,size:a||$.V.LARGE};return r?n.createElement(pe.O,{type:"fade-button"},n.createElement(me.t,{...u},o)):n.createElement(B.y,{...u},o)};cn.displayName="SearchToolsEGDSPrimaryButton",cn.fragment=on;var sn=u.gql`
  fragment EGDSTertiaryButtonFragment on UITertiaryButton {
    egdsElementId
    ...EGDSButtonFragment
  }

  ${St}
`,dn=({onClick:e,isFullWidth:t,size:a,data:l,isDisabled:r,domRef:i,id:o})=>{const{egdsElementId:c,primary:s,disabled:d,accessibility:u,analytics:m,icon:p}=l,y=o||(c||"search_form_tertiary_button"),S=(0,v.useClickTracker)(),g=r||d,E=n.useCallback(()=>{if(m){const{referrerId:e,linkName:t}=m;S(e,t)}e()},[m,e,S]);return n.createElement(X.q,{"aria-label":null!=u?u:"",id:y,"data-test-id":y,onClick:E,disabled:g,isFullWidth:t,size:a,domRef:i},p&&n.createElement(_.LD,{name:p.id}),s)};dn.displayName="SearchToolsEGDSTertiaryButton",dn.fragment=sn;var un=u.gql`
  fragment EGDSSearchFormSelectActionFragment on EGDSSearchFormSelectAction {
    analytics {
      linkName
      referrerId
    }

    options {
      ...SearchFormSelectorOptionFragment
    }
  }

  fragment SearchFormSelectorOptionFragment on EGDSBasicOption {
    changeAnalytics {
      linkName
      referrerId
    }
    selected
    value
    label
  }
`,mn="EGDSSearchFormInputFieldWithSelection",pn=`${mn}`,yn=({data:e,trigger:t,triggerType:a,onOptionSelect:l,hideIcon:r,getModifiedOptions:i})=>{var o,c,s,u,m;const{egdsElementId:p,leftIcon:y,label:_}=t,{analytics:S}=e,g=e.options.filter(({__typename:e})=>"EGDSBasicOption"===e).map(e=>e),E=(0,v.useClickTracker)(),[h,D]=n.useState(!1),[f,T]=n.useState(g.findIndex(e=>e.selected)),{label:C,value:b}=null!=(o=g.find((e,t)=>t===f))?o:t,[I,A]=n.useState(null!=b?b:""),F=n.createRef(),O=n.createRef(),k=n.createRef(),{exposure:R}=(0,W.useExperiment)("Cabin_Class_in_the_Traveller_UI_WEB"),L=`${pn}-${p}`,P=(0,G.j)(L,e=>e),N=n.useCallback(e=>{e&&D(e=>!e);const{referrerId:t,linkName:a}=S;E(t,a)},[S,E]),x=()=>{D(!1)},B=(0,G.j)(L,e=>{var t,a;A(e.target.value);const n=g.find(t=>t.value===e.target.value);if(n){const{changeAnalytics:e}=n,r=null!=(t=null==e?void 0:e.referrerId)?t:"",i=null!=(a=null==e?void 0:e.linkName)?a:"";r&&i&&E(r,i),null==l||l(n)}return e}),w=()=>g.map((e,t)=>n.createElement(ye.P,{selected:t===f,key:e.label},n.createElement(_e.x,null,n.createElement($.u,{role:"menuitemradio",onClick:e=>((e,t)=>{var a,n,l,r,i,o,c,s;T(e),D(!1),ft(g[e].value,P),E(null!=(l=null==(n=null==(a=g[e])?void 0:a.changeAnalytics)?void 0:n.referrerId)?l:"",null!=(o=null==(i=null==(r=g[e])?void 0:r.changeAnalytics)?void 0:i.linkName)?o:""),null==(c=null==F?void 0:F.current)||c.focus(),null==(s=k.current)||s.focus(),t.preventDefault()})(t,e)},e.label)),n.createElement(M.D,{size:300},e.label))),U=null!=(c=null==i?void 0:i(g))?c:g,H=n.useCallback(()=>N(!0),[N]),V=n.createElement(ge._,{name:L,label:null!=_?_:"",icon:r?"":null!=(s=null==y?void 0:y.id)?s:"",domRef:O,onChange:B,onClick:H,"aria-label":null!=_?_:""},U.map(({label:e,value:t,selected:a})=>n.createElement("option",{key:t,label:e,value:t,selected:null!=a&&a},t))),q=n.createElement(ae.B,{name:L,id:p,triggerPill:!0,selected:!0,toggleState:h,onClick:H,domRef:k},null!=(u=C!==_?C:b)?u:""),z=e=>n.createElement(Ee.p,{id:`${p}_menu`,isOpen:h,onDismiss:x,disableBodyClickHandler:!1},n.createElement(ve.N,null,q),n.createElement(he.K,{position:he.C.LEFT,width:e},n.createElement("div",{role:"menu"},n.createElement(Se.I,null,w()))));return n.createElement(n.Fragment,null,"pill"===a&&n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(n.Fragment,null,z(210),n.createElement("input",{type:"hidden","data-testid":L,name:L,value:null!=b?b:""}))),n.createElement(d.rw,null,n.createElement(n.Fragment,null,z(260),n.createElement("input",{type:"hidden","data-testid":L,name:L,value:null!=b?b:""})))),"selector"===a&&n.createElement(d.LM,null,n.createElement(d.NP,null,V),n.createElement(d.zQ,null,n.createElement(n.Fragment,null,V,n.createElement("input",{type:"hidden","data-testid":L,name:L,value:1===R.bucket?null==(m=U.find(e=>e.selected))?void 0:m.value:I})))))};yn.displayName=mn,yn.fragment=un;var _n=u.gql`
  fragment EGDSSearchFormInputFieldFragment on EGDSSearchFormInputField {
    egdsElementId
    value
    label
    placeholder
    leftIcon {
      ...IconFragment
    }
    action {
      ...EGDSSearchFormSelectActionFragment
    }
  }
  ${Xe.fragment}
  ${yn.fragment}
`,Sn=({data:e,triggerType:t,onOptionSelect:a,hideIcon:l,getModifiedOptions:r})=>{var i;return"EGDSSearchFormSelectAction"===(null==(i=e.action)?void 0:i.__typename)&&t?n.createElement(yn,{data:e.action,trigger:e,triggerType:t,onOptionSelect:a,hideIcon:l,getModifiedOptions:r}):null};Sn.displayName="EGDSSearchFormInputField",Sn.fragment=_n;var gn=u.gql`
  fragment EGDSBasicOptionFragment on EGDSBasicOption {
    label
    value
    egdsElementId
    changeAnalytics {
      linkName
      referrerId
    }
    __typename
  }
`,En=({data:e})=>{const{label:t,value:a,egdsElementId:l}=e,r=`${l}-${a}`;return n.createElement("option",{key:r,value:a},t)};En.displayName="EGDSBasicOption",En.fragment=gn;var vn=(e,t)=>{function a(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}const n=a(e);return n===a(t)&&("array"===n?function(){if(e.length!==t.length)return!1;for(let a=0;a<e.length;a+=1)if(!vn(e[a],t[a]))return!1;return!0}():"object"===n?function(){const a=Object.keys(e);if(a.length!==Object.keys(t).length)return!1;for(let n=0;n<a.length;n+=1){const l=a[n];if(Object.prototype.hasOwnProperty.call(e,l)&&!vn(e[l],t[l]))return!1}return!0}():"function"===n?e.toString()===t.toString():e===t)},hn=e=>"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value,Dn=(e,t,a)=>{if("EGDSTravelerChildren"===a.children.__typename){const{children:n}=a;return{...{...n,count:{...n.count,value:e},ages:t.length?t.map(e=>({...n.ageTemplate,value:e})):[]}}}return{...a.children}},fn=e=>{const t=e.map(e=>e.adults.value);return t.every(e=>e===t[0])},Tn=(e,t,a,n)=>{var l;if(!a)return null;const r=t.reduce((e,t)=>{var a,n;return e+t.adults.value+t.children.count.value+(null!=(n=null==(a=t.infants)?void 0:a.count.value)?n:0)},0),i="lap"===n?t.reduce((e,t)=>{var a,n;return e+(null!=(n=null==(a=t.infants)?void 0:a.count.value)?n:0)},0):0,o="seat"===n?t.reduce((e,t)=>{var a,n;return e+(null!=(n=null==(a=t.infants)?void 0:a.count.value)?n:0)},0):0,c=t.reduce((e,t)=>{var a;return e+(null!=(a=t.adults.value)?a:0)},0),s=t.reduce((e,t)=>e+t.children.count.value,0),d=t.reduce((e,t)=>{var a;return e+(null!=(a=("EGDSTravelerChildren"===t.children.__typename?t.children.ages:[]).filter(e=>"EGDSTravelerChildAgeSelect"===e.__typename&&e.value&&e.value>=12).length)?a:0)},0),u=(e=>e.reduce((e,t)=>{var a,n;const l="EGDSTravelerChildren"===t.children.__typename?t.children.ages:[],r="EGDSTravelerInfant"===(null==(a=t.infants)?void 0:a.__typename)?t.infants.ages:[];return e+l.filter(hn).length+(null!=(n=r.filter(hn).length)?n:0)},0))(t),m=d+c<i,p=a.map(e=>{var a;if("EGDSTravelersInputValidation"===e.__typename){const{type:n,errorMessage:l,maxCount:i,errorSummary:p,infantsInSeatPerAdult:y}=e;return null!=(a={MAX_TRAVELERS:i&&r>i?{message:l,type:n,displayConfirmation:!0,errorCount:1,errorSummary:{...p,heading:l}}:null,CHILD_AGE_REQUIRED:u>0?{message:l,type:n,displayConfirmation:!1,errorCount:u,errorSummary:p}:null,MANY_INFANT_ON_LAP:m?{message:l,type:n,displayConfirmation:!0,errorCount:1,errorSummary:p}:null,MANY_INFANT_IN_SEAT:y&&d+c<o/y?{message:l,type:n,displayConfirmation:!0,errorCount:1,errorSummary:p}:null,MAX_ROOMS_WITH_CHILD:t.length>1&&s>0?{message:l,type:n,displayConfirmation:!0,errorCount:1,errorSummary:p}:null,EQUAL_ADULTS_BETWEEN_ROOMS:t.length>1&&!fn(t)?{message:l,type:n,displayConfirmation:!0,errorCount:1,errorSummary:p}:null}[n])?a:null}return null}).filter(e=>null!==e);return p.find(t=>e&&e.type===t.type)&&(null==e?void 0:e.displayConfirmation)?{...e,errorCount:"CHILD_AGE_REQUIRED"===e.type?u:1}:null!=(l=p[0])?l:null},Cn=(e,t)=>{var a,n,l,r,i,o,c,s,d;switch(t.type){case"ADD_ROOM":{const{adults:t,label:l,removeRoomButton:r,removeRoomAnnouncement:i,children:o,infants:c}=e.rooms[0];if("EGDSTravelerStepInput"===t.__typename&&"EGDSTravelerChildren"===o.__typename&&o.ages){const s={...o.count,value:0},d={__typename:"EGDSTravelerSelectorRoom",children:{...o,count:s,ages:[]},adults:{...t,value:1},label:l,removeRoomButton:r,removeRoomAnnouncement:i,infants:"EGDSTravelerInfant"===(null==c?void 0:c.__typename)?{...c,count:{...c.count,value:0},ages:[]}:null},u=e.rooms.concat(d),m=Tn(e.error?e.error:null,u,null!=(a=e.validations)?a:[],null==(n=e.infantSeatSelection)?void 0:n.value);return{...e,rooms:u,error:m}}return{...e,rooms:[]}}case"REMOVE_ROOM":{const{roomIndex:a}=t,n=e.rooms.filter((e,t)=>t!==a),i=Tn(e.error?e.error:null,n,null!=(l=e.validations)?l:[],null==(r=e.infantSeatSelection)?void 0:r.value);return{...e,rooms:n,error:i}}case"RESET_STATE":return t.state;case"RESET_ROOMS":return{...e,rooms:t.state.rooms};case"UPDATE_INFANT_SEAT_SELECTION":{const{value:a}=t,n=Tn(e.error?e.error:null,e.rooms,null!=(i=e.validations)?i:[],a);return{...e,infantSeatSelection:{value:t.value},error:n}}case"UPDATE_TRAVELERS_COUNT":{const{roomIndex:a,count:n,travelersType:l}=t,r=e.rooms.map((e,t)=>{var r,i,o;if(t===a)switch(l){case"adults":return{...e,adults:{...e.adults,value:n}};case"children":if("EGDSTravelerChildren"===e.children.__typename){const{children:t}=e,a=n>t.count.value,l="EGDSTravelerChildAgeSelect"===t.ageTemplate.__typename?{...t.ageTemplate,value:null}:null,o=a?null==(r=t.ages)?void 0:r.concat(null!=l?l:t.ageTemplate):null==(i=t.ages)?void 0:i.slice(0,-1),c={...t,count:{...t.count,value:n},ages:o};return{...e,children:c}}return e;case"infants":if("EGDSTravelerInfant"===(null==(o=e.infants)?void 0:o.__typename)){const{infants:t}=e,a=n>t.count.value?t.ages.concat(t.ageTemplate):t.ages.slice(0,-1),l={...t,count:{...t.count,value:n},ages:a};return{...e,infants:l}}return e;default:return e}return e}),i=Tn(e.error?e.error:null,r,null!=(o=e.validations)?o:[],null==(c=e.infantSeatSelection)?void 0:c.value);return{...e,rooms:r,error:i}}case"UPDATE_CHILD_AGE":{const{roomIndex:a,childIndex:n,childAge:l,isInfant:r}=t,i=e.rooms.map((e,t)=>{var i;return t!==a||"EGDSTravelerChildren"!==e.children.__typename||r?t===a&&"EGDSTravelerInfant"===(null==(i=e.infants)?void 0:i.__typename)&&r?{...e,infants:{...e.infants,ages:e.infants.ages.map((e,t)=>"EGDSTravelerChildAgeSelect"===e.__typename&&n===t?{...e,value:l}:{...e})}}:e:{...e,children:{...e.children,ages:e.children.ages.map((e,t)=>"EGDSTravelerChildAgeSelect"===e.__typename&&n===t?{...e,value:l}:{...e})}}}),o=Tn(e.error?e.error:null,i,null!=(s=e.validations)?s:[],null==(d=e.infantSeatSelection)?void 0:d.value);return{...e,rooms:i,error:o}}case"SHOW_ERROR":if(e.error){const{message:t,type:a,errorCount:n,errorSummary:l}=e.error,r={message:t,type:a,displayConfirmation:!0,errorCount:n,errorSummary:l};return{...e,error:r}}return{...e};case"SET_VALIDATIONS":return{...e,validations:t.validations};case"UPDATE_TRAVELERS_BULK":{const{adultTravelerCounts:a,childTravelerCounts:n,childrenAges:l}=t;if(null==a?void 0:a.length){const t=a.map((t,a)=>({...e.rooms[a],adults:{...e.rooms[a].adults,value:t},children:(null==l?void 0:l.length)?Dn((null==n?void 0:n.length)?n[a]:0,l[a],e.rooms[a]):{...e.rooms[a].children,count:{...e.rooms[a].children.count,value:0},ages:[]}}));return{...e,rooms:t}}return{...e}}default:return e}},bn=n.createContext({state:{}}),In=({children:e,rooms:t,validations:a,skipQuery:l,infantSeatSelection:r})=>{const[i,o]=n.useReducer(Cn,{rooms:t,validations:a,infantSeatSelection:r?{value:r.selected}:null}),[c,s]=n.useState(i);n.useEffect(()=>{l||o({type:"RESET_STATE",state:{rooms:t,validations:a,infantSeatSelection:r?{value:r.selected}:null}})},[l,r,t]),n.useEffect(()=>{i!==c&&s(i)},[i,c]),n.useEffect(()=>{o({type:"SET_VALIDATIONS",validations:a})},[a]);const d={state:c,dispatch:o};return n.createElement(bn.Provider,{value:d},e)},An=()=>n.useContext(bn),Fn=e=>"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value,On=e=>"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value,kn=e=>"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value,Gn=(e,t,a)=>{var n,l,r,i,o,c,s,d,u,m;if(!a)return null;const p=null!=(l=null==(n=t.children)?void 0:n.count.value)?l:0,y=null!=(i=null==(r=t.infantsInSeat)?void 0:r.count.value)?i:0,_=null!=(c=null==(o=t.infantsOnLap)?void 0:o.count.value)?c:0,S=null!=(s=t.adults.value)?s:0,g=S+p+y+_,E="EGDSTravelerChildren"===(null==(v=t.children)?void 0:v.__typename)?v.ages.filter(Fn).length:0;var v;const h=(e=>"EGDSTravelerInfant"===(null==e?void 0:e.__typename)?null==e?void 0:e.ages.filter(On).length:0)(t.infantsInSeat);var D;const f=E+h+("EGDSTravelerInfant"===(null==(D=t.infantsOnLap)?void 0:D.__typename)?null==D?void 0:D.ages.filter(kn).length:0),T="EGDSTravelerChildren"===(null==(d=t.children)?void 0:d.__typename)?null==(u=t.children)?void 0:u.ages.filter(e=>"EGDSTravelerChildAgeSelect"===e.__typename&&e.value&&e.value>=12).length:0,C=T+S<_,b=a.map(e=>{var t;if("EGDSTravelersInputValidation"===e.__typename){const{type:a,errorMessage:n,maxCount:l,errorSummary:r,infantsInSeatPerAdult:i}=e;return null!=(t={MAX_TRAVELERS:l?g>l&&{message:n,type:a,displayConfirmation:!0,errorCount:1,errorSummary:r}:null,CHILD_AGE_REQUIRED:f>0?{message:n,type:a,displayConfirmation:!1,errorCount:f,errorSummary:r}:null,MANY_INFANT_ON_LAP:C?{message:n,type:a,displayConfirmation:!0,errorCount:1,errorSummary:r}:null,MANY_INFANT_IN_SEAT:i&&T+S<y/i?{message:n,type:a,displayConfirmation:!0,errorCount:1,errorSummary:r}:null}[a])?t:null}return null}).filter(e=>!!e);return b.find(t=>e&&e.type===(null==t?void 0:t.type))&&(null==e?void 0:e.displayConfirmation)?{...e,errorCount:"CHILD_AGE_REQUIRED"===e.type?f:1}:null!=(m=b[0])?m:null},Rn=(e,t)=>{var a,n,l,r;switch(t.type){case"RESET_STATE":return t.state;case"UPDATE_TRAVELERS_COUNT":{const n=((e,t)=>{var a,n,l,r,i,o,c,s,d,u,m,p,y,_;switch(t.travelersType){case"adults":return{...e,adults:{...e.adults,value:t.count}};case"children":if("EGDSTravelerChildren"===(null==(a=e.children)?void 0:a.__typename)){const{children:a}=e,r=t.count>a.count.value,i="EGDSTravelerChildAgeSelect"===a.ageTemplate.__typename?{...a.ageTemplate,value:null}:null,o=r?null==(n=a.ages)?void 0:n.concat(null!=i?i:a.ageTemplate):null==(l=a.ages)?void 0:l.slice(0,-1),c={...a,count:{...a.count,value:t.count},ages:o};return{...e,children:c}}if("EGDSBasicTraveler"===(null==(r=e.children)?void 0:r.__typename)){const{children:a}=e;return{...e,children:{...a,count:{...a.count,value:t.count}}}}return e;case"infants_in_seat":if("EGDSTravelerInfant"===(null==(i=e.infantsInSeat)?void 0:i.__typename)&&"EGDSTravelerInfant"===(null==(o=e.infantsOnLap)?void 0:o.__typename)){const{infantsInSeat:a,infantsOnLap:n}=e,l=t.count>a.count.value?null==(c=a.ages)?void 0:c.concat(a.ageTemplate):null==(s=a.ages)?void 0:s.slice(0,-1),r={...a,count:{...a.count,value:t.count},ages:l},i=r.count.value>0?0:r.count.max,o={...n,count:{...null==n?void 0:n.count,max:i}};return{...e,infantsInSeat:r,infantsOnLap:o}}if("EGDSBasicTraveler"===(null==(d=e.infantsInSeat)?void 0:d.__typename)){const{infantsInSeat:a}=e;return{...e,infantsInSeat:{...a,count:{...a.count,value:t.count}}}}return e;case"infants_on_lap":if("EGDSTravelerInfant"===(null==(u=e.infantsOnLap)?void 0:u.__typename)&&"EGDSTravelerInfant"===(null==(m=e.infantsInSeat)?void 0:m.__typename)){const{infantsOnLap:a,infantsInSeat:n}=e,l=t.count>a.count.value?null==(p=a.ages)?void 0:p.concat(a.ageTemplate):null==(y=a.ages)?void 0:y.slice(0,-1),r={...a,count:{...a.count,value:t.count},ages:l},i=r.count.value>0?0:r.count.max,o={...n,count:{...null==n?void 0:n.count,max:i}};return{...e,infantsOnLap:r,infantsInSeat:o}}if("EGDSBasicTraveler"===(null==(_=e.infantsOnLap)?void 0:_.__typename)){const{infantsOnLap:a}=e;return{...e,infantsOnLap:{...a,count:{...a.count,value:t.count}}}}return e;default:return e}})(e.travelers,t),l=Gn(e.error?e.error:null,n,null!=(a=e.validations)?a:[]);return{...e,travelers:n,error:l}}case"UPDATE_CHILD_AGE":{const a=((e,t)=>{var a,n,l;return"EGDSTravelerChildren"===(null==(a=e.children)?void 0:a.__typename)&&""===t.infantType?{...e,children:{...e.children,ages:e.children.ages.map((e,a)=>"EGDSTravelerChildAgeSelect"===e.__typename&&t.childIndex===a?{...e,value:t.childAge}:{...e})}}:"EGDSTravelerInfant"===(null==(n=e.infantsInSeat)?void 0:n.__typename)&&"infants_in_seat"===t.infantType?{...e,infantsInSeat:{...e.infantsInSeat,ages:e.infantsInSeat.ages.map((e,a)=>"EGDSTravelerChildAgeSelect"===e.__typename&&t.childIndex===a?{...e,value:t.childAge}:{...e})}}:"EGDSTravelerInfant"===(null==(l=e.infantsOnLap)?void 0:l.__typename)&&"infants_on_lap"===t.infantType?{...e,infantsOnLap:{...e.infantsOnLap,ages:e.infantsOnLap.ages.map((e,a)=>"EGDSTravelerChildAgeSelect"===e.__typename&&t.childIndex===a?{...e,value:t.childAge}:{...e})}}:e})(e.travelers,t),l=Gn(e.error?e.error:null,a,null!=(n=e.validations)?n:[]);return{...e,travelers:a,error:l}}case"UPDATE_PETS_FILTER":{const a=((e,t)=>{var a;if("EGDSBasicCheckBox"===(null==(a=e.pets)?void 0:a.__typename)){const a=t.checked?"CHECKED":"UNCHECKED";return{...e,pets:{...e.pets,state:a}}}return e})(e.travelers,t),n=Gn(e.error?e.error:null,a,null!=(l=e.validations)?l:[]);return{...e,travelers:a,error:n}}case"SHOW_ERROR":if(e.error){const{message:t,type:a,errorCount:n,errorSummary:l}=e.error,r={message:t,type:a,displayConfirmation:!0,errorCount:n,errorSummary:l};return{...e,error:r}}return{...e};case"UPDATE_TRAVELERS_BULK":{const{adultTravelerCounts:a,childTravelerCounts:n,childrenAges:l,petCounts:i}=t,o=((e,t,a,n)=>{var l;if("EGDSTravelerChildren"===(null==(l=n.children)?void 0:l.__typename)){const{children:l}=n;return{...n,adults:{...n.adults,value:e},children:{...n.children,count:{...n.children.count,value:t},ages:a.length?a.map(e=>({...null==l?void 0:l.ageTemplate,value:e})):[]}}}return n})(a,n,l,e.travelers),c=((e,t)=>{var a;if("EGDSBasicCheckBox"===(null==(a=e.pets)?void 0:a.__typename)){const a=t>0?"CHECKED":"UNCHECKED";return{...e,pets:{...e.pets,state:a}}}return e})(o,i),s=Gn(e.error?e.error:null,o,null!=(r=e.validations)?r:[]);return{...e,travelers:c,error:s}}case"UPDATE_CABIN_CLASS":return{...e,cabinClass:t.cabinClass};default:return e}},Ln=n.createContext({state:{}}),Pn=({children:e,travelers:t,validations:a,skipQuery:l,cabinClass:r})=>{const[i,o]=n.useReducer(Rn,{travelers:t,validations:a,cabinClass:r}),c=n.useRef({travelers:t,validations:a,cabinClass:r});n.useEffect(()=>{if(!l){!vn({travelers:t,validations:a,cabinClass:r},c.current)&&(o({type:"RESET_STATE",state:{travelers:t,validations:a,cabinClass:r}}),c.current={travelers:t,validations:a,cabinClass:r})}},[l,t,a,r]);const s=n.useMemo(()=>({state:i,dispatch:o,cabinClass:r}),[i,o,r]);return n.createElement(Ln.Provider,{value:s},e)},Nn=()=>n.useContext(Ln),Mn=u.gql`
  fragment EGDSTravelerChildAgeSelectFragment on EGDSTravelerChildAgeSelect {
    labelTemplate {
      ... on EGDSBasicLocalizedText {
        models {
          key
          source
        }
        template
      }
    }
    options {
      ...EGDSBasicOptionFragment
    }
    egdsElementId
    value
    disabled
  }

  ${En.fragment}
`,xn=({childIndex:e,roomIndex:t,isInfant:a,infantType:l,childAgeRef:r,data:i})=>{const o=An(),c=Nn(),s=void 0!==t,{labelTemplate:d,options:u,egdsElementId:m,value:p,disabled:y}=i,_=(0,v.useClickTracker)(),S=`child-${m}${s?`-${t}`:""}-${e}`,g=`age-${m}${s?`-${t}`:""}-${e}`,E=e+1,h=null!=p?p:"",D=Number.isInteger(h),{error:f}=s?o.state:c.state,T="CHILD_AGE_REQUIRED"===(null==f?void 0:f.type)&&f.displayConfirmation,C=f&&"CHILD_AGE_REQUIRED"===f.type&&!D&&T?f.message:"",b="EGDSBasicLocalizedText"===d.__typename&&d.models.length>=1?ut(d.template,d.models[0].key,E.toString()):"";return n.createElement(ge._,{domRef:r,disabled:y,invalid:C,label:b,"aria-label":b,id:g,name:S,onChange:n=>{const r=parseInt(n.target.value,10),i=u.find(e=>"EGDSBasicOption"===e.__typename&&e.value===n.target.value);if(i&&"EGDSBasicOption"===(null==i?void 0:i.__typename)&&(null==i?void 0:i.changeAnalytics)){const{referrerId:e,linkName:t}=i.changeAnalytics;_(e,t)}Number.isNaN(r)||(s?o.dispatch({type:"UPDATE_CHILD_AGE",roomIndex:t,childIndex:e,childAge:r,isInfant:a,infantType:l}):c.dispatch({type:"UPDATE_CHILD_AGE",childIndex:e,childAge:r,infantType:l}))},value:h,emptyState:"string"==typeof h,required:!0},u.map(e=>"EGDSBasicOption"===e.__typename&&n.createElement(En,{key:`${S}-${e.value}`,data:e})))};xn.displayName="EGDSTravelerChildAgeSelect",xn.fragment={...Mn,__typename:"EGDSTravelerChildAgeSelect"};var Bn=u.gql`
  fragment TemplateModelFragment on TemplateModel {
    key
    source
  }
`,$n=u.gql`
  fragment EGDSBasicLocalizedTextFragment on EGDSBasicLocalizedText {
    template
    models {
      ...TemplateModelFragment
    }
  }

  ${Bn}
`,Wn=u.gql`
  fragment EGDSCardinalLocalizedTextFragment on EGDSCardinalLocalizedText {
    egdsElementId
    text
    models {
      ...TemplateModelFragment
    }
    templates {
      ...CardinalTemplateFragment
    }
  }

  fragment CardinalTemplateFragment on CardinalTemplate {
    template
    category
  }

  ${Bn}
`,wn=u.gql`
  fragment EGDSCompositeLocalizedTextFragment on EGDSCompositeLocalizedText {
    egdsElementId
    text
    template
    models {
      ...CompositeLocalizedTextModelFragment
    }
  }

  fragment CompositeLocalizedTextModelFragment on CompositeLocalizedTextModel {
    key
    models {
      ...EGDSTemplateModelsFragment
    }
  }

  fragment EGDSTemplateModelsFragment on EGDSTemplateModels {
    models {
      ...TemplateModelFragment
    }
  }

  ${Bn}
`,Un=u.gql`
  fragment EGDSLocalizedTextFragment on EGDSLocalizedText {
    ...EGDSBasicLocalizedTextFragment
    ...EGDSCardinalLocalizedTextFragment
    ...EGDSCompositeLocalizedTextFragment
  }

  ${$n}
  ${Wn}
  ${wn}
`,Hn=u.gql`
  fragment EGDSTravelerStepInputFragment on EGDSStepInput {
    ... on EGDSTravelerStepInput {
      decreaseAnalytics {
        linkName
        referrerId
      }
      increaseAnalytics {
        linkName
        referrerId
      }
      decreaseText
      decreaseTextTemplate {
        ...EGDSBasicLocalizedTextFragment
      }
      increaseText
      increaseTextTemplate {
        ...EGDSBasicLocalizedTextFragment
      }
      egdsElementId
    }
    label
    max
    min
    step
    subLabel
    value
  }

  ${$n}
`,Vn=(e,t)=>{if("EGDSBasicLocalizedText"===(null==e?void 0:e.__typename)){const a=(t+1).toString();return ut(e.template,e.models[0].key,a)}return""},qn=({roomIndex:e,travelersType:t,data:a})=>{const{label:l,max:r,min:i,subLabel:o,value:c}=a,s=An(),d=Nn(),u=(0,v.useClickTracker)(),m=void 0!==e,p="EGDSTravelerStepInput"===a.__typename&&(m?{incrementText:Vn(a.increaseTextTemplate,e),decrementText:Vn(a.decreaseTextTemplate,e)}:{incrementText:a.increaseText||"",decrementText:a.decreaseText||""}),y="EGDSTravelerStepInput"===a.__typename?`${a.egdsElementId}${m?`-${e}`:""}`:"";return n.createElement(De.W7,{decrementText:"object"==typeof p&&(null==p?void 0:p.decrementText)||"",incrementText:"object"==typeof p&&(null==p?void 0:p.incrementText)||"",label:l,incrementId:`${y}-increase`,decrementId:`${y}-decrease`,min:null!=i?i:0,max:null!=r?r:0,onChange:n=>{const l=parseInt(n.target.value,10);if("EGDSTravelerStepInput"===a.__typename){const{increaseAnalytics:e,decreaseAnalytics:t}=a;l>c&&e.referrerId&&e.linkName?u(e.referrerId,a.increaseAnalytics.linkName):t.referrerId&&t.linkName&&u(t.referrerId,a.decreaseAnalytics.linkName)}Number.isNaN(l)||(m?s.dispatch({type:"UPDATE_TRAVELERS_COUNT",travelersType:t,roomIndex:e,count:l}):d.dispatch({type:"UPDATE_TRAVELERS_COUNT",travelersType:t,count:l}))},value:c,description:null!=o?o:"",id:y})};qn.displayName="EGDSTravelersStepInput",qn.fragment={...Hn,__typename:"EGDSTravelerStepInput"};var zn=u.gql`
  fragment EGDSTravelerChildrenFragment on EGDSTraveler {
    count {
      ...EGDSTravelerStepInputFragment
    }
    ... on EGDSBasicTraveler {
      type
    }
    ... on EGDSTravelerChildren {
      ages {
        ...EGDSTravelerChildAgeSelectFragment
      }
      ageTemplate {
        ...EGDSTravelerChildAgeSelectFragment
      }
    }
    ... on EGDSTravelerInfant {
      ages {
        ...EGDSTravelerChildAgeSelectFragment
      }
      ageTemplate {
        ...EGDSTravelerChildAgeSelectFragment
      }
    }
  }

  ${qn.fragment}
  ${xn.fragment}
`,Yn=({data:e,childAgeRef:t,roomIndex:a,travelersType:l})=>{var i;const{count:o,__typename:c}=e,s="infants"===l||"infants_on_lap"===l||"infants_in_seat"===l,d=("EGDSTravelerInfant"!==e.__typename&&"EGDSTravelerChildren"!==e.__typename||!e.ages?[]:e.ages).findIndex(e=>"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value);return n.createElement(n.Fragment,null,o&&"EGDSTravelerStepInput"===o.__typename&&n.createElement(qn,{travelersType:l,roomIndex:a,data:o}),("EGDSTravelerChildren"===c||"EGDSTravelerInfant"===c)&&n.createElement(F.X,{wrap:"wrap"},null==(i=e.ages)?void 0:i.map((e,i)=>"EGDSTravelerChildAgeSelect"===e.__typename&&n.createElement(n.Fragment,{key:i},n.createElement(r.N,{padding:{blockstart:"two",inlineend:"two"}},n.createElement(O.C,{minWidth:"full_width"},n.createElement("div",null,n.createElement(xn,{key:i,childIndex:i,roomIndex:a,isInfant:s,infantType:s?l:"",data:e,childAgeRef:d===i?t:void 0}))))))))};Yn.displayName="EGDSTravelersChildren",Yn.fragment={...zn,__typename:"EGDSTravelerChildren"};var Kn=({data:e})=>{const{state:t,dispatch:a}=Nn(),{pets:l}=t.travelers;if("EGDSBasicCheckBox"!==(null==l?void 0:l.__typename))return null;const r="CHECKED"===l.state;return n.createElement(Da,{data:e,checked:r,onChange:e=>{a({type:"UPDATE_PETS_FILTER",checked:e.currentTarget.checked})}})},jn=u.gql`
  fragment EGDSTravelersFragment on EGDSTravelers {
    adults {
      ...EGDSTravelerStepInputFragment
    }
    children {
      ...EGDSTravelerChildrenFragment
    }
    infantsInSeat {
      ...EGDSTravelerChildrenFragment
    }
    infantsOnLap {
      ...EGDSTravelerChildrenFragment
    }
    pets {
      ...EGDSBasicCheckBoxFragment
    }
  }

  ${Da.fragment}
  ${Yn.fragment}
  ${qn.fragment}
`,Xn=({childAgeRef:e,infantsOnLapRef:t,infantsInSeatRef:a,isTravelersExpanded:l,data:i})=>{const{adults:o,children:c,pets:s,infantsInSeat:d,infantsOnLap:u}=i,m=n.useRef(null);return n.useEffect(()=>{var e;l&&(null==(e=m.current)||e.focus())},[l]),n.createElement(n.Fragment,null,"EGDSTravelerStepInput"===o.__typename&&n.createElement(r.N,{padding:{blockstart:"two"}},n.createElement("div",null,n.createElement("span",{className:"is-visually-hidden",tabIndex:-1,ref:m},o.label),n.createElement(qn,{travelersType:"adults",data:o}))),("EGDSTravelerChildren"===(null==c?void 0:c.__typename)||"EGDSBasicTraveler"===(null==c?void 0:c.__typename))&&n.createElement(r.N,{padding:{blockstart:"two"}},n.createElement("div",null,n.createElement(Yn,{travelersType:"children",childAgeRef:e,data:c}))),("EGDSTravelerInfant"===(null==u?void 0:u.__typename)||"EGDSBasicTraveler"===(null==u?void 0:u.__typename))&&n.createElement(r.N,{padding:{blockstart:"two"}},n.createElement("div",null,n.createElement(Yn,{travelersType:"infants_on_lap",childAgeRef:t,data:u}))),("EGDSTravelerInfant"===(null==d?void 0:d.__typename)||"EGDSBasicTraveler"===(null==d?void 0:d.__typename))&&n.createElement(r.N,{padding:{blockstart:"two"}},n.createElement("div",null,n.createElement(Yn,{travelersType:"infants_in_seat",childAgeRef:a,data:d}))),"EGDSBasicCheckBox"===(null==s?void 0:s.__typename)&&n.createElement(r.N,{padding:{blockstart:"two"}},n.createElement("div",null,n.createElement(Kn,{data:s}))))};Xn.displayName="EGDSTravelers",Xn.fragment={...jn,__typename:"EGDSTravelers"};var Qn=u.gql`
  fragment EGDSBasicTravelerSelectorFragment on EGDSBasicTravelerSelector {
    closeButton {
      ...EGDSPrimaryButtonFragment
      ...EGDSTertiaryButtonFragment
    }
    doneButton {
      ...EGDSPrimaryButtonFragment
    }
    title
    subTitles
    travelers {
      ...EGDSTravelersFragment
    }
    validations {
      ... on EGDSTravelersInputValidation {
        errorMessage
        maxCount
        type
        infantsInSeatPerAdult
        errorSummary {
          ...EGDSErrorSummaryFragment
        }
      }
    }
  }

  ${_t.fragment}
  ${cn.fragment}
  ${dn.fragment}
  ${Xn.fragment}
`,Zn=({data:e,onSubmit:t,isTravelersExpanded:a,cabinClassField:l,travelersComposition:i,onCabinClassSelect:o})=>{const{doneButton:c,subTitles:s}=e,{state:u,dispatch:m}=Nn(),p=n.useRef(null),y=n.useRef(null),_=n.useRef(null),{travelers:S,error:g}=u,E=null==i?void 0:i.title,{exposure:v}=(0,W.useExperiment)("Cabin_Class_in_the_Traveller_UI_WEB"),h=1===v.bucket,D=p.current?p:y.current?y:_,f=e=>{if(e&&m&&(m({type:"UPDATE_CABIN_CLASS",cabinClass:e.label}),o&&l)){const t=`${pn}-${l.egdsElementId}`;o({name:t,value:e.value})}};return n.createElement(F.X,{direction:"column"},(null==g?void 0:g.displayConfirmation)&&n.createElement(r.N,{padding:{blockstart:"four"}},n.createElement("div",null,n.createElement(_t,{data:g.errorSummary,inputErrorRef:D,errorCount:g.errorCount}))),n.createElement("section",null,h&&n.createElement(M.D,{size:300,weight:"medium"},E),n.createElement(Xn,{data:S,childAgeRef:p,infantsOnLapRef:y,infantsInSeatRef:_,isTravelersExpanded:a}),null==s?void 0:s.map((e,t)=>n.createElement(M.D,{key:`travelers-sub-title-${t}`,spacing:"three",theme:"secondary"},e)),h&&l?n.createElement(r.N,{padding:{small:{blockstart:"four"}}},n.createElement("div",null,n.createElement(Sn,{data:l,triggerType:"selector",onOptionSelect:f,hideIcon:h,getModifiedOptions:e=>((e,t)=>t?e.map(e=>({...e,selected:e.label===t})):e)(e,u.cabinClass)}))):null),"UIPrimaryButton"===c.__typename&&n.createElement(d.LM,null,n.createElement(d.rw,null,n.createElement(r.N,{padding:{blockstart:"four",blockend:"three"}},n.createElement(F.X,{justifyContent:"end"},n.createElement(O.C,null,n.createElement(cn,{isFullWidth:!1,onClick:()=>{t&&t("menu")},data:c,size:$.V.MEDIUM})))))))};Zn.displayName="EGDSBasicTravelerSelector",Zn.fragment={...Qn,__typename:"EGDSBasicTravelerSelector"};var Jn=u.gql`
  fragment EGDSStandardLinkFragment on EGDSStandardLink {
    text
    egdsElementId
    action {
      accessibility
      target
      resource {
        value
      }
      analytics {
        linkName
        referrerId
      }
    }
    icon {
      id
    }
    iconPosition
  }
`,el={EXTERNAL:"_blank",INTERNAL:"_self"},tl=({data:{action:{analytics:e,resource:t,target:a,accessibility:l},text:r,icon:i,iconPosition:o},inline:c=!0})=>{const s=(0,v.useClickTracker)(),d=n.useCallback(()=>{s(e.referrerId,e.linkName)},[s,e]);return n.createElement(P.i,{onClickCapture:d,inline:c},n.createElement("a",{target:el[a],href:t.value},i&&"TRAILING"!==o&&n.createElement(_.LD,{name:i.id}),r,i&&"TRAILING"===o&&n.createElement(_.LD,{name:i.id}),l&&n.createElement(M.D,{className:"is-visually-hidden"},l)))};tl.fragment=Jn,tl.displayName="EGDSStandardLink";var al=u.gql`
  fragment EGDSTravelerInfantSeatSelectFragment on EGDSTravelerInfantSeatSelection {
    airlineAgeRule {
      ...EGDSStandardLinkFragment
    }
    groupName
    labelTemplate {
      ... on EGDSCardinalLocalizedText {
        text
        models {
          key
          source
        }
        templates {
          category
          template
        }
      }
    }
    options {
      label
      value
    }
    selected
  }
  ${tl.fragment}
`,nl=({data:e})=>{var t;const{state:a,dispatch:l}=An(),i=a.rooms.reduce((e,t)=>{var a,n,l;return e+(null!=(l=null==(n=null==(a=t.infants)?void 0:a.count)?void 0:n.value)?l:0)},0),o=null==(t=a.infantSeatSelection)?void 0:t.value;if("EGDSCardinalLocalizedText"!==e.labelTemplate.__typename||0===i||!o)return null;const{labelTemplate:c,options:s,airlineAgeRule:d,groupName:u}=e,m=1===i?c.text:c.templates[1].template;return n.createElement(r.N,{padding:{blockstart:"twelve"}},n.createElement(F.X,{direction:"column"},n.createElement(O.C,null,n.createElement(M.D,null,m)),n.createElement(O.C,null,n.createElement(fe.S,{group:u,selected:o,onChange:e=>{l({type:"UPDATE_INFANT_SEAT_SELECTION",value:e.currentTarget.value})},defaultChecked:!0},s.map((e,t)=>n.createElement(r.N,{key:`radioInfant${t+1}`,margin:0===t?{blockstart:"three"}:void 0},n.createElement("div",null,n.createElement(Te.P,{id:e.value,value:e.value},e.label)))))),n.createElement(O.C,null,n.createElement(r.N,{padding:{blockstart:"two",blockend:"six"}},n.createElement("div",null,n.createElement(tl,{data:d}))))))};nl.displayName="EGDSTravelerInfantSeatSelect",nl.fragment={...al,__typename:"EGDSTravelerInfantSeatSelection"};var ll=u.gql`
  fragment EGDSTravelerSelectorRoomFragment on EGDSTravelerSelectorRoom {
    label {
      ... on EGDSBasicLocalizedText {
        models {
          key
          source
        }
        template
      }
    }
    adults {
      ...EGDSTravelerStepInputFragment
    }
    children {
      ...EGDSTravelerChildrenFragment
    }
    infants {
      ...EGDSTravelerChildrenFragment
    }
    removeRoomButton {
      ...EGDSTertiaryButtonFragment
    }
    removeRoomAnnouncement
  }

  ${qn.fragment}
  ${Yn.fragment}
  ${dn.fragment}
`,rl=({roomIndex:e,childAgeRef:t,data:a,isTravelersExpanded:l,focusAddRoomButton:i})=>{var o;const{adults:c,children:s,infants:d,label:u,removeRoomButton:m,removeRoomAnnouncement:p}=a,{state:y,dispatch:_}=An(),S=n.useRef(),g=n.useRef(y.rooms.length);n.useEffect(()=>{var t;l&&0===e&&(null==(t=S.current)||t.focus())},[l]),n.useEffect(()=>{var t;l&&y.rooms.length>=g.current&&e===y.rooms.length-1&&(null==(t=S.current)||t.focus()),g.current=y.rooms.length},[y.rooms.length]);const E="EGDSTravelerChildren"===s.__typename&&(null==(o=s.ages)?void 0:o.some(e=>"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value)),v=e+1;return n.createElement(n.Fragment,null,"EGDSBasicLocalizedText"===u.__typename&&1===u.models.length&&n.createElement(N.M,{size:7,domRef:S,tabIndex:-1},ut(u.template,u.models[0].key,v.toString())),"EGDSTravelerStepInput"===c.__typename&&n.createElement(r.N,{padding:{blockstart:"two"}},n.createElement("div",null,n.createElement(qn,{travelersType:"adults",roomIndex:e,data:c}))),"EGDSTravelerChildren"===s.__typename&&n.createElement(r.N,{padding:{blockstart:"two"}},n.createElement("div",null,n.createElement(Yn,{travelersType:"children",roomIndex:e,childAgeRef:t,data:s}))),"EGDSTravelerInfant"===(null==d?void 0:d.__typename)&&n.createElement(r.N,{padding:{blockstart:"two"}},n.createElement("div",null,n.createElement(Yn,{travelersType:"infants",roomIndex:e,childAgeRef:E?void 0:t,data:d}))),y.rooms.length>1&&m&&"UITertiaryButton"===m.__typename&&n.createElement(r.N,{padding:{blockstart:"two"}},n.createElement(F.X,{justifyContent:"end"},n.createElement(O.C,null,n.createElement(dn,{id:`${m.egdsElementId}_${e+1}`,onClick:()=>{p&&(0,x.liveAnnounce)(p,x.Level.ASSERTIVE),i&&i(),_({type:"REMOVE_ROOM",roomIndex:e})},data:m})))))};rl.displayName="EGDSTravelerSelectorRoom",rl.fragment={...ll,__typename:"EGDSTravelerSelectorRoom"};var il=u.gql`
  fragment EGDSRoomsTravelerSelectorFragment on EGDSRoomsTravelerSelector {
    addAnotherRoomButton {
      ...EGDSTertiaryButtonFragment
    }
    closeButton {
      ...EGDSPrimaryButtonFragment
      ...EGDSTertiaryButtonFragment
    }
    doneButton {
      ...EGDSPrimaryButtonFragment
    }
    infantSeatSelection {
      ...EGDSTravelerInfantSeatSelectFragment
    }
    maxRoomCount
    rooms {
      ...EGDSTravelerSelectorRoomFragment
    }
    title
    validations {
      ... on EGDSTravelersInputValidation {
        errorMessage
        maxCount
        type
        infantsInSeatPerAdult
        errorSummary {
          ...EGDSErrorSummaryFragment
        }
      }
    }
  }

  ${_t.fragment}
  ${cn.fragment}
  ${dn.fragment}
  ${rl.fragment}
  ${nl.fragment}
`,ol=({data:e,onSubmit:t,isTravelersExpanded:a,groupStaysLink:l})=>{const{addAnotherRoomButton:i,doneButton:o,maxRoomCount:c,infantSeatSelection:s}=e,{state:u,dispatch:m}=An(),p=n.useRef(null),y=n.useRef(null),{rooms:_,error:S}=u,[,g]=n.useState(_);if(n.useEffect(()=>{g(_)},[_]),_.length<1)return null;const E=()=>{var e;null==(e=y.current)||e.focus()},v={...i,disabled:!!c&&_.length>=c},h=_.findIndex(e=>{var t,a,n,l,r;return"EGDSTravelerChildren"===e.children.__typename&&(null==(t=e.children)?void 0:t.ages)&&(null==(a=e.children)?void 0:a.ages.some(e=>"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value))||null!=(r="EGDSTravelerInfant"===(null==(n=e.infants)?void 0:n.__typename)&&(null==(l=e.infants)?void 0:l.ages.some(e=>"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value)))&&r}),D="UIPrimaryButton"===o.__typename&&n.createElement(r.N,{padding:{blockstart:"four",blockend:"three"}},n.createElement(F.X,{justifyContent:"end"},n.createElement(O.C,null,n.createElement(cn,{isFullWidth:!1,onClick:()=>{t&&t("menu")},data:o,size:$.V.MEDIUM}))));return n.createElement(F.X,{direction:"column"},(null==S?void 0:S.displayConfirmation)&&n.createElement(_t,{data:S.errorSummary,inputErrorRef:p,errorCount:S.errorCount}),n.createElement("section",null,_.map((e,t)=>n.createElement(r.N,{padding:{blockstart:(null==S?void 0:S.displayConfirmation)?"two":"unset"},key:t},n.createElement("div",null,n.createElement(rl,{roomIndex:t,data:e,childAgeRef:h===t?p:void 0,isTravelersExpanded:a,focusAddRoomButton:E})))),"UITertiaryButton"===v.__typename&&n.createElement(r.N,{padding:{small:{blockstart:"two",blockend:l?"two":"sixteen"},medium:{blockend:"unset"}}},n.createElement(F.X,{justifyContent:"end"},n.createElement(O.C,null,n.createElement(dn,{onClick:()=>{m({type:"ADD_ROOM"})},data:v,domRef:y})))),s&&n.createElement(nl,{data:s})),n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement("div",null,l&&n.createElement(r.N,{margin:{small:{blockstart:"two",blockend:"sixteen"}}},l))),n.createElement(d.rw,null,n.createElement(r.N,{padding:{blockstart:"twelve"}},n.createElement(F.X,{alignContent:"space-around",alignItems:"center",direction:"row-reverse",justifyContent:"space-between",wrap:"nowrap",space:"medium"},n.createElement(O.C,null,D),l&&n.createElement(O.C,null,l))))))};ol.displayName="EGDSRoomsTravelerSelector",ol.fragment={...il,__typename:"EGDSRoomsTravelerSelector"};var cl="EGDSSearchFormLocationField",sl=`${cl}-Location`,dl=`${cl}-RegionId`,ul=`${cl}-Lat`,ml=`${cl}-Long`,pl=`${cl}-Values`,yl=`${cl}-Selected`,_l=`${cl}-AmenitiesFacilitiesGroup`,Sl=`${cl}-LocGroup`,gl=`${cl}-PropertiesGoodForGroup`,El=`${cl}-PropertyTypeGroup`,vl=`${cl}-PropertyId`,hl=`${cl}-PropertyFilter`,Dl="EGDSSearchFormTravelersField",fl=`${Dl}-Adult-Room`,Tl=`${Dl}-ChildrenAge-Room`,Cl="EGDSSearchFormTravelersField",bl=`${Cl}-Adult`,Il=`${Cl}-ChildrenAge`,Al=`${Cl}-Pets`,Fl="SearchFormDurationSpanField",Ol=`${Fl}-Min`,kl=`${Fl}-Max`,Gl="EGDSBasicPill";function Rl(e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,a,n]=e.split("-");return`${a}-${n}-${t}`}return e}var Ll={ONE_WAY:"oneway",ROUND_TRIP:"roundtrip",MULTI_DESTINATION:"multi"},Pl={LODGING:e=>{const t=e.reduce((e,t)=>{const{name:a,value:n,checked:l}=t;if(a.startsWith(`${sl}-destination`))return{...e,destination:encodeURIComponent(n)};if(a.startsWith(`${dl}-destination`)&&"null"!==n)return{...e,regionId:n};if(a.startsWith(`${ul}-destination`)&&n)return{...e,latLong:n};if(a.startsWith(`${ml}-destination`)&&n)return{...e,latLong:encodeURIComponent(`${e.latLong},${n}`)};if(a.startsWith(`${_l}-destination`)&&n)return{...e,amenities_facilities_group:n};if(a.startsWith(`${Sl}-destination`)&&n)return{...e,location_group:n};if(a.startsWith(`${gl}-destination`)&&n)return{...e,properties_good_for_group:n};if(a.startsWith(`${El}-destination`)&&n)return{...e,property_type_group:n};if(a.startsWith(hl)&&n){const t=a.split(`${hl}-`).pop();return{...e,...t?{[t]:n}:{}}}if(a.startsWith(Za.START_DATE_NAME_PREFIX))return{...e,d1:n,startDate:n};if(a.startsWith(Za.END_DATE_NAME_PREFIX))return{...e,d2:n,endDate:n};if(a.startsWith(Za.FLEXIBILITY_PREFIX))return{...e,flexibility:n};if(a.startsWith(Za.FLEXIBILITY_NIGHTS_PREFIX))return{...e,flexibility:n};if(a.startsWith(Za.FLEXIBILITY_WEEKEND_PREFIX))return{...e,flexibleSearchRequirement:n};if(a.startsWith(Za.FLEXIBILITY_MONTHS_PREFIX))return{...e,searchRange:n};if(a.startsWith(`${vl}`))return{...e,propertyId:n};if(a.startsWith(fl)){const{adults:t}=e,a=t?`${t},${n}`:n,l=a.split(",").length;return{...e,adults:a,rooms:l}}if(a.startsWith(Tl)){const{children:t}=e,l=`${a.substr(Tl.length,1)}_${n}`,r=t?`${t},${l}`:l;return{...e,children:r}}if(a.startsWith(bl))return{...e,adults:n};if(a.startsWith(Il)){const{children:t}=e,a=`${1}_${n}`,l=t?`${t},${a}`:a;return{...e,children:l}}return a.startsWith(Al)?{...e,..."CHECKED"===n&&{house_rules_group:"pets_allowed"}}:a.startsWith(yl)?n?{...e,selected:n}:{...e}:a.startsWith(`${sl}-origin`)?{...e,origin:n}:a.startsWith("EGDSSoftPackagesPackageType")&&n.length>0?{...e,packageType:n}:a.startsWith(`${Gl}-add-flight`)||a.startsWith("add-flight-switch")?{...e,...l?{"add-flight-switch":l}:{}}:a.startsWith(`${Gl}-add-car`)||a.startsWith("add-car-switch")?{...e,...l?{"add-car-switch":l}:{}}:e},{});return`?${Object.keys(t).map(e=>{if(e.includes("flexibility")){return t[e].split(",").map(t=>`${e}=${t}`).join("&")}if(e.includes("searchRange")){return t[e].split("/").map(t=>`${e}=${t}`).join("&")}return`${e}=${t[e]}`}).join("&")}`},CRUISES_ODYSSEUS:e=>{const t=e.reduce((e,{name:t,value:a})=>t.startsWith(pl)?{...e,destinations:a}:t.startsWith(Za.START_DATE_NAME_PREFIX)?{...e,startdate:Rl(a)}:t.startsWith(Za.END_DATE_NAME_PREFIX)?{...e,enddate:Rl(a)}:t.startsWith(Ol)?{...e,minduration:a}:t.startsWith(kl)?{...e,maxduration:a}:e,{});return`${Object.keys(t).map(e=>`${e}=${t[e]}`).join("&")}`},FLIGHTS:e=>{const t={from:"",to:"",departureDate:""},a={adults:0,seniors:0,childAges:[]},n=e.reduce((e,{name:n,value:l})=>n.includes("flight_type_selector")?{...e,trip:Ll[l]}:n.includes("cabin_class")?{...e,options:`cabinclass:${l}`}:n.startsWith(sl)&&n.includes("origin_select")?(t.from=l,e):n.startsWith(sl)&&n.includes("destination_select")?(t.to=l,e):n.startsWith(Za.START_DATE_NAME_PREFIX)?(t.departureDate=l,{...e,fromDate:l}):n.startsWith(bl)?(a.adults=+l,e):n.startsWith(Il)?(a.childAges.push(l),e):e,{"flight-type":"on",mode:"search"}),l=a.childAges.length||0,r=l?`${l}[${a.childAges.join(";")}]`:l.toString();n.legs=[t],n.passengers=`children:${r},adults:${a.adults},seniors:0,infantinlap:Y`;return`?${Object.keys(n).map(e=>"legs"===e&&n.legs?n.legs.map((e,t)=>`leg${t+1}=from:${e.from},to:${e.to},departure:${e.departureDate}TANYT`).join("&"):`${e}=${n[e]}`).join("&")}`},ACTIVITIES:e=>{const t=e.reduce((e,{name:t,value:a})=>t.startsWith(sl)?{...e,location:a}:t.startsWith(dl)?{...e,rid:a}:t.startsWith(Za.START_DATE_NAME_PREFIX)?{...e,d1:a,startDate:a}:t.startsWith(Za.END_DATE_NAME_PREFIX)?{...e,d2:a,endDate:a}:e,{});return`?${Object.keys(t).map(e=>`${e}=${t[e]}`).join("&")}`}},Nl=(e,t)=>{const a=["EGDS","SearchForm","add"],n=t.filter(({name:e})=>a.find(t=>e.startsWith(t)));return Pl[e](n)},Ml=(e,t,a=!1,n="en_US")=>{const l=a?"secondaryTemplates":"templates",r=new Intl.PluralRules(n.replace("_","-")).select(t).toUpperCase(),i=e[l].find(e=>e.category===r);return i?ut(i.template,e.models[0].key,t.toString()):""},xl=(e,t="en_US",...a)=>{const{models:n,template:l}=e,r=n.map((e,n)=>"EGDSCardinalLocalizedText"===e.models.__typename?Ml(e.models,a[n],!1,t):"");return n.reduce((e,t,a)=>ut(e,t.key,r[a]),l)},Bl="EGDSSearchFormTravelersField-",$l=`${Bl}Adult`,Wl=`${Bl}ChildrenAge`,wl=`${Bl}InfantInSeatAge`,Ul=`${Bl}InfantOnLapAge`,Hl=`${Bl}Pets`,Vl=({ages:e,prefix:t})=>n.createElement(n.Fragment,null,e.map((e,a)=>{var l;if("EGDSTravelerChildAgeSelect"===e.__typename){const r=`${t}-${a+1}`;return n.createElement("input",{key:a,type:"hidden","data-stid":r,name:r,value:null!=(l=e.value)?l:""})}return null})),ql=e=>{const t={"business class":"BUSINESS","first class":"FIRST_CLASS","premium economy":"ECONOMY_PREMIUM",economy:"COACH",default:"COACH"};return t[e.toLowerCase()]||t.default},zl=({label:e,leftIcon:t,action:a,labelTemplate:l,readOnly:o,isAnyPetAllowed:s,onOpenTravelerField:u,onCloseTravelerField:p,menuPosition:y,cabinClassField:_,travelersComposition:S,inputValidationError:g,setTravelersFieldErrorState:E,setFieldRefByTypename:h,onCabinClassSelect:D})=>{var f,T,C;const{analytics:b,travelerSelector:I}=a,{doneButton:A}=I,{context:F}=(0,m.R)(),{locale:O}=F,k=(0,v.useClickTracker)(),{dispatch:R,state:L}=Nn(),{state:P}=(0,i.kW)(),[N,M,x]=(0,K.useDialog)("travelerSelectorDialog"),B=n.useRef(null),[$,w]=n.useState(!1),[U,H]=n.useState(L),[V,q]=n.useState(null!=(f=null==l?void 0:l.text)?f:""),{exposure:z,logExperiment:Y}=(0,W.useExperiment)("Cabin_Class_in_the_Traveller_UI_WEB"),j=!!_&&1===z.bucket;_&&Y(z);const{error:X}=L;n.useEffect(()=>{null==h||h("EGDSSearchFormTravelersField",B)},[]),n.useEffect(()=>{void 0!==X&&(null==E||E(!!X))},[X]);const Q=(0,G.j)(I.__typename,e=>e),te=e=>{var t,a,n,r,i,o,c,s,d,u,m,p;const y=(null!=(a=null==(t=e.adults)?void 0:t.value)?a:0)+(null!=(i=null==(r=null==(n=e.children)?void 0:n.count)?void 0:r.value)?i:0)+(null!=(s=null==(c=null==(o=e.infantsInSeat)?void 0:o.count)?void 0:c.value)?s:0)+(null!=(m=null==(u=null==(d=e.infantsOnLap)?void 0:d.count)?void 0:u.value)?m:0),_="EGDSBasicCheckBox"===(null==(p=null==e?void 0:e.pets)?void 0:p.__typename)&&"CHECKED"===e.pets.state;return Ml(l,y,_,O)};n.useEffect(()=>{var e;if(void 0!==s&&R({type:"UPDATE_PETS_FILTER",checked:s}),"EGDSBasicCheckBox"===(null==(e=U.travelers.pets)?void 0:e.__typename)){const e=s?"CHECKED":"UNCHECKED",t={...U,travelers:{...U.travelers,pets:{...U.travelers.pets,state:e}}};H(t)}},[s]);const ae=j&&L.cabinClass?`${te(L.travelers)}, ${L.cabinClass}`:te(L.travelers);if(n.useEffect(()=>{q(ae)},[L.travelers,ae]),n.useEffect(()=>{var e,t,a,n,l,r,i,o,c,s,d,u,m,p,y;(null==(t=null==(e=P.travelers)?void 0:e.adultTravelerCounts)?void 0:t.length)&&R({type:"UPDATE_TRAVELERS_BULK",adultTravelerCounts:(null==(n=null==(a=P.travelers)?void 0:a.adultTravelerCounts)?void 0:n.length)?null==(l=P.travelers)?void 0:l.adultTravelerCounts[0]:0,childTravelerCounts:(null==(i=null==(r=P.travelers)?void 0:r.childTravelerCounts)?void 0:i.length)?null==(o=P.travelers)?void 0:o.childTravelerCounts[0]:0,childrenAges:(null==(s=null==(c=P.travelers)?void 0:c.childrenAges)?void 0:s.length)&&(null==(d=P.travelers)?void 0:d.childrenAges[0].length)?null==(u=P.travelers)?void 0:u.childrenAges[0]:[],petCounts:(null==(p=null==(m=P.travelers)?void 0:m.petCounts)?void 0:p.length)?null==(y=P.travelers)?void 0:y.petCounts[0]:0})},[P.travelers]),"EGDSBasicTravelerSelector"!==I.__typename)return null;const ne=()=>{const e=!$;!X||e?(null==u||u(),e&&H(L),w(e),b.referrerId&&b.linkName&&k(b.referrerId,b.linkName)):(R({type:"SHOW_ERROR"}),w(!0))},le=async()=>{L.error&&(await R({type:"SHOW_ERROR"}),w(!0)),L.error||vn(U,L)||(H(L),ft("submit",Q))},re=e=>{const t=te(e),a=j?`${t}, ${L.cabinClass}`:t;ft(a,Q),q(a)},ie=e=>{var t;vn(U,e)||(re(e.travelers),H(e)),null==(t=B.current)||t.focus(),M.closeDialog()},oe=e=>{var t;if(X&&"CHILD_AGE_REQUIRED"===X.type&&(R({type:"SHOW_ERROR"}),null==(t=X.errorSummary)?void 0:t.impressionAnalytics)){const e=`${X.errorSummary.impressionAnalytics.referrerId}.For.NoChildAgeSubmit`,t=X.errorSummary.impressionAnalytics.linkName||"";k(e,t)}X||("menu"===e?(e=>{var t;vn(U,e)||(re(e.travelers),H(e)),w(e=>!e),null==(t=B.current)||t.focus()})(L):ie(L))},{adults:ce,children:se,pets:de,infantsInSeat:ue,infantsOnLap:me}=L.travelers,pe="EGDSBasicCheckBox"===(null==de?void 0:de.__typename);return n.createElement(n.Fragment,null,n.createElement(d.LM,null,n.createElement(d.zQ,null,n.createElement(Ee.p,{isOpen:$,onTriggerClick:ne,onDismiss:le},n.createElement(ve.N,null,n.createElement(Ce.H,{label:e,value:V,icon:t,"data-stid":"open-room-picker",disabled:o,domRef:B,className:"open-traveler-picker-observer-root",invalid:!$&&X&&g||void 0})),n.createElement(he.K,{autoPosition:!0,maxHeight:4e3,position:y||he.C.RIGHT,width:375,intersectionObserverRoot:".open-traveler-picker-observer-root"},n.createElement(r.N,{padding:{inline:"six"}},n.createElement("div",{"data-stid":"basic-traveler-selector-menu-container"},n.createElement(Zn,{onSubmit:oe,data:I,isTravelersExpanded:$,cabinClassField:_,travelersComposition:S,onCabinClassSelect:D})))))),n.createElement(d.rw,null,n.createElement(Ee.p,{isOpen:$,onTriggerClick:ne,onDismiss:le},n.createElement(ve.N,null,n.createElement(Ce.H,{label:e,value:V,icon:t,"data-stid":"open-room-picker",disabled:o,domRef:B,className:"open-traveler-picker-observer-root",invalid:!$&&X&&g||void 0})),n.createElement(he.K,{autoPosition:!0,maxHeight:4e3,position:he.C.LEFT,width:pe?275:375,intersectionObserverRoot:".open-traveler-picker-observer-root"},n.createElement(r.N,{padding:{inline:"six"}},n.createElement("div",{"data-stid":"basic-traveler-selector-menu-container"},n.createElement(Zn,{onSubmit:oe,data:I,isTravelersExpanded:$,cabinClassField:_,travelersComposition:S,onCabinClassSelect:D})))))),n.createElement(d.NP,null,n.createElement(n.Fragment,null,n.createElement(Ce.H,{label:e,value:V,onClick:()=>{u&&u(),H(L),M.openDialog(),b.referrerId&&b.linkName&&k(b.referrerId,b.linkName),X&&R({type:"SHOW_ERROR"})},icon:t,"data-stid":"open-room-picker",disabled:o,domRef:B,invalid:!$&&X&&g||void 0}),n.createElement(J.K,{isVisible:N},n.createElement(x,null,n.createElement(ee.t,{type:"full",triggerRef:B,isVisible:N,returnFocusOnClose:!0},n.createElement(c.p,{id:"travelers-selector-toolbar",toolbarTitle:I.title,navigationContent:{navType:"close",navButtonId:"travelers-close-button",navIconLabel:("UIPrimaryButton"===I.closeButton.__typename||"UITertiaryButton"===I.closeButton.__typename)&&null!=(T=I.closeButton.accessibility)?T:"Close",onClick:()=>{var e;if(p&&p(d.OB.SMALL),("UIPrimaryButton"===I.closeButton.__typename||"UITertiaryButton"===I.closeButton.__typename)&&I.closeButton.analytics){const{referrerId:e,linkName:t}=I.closeButton.analytics;k(e,X?t:"Travelers results updated")}if(X&&"CHILD_AGE_REQUIRED"===X.type&&(R({type:"SHOW_ERROR"}),null==(e=X.errorSummary)?void 0:e.impressionAnalytics)){const e=`${X.errorSummary.impressionAnalytics.referrerId}.For.NoChildAgeSubmit`,t=X.errorSummary.impressionAnalytics.linkName||"";k(e,t)}X||ie(L)}}}),n.createElement(Z.Y,{padded:!1},n.createElement(r.N,{padding:{blockstart:"four",blockend:"sixteen",inline:"six"}},n.createElement("div",null,n.createElement(G.m,{hasRequiredFieldIndicator:!0},n.createElement(Zn,{data:I,isTravelersExpanded:N,cabinClassField:_,travelersComposition:S,onCabinClassSelect:D}))))),"UIPrimaryButton"===A.__typename&&n.createElement(cn,{floating:!0,onClick:oe,data:A})))),j&&n.createElement("input",{type:"hidden","data-testid":"EGDSSearchFormInputFieldWithSelection-cabin_class",name:"EGDSSearchFormInputFieldWithSelection-cabin_class",value:ql(null!=(C=L.cabinClass)?C:"")})))),n.createElement(n.Fragment,null,n.createElement("input",{type:"hidden","data-stid":`${$l}`,name:`${$l}`,value:ce.value}),"EGDSTravelerChildren"===(null==se?void 0:se.__typename)&&se.ages&&n.createElement(Vl,{ages:se.ages,prefix:Wl}),"EGDSBasicTraveler"===(null==se?void 0:se.__typename)&&n.createElement("input",{type:"hidden","data-stid":`${Wl}`,name:`${Wl}`,value:se.count.value}),"EGDSTravelerInfant"===(null==ue?void 0:ue.__typename)&&ue.ages&&n.createElement(Vl,{ages:ue.ages,prefix:wl}),"EGDSBasicTraveler"===(null==ue?void 0:ue.__typename)&&n.createElement("input",{type:"hidden","data-stid":`${wl}`,name:`${wl}`,value:ue.count.value}),"EGDSTravelerInfant"===(null==me?void 0:me.__typename)&&me.ages&&n.createElement(Vl,{ages:me.ages,prefix:Ul}),"EGDSBasicTraveler"===(null==me?void 0:me.__typename)&&n.createElement("input",{type:"hidden","data-stid":`${Ul}`,name:`${Ul}`,value:me.count.value}),pe&&n.createElement("input",{type:"hidden",name:`${Hl}`,value:de.state})))},Yl="EGDSSearchFormTravelersField",Kl=`${Yl}-Adult`,jl=`${Yl}-ChildrenAge`,Xl=`${Yl}-InfantInSeatAge`,Ql=`${Yl}-InfantOnLapAge`,Zl=({label:e,leftIcon:t,action:a,labelTemplate:l,readOnly:o,onOpenTravelerField:s,groupStayslink:u,inputValidationError:p,setTravelersFieldErrorState:y,setFieldRefByTypename:_})=>{var S,g;const{accessibility:E,analytics:h,travelerSelector:D}=a,{doneButton:f}=D,T=null!=E?E:"",{context:C}=(0,m.R)(),{locale:b}=C,I=(0,v.useClickTracker)(),{dispatch:A,state:F}=An(),{state:O}=(0,i.kW)(),{error:k}=F,[R,L,P]=(0,K.useDialog)("travelerSelectorDialog"),N=n.useRef(null),[M,x]=n.useState(!1),[B,$]=n.useState(F),[W,w]=n.useState(null!=(S=null==l?void 0:l.text)?S:""),U=(0,G.j)(D.__typename,e=>e);n.useEffect(()=>{null==_||_("EGDSSearchFormTravelersField",N)},[]),n.useEffect(()=>{void 0!==k&&(null==y||y(!!k))},[k]);const H=e=>{const t=e.reduce((e,t)=>{var a,n,l,r,i,o,c,s;return e+(null!=(n=null==(a=t.adults)?void 0:a.value)?n:0)+(null!=(i=null==(r=null==(l=t.children)?void 0:l.count)?void 0:r.value)?i:0)+(null!=(s=null==(c=null==(o=t.infants)?void 0:o.count)?void 0:c.value)?s:0)},0);return xl(l,b,e.length,t)};if(n.useEffect(()=>{w(H(F.rooms)),"EGDSRoomsTravelerSelector"===a.travelerSelector.__typename&&a.travelerSelector.rooms[0].infants!==B.rooms[0].infants&&(A({type:"RESET_ROOMS",state:{...F,rooms:[...a.travelerSelector.rooms]}}),$({...F,rooms:[...a.travelerSelector.rooms]}),w(H([...a.travelerSelector.rooms])))},[a.travelerSelector]),n.useEffect(()=>{w(H(F.rooms))},[F.rooms]),n.useEffect(()=>{var e,t,n,l,r,i,o,c;"EGDSOpenTravelerSelectorAction"===(null==a?void 0:a.__typename)&&"EGDSRoomsTravelerSelector"===(null==a?void 0:a.travelerSelector.__typename)&&(null==(t=null==(e=null==O?void 0:O.travelers)?void 0:e.adultTravelerCounts)?void 0:t.length)&&A({type:"UPDATE_TRAVELERS_BULK",state:B,adultTravelerCounts:null!=(l=null==(n=null==O?void 0:O.travelers)?void 0:n.adultTravelerCounts)?l:[0],childTravelerCounts:null!=(i=null==(r=null==O?void 0:O.travelers)?void 0:r.childTravelerCounts)?i:[0],childrenAges:null!=(c=null==(o=null==O?void 0:O.travelers)?void 0:o.childrenAges)?c:[[]]})},[O.travelers]),"EGDSRoomsTravelerSelector"!==D.__typename)return null;const V=()=>{const e=!M;!k||e?(x(e),null==s||s(),I(h.referrerId,h.linkName)):(A({type:"SHOW_ERROR"}),x(!0))},q=async()=>{F.error&&(await A({type:"SHOW_ERROR"}),x(!0)),F.error||vn(B,F)||($(F),ft("submit",U)),w(H(F.rooms))},z=e=>{const t=H(e);ft(t,U),w(t)},Y=e=>{var t;vn(B,e)||(z(e.rooms),$(e)),null==(t=N.current)||t.focus(),L.closeDialog()},j=e=>{k&&"CHILD_AGE_REQUIRED"===k.type&&(e&&e.preventDefault(),A({type:"SHOW_ERROR"}))},X=e=>{var t,a;j(),k||("menu"===e?(vn(B,t=F)||(z(t.rooms),$(t)),x(e=>!e),null==(a=N.current)||a.focus()):Y(F))},Q=e=>{if(!u)return null;const{value:t}=u.action.resource;try{const a=new URL(t),l=a.searchParams,r=l.get("kw")||"";l.set("kw",`${r}${e}`);const i=a.toString(),o={...u,action:{...u.action,resource:{...u.action.resource,value:i},target:"EXTERNAL"}};return n.createElement("div",null,n.createElement(tl,{data:o,inline:!1}))}catch(a){return null}};return n.createElement(n.Fragment,null,n.createElement(d.LM,null,n.createElement(d.zQ,null,n.createElement(Ee.p,{isOpen:M,onTriggerClick:V,onDismiss:q},n.createElement(ve.N,null,n.createElement(Ce.H,{label:e,"aria-roledescription":T,value:W,icon:t,"data-stid":"open-room-picker",disabled:o,domRef:N,className:"open-room-picker-observer-root",invalid:!M&&k&&p||void 0})),n.createElement(he.K,{maxHeight:700,autoPosition:!0,position:he.C.RIGHT,width:375,intersectionObserverRoot:".open-room-picker-observer-root"},n.createElement(r.N,{padding:{inline:"six",blockstart:"two"}},n.createElement("div",{"data-stid":"rooms-traveler-selector-menu-container"},n.createElement(ol,{onSubmit:X,data:D,isTravelersExpanded:M,groupStaysLink:Q("desktop")})))))),n.createElement(d.rw,null,n.createElement(Ee.p,{isOpen:M,onTriggerClick:V,onDismiss:q},n.createElement(ve.N,null,n.createElement(Ce.H,{label:e,"aria-roledescription":T,value:W,icon:t,"data-stid":"open-room-picker",disabled:o,domRef:N,className:"open-room-picker-observer-root",invalid:!M&&k&&p||void 0})),n.createElement(he.K,{maxHeight:4e3,autoPosition:!0,position:he.C.RIGHT,width:375,intersectionObserverRoot:".open-room-picker-observer-root"},n.createElement(r.N,{padding:{inline:"six",blockstart:"two"}},n.createElement("div",{"data-stid":"rooms-traveler-selector-menu-container"},n.createElement(ol,{onSubmit:X,data:D,isTravelersExpanded:M,groupStaysLink:Q("desktop")})))))),n.createElement(d.NP,null,n.createElement(n.Fragment,null,n.createElement(Ce.H,{label:e,"aria-roledescription":T,value:W,onClick:()=>{L.openDialog(),I(h.referrerId,h.linkName),s&&s(d.OB.SMALL),k&&A({type:"SHOW_ERROR"})},icon:t,"data-stid":"open-room-picker",disabled:o,domRef:N,invalid:!M&&k&&p||void 0}),n.createElement(J.K,{isVisible:R},n.createElement(P,null,n.createElement(ee.t,{isVisible:R,returnFocusOnClose:!0,type:"full",triggerRef:N},n.createElement(c.p,{toolbarTitle:D.title,navigationContent:{navType:"close",navIconLabel:("UIPrimaryButton"===D.closeButton.__typename||"UITertiaryButton"===D.closeButton.__typename)&&null!=(g=D.closeButton.accessibility)?g:"",onClick:()=>{if(("UIPrimaryButton"===D.closeButton.__typename||"UITertiaryButton"===D.closeButton.__typename)&&D.closeButton.analytics){const{referrerId:e,linkName:t}=D.closeButton.analytics;k||I(e,t)}j(),k||Y(F)}}}),n.createElement(Z.Y,null,n.createElement(G.m,{hasRequiredFieldIndicator:!0},n.createElement(ol,{data:D,isTravelersExpanded:R,groupStaysLink:Q("mWeb")}))),(te=!0,"UIPrimaryButton"===f.__typename&&n.createElement(cn,{onClick:X,data:f,floating:te})))))))),F.rooms.map((e,t)=>{var a,l;const{adults:r,children:i,infants:o}=e,c=t+1;return n.createElement(n.Fragment,{key:t},n.createElement("input",{type:"hidden","data-stid":`${Kl}-${c}`,name:`${Kl}-Room${c}`,value:r.value}),"EGDSTravelerChildren"===i.__typename&&(null==(a=i.ages)?void 0:a.map((e,t)=>{var a;if("EGDSTravelerChildAgeSelect"===e.__typename){const l=`${jl}-Room${c}-Child${t+1}`;return n.createElement("input",{key:t,type:"hidden","data-stid":l,name:l,value:null!=(a=e.value)?a:""})}return null})),"EGDSTravelerInfant"===(null==o?void 0:o.__typename)&&(null==(l=o.ages)?void 0:l.map((e,t)=>{var a,l;if("EGDSTravelerChildAgeSelect"===e.__typename){const r=t+1,i=`${"seat"===(null==(a=F.infantSeatSelection)?void 0:a.value)?Xl:Ql}-Room${c}-Infant${r}`;return n.createElement("input",{key:t,type:"hidden","data-stid":i,name:i,value:null!=(l=e.value)?l:""})}return null})))}));var te},Jl=u.gql`
  fragment EGDSSearchFormTravelersFieldFragment on EGDSSearchFormTravelersField {
    action {
      ... on EGDSOpenTravelerSelectorAction {
        analytics {
          linkName
          referrerId
        }
        travelerSelector {
          ...EGDSBasicTravelerSelectorFragment
          ...EGDSRoomsTravelerSelectorFragment
        }
        accessibility
      }
    }
    label
    labelTemplate {
      ... on EGDSCardinalLocalizedText {
        models {
          key
          source
        }
        templates {
          category
          template
        }
        secondaryTemplates {
          category
          template
        }
        text
      }
      ... on EGDSCompositeLocalizedText {
        models {
          key
          models {
            ... on EGDSCardinalLocalizedText {
              models {
                key
                source
              }
              templates {
                category
                template
              }
            }
          }
        }
        template
        text
      }
    }
    leftIcon {
      id
    }
    readOnly
  }

  ${Zn.fragment}
  ${ol.fragment}
`,er=({data:e,skipQuery:t,isAnyPetAllowed:a,onOpenTravelerField:l,onCloseTravelerField:r,maxBookableTravelers:i,maxTravelersErrorMessage:o,groupStaysLink:c,menuPosition:s,cabinClassField:d,travelersComposition:u,setTravelerSelectorErrorState:m,setFieldRefByTypename:p,onCabinClassSelect:y})=>{var _;const[S,g]=n.useState(e),{exposure:E}=(0,W.useExperiment)("Cabin_Class_in_the_Traveller_UI_WEB"),v=(()=>{var e;if("EGDSSearchFormSelectAction"===(null==(e=null==d?void 0:d.action)?void 0:e.__typename)){const e=d.action.options.find(e=>"EGDSBasicOption"===e.__typename&&e.selected);if("EGDSBasicOption"===(null==e?void 0:e.__typename))return e.label}})();n.useEffect(()=>{var t,a,n;if("EGDSOpenTravelerSelectorAction"===(null==(t=e.action)?void 0:t.__typename)){const t=null!=(n=null==(a=e.action.travelerSelector.validations)?void 0:a.map(e=>"EGDSTravelersInputValidation"===e.__typename&&"MAX_TRAVELERS"===e.type&&i?{...e,maxCount:i,errorMessage:null!=o?o:""}:e))?n:null;return void g({...e,action:{...e.action,travelerSelector:{...e.action.travelerSelector,validations:t}}})}g(e)},[e,i,o]);const{action:h,label:D,labelTemplate:f,leftIcon:T,readOnly:C}=S;if("EGDSOpenTravelerSelectorAction"!==(null==h?void 0:h.__typename))return null;const b=1===E.bucket&&d?null==u?void 0:u.label:null!=D?D:"",{validations:I}=h.travelerSelector,A=null==I?void 0:I.find(e=>"EGDSTravelersInputValidation"===e.__typename&&"GENERIC_INPUT_FIELD_ERROR"===e.type),F=A&&"EGDSTravelersInputValidation"===A.__typename?A.errorMessage:"";switch(h.travelerSelector.__typename){case"EGDSBasicTravelerSelector":{const{travelers:e}=h.travelerSelector,i=((e,t)=>(null==e?void 0:e.pets)&&"EGDSBasicCheckBox"===e.pets.__typename?{...e,pets:{...e.pets,state:t?"CHECKED":"UNCHECKED"}}:e)(e,null!=a?a:"EGDSBasicCheckBox"===(null==(_=null==e?void 0:e.pets)?void 0:_.__typename)&&"CHECKED"===e.pets.state);return i&&"EGDSCardinalLocalizedText"===(null==f?void 0:f.__typename)?n.createElement(Pn,{travelers:i,validations:I,skipQuery:t,cabinClass:v},n.createElement(zl,{label:null!=b?b:"",leftIcon:null==T?void 0:T.id,action:h,labelTemplate:f,readOnly:C,isAnyPetAllowed:a,onOpenTravelerField:l,onCloseTravelerField:r,menuPosition:s,cabinClassField:d,travelersComposition:u,inputValidationError:F,setTravelersFieldErrorState:m,setFieldRefByTypename:p,onCabinClassSelect:y})):null}case"EGDSRoomsTravelerSelector":return"EGDSCompositeLocalizedText"===(null==f?void 0:f.__typename)?n.createElement(In,{...h.travelerSelector,infantSeatSelection:h.travelerSelector.infantSeatSelection,rooms:h.travelerSelector.rooms,validations:h.travelerSelector.validations,skipQuery:t},n.createElement(Zl,{label:null!=D?D:"",leftIcon:null==T?void 0:T.id,action:h,labelTemplate:f,readOnly:C,onOpenTravelerField:l,groupStayslink:c,inputValidationError:F,setTravelersFieldErrorState:m,setFieldRefByTypename:p})):null;default:return null}};er.displayName="EGDSSearchFormTravelersField",er.fragment=Jl;var tr=(e,t=0)=>"string"==typeof e&&e.includes("-")?new Date(`${e}T00:00:00`):new Date(new Date(e).setDate(new Date(e).getDate()+t)),ar=(e,t)=>e.fieldsWithErrors.find(e=>e.__typename===t),nr=(e,t="")=>{var a;return null!=(a={"origin_select-input":`${e}Origin`,"destination_select-input":`${e}Destination`,"pick_up_location-input":`${e}PickUp`,"drop_off_location-input":`${e}DropOff`,"airport_location-input":`${e}Airport`,"hotel_location-input":`${e}Hotel`,"partial_date-input":`${e}PartialStay`}[t.replace(/-\d+$/,"")])?a:e},lr=(e,t)=>!(!e||!t)&&e===t,rr=(e,t,a)=>{var n,l,r;const i=null!=(n=e.value)?n:"",o=""===i;if(t&&!o){const n=t.value===i,o=lr(null!=(l=null==a?void 0:a.origin)?l:"",null!=(r=null==a?void 0:a.destination)?r:"");return{__typename:nr("EGDSSearchFormLocationField",null==e?void 0:e.id),isValid:!n&&!o,validations:{sameLocationSelected:n||o}}}return{__typename:nr("EGDSSearchFormLocationField",null==e?void 0:e.id),isValid:!o}},ir=(e,t,a,n)=>{const l=null==e?void 0:e.value,r=null==t?void 0:t.value,i=tr(null!=l?l:""),o=tr(null!=r?r:""),c=!l,s=!(e&&!t)&&!r,d=a.validateWhenEmpty&&(c||s),u=0!==a.maxNumberOfDaysSelected&&o>=tr(i,a.maxNumberOfDaysSelected),m=i.getTime()===o.getTime(),p=o<i,{allowSameDateSelect:y,minStartDayRange:_=0}=a,S=!(!_&&0===_)&&((e,t)=>{const a=new Date,n=tr(new Date(a.setDate(a.getDate()+(t-1))));return e.getTime()<=n.getTime()})(i,_),g=!u&&(y||!m||m&&!!n&&"soft_packages_date_form_field"===n)&&!p&&!d&&!S;return{__typename:nr("EGDSSearchFormDatePickerField",null!=n?n:null==e?void 0:e.id),isValid:g,validations:{maxDate:u,sameDate:m,endDateBeforeStartDate:p,emptyDate:d,startDateOutsideMinRange:S}}},or=e=>{let t=parseInt(e.substr(0,2),10);const a=parseInt(e.substr(2,2),10);return e.includes("PM")&&12!==t&&(t+=12),e.includes("AM")&&12===t&&(t-=12),{hours:t,minutes:a}},cr=e=>{if(!e||void 0===e.totalTravelers)return{__typename:"EGDSSearchFormTravelersField",isValid:!0};const{totalTravelers:t,config:a}=e,{maxTotalTravelers:n}=a,l=t<=n;return{__typename:"EGDSSearchFormTravelersField",isValid:l,validations:{maxTotalTravelers:!l}}},sr=(e,t)=>{const{value:a,id:n}=e;return{__typename:nr(t,n),isValid:""!==a}},dr=(e,t=!1,a=!1)=>{var n,l,r,i,o,c,s;const{location:d,dates:u,age:m,time:p,travelers:y}=e,{config:_}=d,{startDateInput:S,endDateInput:g,partialStayStartDateInput:E,partialStayEndDateInput:v,softPackagesStartDateInput:h,softPackageEndDateInput:D,config:f}=u,T=d.origin?[rr(d.origin,t&&null!=(n=d.destination)?n:null,null==_?void 0:_.airportCode),ir(S,g,f)]:[ir(S,g,f)];if(d.destination&&T.push(((e,t,a,n=!1)=>{var l,r,i;const o=null!=(l=t.value)?l:"",c=""===o;let s=!c,d=!1,u=!1;return n||(u=lr(null!=(r=null==a?void 0:a.origin)?r:"",null!=(i=null==a?void 0:a.destination)?i:""),d=!!e&&!c&&e.value===o,s=!c&&!d&&!u),{__typename:nr("EGDSSearchFormLocationField",null==t?void 0:t.id),isValid:s,validations:{sameLocationSelected:d||u}}})(d.origin,d.destination,null==_?void 0:_.airportCode,t)),m&&T.push((e=>{var t;const{ageInput:a,config:n}=e||{},l=null!=(t=a.value)?t:"",r=""===l,i=parseInt(l,10),o=!(i&&(null==n?void 0:n.min)&&(null==n?void 0:n.max))||i>=(null==n?void 0:n.min)&&i<=(null==n?void 0:n.max),c=!r&&o;return{__typename:nr("EGDSNumberInputField",null==a?void 0:a.id),isValid:c,validations:{ageRange:!r&&!o}}})(m)),p){tr(null!=(l=u.startDateInput.value)?l:""),null==(r=null==p?void 0:p.pickup)||r.value;T.push({__typename:"EGDSBasicSelectPickUp",isValid:!0},((e,t,a)=>{var n,l;const{startDateInput:r,endDateInput:i}=a,o=tr(null!=(n=null==r?void 0:r.value)?n:""),c=tr(null!=(l=null==i?void 0:i.value)?l:""),s=null==e?void 0:e.value,d=null==t?void 0:t.value;if(!s||!d)return{__typename:"EGDSBasicSelectDropOff",isValid:!0};const u=or(s);o.setHours(u.hours,u.minutes);const m=or(d);c.setHours(m.hours,m.minutes);const p=c>o;return o.setTime(o.getTime()+72e5),{__typename:"EGDSBasicSelectDropOff",isValid:p&&c>=o}})(p.pickup,p.dropOff,u))}if(v&&E){const e=ir(E,v,f,"partial_date-input"),t=((e,t)=>{var a,n,l,r,i,o,c,s;const d=tr(null!=(n=null==(a=e.startDate)?void 0:a.value)?n:""),u=tr(null!=(r=null==(l=e.endDate)?void 0:l.value)?r:""),m=tr(null!=(o=null==(i=t.startDate)?void 0:i.value)?o:""),p=tr(null!=(s=null==(c=t.endDate)?void 0:c.value)?s:"");return d<m||u>p})({startDate:E,endDate:v},{startDate:S,endDate:g});T.push({...e,isValid:e.isValid&&!t,validations:{...e.validations,dateOutsideTripRange:t}})}if(a){const e="soft_packages_date_form_field",t=!h||!(null==h?void 0:h.value),a=!D||!(null==D?void 0:D.value);(t||a)&&T.push({__typename:nr("EGDSSearchFormDatePickerFieldSoftPackages",e),isValid:!1,validations:{emptyDate:!0}})}if(h&&D){const e="soft_packages_date_form_field",t=ir(h,D,f,e),a=tr(null!=(i=null==h?void 0:h.value)?i:"")<tr(null!=(o=null==S?void 0:S.value)?o:"")||!!g&&tr(null!=(c=null==D?void 0:D.value)?c:"")>tr(null!=(s=null==g?void 0:g.value)?s:"");T.push({...t,__typename:nr("EGDSSearchFormDatePickerFieldSoftPackages",e),isValid:t.isValid&&!a,validations:{...t.validations,dateOutsideTripRange:a}})}return y&&T.push(cr(y)),d.originSelect&&T.push(sr(d.originSelect,"AllInclusiveVacationsSearchFormOrigin")),d.destinationSelect&&T.push(sr(d.destinationSelect,"AllInclusiveVacationsSearchFormDestination")),T.filter(e=>!e.isValid)},ur=e=>{var t;const{location:a,dates:n,travelers:l}=e,{config:r}=a,{startDateInput:i,endDateInput:o,config:c}=n,s=[];if(a.origin){a.origin.map((e,t)=>({__typename:`${nr("EGDSSearchFormLocationField",null==e?void 0:e.id)}-leg${t}`,isValid:""!==(null==e?void 0:e.value)})).forEach(e=>s.push(e))}return a.destination&&(null==(t=a.origin)||t.forEach((e,t)=>{var n,l,i;const o=null==(n=a.destination)?void 0:n[t];s.push(((e,t,a,n)=>{var l,r,i;const o=null!=(l=t.value)?l:"",c=""===o,s=!!e&&!c&&e.value===o,d=lr(null!=(r=null==n?void 0:n.origin)?r:"",null!=(i=null==n?void 0:n.destination)?i:""),u=!c&&!s&&!d;return{__typename:`${nr("EGDSSearchFormLocationField",null==t?void 0:t.id)}-leg${a}`,isValid:u,validations:{sameLocationSelected:s||d}}})(e,o,t,null==(i=null==(l=null==r?void 0:r.locationFlightsConfig)?void 0:l[t])?void 0:i.airportCode))})),n&&s.push(ir(i,o,c)),l&&s.push(cr(l)),s.filter(e=>!e.isValid)},mr=e=>t=>t.getAttribute("name")===e,pr=e=>e.reduce((e,t)=>(e=>e instanceof HTMLInputElement&&(/^null-\d+$/.test(e.id)||e.id.includes("traveler_selector_")||void 0!==e.dataset.stid&&/^EGDSSearchFormTravelersField-(Adult|Children|Infant)[\w-]+$/.test(e.dataset.stid)))(t)?e+(e=>{if(void 0!==e.dataset.stid&&/^EGDSSearchFormTravelersField-(Children|Infant)[\w-]+$/.test(e.dataset.stid))return 1;const t=parseFloat(e.value);return Number.isNaN(t)?0:t})(t):e,0),yr=u.gql`
  fragment AllInclusiveVacationsSelectInputFragment on EGDSBasicSelect {
    egdsElementId
    icon {
      id
    }
    options {
      ... on EGDSBasicOption {
        label
        selected
        value
        changeAnalytics {
          linkName
          referrerId
        }
      }
    }
    label
    disabled
    errorMessage
    readOnly
    clickAnalytics {
      linkName
      referrerId
    }
  }
`,_r=u.gql`
  fragment AllInclusiveVacationsSearchFormContentsFragment on AllInclusiveVacationsSearchFormContents {
    results {
      ... on AllInclusiveVacationsSearchFormOptionsSeparator {
        id
      }
      ... on EGDSBasicOption {
        egdsElementId
        label
        value
        selected
        changeAnalytics {
          linkName
          referrerId
        }
      }
    }
  }
`,Sr="AllInclusiveVacationsSelect",gr=n.forwardRef(({data:e,options:t,emptyState:a=!0,errorMessage:l,onChange:r,disabled:i=!1},o)=>{var c;const s=(0,v.useClickTracker)(),{icon:d,label:u,readOnly:m,egdsElementId:p,options:y,clickAnalytics:_}=e,S=({linkName:e,referrerId:t})=>{""!==e&&""!==t&&s(t,e)},g={"aria-label":u,disabled:i,emptyState:a,icon:null==d?void 0:d.id,id:null!=p?p:"all-inclusive-select",invalid:l,name:`${Sr}-${p}`,label:u,onChange:e=>{var a;if(e){null==r||r(e);const n=y.find(t=>"EGDSBasicOption"===t.__typename&&t.value===e.target.value)||(null==(a=null==t?void 0:t.results)?void 0:a.find(t=>"EGDSBasicOption"===t.__typename&&t.value===e.target.value));if("EGDSBasicOption"===(null==n?void 0:n.__typename)&&n.changeAnalytics){const{changeAnalytics:e}=n;S(e)}}},onClick:()=>{_&&S(_)},readOnly:m},E=null==y?void 0:y.map((e,t)=>{if("EGDSBasicOption"===e.__typename){const{label:a,value:l,selected:r}=e;return n.createElement("option",{key:`${l}-${t}`,label:a,value:l,selected:null!=r&&r},a)}return null}),h=null==(c=null==t?void 0:t.results)?void 0:c.map((e,t)=>{if("AllInclusiveVacationsSearchFormOptionsSeparator"===e.__typename)return n.createElement(ie.j,{key:e.id});const{label:a,selected:l,value:r,egdsElementId:i}=e;return n.createElement("option",{key:`${i||r}-${t}`,id:null!=i?i:"",label:a,value:r,selected:null!=l&&l},a)});return n.createElement(ge._,{...g,domRef:o},E,h)});gr.fragment=yr,gr.displayName="AllInclusiveVacationsSelectInput";var Er={SEARCH_TOOLS_ALL_INCLUSIVE_VACATIONS_SEARCH_FORM_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_ALL_INCLUSIVE_VACATIONS_SEARCH_FORM_QUERY_FAILURE"),SEARCH_TOOLS_ALL_INCLUSIVE_VACATIONS_DESTINATION_FIELD_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_ALL_INCLUSIVE_VACATIONS_DESTINATION_FIELD_QUERY_FAILURE"),SEARCH_TOOLS_ALL_INCLUSIVE_VACATIONS_DURATION_FIELD_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_ALL_INCLUSIVE_VACATIONS_DURATION_FIELD_QUERY_FAILURE")},vr={eventType:"impression",linkName:"All Inclusive Vacations Search Form Presented",referrerId:"Web.All.Inclusive.Vacations.Search.Form.Presented"},hr=u.gql`
  fragment AllInclusiveVacationsSearchFormDestinationFragment on AllInclusiveVacationsSearchFormDestination {
    location {
      ...AllInclusiveVacationsSelectInputFragment
    }
  }
  ${gr.fragment}
`,Dr=u.gql`
  query AllInclusiveVacationsDestinationFieldQuery($context: ContextInput!, $departureCityCode: String!) {
    allInclusiveVacationsSearchForm(context: $context) {
      ... on AllInclusiveVacationsSearchFormResults {
        destinations(departureCityCode: $departureCityCode) {
          ...AllInclusiveVacationsSearchFormContentsFragment
        }
      }
    }
  }
  ${_r}
`,fr=n.forwardRef(({data:e,departureCityCode:t,onChange:a,errorState:l},r)=>{var i;const{location:o,__typename:c}=e,{context:s}=(0,m.R)(),d=(0,p.useLoggerEvents)(Er),[y,_]=n.useState(),[S,g]=n.useState(null==(i=null==o?void 0:o.disabled)||i),E=`${(null==o?void 0:o.egdsElementId)||"all-inclusive-vacations-destination"}-${t||"default"}`,[v]=(0,u.useLazyQuery)(Dr,{onError:e=>{d.SEARCH_TOOLS_ALL_INCLUSIVE_VACATIONS_DESTINATION_FIELD_QUERY_FAILURE.log({name:null==e?void 0:e.name,error:new Error(null==e?void 0:e.message)}),_(st),g(!1)},onCompleted:e=>{var t;_(null==(t=null==e?void 0:e.allInclusiveVacationsSearchForm)?void 0:t.destinations),g(!1)}}),h=(0,n.useCallback)(()=>{""!==t&&v({variables:{context:s,departureCityCode:t}})},[t]);n.useEffect(()=>h(),[h]);const D={options:y,disabled:S,onChange:a,ref:r,errorMessage:n.useMemo(()=>{var e;const t=ar(l,c);return!t||t.isValid?"":null!=(e=null==o?void 0:o.errorMessage)?e:""},[l])};return(null==e?void 0:e.location)?n.createElement(gr,{...D,key:E,data:null==e?void 0:e.location}):null});fr.fragment=hr,fr.displayName="AllInclusiveVacationsDestinationField";var Tr=u.gql`
  query AllInclusiveVacationsDurationFieldQuery($context: ContextInput!, $departureCityCode: String!, $destinationCode: String!) {
    allInclusiveVacationsSearchForm(context: $context) {
      ... on AllInclusiveVacationsSearchFormResults {
        durations(departureCityCode: $departureCityCode, destinationCode: $destinationCode) {
          ...AllInclusiveVacationsSearchFormContentsFragment
        }
      }
    }
  }
  ${_r}
`,Cr=({data:e,locationCodes:t})=>{const{context:a}=(0,m.R)(),l=(0,p.useLoggerEvents)(Er),{departureCity:r,destination:i}=t,[o,c]=n.useState(),[s,d]=n.useState(e.disabled),[y,_]=n.useState(!0),S=`${(null==e?void 0:e.egdsElementId)||"all-inclusive-vacations-destination"}-${""!==r&&""!==i?`${r}-${i}`:"default"}`,[g]=(0,u.useLazyQuery)(Tr,{onError:e=>{var t,a,n;l.SEARCH_TOOLS_ALL_INCLUSIVE_VACATIONS_DURATION_FIELD_QUERY_FAILURE.log({name:null==e?void 0:e.name,error:new Error(null==e?void 0:e.message)}),c(dt),d(!1);const r=null==(n=null==(a=null==(t=dt)?void 0:t.results)?void 0:a.some(e=>"EGDSBasicOption"===e.__typename&&e.selected))||n;_(!r)},onCompleted:e=>{var t,a,n;const l=null==(t=e.allInclusiveVacationsSearchForm)?void 0:t.durations;c(l),d(!1);const r=null==(n=null==(a=null==l?void 0:l.results)?void 0:a.some(e=>"EGDSBasicOption"===e.__typename&&e.selected))||n;_(!r)}}),E=(0,n.useCallback)(()=>{c(void 0),""!==r&&""!==i&&g({variables:{context:a,departureCityCode:r,destinationCode:i}}),""===i&&(d(!0),_(!0))},[r,i]);n.useEffect(()=>E(),[E]);const v={options:o,disabled:s,emptyState:y};return n.createElement(gr,{data:e,key:S,...v})},br=u.gql`
  fragment AllInclusiveVacationsSearchFormOriginFragment on AllInclusiveVacationsSearchFormOrigin {
    location {
      ...AllInclusiveVacationsSelectInputFragment
    }
    departureCities {
      ...AllInclusiveVacationsSearchFormContentsFragment
    }
  }
  ${gr.fragment}
  ${_r}
`,Ir=n.forwardRef(({data:e,onChange:t,errorState:a},l)=>{const{location:r,departureCities:i,__typename:o}=e,c=n.useMemo(()=>{var e;const t=ar(a,o);return!t||t.isValid?"":null!=(e=null==r?void 0:r.errorMessage)?e:""},[a]);return e.location?n.createElement(gr,{data:e.location,options:i,onChange:t,ref:l,errorMessage:c}):null});Ir.fragment=br,Ir.displayName="AllInclusiveVacationsOriginField";var Ar=(e,t,a=" ")=>Array.from(Array(t)).map(()=>e).join(a),Fr=(e=>(e.originLocation="originLocation",e.destinationLocation="destinationLocation",e.dates="dates",e.duration="duration",e.travelers="travelers",e.search="search",e))(Fr||{}),Or=u.gql`
  fragment AllInclusiveVacationsSearchFormFragment on AllInclusiveVacationsSearchForm {
    __typename
    actionURL
    egdsElementId
    errorSummary {
      ...EGDSErrorSummaryFragment
    }
    origin {
      ...AllInclusiveVacationsSearchFormOriginFragment
    }
    destination {
      ...AllInclusiveVacationsSearchFormDestinationFragment
    }
    date {
      ...EGDSSearchFormDatePickerFieldFragment
    }
    duration {
      ...AllInclusiveVacationsSelectInputFragment
    }
    travelers {
      ...EGDSSearchFormTravelersFieldFragment
    }
    search {
      ...EGDSSearchFormButtonFragment
    }
  }
  ${_t.fragment}
  ${Ir.fragment}
  ${fr.fragment}
  ${rn.fragment}
  ${gr.fragment}
  ${er.fragment}
  ${vt.fragment}
`,kr=(()=>{const{originLocation:e,destinationLocation:t,dates:a,duration:n,travelers:l,search:r}=Fr;return{space:"three",areas:{small:[...[`${e}`,`${t}`,`${a}`,`${n}`,`${l}`,`${r}`]],medium:[...[`${Ar(e,6)} ${Ar(t,6)}`,`${Ar(a,4)} ${Ar(n,4)} ${Ar(l,4)}`,`${Ar(r,3)} ${Ar(".",9)}`]],large:[...[`${Ar(e,4)} ${Ar(t,4)} ${Ar(a,4)} ${Ar(n,3)} ${Ar(l,3)} ${Ar(r,2)}`]]}}})(),Gr=(()=>{const{originLocation:e,destinationLocation:t,dates:a,duration:n,travelers:l,search:r}=Fr;return{originLocation:{area:e},destinationLocation:{area:t},dates:{area:a},duration:{area:n},travelers:{area:l},search:{area:r}}})(),Rr={[d.OB.SMALL]:!0,[d.OB.LARGE]:!1},Lr={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]},Pr=({data:e})=>{const{actionURL:t,egdsElementId:a,origin:l,destination:i,date:o,travelers:c,search:s,duration:u,errorSummary:p}=e,{context:y}=(0,m.R)(),{locale:_}=y,S=null!=a?a:"all-inclusive-vacations-search-form",g=_?n.createElement("input",{type:"hidden",name:`${S}-language`,value:null==_?void 0:_.substring(0,2)}):null,E=n.useRef(null),v=n.useRef(null),h=n.useRef(null),D=(0,d.s5)(Rr),[f,T]=n.useState(Lr),{displayErrorSummary:C,errorCount:b,errorLinkReference:A}=f,[F,O]=n.useState({AllInclusiveVacationsSearchFormOrigin:v,AllInclusiveVacationsSearchFormDestination:h,EGDSSearchFormDatePickerField:null,EGDSSearchFormTravelersField:null}),[k,L]=n.useState(""),[P,N]=n.useState(""),M=n.useCallback((e,t)=>{O(a=>({...a,[e]:t}))},[]),[x,B]=n.useState(!1),$=n.useMemo(()=>f.fieldsWithErrors.find(e=>"EGDSSearchFormDatePickerField"===e.__typename),[f]);return n.createElement(G.m,{ref:E,id:S,name:S,method:"GET",action:t,onSubmit:e=>{var a,n,l;const r=Array.from(e.currentTarget.elements),i=null!=(l=null==(n=null==(a=null==o?void 0:o.validations)?void 0:a.find(e=>"EGDSRangeInputValidation"===e.__typename))?void 0:n.min)?l:0,c=!(e=>{var t,a;const n=dr(e),l=Object.keys(F).map(e=>n.find(t=>t.__typename===e)).filter(e=>void 0!==e),r=x?n.length+1:n.length;return T({fieldsWithErrors:x?[...n,{__typename:"EGDSSearchFormTravelersField",isValid:!1}]:n,errorCount:r,displayErrorSummary:!0,errorLinkReference:F[null!=(a=null==(t=l[0])?void 0:t.__typename)?a:"EGDSSearchFormTravelersField"]}),0===r})({location:{originSelect:r.find(mr("AllInclusiveVacationsSelect-origin-select")),destinationSelect:r.find(mr("AllInclusiveVacationsSelect-destination-select"))},dates:{startDateInput:r.find(mr("EGDSSingleDatePicker-Date-date-picker")),endDateInput:null,config:{maxNumberOfDaysSelected:0,minStartDayRange:i,validateWhenEmpty:!0}}});if(e.preventDefault(),c)return;T(Lr);const s=(e=>{const t="all-inclusive-vacations",a=Array.from(e.currentTarget.elements).filter(e=>e.name.startsWith("EGDS")||e.name.startsWith("AllInclusiveVacations")||e.name.startsWith(t)).reduce((e,a)=>{var n,l,r;const i=a;if(i.name.startsWith(Sr)&&i.name.includes("origin")&&a instanceof HTMLSelectElement){const t=a,n=Array.from(t.options).find(e=>e.selected);if(n)return{...e,gateway_dep:n.value}}if(i.name.startsWith(Sr)&&i.name.includes("destination")&&a instanceof HTMLSelectElement){const t=a,n=Array.from(t.options).find(e=>e.selected);if(n)return{...e,dest_dep:n.id}}if(i.name.startsWith(tn)){const t=i.value.replace(/-/g,"");return{...e,date_dep:t}}if(i.name.startsWith(Sr)&&i.name.includes("duration")&&a instanceof HTMLSelectElement){const t=a,n=Array.from(t.options).find(e=>e.selected);if(n)return{...e,duration:n.value}}if(i.name.startsWith(Bl)){const t=i.name.startsWith($l),a=i.name.split("-"),o=t?$l:a.slice(0,2).join("-"),c=parseInt(i.value,10),s=null!=(n=i.name.split(`${o}-Room`)[1])?n:"1",d=parseInt(null!=(l=e.nb_adult)?l:"0",10);if(!t){const t=parseInt(null!=(r=e.nb_child)?r:"0",10)+1;return{...e,nb_child:t.toString(),[`non_adult${t}`]:i.value}}return{...e,nb_rooms:s,nb_adult:(d+c).toString()}}return i.name.startsWith(t)&&i.name.includes("language")?{...e,language:i.value}:e},{});return`&${Object.keys(a).map(e=>`${e}=${a[e]}`).join("&")}`})(e),d=`${t}${s}`;window.location.href=d}},p&&C&&n.createElement(r.N,{margin:{blockend:"two"}},n.createElement("div",null,n.createElement(_t,{data:p,errorCount:b,inputErrorRef:A}))),n.createElement(I.w,{...kr},l&&n.createElement(R.T,{...Gr.originLocation},n.createElement("div",null,n.createElement(Ir,{data:l,onChange:e=>{N(""),L(e.target.value)},ref:v,errorState:f}))),i&&n.createElement(R.T,{...Gr.destinationLocation},n.createElement("div",null,n.createElement(fr,{data:i,departureCityCode:k,onChange:e=>{N(e.target.value)},ref:h,errorState:f}))),o&&n.createElement(R.T,{...Gr.dates},n.createElement("div",null,n.createElement(rn,{data:o,setFieldRefByTypename:M,fieldError:$}))),"EGDSBasicSelect"===(null==u?void 0:u.__typename)&&n.createElement(R.T,{...Gr.duration},n.createElement("div",null,n.createElement(Cr,{data:u,locationCodes:{departureCity:k,destination:P}}))),c&&n.createElement(R.T,{...Gr.travelers},n.createElement("div",null,n.createElement(er,{data:c,setFieldRefByTypename:M,setTravelerSelectorErrorState:e=>{B(e)}}))),"EGDSSearchFormButton"===(null==s?void 0:s.__typename)&&n.createElement(R.T,{...Gr.search},n.createElement("div",null,n.createElement(vt,{data:s,isFullWidth:D})))),g)};Pr.fragment=Or,Pr.displayName="AllInclusiveVacationsSearchForm";var Nr=u.gql`
  query AllInclusiveVacationsFormQuery($context: ContextInput!) {
    searchForm(context: $context) {
      allInclusiveVacations {
        __typename
        ...AllInclusiveVacationsSearchFormFragment
      }
    }
  }

  ${Pr.fragment}
`,Mr=()=>{const{context:e}=(0,m.R)(),t=(0,p.useLoggerEvents)(Er),{data:a,error:l,loading:r,previousData:i}=(0,u.useQuery)(Nr,{context:{shouldLogPerformance:!0},variables:{context:e}}),o=null!=a?a:i;return r&&!o?n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(ot,{rows:[{lineLength:"primary"},{lineLength:"primary"},{lineLength:"primary"}]})),n.createElement(d.rw,null,n.createElement(ot,{rows:[{lineLength:"primary"}]}))):l||!o||"AllInclusiveVacationsSearchForm"!==o.searchForm.allInclusiveVacations.__typename?(t.SEARCH_TOOLS_ALL_INCLUSIVE_VACATIONS_SEARCH_FORM_QUERY_FAILURE.log({name:null==l?void 0:l.name,error:new Error(null==l?void 0:l.message)}),n.createElement(ze,null,n.createElement(v.IntersectionTracker,{...vr},n.createElement(Pr,{data:ct})))):n.createElement(v.IntersectionTracker,{...vr},n.createElement(Pr,{data:o.searchForm.allInclusiveVacations}))};Mr.displayName="sharedui-AllInclusiveVacationsForm";var xr={__typename:"SearchLocation",analytics:{__typename:"SearchLocationAnalytics",open:'{"metadata":{"packer_version":"1.0.1"},"events":{"search_location.opened":{"v1":{"event_data":{"event":{"event_name":"search_location.opened","event_version":"1.0.0","event_category":"Search","event_type":"Interaction"}}}}}}',close:'{"metadata":{"packer_version":"1.0.1"},"events":{"search_location.closed":{"v1":{"event_data":{"event":{"event_name":"search_location.closed","event_version":"1.0.0","event_category":"Search","event_type":"Interaction"}}}}}}',itemSelected:'{"metadata":{"packer_version":"1.0.1"},"events":{"search_location.selected":{"v1":{"event_data":{"event":{"event_name":"search_location.selected","event_version":"1.0.0","event_category":"Search","event_type":"Interaction"}}}}}}',recommendationsPresented:'{"metadata":{"packer_version":"1.0.1"},"events":{"recommendations_module.presented":{"v2":{"event_data":{"event":{"event_name":"recommendations_module.presented","event_version":"2.1.0","event_category":"Search","event_type":"Impression"}}}}}}',recommendationSelected:'{"metadata":{"packer_version":"1.0.1"},"events":{"recommendations_module.selected":{"v2":{"event_data":{"event":{"event_name":"recommendations_module.selected","event_version":"2.1.0","event_category":"Search","event_type":"Interaction"}}}}}}'},content:{__typename:"SearchLocationContent",clearInput:{__typename:"UIPrimaryFloatingActionButton",accessibility:"Clear"},close:{__typename:"UIPrimaryFloatingActionButton",accessibility:null},poweredByGoogleLogoAltText:"Powered by Google Logo",resultsAvailableAccessibility:null,multiSelection:null,itemSelectedAccessibility:{__typename:"EGDSBasicLocalizedText",models:[],template:""}}},Br=new Date,$r=new Date;$r.setDate($r.getDate()+14);var Wr=new Date;Wr.setDate(Wr.getDate()+15);var wr=new Date;function Ur(e){return{__typename:"Date",day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()}}wr.setMonth(wr.getMonth()+10),wr.setDate(wr.getDate()-5);var Hr={__typename:"CarSearchForm",egdsElementId:"car_search_form",actionURL:"/carsearch",errorSummary:{egdsElementId:"search_form_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Car.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Car.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},pickUpLocation:{__typename:"EGDSSearchFormLocationField",egdsElementId:"pick_up_location",label:"Pick-up",placeholder:"Pick-up",value:null,errorMessage:"Please select where you're picking up the vehicle",required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Location selection",referrerId:"Web.Car.Location.Origin.Open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"CARS",maxNumberOfResults:8,packageType:null,personalize:!0,regionType:1583,typeaheadFeatures:"postal_code|consistent_display|cars_rental|carsclickpopularity",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:null,expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city, airport, or address",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Location close",referrerId:"Web.Car.Location.Origin.Close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Location change",referrerId:"Web.Car.Location.Origin.Change",__typename:"ClientSideAnalytics"},multiLocations:null,validations:[{errorMessage:"Please select where you're picking up the vehicle",__typename:"EGDSRequiredInputValidation"}],regionId:null,regionType:"UNKNOWN",debounceRate:null,coordinates:null,airportCode:null},dropOffLocation:{__typename:"EGDSSearchFormLocationField",egdsElementId:"drop_off_location",label:"Same as pick-up",placeholder:"Drop-off",value:null,errorMessage:"Please select where you're dropping off the vehicle",required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:null,analytics:{linkName:"Location selection",referrerId:"Web.Car.Location.Open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"CARS",maxNumberOfResults:8,packageType:null,personalize:!0,regionType:1583,typeaheadFeatures:"postal_code|consistent_display|cars_rental|carsclickpopularity",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:null,expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city, airport, or address",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Location close",referrerId:"Web.Car.Location.Close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Location change",referrerId:"Web.Car.Location.Change",__typename:"ClientSideAnalytics"},multiLocations:null,validations:[{errorMessage:"Please select where you're dropping off the vehicle",__typename:"EGDSRequiredInputValidation"}],regionId:null,regionType:"UNKNOWN",debounceRate:null,coordinates:null,airportCode:null},alternativeDropOffLocationLabel:"Drop-off",dates:{egdsElementId:"dates",label:"Dates",placeholder:"Dates",errorMessage:null,validations:null,action:{accessibility:null,analytics:{linkName:"car date open",referrerId:"Web.Car.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{flexibleDateContent:null,buttonText:"Done",buttonTextTemplate:null,clearButtonText:null,firstDayOfWeek:"SUN",maxNumberOfDaysSelected:null,sameDaySelectionAllowed:!0,selectedStartDate:{...Ur($r)},startDatePlaceholderText:"",selectedEndDate:{...Ur(Wr)},endDatePlaceholderText:"",validDaysLowerBoundInclusive:{...Ur(Br)},validDaysUpperBoundInclusive:{...Ur(wr)},submitButtonAnalytics:{linkName:"car date submit",referrerId:"Web.Car.Calendar.Submit",__typename:"ClientSideAnalytics"},nextButtonAnalytics:{linkName:"car date next",referrerId:"Web.Car.Calendar.Next.Month.Click",__typename:"ClientSideAnalytics"},previousButtonAnalytics:{linkName:"car date previous",referrerId:"Web.Car.Calendar.Previous.Month.Click",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"car date start",referrerId:"Web.Car.Calendar.Start.Date.Click",__typename:"ClientSideAnalytics"},endDateButtonAnalytics:{linkName:"car date end",referrerId:"Web.Car.Calendar.End.Date.Click",__typename:"ClientSideAnalytics"},clearDatesButtonAnalytics:{linkName:"car dates clear",referrerId:"Web.Car.Calendar.ClearDates.Submit",__typename:"ClientSideAnalytics"},showClearDatesButton:!1,__typename:"EGDSDateRangePicker"},__typename:"EGDSOpenDatePickerAction"},__typename:"EGDSSearchFormDatePickerField"},pickUpTime:{__typename:"EGDSBasicSelect",egdsElementId:"pick_up_time",clickAnalytics:{linkName:"car time open",referrerId:"Web.Car.Pick_up.Time.Open",__typename:"ClientSideAnalytics"},icon:null,label:"Pick-up time",options:[{label:"12:00 AM",selected:!1,value:"1200AM",__typename:"EGDSBasicOption"},{label:"12:15 AM",selected:!1,value:"1215AM",__typename:"EGDSBasicOption"},{label:"12:30 AM",selected:!1,value:"1230AM",__typename:"EGDSBasicOption"},{label:"12:45 AM",selected:!1,value:"1245AM",__typename:"EGDSBasicOption"},{label:"01:00 AM",selected:!1,value:"0100AM",__typename:"EGDSBasicOption"},{label:"01:15 AM",selected:!1,value:"0115AM",__typename:"EGDSBasicOption"},{label:"01:30 AM",selected:!1,value:"0130AM",__typename:"EGDSBasicOption"},{label:"01:45 AM",selected:!1,value:"0145AM",__typename:"EGDSBasicOption"},{label:"02:00 AM",selected:!1,value:"0200AM",__typename:"EGDSBasicOption"},{label:"02:15 AM",selected:!1,value:"0215AM",__typename:"EGDSBasicOption"},{label:"02:30 AM",selected:!1,value:"0230AM",__typename:"EGDSBasicOption"},{label:"02:45 AM",selected:!1,value:"0245AM",__typename:"EGDSBasicOption"},{label:"03:00 AM",selected:!1,value:"0300AM",__typename:"EGDSBasicOption"},{label:"03:15 AM",selected:!1,value:"0315AM",__typename:"EGDSBasicOption"},{label:"03:30 AM",selected:!1,value:"0330AM",__typename:"EGDSBasicOption"},{label:"03:45 AM",selected:!1,value:"0345AM",__typename:"EGDSBasicOption"},{label:"04:00 AM",selected:!1,value:"0400AM",__typename:"EGDSBasicOption"},{label:"04:15 AM",selected:!1,value:"0415AM",__typename:"EGDSBasicOption"},{label:"04:30 AM",selected:!1,value:"0430AM",__typename:"EGDSBasicOption"},{label:"04:45 AM",selected:!1,value:"0445AM",__typename:"EGDSBasicOption"},{label:"05:00 AM",selected:!1,value:"0500AM",__typename:"EGDSBasicOption"},{label:"05:15 AM",selected:!1,value:"0515AM",__typename:"EGDSBasicOption"},{label:"05:30 AM",selected:!1,value:"0530AM",__typename:"EGDSBasicOption"},{label:"05:45 AM",selected:!1,value:"0545AM",__typename:"EGDSBasicOption"},{label:"06:00 AM",selected:!1,value:"0600AM",__typename:"EGDSBasicOption"},{label:"06:15 AM",selected:!1,value:"0615AM",__typename:"EGDSBasicOption"},{label:"06:30 AM",selected:!1,value:"0630AM",__typename:"EGDSBasicOption"},{label:"06:45 AM",selected:!1,value:"0645AM",__typename:"EGDSBasicOption"},{label:"07:00 AM",selected:!1,value:"0700AM",__typename:"EGDSBasicOption"},{label:"07:15 AM",selected:!1,value:"0715AM",__typename:"EGDSBasicOption"},{label:"07:30 AM",selected:!1,value:"0730AM",__typename:"EGDSBasicOption"},{label:"07:45 AM",selected:!1,value:"0745AM",__typename:"EGDSBasicOption"},{label:"08:00 AM",selected:!1,value:"0800AM",__typename:"EGDSBasicOption"},{label:"08:15 AM",selected:!1,value:"0815AM",__typename:"EGDSBasicOption"},{label:"08:30 AM",selected:!1,value:"0830AM",__typename:"EGDSBasicOption"},{label:"08:45 AM",selected:!1,value:"0845AM",__typename:"EGDSBasicOption"},{label:"09:00 AM",selected:!1,value:"0900AM",__typename:"EGDSBasicOption"},{label:"09:15 AM",selected:!1,value:"0915AM",__typename:"EGDSBasicOption"},{label:"09:30 AM",selected:!1,value:"0930AM",__typename:"EGDSBasicOption"},{label:"09:45 AM",selected:!1,value:"0945AM",__typename:"EGDSBasicOption"},{label:"10:00 AM",selected:!1,value:"1000AM",__typename:"EGDSBasicOption"},{label:"10:15 AM",selected:!1,value:"1015AM",__typename:"EGDSBasicOption"},{label:"10:30 AM",selected:!0,value:"1030AM",__typename:"EGDSBasicOption"},{label:"10:45 AM",selected:!1,value:"1045AM",__typename:"EGDSBasicOption"},{label:"11:00 AM",selected:!1,value:"1100AM",__typename:"EGDSBasicOption"},{label:"11:15 AM",selected:!1,value:"1115AM",__typename:"EGDSBasicOption"},{label:"11:30 AM",selected:!1,value:"1130AM",__typename:"EGDSBasicOption"},{label:"11:45 AM",selected:!1,value:"1145AM",__typename:"EGDSBasicOption"},{label:"12:00 PM",selected:!1,value:"1200PM",__typename:"EGDSBasicOption"},{label:"12:15 PM",selected:!1,value:"1215PM",__typename:"EGDSBasicOption"},{label:"12:30 PM",selected:!1,value:"1230PM",__typename:"EGDSBasicOption"},{label:"12:45 PM",selected:!1,value:"1245PM",__typename:"EGDSBasicOption"},{label:"01:00 PM",selected:!1,value:"0100PM",__typename:"EGDSBasicOption"},{label:"01:15 PM",selected:!1,value:"0115PM",__typename:"EGDSBasicOption"},{label:"01:30 PM",selected:!1,value:"0130PM",__typename:"EGDSBasicOption"},{label:"01:45 PM",selected:!1,value:"0145PM",__typename:"EGDSBasicOption"},{label:"02:00 PM",selected:!1,value:"0200PM",__typename:"EGDSBasicOption"},{label:"02:15 PM",selected:!1,value:"0215PM",__typename:"EGDSBasicOption"},{label:"02:30 PM",selected:!1,value:"0230PM",__typename:"EGDSBasicOption"},{label:"02:45 PM",selected:!1,value:"0245PM",__typename:"EGDSBasicOption"},{label:"03:00 PM",selected:!1,value:"0300PM",__typename:"EGDSBasicOption"},{label:"03:15 PM",selected:!1,value:"0315PM",__typename:"EGDSBasicOption"},{label:"03:30 PM",selected:!1,value:"0330PM",__typename:"EGDSBasicOption"},{label:"03:45 PM",selected:!1,value:"0345PM",__typename:"EGDSBasicOption"},{label:"04:00 PM",selected:!1,value:"0400PM",__typename:"EGDSBasicOption"},{label:"04:15 PM",selected:!1,value:"0415PM",__typename:"EGDSBasicOption"},{label:"04:30 PM",selected:!1,value:"0430PM",__typename:"EGDSBasicOption"},{label:"04:45 PM",selected:!1,value:"0445PM",__typename:"EGDSBasicOption"},{label:"05:00 PM",selected:!1,value:"0500PM",__typename:"EGDSBasicOption"},{label:"05:15 PM",selected:!1,value:"0515PM",__typename:"EGDSBasicOption"},{label:"05:30 PM",selected:!1,value:"0530PM",__typename:"EGDSBasicOption"},{label:"05:45 PM",selected:!1,value:"0545PM",__typename:"EGDSBasicOption"},{label:"06:00 PM",selected:!1,value:"0600PM",__typename:"EGDSBasicOption"},{label:"06:15 PM",selected:!1,value:"0615PM",__typename:"EGDSBasicOption"},{label:"06:30 PM",selected:!1,value:"0630PM",__typename:"EGDSBasicOption"},{label:"06:45 PM",selected:!1,value:"0645PM",__typename:"EGDSBasicOption"},{label:"07:00 PM",selected:!1,value:"0700PM",__typename:"EGDSBasicOption"},{label:"07:15 PM",selected:!1,value:"0715PM",__typename:"EGDSBasicOption"},{label:"07:30 PM",selected:!1,value:"0730PM",__typename:"EGDSBasicOption"},{label:"07:45 PM",selected:!1,value:"0745PM",__typename:"EGDSBasicOption"},{label:"08:00 PM",selected:!1,value:"0800PM",__typename:"EGDSBasicOption"},{label:"08:15 PM",selected:!1,value:"0815PM",__typename:"EGDSBasicOption"},{label:"08:30 PM",selected:!1,value:"0830PM",__typename:"EGDSBasicOption"},{label:"08:45 PM",selected:!1,value:"0845PM",__typename:"EGDSBasicOption"},{label:"09:00 PM",selected:!1,value:"0900PM",__typename:"EGDSBasicOption"},{label:"09:15 PM",selected:!1,value:"0915PM",__typename:"EGDSBasicOption"},{label:"09:30 PM",selected:!1,value:"0930PM",__typename:"EGDSBasicOption"},{label:"09:45 PM",selected:!1,value:"0945PM",__typename:"EGDSBasicOption"},{label:"10:00 PM",selected:!1,value:"1000PM",__typename:"EGDSBasicOption"},{label:"10:15 PM",selected:!1,value:"1015PM",__typename:"EGDSBasicOption"},{label:"10:30 PM",selected:!1,value:"1030PM",__typename:"EGDSBasicOption"},{label:"10:45 PM",selected:!1,value:"1045PM",__typename:"EGDSBasicOption"},{label:"11:00 PM",selected:!1,value:"1100PM",__typename:"EGDSBasicOption"},{label:"11:15 PM",selected:!1,value:"1115PM",__typename:"EGDSBasicOption"},{label:"11:30 PM",selected:!1,value:"1130PM",__typename:"EGDSBasicOption"},{label:"11:45 PM",selected:!1,value:"1145PM",__typename:"EGDSBasicOption"}],disabled:!1,errorMessage:"Your pick-up time must be in the future",readOnly:!1,value:null},dropOffTime:{__typename:"EGDSBasicSelect",egdsElementId:"drop_off_time",clickAnalytics:{linkName:"car time open",referrerId:"Web.Car.Drop_off.Time.Open",__typename:"ClientSideAnalytics"},icon:null,label:"Drop-off time",options:[{label:"12:00 AM",selected:!1,value:"1200AM",__typename:"EGDSBasicOption"},{label:"12:15 AM",selected:!1,value:"1215AM",__typename:"EGDSBasicOption"},{label:"12:30 AM",selected:!1,value:"1230AM",__typename:"EGDSBasicOption"},{label:"12:45 AM",selected:!1,value:"1245AM",__typename:"EGDSBasicOption"},{label:"01:00 AM",selected:!1,value:"0100AM",__typename:"EGDSBasicOption"},{label:"01:15 AM",selected:!1,value:"0115AM",__typename:"EGDSBasicOption"},{label:"01:30 AM",selected:!1,value:"0130AM",__typename:"EGDSBasicOption"},{label:"01:45 AM",selected:!1,value:"0145AM",__typename:"EGDSBasicOption"},{label:"02:00 AM",selected:!1,value:"0200AM",__typename:"EGDSBasicOption"},{label:"02:15 AM",selected:!1,value:"0215AM",__typename:"EGDSBasicOption"},{label:"02:30 AM",selected:!1,value:"0230AM",__typename:"EGDSBasicOption"},{label:"02:45 AM",selected:!1,value:"0245AM",__typename:"EGDSBasicOption"},{label:"03:00 AM",selected:!1,value:"0300AM",__typename:"EGDSBasicOption"},{label:"03:15 AM",selected:!1,value:"0315AM",__typename:"EGDSBasicOption"},{label:"03:30 AM",selected:!1,value:"0330AM",__typename:"EGDSBasicOption"},{label:"03:45 AM",selected:!1,value:"0345AM",__typename:"EGDSBasicOption"},{label:"04:00 AM",selected:!1,value:"0400AM",__typename:"EGDSBasicOption"},{label:"04:15 AM",selected:!1,value:"0415AM",__typename:"EGDSBasicOption"},{label:"04:30 AM",selected:!1,value:"0430AM",__typename:"EGDSBasicOption"},{label:"04:45 AM",selected:!1,value:"0445AM",__typename:"EGDSBasicOption"},{label:"05:00 AM",selected:!1,value:"0500AM",__typename:"EGDSBasicOption"},{label:"05:15 AM",selected:!1,value:"0515AM",__typename:"EGDSBasicOption"},{label:"05:30 AM",selected:!1,value:"0530AM",__typename:"EGDSBasicOption"},{label:"05:45 AM",selected:!1,value:"0545AM",__typename:"EGDSBasicOption"},{label:"06:00 AM",selected:!1,value:"0600AM",__typename:"EGDSBasicOption"},{label:"06:15 AM",selected:!1,value:"0615AM",__typename:"EGDSBasicOption"},{label:"06:30 AM",selected:!1,value:"0630AM",__typename:"EGDSBasicOption"},{label:"06:45 AM",selected:!1,value:"0645AM",__typename:"EGDSBasicOption"},{label:"07:00 AM",selected:!1,value:"0700AM",__typename:"EGDSBasicOption"},{label:"07:15 AM",selected:!1,value:"0715AM",__typename:"EGDSBasicOption"},{label:"07:30 AM",selected:!1,value:"0730AM",__typename:"EGDSBasicOption"},{label:"07:45 AM",selected:!1,value:"0745AM",__typename:"EGDSBasicOption"},{label:"08:00 AM",selected:!1,value:"0800AM",__typename:"EGDSBasicOption"},{label:"08:15 AM",selected:!1,value:"0815AM",__typename:"EGDSBasicOption"},{label:"08:30 AM",selected:!1,value:"0830AM",__typename:"EGDSBasicOption"},{label:"08:45 AM",selected:!1,value:"0845AM",__typename:"EGDSBasicOption"},{label:"09:00 AM",selected:!1,value:"0900AM",__typename:"EGDSBasicOption"},{label:"09:15 AM",selected:!1,value:"0915AM",__typename:"EGDSBasicOption"},{label:"09:30 AM",selected:!1,value:"0930AM",__typename:"EGDSBasicOption"},{label:"09:45 AM",selected:!1,value:"0945AM",__typename:"EGDSBasicOption"},{label:"10:00 AM",selected:!1,value:"1000AM",__typename:"EGDSBasicOption"},{label:"10:15 AM",selected:!1,value:"1015AM",__typename:"EGDSBasicOption"},{label:"10:30 AM",selected:!0,value:"1030AM",__typename:"EGDSBasicOption"},{label:"10:45 AM",selected:!1,value:"1045AM",__typename:"EGDSBasicOption"},{label:"11:00 AM",selected:!1,value:"1100AM",__typename:"EGDSBasicOption"},{label:"11:15 AM",selected:!1,value:"1115AM",__typename:"EGDSBasicOption"},{label:"11:30 AM",selected:!1,value:"1130AM",__typename:"EGDSBasicOption"},{label:"11:45 AM",selected:!1,value:"1145AM",__typename:"EGDSBasicOption"},{label:"12:00 PM",selected:!1,value:"1200PM",__typename:"EGDSBasicOption"},{label:"12:15 PM",selected:!1,value:"1215PM",__typename:"EGDSBasicOption"},{label:"12:30 PM",selected:!1,value:"1230PM",__typename:"EGDSBasicOption"},{label:"12:45 PM",selected:!1,value:"1245PM",__typename:"EGDSBasicOption"},{label:"01:00 PM",selected:!1,value:"0100PM",__typename:"EGDSBasicOption"},{label:"01:15 PM",selected:!1,value:"0115PM",__typename:"EGDSBasicOption"},{label:"01:30 PM",selected:!1,value:"0130PM",__typename:"EGDSBasicOption"},{label:"01:45 PM",selected:!1,value:"0145PM",__typename:"EGDSBasicOption"},{label:"02:00 PM",selected:!1,value:"0200PM",__typename:"EGDSBasicOption"},{label:"02:15 PM",selected:!1,value:"0215PM",__typename:"EGDSBasicOption"},{label:"02:30 PM",selected:!1,value:"0230PM",__typename:"EGDSBasicOption"},{label:"02:45 PM",selected:!1,value:"0245PM",__typename:"EGDSBasicOption"},{label:"03:00 PM",selected:!1,value:"0300PM",__typename:"EGDSBasicOption"},{label:"03:15 PM",selected:!1,value:"0315PM",__typename:"EGDSBasicOption"},{label:"03:30 PM",selected:!1,value:"0330PM",__typename:"EGDSBasicOption"},{label:"03:45 PM",selected:!1,value:"0345PM",__typename:"EGDSBasicOption"},{label:"04:00 PM",selected:!1,value:"0400PM",__typename:"EGDSBasicOption"},{label:"04:15 PM",selected:!1,value:"0415PM",__typename:"EGDSBasicOption"},{label:"04:30 PM",selected:!1,value:"0430PM",__typename:"EGDSBasicOption"},{label:"04:45 PM",selected:!1,value:"0445PM",__typename:"EGDSBasicOption"},{label:"05:00 PM",selected:!1,value:"0500PM",__typename:"EGDSBasicOption"},{label:"05:15 PM",selected:!1,value:"0515PM",__typename:"EGDSBasicOption"},{label:"05:30 PM",selected:!1,value:"0530PM",__typename:"EGDSBasicOption"},{label:"05:45 PM",selected:!1,value:"0545PM",__typename:"EGDSBasicOption"},{label:"06:00 PM",selected:!1,value:"0600PM",__typename:"EGDSBasicOption"},{label:"06:15 PM",selected:!1,value:"0615PM",__typename:"EGDSBasicOption"},{label:"06:30 PM",selected:!1,value:"0630PM",__typename:"EGDSBasicOption"},{label:"06:45 PM",selected:!1,value:"0645PM",__typename:"EGDSBasicOption"},{label:"07:00 PM",selected:!1,value:"0700PM",__typename:"EGDSBasicOption"},{label:"07:15 PM",selected:!1,value:"0715PM",__typename:"EGDSBasicOption"},{label:"07:30 PM",selected:!1,value:"0730PM",__typename:"EGDSBasicOption"},{label:"07:45 PM",selected:!1,value:"0745PM",__typename:"EGDSBasicOption"},{label:"08:00 PM",selected:!1,value:"0800PM",__typename:"EGDSBasicOption"},{label:"08:15 PM",selected:!1,value:"0815PM",__typename:"EGDSBasicOption"},{label:"08:30 PM",selected:!1,value:"0830PM",__typename:"EGDSBasicOption"},{label:"08:45 PM",selected:!1,value:"0845PM",__typename:"EGDSBasicOption"},{label:"09:00 PM",selected:!1,value:"0900PM",__typename:"EGDSBasicOption"},{label:"09:15 PM",selected:!1,value:"0915PM",__typename:"EGDSBasicOption"},{label:"09:30 PM",selected:!1,value:"0930PM",__typename:"EGDSBasicOption"},{label:"09:45 PM",selected:!1,value:"0945PM",__typename:"EGDSBasicOption"},{label:"10:00 PM",selected:!1,value:"1000PM",__typename:"EGDSBasicOption"},{label:"10:15 PM",selected:!1,value:"1015PM",__typename:"EGDSBasicOption"},{label:"10:30 PM",selected:!1,value:"1030PM",__typename:"EGDSBasicOption"},{label:"10:45 PM",selected:!1,value:"1045PM",__typename:"EGDSBasicOption"},{label:"11:00 PM",selected:!1,value:"1100PM",__typename:"EGDSBasicOption"},{label:"11:15 PM",selected:!1,value:"1115PM",__typename:"EGDSBasicOption"},{label:"11:30 PM",selected:!1,value:"1130PM",__typename:"EGDSBasicOption"},{label:"11:45 PM",selected:!1,value:"1145PM",__typename:"EGDSBasicOption"}],disabled:!1,errorMessage:"Your drop-off time must be at least 2 hours after pick-up",readOnly:!1,value:null},driverAgeCheck:null,specialRates:{label:"Special rates",discountCode:{__typename:"CarSearchFormDiscountCode",discountCode:{__typename:"EGDSBasicTriggerPill",id:"discount_codes",disabled:!1,primary:"Discount codes",selected:!1,icon:null,selectAnalytics:{linkName:"discount code selected",referrerId:"Web.Car.Discount.Code.Selected",__typename:"ClientSideAnalytics"},deselectAnalytics:{linkName:"discount code unselected",referrerId:"Web.Car.Discount.Code.Unselected",__typename:"ClientSideAnalytics"},accessibility:null},action:{discountType:{__typename:"EGDSBasicSelect",egdsElementId:null,clickAnalytics:null,icon:null,label:"Discount type",options:[],disabled:!1,errorMessage:null,readOnly:!1,value:null},discountTypeOptions:[{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"AC",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"FASTSTART Org ID",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"AD",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"AL",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-2",errorMessage:null,instructions:null,label:"Alamo Insiders #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Alamo Insiders #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:3,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"AWD #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ZI",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-2",errorMessage:null,instructions:null,label:"Wizard #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Wizard #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:3,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"BCD #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ZD",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Fast Break #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Fast Break #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ZR",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-2",errorMessage:null,instructions:null,label:"Dollar Express #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Dollar Express #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:3,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"EY",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:1,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Customer #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ET",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Enterprise Plus #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Enterprise Plus #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Contract #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"EP",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-2",errorMessage:null,instructions:null,label:"Privilege #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Privilege #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:3,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"FX",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"CDP",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ZE",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:1,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"National Contract ID",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ZL",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Emerald Club ID",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Emerald Club ID",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate account",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"NU",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ZA",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-2",errorMessage:null,instructions:null,label:"Payless Perks #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Payless Perks #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:3,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"SX",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ZT",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-2",errorMessage:null,instructions:null,label:"Blue Chip #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Blue Chip #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:3,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:null,preferredBrand:"SV",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"SC",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}}],preferredBrand:{__typename:"EGDSBasicSelect",egdsElementId:null,clickAnalytics:null,icon:null,label:"Preferred brand",options:[{label:"Ace Rent A Car",selected:!1,value:"AC",__typename:"EGDSBasicOption"},{label:"Advantage Rent-A-Car",selected:!1,value:"AD",__typename:"EGDSBasicOption"},{label:"Alamo Rent A Car",selected:!1,value:"AL",__typename:"EGDSBasicOption"},{label:"Avis",selected:!1,value:"ZI",__typename:"EGDSBasicOption"},{label:"Budget",selected:!1,value:"ZD",__typename:"EGDSBasicOption"},{label:"Dollar Rent A Car",selected:!1,value:"ZR",__typename:"EGDSBasicOption"},{label:"Economy Rent a Car",selected:!1,value:"EY",__typename:"EGDSBasicOption"},{label:"Enterprise",selected:!1,value:"ET",__typename:"EGDSBasicOption"},{label:"Europcar",selected:!1,value:"EP",__typename:"EGDSBasicOption"},{label:"Fox Rent a Car",selected:!1,value:"FX",__typename:"EGDSBasicOption"},{label:"Hertz",selected:!1,value:"ZE",__typename:"EGDSBasicOption"},{label:"Midway Car Rental",selected:!1,value:"MW",__typename:"EGDSBasicOption"},{label:"National Car Rental",selected:!1,value:"ZL",__typename:"EGDSBasicOption"},{label:"Nu Car",selected:!1,value:"NU",__typename:"EGDSBasicOption"},{label:"Payless",selected:!1,value:"ZA",__typename:"EGDSBasicOption"},{label:"Routes Car Rental",selected:!1,value:"RO",__typename:"EGDSBasicOption"},{label:"Sixt",selected:!1,value:"SX",__typename:"EGDSBasicOption"},{label:"Thrifty Car Rental",selected:!1,value:"ZT",__typename:"EGDSBasicOption"},{label:"U-Save",selected:!1,value:"SV",__typename:"EGDSBasicOption"},{label:"Silvercar",selected:!1,value:"SC",__typename:"EGDSBasicOption"}],disabled:!1,errorMessage:null,readOnly:!1,value:null},errorSummary:{egdsElementId:"discount_code_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Car.Discount_Code.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Car.Discount_Code.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},toolbar:{primary:"Discount code",actions:{primary:{egdsElementId:null,primary:"Clear",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"UITertiaryButton"},secondaries:[{icon:{description:"close",__typename:"Icon"},__typename:"UITertiaryButton"}],__typename:"UIToolbarActions"},__typename:"UIToolbar"},done:{egdsElementId:null,primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"UIPrimaryButton"},__typename:"CarSearchFormDiscountCodeAction"}},showAarpRate:{__typename:"EGDSBasicPill",accessibility:null,disabled:!1,name:"aarp_rates",primary:"Show AARP rates",selected:!1,selectedText:null,value:null,icon:null,selectAnalytics:{linkName:"AARP rate selected",referrerId:"Web.Car.AARP.Rate.Selected",__typename:"ClientSideAnalytics"},deselectAnalytics:{linkName:"AARP rate unselected",referrerId:"Web.Car.AARP.Rate.Unselected",__typename:"ClientSideAnalytics"}},__typename:"CarSearchFormSpecialRates"},search:{egdsElementId:"search_button",primary:"Search",disabled:!1,accessibility:"Search",icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.Car.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}},rentalTypes:null,localDateFormat:"M/d/yyyy",playback:null,searchLocation:xr},Vr=new Date,qr=new Date;qr.setDate(qr.getDate()+14);var zr=new Date;zr.setDate(zr.getDate()+15);var Yr=new Date;function Kr(e){return{__typename:"Date",day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()}}Yr.setDate(Yr.getDate()+328);var jr={__typename:"EGDSSearchFormLocationField",egdsElementId:"airport_location",label:"Airport",placeholder:"Airport",value:null,errorMessage:"Please select an airport",validations:[{errorMessage:"Please select an airport",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:null,analytics:{linkName:"Location selection",referrerId:"Web.GT.Location.Open",__typename:"ClientSideAnalytics"},info:{client:"SearchForm",drivable:!1,isDestination:!0,lineOfBusiness:"GROUNDTRANSFERS",maxNumberOfResults:7,packageType:null,personalize:!0,regionType:1,typeaheadFeatures:"proximity|nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:null,expUserId:"-1",trending:!1},emptyResultsPlaceholder:"",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Location close",referrerId:"Web.GT.Location.Close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Location change",referrerId:"Web.GT.Location.Change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},Xr={__typename:"EGDSSearchFormLocationField",egdsElementId:"hotel_location",label:"Hotel",placeholder:"Hotel",value:null,errorMessage:"Please select a hotel",validations:[{errorMessage:"Please select a hotel",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:"lob_hotels",__typename:"Icon"},action:{accessibility:null,analytics:{linkName:"Location selection",referrerId:"Web.GT.Location.Origin.Open",__typename:"ClientSideAnalytics"},info:{client:"SearchForm",drivable:!1,isDestination:!1,lineOfBusiness:"GROUNDTRANSFERS",maxNumberOfResults:7,packageType:null,personalize:!0,regionType:128,typeaheadFeatures:"proximity|consistent_display|google",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:null,expUserId:"-1",trending:!1},emptyResultsPlaceholder:"",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Location close",referrerId:"Web.GT.Location.Origin.Close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Location change",referrerId:"Web.GT.Location.Origin.Change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},Qr={action:{analytics:{linkName:"Travelers selector displayed",referrerId:"Travelers selector updated",__typename:"ClientSideAnalytics"},travelerSelector:{subTitles:null,closeButton:{egdsElementId:"travelers_selector_close_button",primary:"Close",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers Selector Close button",referrerId:"Web.Gt.Search.Traveler.Selector.Close.Button.Clicked",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},doneButton:{egdsElementId:"travelers_selector_done_button",primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers Selector Done button",referrerId:"Web.Gt.Search.Traveler.Selector.Done.Button.Clicked",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},title:"Travelers",travelers:{adults:{decreaseAnalytics:{linkName:"Adult traveler removed",referrerId:"Web.Gt.Traveler.Remove.Adult",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Adult traveler added",referrerId:"Web.Gt.Traveler.Add.Adult",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of adults",decreaseTextTemplate:null,increaseText:"Increase the number of adults",increaseTextTemplate:null,egdsElementId:"traveler_selector_adult_step_input",__typename:"EGDSTravelerStepInput",label:"Adults",max:6,min:1,step:1,subLabel:null,value:1},children:{count:{decreaseAnalytics:{linkName:"Children traveler removed",referrerId:"Web.Gt.Traveler.Remove.Children",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Children traveler added",referrerId:"Web.Gt.Traveler.Add.Children",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of children",decreaseTextTemplate:null,increaseText:"Increase the number of children",increaseTextTemplate:null,egdsElementId:"traveler_selector_children_step_input",__typename:"EGDSTravelerStepInput",label:"Children",max:5,min:0,step:1,subLabel:"Age 2 to 17",value:0},type:null,__typename:"EGDSBasicTraveler"},infantsInSeat:{count:{decreaseAnalytics:{linkName:"Infant traveler removed",referrerId:"Web.Gt.Traveler.Remove.InfantsInSeat",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Infant traveler added",referrerId:"Web.Gt.Traveler.Add.InfantsInSeat",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of infants",decreaseTextTemplate:null,increaseText:"Increase the number of infants",increaseTextTemplate:null,egdsElementId:"traveler_selector_infants_in_seat_step_input",__typename:"EGDSTravelerStepInput",label:"Infants",max:8,min:0,step:1,subLabel:"Younger than 2",value:0},type:null,__typename:"EGDSBasicTraveler"},infantsOnLap:null,pets:null,__typename:"EGDSTravelers"},validations:[{errorMessage:"We allow up to 6 travelers per booking",maxCount:6,type:"MAX_TRAVELERS",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"We allow up to 6 travelers per booking.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.GT.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"}],__typename:"EGDSBasicTravelerSelector"},accessibility:"expand to change the number of travelers",__typename:"EGDSOpenTravelerSelectorAction"},label:"Travelers",labelTemplate:{models:[{key:"travelerCount",source:"travelerCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"ONE",template:"${travelerCount} traveler",__typename:"CardinalTemplate"},{category:"TWO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"FEW",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"MANY",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"OTHER",template:"${travelerCount} travelers",__typename:"CardinalTemplate"}],secondaryTemplates:null,text:"1 traveler",__typename:"EGDSCardinalLocalizedText"},leftIcon:{id:"person",__typename:"Icon"},readOnly:!1,__typename:"EGDSSearchFormTravelersField"},Zr={egdsElementId:"search_button",primary:"Search",disabled:!1,accessibility:"Search",icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.GT.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}},Jr={__typename:"EGDSBasicSelect",egdsElementId:"pick_up_time",clickAnalytics:{linkName:"ground transportation time open",referrerId:"Web.Gt.pick_up_time.Open",__typename:"ClientSideAnalytics"},icon:null,label:"Flight arrival time",options:[{label:"12:00am",selected:!1,value:"1200AM",__typename:"EGDSBasicOption"},{label:"12:15am",selected:!1,value:"1215AM",__typename:"EGDSBasicOption"},{label:"12:30am",selected:!1,value:"1230AM",__typename:"EGDSBasicOption"},{label:"12:45am",selected:!1,value:"1245AM",__typename:"EGDSBasicOption"},{label:"1:00am",selected:!1,value:"0100AM",__typename:"EGDSBasicOption"},{label:"1:15am",selected:!1,value:"0115AM",__typename:"EGDSBasicOption"},{label:"1:30am",selected:!1,value:"0130AM",__typename:"EGDSBasicOption"},{label:"1:45am",selected:!1,value:"0145AM",__typename:"EGDSBasicOption"},{label:"2:00am",selected:!1,value:"0200AM",__typename:"EGDSBasicOption"},{label:"2:15am",selected:!1,value:"0215AM",__typename:"EGDSBasicOption"},{label:"2:30am",selected:!1,value:"0230AM",__typename:"EGDSBasicOption"},{label:"2:45am",selected:!1,value:"0245AM",__typename:"EGDSBasicOption"},{label:"3:00am",selected:!1,value:"0300AM",__typename:"EGDSBasicOption"},{label:"3:15am",selected:!1,value:"0315AM",__typename:"EGDSBasicOption"},{label:"3:30am",selected:!1,value:"0330AM",__typename:"EGDSBasicOption"},{label:"3:45am",selected:!1,value:"0345AM",__typename:"EGDSBasicOption"},{label:"4:00am",selected:!1,value:"0400AM",__typename:"EGDSBasicOption"},{label:"4:15am",selected:!1,value:"0415AM",__typename:"EGDSBasicOption"},{label:"4:30am",selected:!1,value:"0430AM",__typename:"EGDSBasicOption"},{label:"4:45am",selected:!1,value:"0445AM",__typename:"EGDSBasicOption"},{label:"5:00am",selected:!1,value:"0500AM",__typename:"EGDSBasicOption"},{label:"5:15am",selected:!1,value:"0515AM",__typename:"EGDSBasicOption"},{label:"5:30am",selected:!1,value:"0530AM",__typename:"EGDSBasicOption"},{label:"5:45am",selected:!1,value:"0545AM",__typename:"EGDSBasicOption"},{label:"6:00am",selected:!1,value:"0600AM",__typename:"EGDSBasicOption"},{label:"6:15am",selected:!1,value:"0615AM",__typename:"EGDSBasicOption"},{label:"6:30am",selected:!1,value:"0630AM",__typename:"EGDSBasicOption"},{label:"6:45am",selected:!1,value:"0645AM",__typename:"EGDSBasicOption"},{label:"7:00am",selected:!1,value:"0700AM",__typename:"EGDSBasicOption"},{label:"7:15am",selected:!1,value:"0715AM",__typename:"EGDSBasicOption"},{label:"7:30am",selected:!1,value:"0730AM",__typename:"EGDSBasicOption"},{label:"7:45am",selected:!1,value:"0745AM",__typename:"EGDSBasicOption"},{label:"8:00am",selected:!1,value:"0800AM",__typename:"EGDSBasicOption"},{label:"8:15am",selected:!1,value:"0815AM",__typename:"EGDSBasicOption"},{label:"8:30am",selected:!1,value:"0830AM",__typename:"EGDSBasicOption"},{label:"8:45am",selected:!1,value:"0845AM",__typename:"EGDSBasicOption"},{label:"9:00am",selected:!1,value:"0900AM",__typename:"EGDSBasicOption"},{label:"9:15am",selected:!1,value:"0915AM",__typename:"EGDSBasicOption"},{label:"9:30am",selected:!1,value:"0930AM",__typename:"EGDSBasicOption"},{label:"9:45am",selected:!1,value:"0945AM",__typename:"EGDSBasicOption"},{label:"10:00am",selected:!1,value:"1000AM",__typename:"EGDSBasicOption"},{label:"10:15am",selected:!1,value:"1015AM",__typename:"EGDSBasicOption"},{label:"10:30am",selected:!0,value:"1030AM",__typename:"EGDSBasicOption"},{label:"10:45am",selected:!1,value:"1045AM",__typename:"EGDSBasicOption"},{label:"11:00am",selected:!1,value:"1100AM",__typename:"EGDSBasicOption"},{label:"11:15am",selected:!1,value:"1115AM",__typename:"EGDSBasicOption"},{label:"11:30am",selected:!1,value:"1130AM",__typename:"EGDSBasicOption"},{label:"11:45am",selected:!1,value:"1145AM",__typename:"EGDSBasicOption"},{label:"12:00pm",selected:!1,value:"1200PM",__typename:"EGDSBasicOption"},{label:"12:15pm",selected:!1,value:"1215PM",__typename:"EGDSBasicOption"},{label:"12:30pm",selected:!1,value:"1230PM",__typename:"EGDSBasicOption"},{label:"12:45pm",selected:!1,value:"1245PM",__typename:"EGDSBasicOption"},{label:"1:00pm",selected:!1,value:"0100PM",__typename:"EGDSBasicOption"},{label:"1:15pm",selected:!1,value:"0115PM",__typename:"EGDSBasicOption"},{label:"1:30pm",selected:!1,value:"0130PM",__typename:"EGDSBasicOption"},{label:"1:45pm",selected:!1,value:"0145PM",__typename:"EGDSBasicOption"},{label:"2:00pm",selected:!1,value:"0200PM",__typename:"EGDSBasicOption"},{label:"2:15pm",selected:!1,value:"0215PM",__typename:"EGDSBasicOption"},{label:"2:30pm",selected:!1,value:"0230PM",__typename:"EGDSBasicOption"},{label:"2:45pm",selected:!1,value:"0245PM",__typename:"EGDSBasicOption"},{label:"3:00pm",selected:!1,value:"0300PM",__typename:"EGDSBasicOption"},{label:"3:15pm",selected:!1,value:"0315PM",__typename:"EGDSBasicOption"},{label:"3:30pm",selected:!1,value:"0330PM",__typename:"EGDSBasicOption"},{label:"3:45pm",selected:!1,value:"0345PM",__typename:"EGDSBasicOption"},{label:"4:00pm",selected:!1,value:"0400PM",__typename:"EGDSBasicOption"},{label:"4:15pm",selected:!1,value:"0415PM",__typename:"EGDSBasicOption"},{label:"4:30pm",selected:!1,value:"0430PM",__typename:"EGDSBasicOption"},{label:"4:45pm",selected:!1,value:"0445PM",__typename:"EGDSBasicOption"},{label:"5:00pm",selected:!1,value:"0500PM",__typename:"EGDSBasicOption"},{label:"5:15pm",selected:!1,value:"0515PM",__typename:"EGDSBasicOption"},{label:"5:30pm",selected:!1,value:"0530PM",__typename:"EGDSBasicOption"},{label:"5:45pm",selected:!1,value:"0545PM",__typename:"EGDSBasicOption"},{label:"6:00pm",selected:!1,value:"0600PM",__typename:"EGDSBasicOption"},{label:"6:15pm",selected:!1,value:"0615PM",__typename:"EGDSBasicOption"},{label:"6:30pm",selected:!1,value:"0630PM",__typename:"EGDSBasicOption"},{label:"6:45pm",selected:!1,value:"0645PM",__typename:"EGDSBasicOption"},{label:"7:00pm",selected:!1,value:"0700PM",__typename:"EGDSBasicOption"},{label:"7:15pm",selected:!1,value:"0715PM",__typename:"EGDSBasicOption"},{label:"7:30pm",selected:!1,value:"0730PM",__typename:"EGDSBasicOption"},{label:"7:45pm",selected:!1,value:"0745PM",__typename:"EGDSBasicOption"},{label:"8:00pm",selected:!1,value:"0800PM",__typename:"EGDSBasicOption"},{label:"8:15pm",selected:!1,value:"0815PM",__typename:"EGDSBasicOption"},{label:"8:30pm",selected:!1,value:"0830PM",__typename:"EGDSBasicOption"},{label:"8:45pm",selected:!1,value:"0845PM",__typename:"EGDSBasicOption"},{label:"9:00pm",selected:!1,value:"0900PM",__typename:"EGDSBasicOption"},{label:"9:15pm",selected:!1,value:"0915PM",__typename:"EGDSBasicOption"},{label:"9:30pm",selected:!1,value:"0930PM",__typename:"EGDSBasicOption"},{label:"9:45pm",selected:!1,value:"0945PM",__typename:"EGDSBasicOption"},{label:"10:00pm",selected:!1,value:"1000PM",__typename:"EGDSBasicOption"},{label:"10:15pm",selected:!1,value:"1015PM",__typename:"EGDSBasicOption"},{label:"10:30pm",selected:!1,value:"1030PM",__typename:"EGDSBasicOption"},{label:"10:45pm",selected:!1,value:"1045PM",__typename:"EGDSBasicOption"},{label:"11:00pm",selected:!1,value:"1100PM",__typename:"EGDSBasicOption"},{label:"11:15pm",selected:!1,value:"1115PM",__typename:"EGDSBasicOption"},{label:"11:30pm",selected:!1,value:"1130PM",__typename:"EGDSBasicOption"},{label:"11:45pm",selected:!1,value:"1145PM",__typename:"EGDSBasicOption"}],disabled:!1,errorMessage:"",readOnly:!1,value:null},ei={__typename:"EGDSBasicSelect",egdsElementId:"drop_off_time",clickAnalytics:{linkName:"ground transportation time open",referrerId:"Web.Gt.drop_off_time.Open",__typename:"ClientSideAnalytics"},icon:null,label:"Flight departure time",options:[{label:"12:00am",selected:!1,value:"1200AM",__typename:"EGDSBasicOption"},{label:"12:15am",selected:!1,value:"1215AM",__typename:"EGDSBasicOption"},{label:"12:30am",selected:!1,value:"1230AM",__typename:"EGDSBasicOption"},{label:"12:45am",selected:!1,value:"1245AM",__typename:"EGDSBasicOption"},{label:"1:00am",selected:!1,value:"0100AM",__typename:"EGDSBasicOption"},{label:"1:15am",selected:!1,value:"0115AM",__typename:"EGDSBasicOption"},{label:"1:30am",selected:!1,value:"0130AM",__typename:"EGDSBasicOption"},{label:"1:45am",selected:!1,value:"0145AM",__typename:"EGDSBasicOption"},{label:"2:00am",selected:!1,value:"0200AM",__typename:"EGDSBasicOption"},{label:"2:15am",selected:!1,value:"0215AM",__typename:"EGDSBasicOption"},{label:"2:30am",selected:!1,value:"0230AM",__typename:"EGDSBasicOption"},{label:"2:45am",selected:!1,value:"0245AM",__typename:"EGDSBasicOption"},{label:"3:00am",selected:!1,value:"0300AM",__typename:"EGDSBasicOption"},{label:"3:15am",selected:!1,value:"0315AM",__typename:"EGDSBasicOption"},{label:"3:30am",selected:!1,value:"0330AM",__typename:"EGDSBasicOption"},{label:"3:45am",selected:!1,value:"0345AM",__typename:"EGDSBasicOption"},{label:"4:00am",selected:!1,value:"0400AM",__typename:"EGDSBasicOption"},{label:"4:15am",selected:!1,value:"0415AM",__typename:"EGDSBasicOption"},{label:"4:30am",selected:!1,value:"0430AM",__typename:"EGDSBasicOption"},{label:"4:45am",selected:!1,value:"0445AM",__typename:"EGDSBasicOption"},{label:"5:00am",selected:!1,value:"0500AM",__typename:"EGDSBasicOption"},{label:"5:15am",selected:!1,value:"0515AM",__typename:"EGDSBasicOption"},{label:"5:30am",selected:!1,value:"0530AM",__typename:"EGDSBasicOption"},{label:"5:45am",selected:!1,value:"0545AM",__typename:"EGDSBasicOption"},{label:"6:00am",selected:!1,value:"0600AM",__typename:"EGDSBasicOption"},{label:"6:15am",selected:!1,value:"0615AM",__typename:"EGDSBasicOption"},{label:"6:30am",selected:!1,value:"0630AM",__typename:"EGDSBasicOption"},{label:"6:45am",selected:!1,value:"0645AM",__typename:"EGDSBasicOption"},{label:"7:00am",selected:!1,value:"0700AM",__typename:"EGDSBasicOption"},{label:"7:15am",selected:!1,value:"0715AM",__typename:"EGDSBasicOption"},{label:"7:30am",selected:!1,value:"0730AM",__typename:"EGDSBasicOption"},{label:"7:45am",selected:!1,value:"0745AM",__typename:"EGDSBasicOption"},{label:"8:00am",selected:!1,value:"0800AM",__typename:"EGDSBasicOption"},{label:"8:15am",selected:!1,value:"0815AM",__typename:"EGDSBasicOption"},{label:"8:30am",selected:!1,value:"0830AM",__typename:"EGDSBasicOption"},{label:"8:45am",selected:!1,value:"0845AM",__typename:"EGDSBasicOption"},{label:"9:00am",selected:!1,value:"0900AM",__typename:"EGDSBasicOption"},{label:"9:15am",selected:!1,value:"0915AM",__typename:"EGDSBasicOption"},{label:"9:30am",selected:!1,value:"0930AM",__typename:"EGDSBasicOption"},{label:"9:45am",selected:!1,value:"0945AM",__typename:"EGDSBasicOption"},{label:"10:00am",selected:!1,value:"1000AM",__typename:"EGDSBasicOption"},{label:"10:15am",selected:!1,value:"1015AM",__typename:"EGDSBasicOption"},{label:"10:30am",selected:!0,value:"1030AM",__typename:"EGDSBasicOption"},{label:"10:45am",selected:!1,value:"1045AM",__typename:"EGDSBasicOption"},{label:"11:00am",selected:!1,value:"1100AM",__typename:"EGDSBasicOption"},{label:"11:15am",selected:!1,value:"1115AM",__typename:"EGDSBasicOption"},{label:"11:30am",selected:!1,value:"1130AM",__typename:"EGDSBasicOption"},{label:"11:45am",selected:!1,value:"1145AM",__typename:"EGDSBasicOption"},{label:"12:00pm",selected:!1,value:"1200PM",__typename:"EGDSBasicOption"},{label:"12:15pm",selected:!1,value:"1215PM",__typename:"EGDSBasicOption"},{label:"12:30pm",selected:!1,value:"1230PM",__typename:"EGDSBasicOption"},{label:"12:45pm",selected:!1,value:"1245PM",__typename:"EGDSBasicOption"},{label:"1:00pm",selected:!1,value:"0100PM",__typename:"EGDSBasicOption"},{label:"1:15pm",selected:!1,value:"0115PM",__typename:"EGDSBasicOption"},{label:"1:30pm",selected:!1,value:"0130PM",__typename:"EGDSBasicOption"},{label:"1:45pm",selected:!1,value:"0145PM",__typename:"EGDSBasicOption"},{label:"2:00pm",selected:!1,value:"0200PM",__typename:"EGDSBasicOption"},{label:"2:15pm",selected:!1,value:"0215PM",__typename:"EGDSBasicOption"},{label:"2:30pm",selected:!1,value:"0230PM",__typename:"EGDSBasicOption"},{label:"2:45pm",selected:!1,value:"0245PM",__typename:"EGDSBasicOption"},{label:"3:00pm",selected:!1,value:"0300PM",__typename:"EGDSBasicOption"},{label:"3:15pm",selected:!1,value:"0315PM",__typename:"EGDSBasicOption"},{label:"3:30pm",selected:!1,value:"0330PM",__typename:"EGDSBasicOption"},{label:"3:45pm",selected:!1,value:"0345PM",__typename:"EGDSBasicOption"},{label:"4:00pm",selected:!1,value:"0400PM",__typename:"EGDSBasicOption"},{label:"4:15pm",selected:!1,value:"0415PM",__typename:"EGDSBasicOption"},{label:"4:30pm",selected:!1,value:"0430PM",__typename:"EGDSBasicOption"},{label:"4:45pm",selected:!1,value:"0445PM",__typename:"EGDSBasicOption"},{label:"5:00pm",selected:!1,value:"0500PM",__typename:"EGDSBasicOption"},{label:"5:15pm",selected:!1,value:"0515PM",__typename:"EGDSBasicOption"},{label:"5:30pm",selected:!1,value:"0530PM",__typename:"EGDSBasicOption"},{label:"5:45pm",selected:!1,value:"0545PM",__typename:"EGDSBasicOption"},{label:"6:00pm",selected:!1,value:"0600PM",__typename:"EGDSBasicOption"},{label:"6:15pm",selected:!1,value:"0615PM",__typename:"EGDSBasicOption"},{label:"6:30pm",selected:!1,value:"0630PM",__typename:"EGDSBasicOption"},{label:"6:45pm",selected:!1,value:"0645PM",__typename:"EGDSBasicOption"},{label:"7:00pm",selected:!1,value:"0700PM",__typename:"EGDSBasicOption"},{label:"7:15pm",selected:!1,value:"0715PM",__typename:"EGDSBasicOption"},{label:"7:30pm",selected:!1,value:"0730PM",__typename:"EGDSBasicOption"},{label:"7:45pm",selected:!1,value:"0745PM",__typename:"EGDSBasicOption"},{label:"8:00pm",selected:!1,value:"0800PM",__typename:"EGDSBasicOption"},{label:"8:15pm",selected:!1,value:"0815PM",__typename:"EGDSBasicOption"},{label:"8:30pm",selected:!1,value:"0830PM",__typename:"EGDSBasicOption"},{label:"8:45pm",selected:!1,value:"0845PM",__typename:"EGDSBasicOption"},{label:"9:00pm",selected:!1,value:"0900PM",__typename:"EGDSBasicOption"},{label:"9:15pm",selected:!1,value:"0915PM",__typename:"EGDSBasicOption"},{label:"9:30pm",selected:!1,value:"0930PM",__typename:"EGDSBasicOption"},{label:"9:45pm",selected:!1,value:"0945PM",__typename:"EGDSBasicOption"},{label:"10:00pm",selected:!1,value:"1000PM",__typename:"EGDSBasicOption"},{label:"10:15pm",selected:!1,value:"1015PM",__typename:"EGDSBasicOption"},{label:"10:30pm",selected:!1,value:"1030PM",__typename:"EGDSBasicOption"},{label:"10:45pm",selected:!1,value:"1045PM",__typename:"EGDSBasicOption"},{label:"11:00pm",selected:!1,value:"1100PM",__typename:"EGDSBasicOption"},{label:"11:15pm",selected:!1,value:"1115PM",__typename:"EGDSBasicOption"},{label:"11:30pm",selected:!1,value:"1130PM",__typename:"EGDSBasicOption"},{label:"11:45pm",selected:!1,value:"1145PM",__typename:"EGDSBasicOption"}],disabled:!1,errorMessage:"The departing flight must occur at least 2 hours after the arriving flight.",readOnly:!1,value:null},ti={egdsElementId:"search_form_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.GT.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.GT.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},ai={searchForm:{__typename:"SearchFormResults",groundTransportation:{__typename:"GroundTransportationSearchForm",egdsElementId:"ground_transportation_search_form",actionURL:"/ground-transfers/",errorSummary:ti,dates:{egdsElementId:"date_form_field",label:"Flight arrival date",placeholder:"Flight arrival date",errorMessage:"",validations:null,action:{accessibility:null,analytics:{linkName:"ground transportation calendar selection",referrerId:"Web.GT.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{buttonText:"Done",selectedStartDate:{...Kr(qr)},validDaysLowerBoundInclusive:{...Kr(Vr)},validDaysUpperBoundInclusive:{...Kr(Yr)},submitButtonAnalytics:{linkName:"ground transportation dates submit button",referrerId:"Web.GT.Calendar.Dates.Submit",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"ground transportation dates Dates start date button",referrerId:"Web.GT.Calendar.Start.Dates.Click",__typename:"ClientSideAnalytics"},firstDayOfWeek:"SUN",__typename:"EGDSSingleDatePicker"},__typename:"EGDSOpenDatePickerAction"},__typename:"EGDSSearchFormDatePickerField"},hotelLocation:Xr,airportLocation:jr,travelers:Qr,pickupTime:Jr,dropoffTime:null,elements:[],playback:null,search:Zr,groundTransportationSelection:{__typename:"GroundTransportationSearchFormSelection",airportToHotel:{__typename:"EGDSBasicPill",name:"trip_direction_from_airport",primary:"Airport to hotel",accessibility:"Airport to hotel",disabled:!1,selected:!0,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null},hotelToAirport:{__typename:"EGDSBasicPill",name:"trip_direction_to_airport",primary:"Hotel to airport",accessibility:"Hotel to airport",disabled:!1,selected:!1,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null},roundTrip:{__typename:"EGDSBasicPill",name:"trip_direction_round_trip",primary:"Roundtrip",accessibility:"Roundtrip",disabled:!1,selected:!1,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null}},searchLocation:xr}}},ni={searchForm:{__typename:"SearchFormResults",groundTransportation:{__typename:"GroundTransportationSearchForm",egdsElementId:"ground_transportation_search_form",actionURL:"/ground-transfers/",errorSummary:ti,dates:{egdsElementId:"date_form_field",label:"Flight departure date",placeholder:"Flight departure date",errorMessage:"",validations:null,action:{accessibility:null,analytics:{linkName:"ground transportation calendar selection",referrerId:"Web.GT.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{buttonText:"Done",selectedStartDate:{...Kr(qr)},validDaysLowerBoundInclusive:{...Kr(Vr)},validDaysUpperBoundInclusive:{...Kr(Yr)},submitButtonAnalytics:{linkName:"ground transportation dates submit button",referrerId:"Web.GT.Calendar.Dates.Submit",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"ground transportation dates Dates start date button",referrerId:"Web.GT.Calendar.Start.Dates.Click",__typename:"ClientSideAnalytics"},firstDayOfWeek:"SUN",__typename:"EGDSSingleDatePicker"},__typename:"EGDSOpenDatePickerAction"},__typename:"EGDSSearchFormDatePickerField"},hotelLocation:Xr,airportLocation:jr,travelers:Qr,pickupTime:null,dropoffTime:ei,elements:[],playback:null,search:Zr,groundTransportationSelection:{__typename:"GroundTransportationSearchFormSelection",airportToHotel:{__typename:"EGDSBasicPill",name:"trip_direction_from_airport",primary:"Airport to hotel",accessibility:"Airport to hotel",disabled:!1,selected:!1,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null},hotelToAirport:{__typename:"EGDSBasicPill",name:"trip_direction_to_airport",primary:"Hotel to airport",accessibility:"Hotel to airport",disabled:!1,selected:!0,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null},roundTrip:{__typename:"EGDSBasicPill",name:"trip_direction_round_trip",primary:"Roundtrip",accessibility:"Roundtrip",disabled:!1,selected:!1,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null}},searchLocation:xr}}},li={searchForm:{__typename:"SearchFormResults",groundTransportation:{__typename:"GroundTransportationSearchForm",egdsElementId:"ground_transportation_search_form",actionURL:"/ground-transfers/search",errorSummary:ti,dates:{egdsElementId:"date_form_field",label:"Flight dates",placeholder:"Flight dates",errorMessage:"",validations:null,action:{accessibility:null,analytics:{linkName:"ground transportation calendar selection",referrerId:"Web.GT.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{buttonText:"Done",buttonTextTemplate:null,clearButtonText:null,firstDayOfWeek:"SUN",maxNumberOfDaysSelected:null,sameDaySelectionAllowed:!0,selectedStartDate:{...Kr(qr)},startDatePlaceholderText:"",selectedEndDate:{...Kr(zr)},endDatePlaceholderText:"",validDaysLowerBoundInclusive:{...Kr(Vr)},validDaysUpperBoundInclusive:{...Kr(Yr)},flexibleDateContent:null,submitButtonAnalytics:{linkName:"ground transportation dates submit button",referrerId:"Web.GT.Calendar.Dates.Submit",__typename:"ClientSideAnalytics"},nextButtonAnalytics:{linkName:"ground transportation dates Dates next date button",referrerId:"Web.GT.Calendar.Next.Dates.Click",__typename:"ClientSideAnalytics"},previousButtonAnalytics:{linkName:"ground transportation dates Dates previous date button",referrerId:"Web.GT.Calendar.Previous.Dates.Click",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"ground transportation dates Dates start date button",referrerId:"Web.GT.Calendar.Start.Dates.Click",__typename:"ClientSideAnalytics"},endDateButtonAnalytics:{linkName:"ground transportation dates Dates end date button",referrerId:"Web.GT.Calendar.End.Dates.Click",__typename:"ClientSideAnalytics"},clearDatesButtonAnalytics:{linkName:"ground transportation dates Dates clear button",referrerId:"Web.GT.Calendar.Clear.Dates.Submit",__typename:"ClientSideAnalytics"},showClearDatesButton:!1,__typename:"EGDSDateRangePicker"},__typename:"EGDSOpenDatePickerAction"},__typename:"EGDSSearchFormDatePickerField"},hotelLocation:Xr,airportLocation:jr,travelers:Qr,pickupTime:Jr,dropoffTime:ei,elements:[],playback:null,search:Zr,groundTransportationSelection:{__typename:"GroundTransportationSearchFormSelection",airportToHotel:{__typename:"EGDSBasicPill",name:"trip_direction_from_airport",primary:"Airport to hotel",accessibility:null,disabled:!1,selected:!1,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null},hotelToAirport:{__typename:"EGDSBasicPill",name:"trip_direction_to_airport",primary:"Hotel to airport",accessibility:null,disabled:!1,selected:!1,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null},roundTrip:{__typename:"EGDSBasicPill",name:"trip_direction_round_trip",primary:"Roundtrip",accessibility:null,disabled:!1,selected:!0,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null}},searchLocation:xr}}},ri="EGDSBasicSelect",ii=u.gql`
  fragment EGDSBasicSelectFragment on EGDSBasicSelect {
    egdsElementId
    clickAnalytics {
      ...ClientSideAnalyticsFragment
    }
    icon {
      id
    }
    label
    options {
      label
      selected
      value
    }
    disabled
    errorMessage
    readOnly
    value
  }

  fragment ClientSideAnalyticsFragment on ClientSideAnalytics {
    linkName
    referrerId
  }
`,oi=({onChange:e,selectValue:t,emptyState:a,data:l,errorMessage:r,setInputRef:i})=>{const o=(0,v.useClickTracker)(),{egdsElementId:c,label:s,icon:d,options:u,clickAnalytics:m,readOnly:p,disabled:y}=l,_=null!=c?c:"search_form_basic_select",S=n.useRef(null),g=n.useCallback(()=>{if(m&&"ClientSideAnalytics"===m.__typename){const{referrerId:e,linkName:t}=m;o(e,t)}},[m,o]),E=(0,G.j)(_,t=>(e&&e(t),t));return n.useEffect(()=>{i&&i(S)},[]),(null==u?void 0:u.length)>0?n.createElement(ge._,{readOnly:p,disabled:y,id:_,name:`${ri}-${_}`,label:s,icon:null==d?void 0:d.id,onClick:g,"aria-label":null!=s?s:"",onChange:E,emptyState:a,value:t,placeholder:a?s:void 0,invalid:r,domRef:S},u.map(({label:e,value:t,selected:a})=>n.createElement("option",{key:t,label:e,value:t,selected:null!=a&&a},e))):null};oi.displayName="EGDSBasicSelect",oi.fragment=ii;var ci=u.gql`
  fragment EGDSSelectFragment on EGDSSelect {
    __typename

    ...EGDSBasicSelectFragment
  }

  ${oi.fragment}
`,si=e=>{const{data:t,fieldError:a}=e;var l,r;const i={errorMessage:a?(l=a,"EGDSBasicSelect"===t.__typename?(null==l?void 0:l.isValid)?"":null!=(r=t.errorMessage)?r:"":""):"",...e};return"EGDSBasicSelect"===t.__typename?n.createElement(oi,{...i,data:t}):null};si.displayName="SearchToolsEGDSSelect",si.fragment=ci;var di={SEARCH_LOCATION_TYPEAHEAD_DURATION:new p.SystemEvent(p.SystemEventLevel.INFO,"SEARCH_LOCATION_TYPEAHEAD_DURATION")},ui=n.createContext({impressionWrapper:void 0}),mi=n.createContext({manager:{trackEvent:()=>{}}}),pi=e=>e.locationFullName+(e.regionId||""),yi=u.gql`
  fragment SearchLocationQueryAttributionFragment on SearchLocationResults {
    poweredBy
  }
`,_i=({searchLocationContent:e,data:t})=>{var a;const{poweredBy:l=""}=null!=t?t:{};return"GOOGLE"===l?n.createElement(r.N,{padding:{blockstart:"three",inline:"four"}},n.createElement("div",null,n.createElement(F.X,{justifyContent:"end"},n.createElement(O.C,{maxWidth:144,minWidth:144},n.createElement(C.M,{imageFit:"contain"},n.createElement(b.F,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAAASCAYAAAC0PldrAAAIHElEQVR4Ae3ZBXDbWB7H8efglpmZGW0HlhzJDpSZmZkZ3W3s2DpmZmbmKx0zM/NdoGhotxTf9x9LHY027paW85v5bBRQopn32weqasqzk5Jw7BE9nHijHo5/Rw/HfqaHYl/keldZ8GJ7qBeqZ/6PNGlPUT5DeVKNqkyc18PJ6VDPtfEfnvUJz0dmpbwfmzMW6k5YFy96pBRTkCnL4MUDiy94oS0F+ZVZlD/5qxLLfNFkz0D0fBtfKOkpCcffrFfG6vVQ4hDUc6ypQLdDFmMdMiWIcjywaOHEB8zynPEFa1pCOWnHLw2Bej5oKtDzqEC+cGyoWZ5YaTDeGer57r4LRPLRCi40liy0QR4eVB5CG2QhU3KQneG+TM/qQhvk424L1Bwt73P22d9QoFD8bVB3KxVUWTX+gqW1mvvLtbr7Z7V+z6frNM/UlFIuKAD83I2v5y69eiL3y9dPZP/s2tdyPn39ZN7UVEq5oCz8x+WvjC/SQrEv8/u/z/O9siSUKNfC8agWSbrRaIH+p3lH1Pg976jxe38gz8JzzLM/g2QhpmIuIjCwB/0cg6HjGAxEsQQtIZmCtbBnLbY4BngZptkGaQmiMHAUhbCyEJMxCxGsh6QFltruOwIv7BmEfTAQwWwsvYMCTcMqGKat6AJJCXYjD1ZcWIdZsEdK8K50gZLroez4+l4G8j1PURlfAJWaMye7Vvd+otbvTVVr7hvVmvc/ci0YyNdAidTHVPa1EzmfuH4iN0WBbnD9H7lu8PXc10CJYDCVxanvffI8nAZvloQTNenZMXYt/YyJ5Y3tgar9nkCt5n2y4Tl073+5TprPEIYSknW2ARpkWosQOkFSiijK0BtuHME2ZGMMDLSDpBMMU29bYaIYBxfW4wBGojcmw8BIWM8Vwjq40QMubMR+231TYGAYJN1QhVUYgEHYgMgdFCiCBeiLYdiJI2iO9og6St4XBgZnKpAWjm2AsmNZO+E8jdlnqzrdvS49aO4fndWLekDVlbmHMoB/MQewAorCrDML86P6E816QD35lbyhzER/SZcouwJKq0oskd9PSX9aVnm5F1RJVbKQr13IVKCU251b7Xf/WwpcqxfMkVnngm9MW+sZ6gJeD24N1BHkwUouDmI28hDGBNjTDwZGIR9hFEOiYyu2YRIkY1GFhzAABvrCnpVYbyvQAeTAyiBHKa2sNUnmY5/jvnwcvYMCbXDMmG1QBR2SJdhu+5l52NXYMsqA7EsXI/5OKBvEhnMKK7LwtePpgYy9HIpB+lbDIGmFbihLTcAzs6FAuueDUJTkW0hdO5XrhrJc/1reTPk6BfsgZMY7iZS/KumFsmihxIFMBaoNeHxmiT/6H5+7Y41esJcl7K/pmdD9N64n4tZALYQzs7EDvTMMmgtBW7GWYyUk26DDj/1wYYHt+z7bUhixMXDMVqDFznG5zX1HIdmDGbDnTvdAGpzZhGWO/2n6ojnCKIIzDNClwQ1LRmU8ETCS3aEysU5r7FHmQckAyUD9sWJgPpSlNlA4SL7O0vJNqGtfz/6bFKX+SyofyvLk1/IGNcxAX8v9JpS8QpDfX/Ha+nwoC8vplIwFYq/TUFbN+w9Zxqr93vpq3fOFWn/BJFlioYQ1UEvgzHxsRQ8Y6NdIgY6jDBI3wugGA53QxVa+IAogeQwR9EB3h27IVGwfqjLc1xWSnZgNZ5bdQYECcGabrcgubMUCPIZjtztQWPsOZpjvPRq52A7KSatKTpV3QfxcXenL61tASUFk8M7q7gIoiywl6UF1fwBKCmLONAVQlhsn8+aYX/8AVEll4pQ8h7x7grLIRj9TgWo0z8Ppsnqv1eqeyP98hX2hZClrrEDH0QpWWuIYJiMbQcx1TNWjYWCQbY8TwQbshJXdWI+obdPdEwbGwJ7ipylQH2vZdN5nK9AMHEVzx1JUeQcF2uVY+rojimJYGY8q7MdEZIy8MGTwfmHuhf5JkTbJex/fyxJdtcpLDzNob5JNrbn/mQMl2ECvNpeKn1sDV6MVjGEz/U9zWSmFYuO82tzr/PzK6fy+UFdP5o6hNP9M742ySyFL1VJrDxSIXu4NJUunvAXPVCApCfufP5p7rg1y2pMZkeswX/u+zIawF0jtwyOmvThiK5UXBhbDgwkIY7mjVKthoBRWymE0MngLbXsrN+bbS5WhQC4sRggVjvtGQ9IWQexGMR7BfjxxBwV6AptRgBIcxU7kwkoODiOCtrhtZOZhkD52m3/KiFGs+VCAdYT3fsicAer5WIcU4DGghPzcta/nfKjhFPa13HrUybW5fBlQQk5hWmXi/fL3rNnuTk5hdX6Pl79/wTwNXrJOYbIXOh9w98atgVqAx7EPx7AUHWDPSGy2la0MOY38zCp0gZWuWNXIbJONAPYhhK0YDSsTocGZbJRmuM9KJ6zAceyHD489zYyxCGMwGYdts24LOLMWi3DHkQ0sg/QqWU5KwvEf4HPMDHseDcc6QTnJUiH7EGajz8g7GPYiH2EWKoOyk/c9vAeax6zzGcryAz5+5PrJ7DIoO37QxTufhRT0C+zLvst11FrC5JQG5f7IrJd5Pjzzx56Pzh4CJc76CnryHugVPMe3OcqfYTkLymkMCpk30RnTlG62jfQLIr5gKkf+wVY29lAWWULTM2HsMah70VSgu888bIULL4hw2pqRPhEmfiMbadmbyWzE/utqSSj2nznBVB7UvWgq0N2lLSIYhxdOWL5k+Xzq/it2mdcGAah7ZV00eQlgxvFRpNfJeyc+Bn2RK32h7sf/AesqcHB02e65AAAAAElFTkSuQmCC",alt:null!=(a=null==e?void 0:e.poweredByGoogleLogoAltText)?a:""})))))):null};_i.fragment=yi,_i.displayName="SearchLocationQueryAttributionFragment";var Si=u.gql`
  fragment SearchLocationButtonFragment on SearchLocationButton {
    __typename
    text
    accessibilityText
    icon {
      ...IconFragment
    }
  }

  ${Xe.fragment}
`,gi=e=>{const{data:t,onClick:a}=e,{text:l,accessibilityText:r,icon:i}=t;return n.createElement(X.q,{onClick:e=>{a(e)},"aria-label":r},n.createElement(Xe,{data:i}),l)};gi.fragment=Si,gi.displayName="SearchLocationButton";var Ei=u.gql`
  fragment ImageFragment on Image {
    url
    description
    aspectRatio
  }
`,vi={ONE_ONE:C.l.R1_1,THREE_TWO:C.l.R3_2,THREE_FOUR:C.l.R3_4,FOUR_ONE:C.l.R4_1,FOUR_THREE:C.l.R4_3,SIXTEEN_NINE:C.l.R16_9,TWENTY_ONE_NINE:C.l.R21_9},hi=e=>{const{data:t}=e,{url:a,description:l,aspectRatio:r}=t;return n.createElement(C.M,{roundcorner:["all"],ratio:r?vi[r]:C.l.R4_3},n.createElement(b.F,{placeholderImage:!0,src:a,alt:l}))};hi.fragment=Ei,hi.displayName="Image";var Di=u.gql`
  fragment SearchLocationGraphicFragment on SearchLocationGraphic {
    ...IconFragment
    ...ImageFragment
  }
  ${Xe.fragment}
  ${hi.fragment}
`,fi=e=>{const{data:t,id:a}=e;switch(t.__typename){case"Icon":return n.createElement(Xe,{uniqueId:a,data:t});case"Image":return n.createElement(hi,{...e,data:t});default:return null}};fi.fragment=Di,fi.displayName="SearchLocationGraphic";var Ti=u.gql`
  fragment SearchLocationBasicItemFragment on SearchLocationBasicItem {
    __typename
    airportCode
    coordinates {
      latitude
      longitude
    }
    geoType
    graphic {
      ...SearchLocationGraphicFragment
    }
    itemAccessibilityText
    analyticsInfo {
      category
      relation
      sourceName
    }
    impressionAnalytics {
      referrerId
      linkName
    }
    primaryText
    propertyId
    regionId
    locationFullName
    secondaryText
    remove {
      ...SearchLocationButtonFragment
    }
  }

  ${fi.fragment}
  ${gi.fragment}
`,Ci=e=>{const{data:t,activeItemId:a,onClick:l,includeIndendation:i=!1,onRemoveRecentSearch:o,stid:c}=e,{primaryText:s,itemAccessibilityText:d,secondaryText:u,remove:m,graphic:p,locationFullName:y,impressionAnalytics:_,regionId:S}=t,g={linkName:(null==_?void 0:_.linkName)||"",referrerId:(null==_?void 0:_.referrerId)||""},E=`${c}-result-item`,h=`${c}-result-item-button`;return n.createElement(ye.P,{spacing:"relaxed","data-stid":E,active:a===y+(S||"")},n.createElement(r.N,{margin:{inlinestart:i?"eight":void 0}},n.createElement(v.IntersectionTracker,{...g},n.createElement(_e.x,null,n.createElement("button",{"data-stid":h,onClick:e=>{l(t.locationFullName,t)},"aria-label":d,type:"button"})),n.createElement("div",null,n.createElement(F.X,null,p&&n.createElement(O.C,{alignSelf:"center",..."Image"===p.__typename?{maxWidth:64,minWidth:84}:{}},n.createElement("div",null,n.createElement(fi,{id:null!=S?S:void 0,data:p}))),n.createElement(O.C,null,n.createElement(r.N,{margin:{inlinestart:"three"}},n.createElement("div",null,n.createElement(M.D,{size:300,overflow:"truncate",weight:"bold"},s),n.createElement(M.D,{size:300,overflow:"truncate"},u)))),m&&n.createElement(O.C,{alignSelf:"center",grow:1},n.createElement(F.X,{justifyContent:"end"},n.createElement(gi,{data:m,onClick:e=>{null==o||o(e,t)}}))))))))};Ci.fragment=Ti,Ci.displayName="SearchLocationBasicItem";var bi=u.gql`
  fragment SearchLocationItemWithSubItemsFragment on SearchLocationItemWithSubItems {
    item {
      ...SearchLocationBasicItemFragment
    }

    subItems {
      ...SearchLocationBasicItemFragment
    }
  }

  ${Ci.fragment}
`,Ii=e=>{const{data:t}=e,{item:a,subItems:l}=t;return n.createElement(n.Fragment,null,n.createElement(Ci,{...e,data:a}),l.map((t,a)=>n.createElement(Ci,{key:a,...e,data:t,includeIndendation:!0})))};Ii.fragment=bi,Ii.displayName="SearchLocationItemWithSubItems";var Ai=u.gql`
  mutation SearchLocationDeleteRecentSearch($context: ContextInput!, $lob: String!, $gaiaIds: [String!]!, $isDestination: Boolean) {
    searchLocationDeleteRecentSearch(context: $context, lob: $lob, gaiaIds: $gaiaIds, isDestination: $isDestination) {
      status
    }
  }
`,Fi=u.gql`
  fragment SearchLocationRecentSearchFragment on SearchLocationRecentSearch {
    __typename
    dateRange {
      __typename
      start {
        ...DateFragment
      }
      end {
        ...DateFragment
      }
    }
    item {
      ...SearchLocationBasicItemFragment
    }
    travelers {
      ... on SearchLocationBasicTravelers {
        ...SearchLocationBasicTravelersFragment
      }
      ... on SearchLocationTravelersByRoom {
        ...SearchLocationTravelersByRoomFragment
      }
    }
  }

  fragment DateFragment on Date {
    day
    month
    year
  }

  fragment SearchLocationTravelersByRoomFragment on SearchLocationTravelersByRoom {
    rooms {
      ...SearchLocationBasicTravelersFragment
    }
  }

  fragment SearchLocationBasicTravelersFragment on SearchLocationBasicTravelers {
    adults
    childrenAges
    pets
  }

  ${Ci.fragment}
`,Oi=e=>{const[t]=(0,u.useMutation)(Ai),{formatText:a}=(0,z.useLocalization)(),[l,r]=(0,n.useState)(new Set),{context:i}=(0,m.R)(),{data:o,onRemoveRecentSearch:c,onRemoveRecentSearchTracking:s,lob:d="HOTEL",activeItemId:p,onClick:y,stid:_,isDestination:S}=e,{item:g,dateRange:E,travelers:v}=o,{regionId:h,primaryText:D}=g;return n.createElement(n.Fragment,null,h&&!l.has(h)&&n.createElement(Ci,{key:h,lob:d,stid:_,data:g,activeItemId:p,onClick:(e,t)=>{null==y||y(e,t,E||void 0,v||void 0)},onRemoveRecentSearch:async e=>{if(e.preventDefault(),!h)return null;r(e=>new Set(e).add(h)),(0,x.liveAnnounce)(a("typeahead.custom.delete.recent.search.button.announce.a11y",D)),null==c||c(e,g);try{await t({variables:{context:i,lob:d,gaiaIds:[h],isDestination:S}}).then(e=>{"SUCCESS"===e.data.searchLocationDeleteRecentSearch.status&&(null==s||s(g))})}catch(n){}}}))};Oi.fragment=Fi,Oi.displayName="SearchLocationRecentSearch";var ki=u.gql`
  fragment SearchLocationItemFragment on SearchLocationItem {
    ...SearchLocationBasicItemFragment
    ...SearchLocationItemWithSubItemsFragment
    ...SearchLocationRecentSearchFragment
  }

  ${Ci.fragment}
  ${Ii.fragment}
  ${Oi.fragment}
`,Gi=e=>{const{data:t}=e;switch(t.__typename){case"SearchLocationBasicItem":return n.createElement(Ci,{...e,data:t});case"SearchLocationItemWithSubItems":return n.createElement(Ii,{...e,data:t});case"SearchLocationRecentSearch":return n.createElement(Oi,{...e,data:t});default:return null}};Gi.fragment=ki,Gi.displayName="SearchLocationItem";var Ri=u.gql`
  fragment SearchLocationGroupFragment on SearchLocationGroup {
    title
    items {
      ...SearchLocationItemFragment
    }
  }
  ${Gi.fragment}
`,Li=e=>{const{data:t,onClick:a,onRemoveRecentSearch:l,onRemoveRecentSearchTracking:i,lob:o,stid:c,activeItemId:s,isDestination:d,hideTitle:u=!1}=e,{items:m,title:p}=t;return n.createElement(r.N,{padding:{blockstart:"three"}},n.createElement("div",null,p&&!u&&n.createElement(r.N,{padding:{block:"three",inlinestart:"six"}},n.createElement("div",null,n.createElement(M.D,{overflow:"truncate",size:300,weight:"bold"},p))),m&&n.createElement(Se.I,null,m.map((e,t)=>n.createElement(Gi,{key:t,data:e,lob:o,stid:c,activeItemId:s,onClick:a,onRemoveRecentSearch:l,onRemoveRecentSearchTracking:i,isDestination:d})))))};Li.fragment=Ri,Li.displayName="SearchLocationGroupFragment";var Pi=({children:e})=>e&&n.createElement(r.N,{padding:{inline:"three"}},n.createElement(F.X,{justifyContent:"center",alignContent:"center"},n.createElement(M.D,{align:"center"},n.createElement(r.N,{margin:{blockstart:"six"}},n.createElement(_.LD,{name:"search",size:_.So.XLARGE})),n.createElement(r.N,{margin:{blockend:"three"}},n.createElement(M.D,{size:300},e)))));Pi.displayName="SearchLocationPlaceholderText";var Ni=e=>{const{headingText:t,hideHeading:a=!1,searchLocationLabel:l,stid:i="",values:o,onItemRemove:c,onClear:s,clearAllText:d}=e,u=(0,z.useLocalization)(),m=null!=d?d:u.formatText("typeahead.mulselect.clearAll"),p=null!=t?t:u.formatText("typeahead.multiselect.selectedItemHeading");return n.createElement("div",null,!a&&p&&(null==o?void 0:o.length)&&o.length>0&&n.createElement(r.N,{padding:{inlinestart:"four"}},n.createElement("div",null,n.createElement(M.D,{overflow:"truncate",size:300,weight:"bold"},p))),n.createElement(r.N,{padding:{blockstart:"three",inline:"four"}},n.createElement("div",{"data-stid":i},null==o?void 0:o.map((e,t)=>n.createElement(r.N,{key:`${i}-pill-${t}`,margin:{block:"one"}},n.createElement(ue.i,{onClick:()=>((e,t)=>{(0,x.liveAnnounce)(u.formatText("typeahead.removeSelection",e)),null==c||c(t)})(e,t),id:`${i}-pill-${t}`},e))),(null==o?void 0:o.length)&&n.createElement(X.q,{onClick:()=>{(0,x.liveAnnounce)(u.formatText("typeahead.clearAllSelections",l)),null==s||s()},size:$.V.SMALL},m))))};Ni.displayName="SearchLocationSelections";var Mi=e=>{const{value:t,label:a,stid:l="",handleClear:i,onItemRemove:o,clearAllText:c,selectedItemHeading:s,handleClose:u,dismissButtonText:p,queryResults:y,lineOfBusiness:_,onClick:S,emptyPlaceholderText:g,searchLocationContent:E}=e,[v,h]=n.useState(y),[D,f]=n.useState([]),T={[d.OB.MEDIUM]:{minHeight:"458px",maxHeight:"458px"},[d.OB.LARGE]:{minHeight:"458px",maxHeight:"458px"}},C=(0,d.s5)(T),{context:b}=(0,m.R)(),{locale:I}=b;n.useEffect(()=>{if(t){const e=y.flatMap(e=>e.items).filter(e=>t.some(t=>e.locationFullName===t));f(t=>{const a=e.filter(e=>!(null==t?void 0:t.some(t=>t.locationFullName===e.locationFullName)));return[...t,...a]});const a=y.map(e=>({...e,items:e.items.filter(e=>!t.some(t=>e.locationFullName===t))}));h(a)}},[t,y]);const k=(e,t)=>{var n,l;const r=(null==t?void 0:t.locationFullName)||(null==t?void 0:t.primaryText)||e;S(r,t),t&&f(e=>[...e,t]);const i=v.map(e=>({...e,items:e.items.filter(e=>e.locationFullName!==r)})).filter(e=>e.items.length>0);h(i);const o=i.reduce((e,t)=>e+t.items.length,0),c=[a,o.toString(),r],s=(null==E?void 0:E.itemSelectedAccessibility)&&"EGDSBasicLocalizedText"===E.itemSelectedAccessibility.__typename?`${ut(E.itemSelectedAccessibility.template,(null==(n=E.itemSelectedAccessibility.models)?void 0:n[0].key)||"",r)} `:"",d=(null==(l=null==E?void 0:E.multiSelection)?void 0:l.showingResults)?pt({textFragment:E.multiSelection.showingResults,values:c,count:o,locale:I}):"";(0,x.liveAnnounce)(`${s} ${d}`)};return n.createElement(n.Fragment,null,n.createElement(ne.v,{direction:"vertical",tabbable:!1},n.createElement(A.P,{style:{...C}},n.createElement(r.N,{padding:{blockstart:"one",blockend:"sixteen"}},n.createElement("div",null,t&&t.length>0&&n.createElement(Ni,{searchLocationLabel:a,values:t,stid:l,clearAllText:c,onClear:()=>{h(y),null==i||i()},onItemRemove:e=>{D[e]&&(f(t=>{const a=t.filter((t,a)=>a!==e),n=y.map(e=>({...e,items:e.items.filter(e=>!a.some(t=>t.locationFullName===e.locationFullName))}));return h(n),a}),null==o||o(e))},headingText:s}),v.length>0?v.map((e,t)=>n.createElement(Li,{stid:l,key:t,lob:_,data:e,onClick:k,isDestination:!0,hideTitle:e.items.length<=0})):n.createElement(Pi,null,g))))),n.createElement(A.P,{style:{zIndex:1,minHeight:"60px"}},n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(pe.O,{type:Ae.Q.BUTTON},n.createElement(me.t,{disabled:0===(null==t?void 0:t.length),onClick:u,isFullWidth:!0},p))),n.createElement(d.zQ,null,n.createElement(r.N,{padding:"three",style:{borderTop:"1px solid #cccfdb"}},n.createElement(F.X,{justifyContent:"end"},n.createElement(O.C,null,n.createElement(B.y,{disabled:0===(null==t?void 0:t.length),onClick:u},p))))))))};Mi.displayName="SearchLocationMultiItem";var xi=()=>n.createElement(r.N,{margin:{block:"eight"}},n.createElement(k.R,{animation:!0,type:"line",lineLength:"primary"})),Bi=()=>n.createElement(n.Fragment,null,Array.from({length:3}).map((e,t)=>n.createElement(xi,{key:t})));Bi.displayName="SearchLocationResultsLoading";var $i=(e=>(e.GAI="GAIA",e.LCM="LCM",e.GPA="GOOGLE",e.UNKNOWN="UNKNOWN",e))($i||{}),Wi=(e=>(e.ALTERNATE="Alternate",e.CURRENTLOCATION="CurrentLocation",e.POPULAR="Popular",e.GOOGLEMAPS="Google",e.NORMAL="Normal",e.USERHISTORY="RecentHistory",e))(Wi||{}),wi=["POPULAR","ALTERNATE"],Ui="SearchLocation",Hi={ALTERNATE:"People also searched",POPULAR:"Popular destinations"},Vi=e=>e.map(e=>{var t,a,n,l,r;return{destination_geo_id:e.regionId,destination_geo_system:null==(t=e.analyticsInfo)?void 0:t.sourceName,destination_type:zi(null!=(a=e.geoType)?a:""),reason:(null==(l=null==(n=e.analyticsInfo)?void 0:n.relation)?void 0:l.length)?null==(r=e.analyticsInfo)?void 0:r.relation[0]:null}}),qi=(e,t)=>{var a;return{recommendation_id:"Image"===(null==(a=e.graphic)?void 0:a.__typename)&&e.graphic.url?`${e.regionId}.image`:e.regionId,recommendation_position:t.toString(),presentation_details_recommendation_name:e.primaryText}},zi=e=>({MULTICITY:"MULTI_CITY",MULTIREGION:"REGION",METROCODE:"REGION",TRAINSTATION:"TRAIN_STATION",METROSTATION:"METRO_STATION",BUSSTATION:"METRO_STATION",PREMISE:"LANDMARK",POI:"LANDMARK",ADDRESS:"LANDMARK",LISTING:"HOTEL"}[e]||e),Yi=(e,t)=>t.findIndex(t=>t.regionId===e.regionId)+1;function Ki(e,t,a){var n=(a||{}).atBegin;return function(e,t,a){var n,l=a||{},r=l.noTrailing,i=void 0!==r&&r,o=l.noLeading,c=void 0!==o&&o,s=l.debounceMode,d=void 0===s?void 0:s,u=!1,m=0;function p(){n&&clearTimeout(n)}function y(){for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];var o=this,s=Date.now()-m;function y(){m=Date.now(),t.apply(o,l)}function _(){n=void 0}u||(c||!d||n||y(),p(),void 0===d&&s>e?c?(m=Date.now(),i||(n=setTimeout(d?_:y,e))):y():!0!==i&&(n=setTimeout(d?_:y,void 0===d?e-s:e)))}return y.cancel=function(e){var t=(e||{}).upcomingOnly,a=void 0!==t&&t;p(),u=!a},y}(e,t,{debounceMode:!1!==(void 0!==n&&n)})}var ji="search-location-input-field",Xi=u.gql`
  query SearchLocationSuggestions(
    $context: ContextInput!
    $searchLocationCriteria: SearchLocationCriteriaInput!
    $searchLocationInteractionEvent: SearchLocationInteractionEventInput
  ) {
    searchLocation(
      context: $context
      searchLocationCriteria: $searchLocationCriteria
      searchLocationInteractionEvent: $searchLocationInteractionEvent
    ) {
      __typename
      analyticsInfo {
        recommendationId
        resultId
      }
      ...SearchLocationQueryAttributionFragment
      itemsGroups {
        ...SearchLocationGroupFragment
      }
    }
  }
  ${_i.fragment}
  ${Li.fragment}
`,Qi=1,Zi={__typename:"SearchLocationBasicItem",airportCode:null,coordinates:null,geoType:null,graphic:null,locationFullName:"",itemAccessibilityText:"",primaryText:"",propertyId:null,remove:null,secondaryText:null,analyticsInfo:null,impressionAnalytics:null,regionId:null},Ji=(0,n.forwardRef)((e,t)=>{var a,l;const{debounceRate:i,initialSearchTerm:o,label:s,value:p,onClose:y,placeholder:_,handleClear:S,onInputChange:g,stid:E,isMulti:h,required:D,onResultItemSelect:f,emptyResultPlaceholder:T,lineOfBusiness:C,subLob:b,onItemRemove:I,searchLocationAnalytics:F,isDestination:O=!0,dismissButtonText:k,clearAllText:G,selectedItemHeading:R,regionType:L,lastSearchLatLong:P,pageLocation:N,searchLocationContent:M,onInputMount:B}=e,$=n.useRef(null),W="string"==typeof p?p:"",[w,U]=n.useState(o||W||""),[H,V]=n.useState(P),[q]=(0,be.w)(),{context:z}=(0,m.R)(),{locale:Y}=z,[K,j]=n.useState([]),[X,Q]=n.useState([]),[Z,J]=n.useState(""),ee=(0,d.eg)({viewSizes:d.pf})<=d.pf.SMALL?E&&`${E}-dialog-input`:E&&`${E}-menu-input`,[te,ae]=n.useState({query:o||W||"",backspaceCount:0}),le=(e=>{const t=(0,v.useEgClickstream)(),{serverPayloads:a,inputName:l,lineOfBusiness:r,subLob:i,isDestination:o}=e,{open:c,close:s,itemSelected:d,recommendationsPresented:u,recommendationSelected:m}=null!=a?a:{},p=o?"Destination":"Origin",y=((e,t)=>{const a={flights:{oneway:"OW",multicity:"MD",default:"RT"},packages:{fhc:"FHC",hc:"HC",fc:"FC",default:"FH"}};if(e){const n=e.toLowerCase();if(a[n])return`${e}.${a[n][null==t?void 0:t.toLowerCase()]||a[n].default}`}return e||""})(r,i),[_,S]=n.useState(),[g,E]=n.useState();return{trackSearchLocationOpen:(e,a)=>{S(a),E(performance.now()),t({serverPayload:c,clientPayload:{event:{event_name:"search_location.opened",event_type:"Interaction",event_version:"1.0.0",event_category:Ui,action_location:l},search_request:{search_query:e||""},typeahead:{search_field:p,line_of_business:y}}})},trackSearchLocationClose:(e,a,n,r)=>{const i=g?performance.now()-g:null;E(void 0);const o={event:{event_name:"search_location.closed",event_type:"Interaction",event_version:"1.0.0",event_category:Ui,action_location:l},search_request:{search_query:e===_?"":e},typeahead:{search_field:p,backspaces_count:r,suggestion_list:a.length?Vi(a):[],line_of_business:y,typeahead_selection_bool:n,focus_to_blur_time:null==i?void 0:i.toString(),characters_typed_count:e.length}};t({serverPayload:s,clientPayload:o})},trackSearchLocationSelect:(e,a,n,r,i)=>{var o,c,s,u,m;const S={event:{event_name:"search_location.selected",event_type:"Interaction",event_version:"1.0.0",event_category:Ui,action_location:l},search_request:{search_query:e===_?"":e,search_id:r},destination:{destination_full_name:a.primaryText,destination_geo_id:a.regionId,destination_geo_system:$i[null!=(c=null==(o=a.analyticsInfo)?void 0:o.sourceName)?c:""]||(null==(s=a.analyticsInfo)?void 0:s.sourceName)||"UNKNOWN",destination_type:a.geoType},typeahead:{search_field:p,backspaces_count:i,selection_depth:Yi(a,n),suggestion_count:n.length,suggestion_type:Wi[null!=(m=null==(u=n[0].analyticsInfo)?void 0:u.category)?m:""]||"Normal",suggestion_list:Vi(n),line_of_business:y}};t({serverPayload:d,clientPayload:S})},trackSearchLocationRemoveRecentSearch:(e,a)=>{var n,r,i;const o={event:{event_name:"search_location_recent_search.removed",event_type:"Interaction",event_version:"1.0.0",event_category:Ui,action_location:l},destination:{destination_full_name:e.primaryText,destination_geo_id:e.regionId,destination_geo_system:$i[null!=(r=null==(n=e.analyticsInfo)?void 0:n.sourceName)?r:""]||(null==(i=e.analyticsInfo)?void 0:i.sourceName)||"UNKNOWN"},typeahead:{suggestion_type:"RecentHistory",line_of_business:y,suggestion_count:a.length,selection_depth:Yi(e,a)}};t({clientPayload:o})},trackSearchLocationRecommendationPresented:(e,a)=>{var n;const r=e.filter(e=>{var t,a;return wi.includes(null!=(a=null==(t=e.analyticsInfo)?void 0:t.category)?a:"")});if((null==r?void 0:r.length)>0){const e=[];let i=0;r.forEach(t=>{e.push(qi(t,i)),i+=1}),e.push();const o={event:{event_name:"recommendations_module.presented",event_type:"Impression",event_version:"2.1.0",event_category:Ui,action_location:l},recommendation_module:{recommendation_title:Hi[null==(n=r[0].analyticsInfo)?void 0:n.category],eg_recommendation_response_id:a,recommendations:e}};t({serverPayload:u,clientPayload:o})}},trackSearchLocationRecommendationSelected:(e,a,n)=>{var r,i,o;if(wi.includes(null!=(i=null==(r=e.analyticsInfo)?void 0:r.category)?i:"")){const r=Yi(e,a),i=r?r-1:-1,c={event:{event_name:"recommendations_module.selected",event_type:"Interaction",event_version:"2.1.0",event_category:Ui,action_location:l},recommendation_module:{recommendation_title:Hi[null==(o=e.analyticsInfo)?void 0:o.category],eg_recommendation_response_id:n,recommendations:[qi(e,i)]}};t({serverPayload:m,clientPayload:c})}}}})({serverPayloads:F,inputName:ee,lineOfBusiness:C,subLob:b,isDestination:O}),re=n.useRef(null),{trackEvent:ie}=(()=>{const{manager:e}=(0,n.useContext)(mi),t=(0,n.useCallback)((t,a)=>{const n={...a,type:t,viewId:void 0,timestamp:performance.now()};e.trackEvent(n)},[e]);return(0,n.useMemo)(()=>({trackEvent:t}),[t])})();n.useEffect(()=>{null==le||le.trackSearchLocationOpen(w,W)},[]),(0,n.useImperativeHandle)(t,()=>({dismissFunction(e){e&&!h||null==le||le.trackSearchLocationClose(te.query,X,e,te.backspaceCount)}}));const{cache:oe}=(0,u.useApolloClient)(),ce=()=>{oe.evict({fieldName:"searchLocation",broadcast:!1}),oe.gc()},[se,{loading:de,data:ue}]=(0,u.useLazyQuery)(Xi,{onCompleted:e=>{var t,a,n,l,r;const i=(null==(t=e.searchLocation)?void 0:t.itemsGroups)||[];var o,c;j(i),o=i,c=w,re.current&&clearTimeout(re.current),(null==o?void 0:o.length)>0&&(re.current=window.setTimeout(()=>{const e=null==c?void 0:c.split(""),t=document.activeElement===$.current;if(e&&o&&t){const t=`'${e.join("' , '")} '`,a=o.reduce((e,t)=>e+t.items.length,0),n=pt({textFragment:null==M?void 0:M.resultsAvailableAccessibility,values:[t,a.toString()],count:a,locale:Y});(0,x.liveAnnounce)(n)}},1e3));const s=(e=>e.flatMap(e=>(e.items||[]).flatMap(e=>{var t;const a=null!=(t=e.item)?t:e;return[{...a,uniqueId:pi(a)},...(e.subItems||[]).map(e=>({...e,uniqueId:pi(e)}))]})))(i);Q(s),null!==(null==(n=null==(a=ue.searchLocation)?void 0:a.analyticsInfo)?void 0:n.recommendationId)&&(null==le||le.trackSearchLocationRecommendationPresented(s,null==(r=null==(l=ue.searchLocation)?void 0:l.analyticsInfo)?void 0:r.recommendationId))}}),me=(e,t)=>{0===e.length&&j([]);const a=performance.now(),n={searchTerm:e,lineOfBusiness:null!=C?C:"",isDestination:O,isGroundTransfersAirport:"GROUNDTRANSFERS"===C&&L===Qi,pageLocation:N,...t?{lastSearchLatLong:t}:{}},l=Date.now().toString(),r={...q&&{collationId:q,timestamp:l}},i=""===e?"no-cache":void 0;var o;se({variables:{context:z,searchLocationCriteria:n,...(o=r,!(o&&0===Object.keys(o).length)&&{searchLocationInteractionEvent:r})},fetchPolicy:i}).then(()=>{const t=performance.now()-a,n=!!e,l=n?e.length:0,r={duration:t,...n&&{termLength:l}};ie("action",{action:"LOCATION_SEARCH_BFF_REQUEST_"+(n?"WITH_SEARCH_TERM":"WITHOUT_SEARCH_TERM"),attributes:r})})},pe=n.useMemo(()=>i&&i>0?Ki(i,(e,t)=>me(e,t)):(e,t)=>me(e,t),[i]),ye=(e,t,a,n)=>{var l,r,i,o,c,s,d;const u=t?t.locationFullName||t.primaryText:e;if(f(u,{term:u,item:null!=t?t:Zi,dateRange:a,travelers:n,lineOfBusiness:null!=C?C:void 0}),t&&(ce(),null==le||le.trackSearchLocationSelect(te.query,t,X,null==(r=null==(l=null==ue?void 0:ue.searchLocation)?void 0:l.analyticsInfo)?void 0:r.resultId,te.backspaceCount),null==le||le.trackSearchLocationRecommendationSelected(t,X,null==(o=null==(i=null==ue?void 0:ue.searchLocation)?void 0:i.analyticsInfo)?void 0:o.recommendationId)),!h){const e=(null==M?void 0:M.itemSelectedAccessibility)&&"EGDSBasicLocalizedText"===M.itemSelectedAccessibility.__typename?`${ut(M.itemSelectedAccessibility.template,(null==(c=M.itemSelectedAccessibility.models)?void 0:c[0].key)||"",u)} `:"";(0,x.liveAnnounce)(`${e} ${null!=(d=null==(s=null==M?void 0:M.close)?void 0:s.accessibility)?d:""}`),U(u),null==le||le.trackSearchLocationClose(te.query,X,!0,te.backspaceCount)}},_e=(e,t)=>{Q(e=>e.filter(e=>e.regionId!==t.regionId)),null==I||I(t.regionId),ce()},Se=e=>{null==le||le.trackSearchLocationRemoveRecentSearch(e,X)};n.useEffect(()=>{pe(w||"",H)},[]);const ge="drop_off_location"===E?_:s,Ee={"data-stid":ee,domRef:e=>{$.current=e,e&&B&&B(e)},hasClearButton:w.length>0,hasFloatedLabel:!1,hasVisibleLabel:!1,id:E,label:s,"aria-label":s,onChange:e=>{const t=e.target.value;void 0!==H&&V(void 0),U(t),pe(t),ae(e=>({...e,query:t})),null==g||g(t)},onKeyDown:e=>{const t=X.findIndex(e=>e.uniqueId===Z);switch(e.key){case"ArrowDown":{e.preventDefault();const a=t===X.length-1?0:t+1;J(X[a].uniqueId);break}case"ArrowUp":{e.preventDefault();const a=0===t||-1===t?X.length-1:t-1;J(X[a].uniqueId);break}case"Enter":if(e.preventDefault(),h)break;if(Z){const e=X.find(e=>e.uniqueId===Z);e&&ye(e.locationFullName||e.primaryText,e)}else ye(w,void 0);break;case"Escape":null==y||y();break;case"Backspace":ae(e=>({...e,backspaceCount:e.backspaceCount+1}))}},placeholder:ge,value:w,handleClear:S,required:D,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",type:"text",spellCheck:!1,clearButtonLabel:null!=(l=null==(a=null==M?void 0:M.clearInput)?void 0:a.accessibility)?l:""},ve=X.length>0?K.map((e,t)=>n.createElement(Li,{stid:E,key:t,lob:C,activeItemId:Z,data:e,onClick:ye,onRemoveRecentSearch:_e,onRemoveRecentSearchTracking:Se,isDestination:O})):n.createElement(Pi,null,T);return n.createElement(n.Fragment,null,n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(c.p,{navigationContent:{navIconLabel:"Close the dialog",onClick:()=>{null==y||y()},navButtonId:`${E}-close`}},n.createElement("div",{id:ji},n.createElement(Ie.K,{...Ee})))),n.createElement(d.zQ,null,n.createElement(A.P,{type:"sticky",position:{top:"zero",zindex:"layer1"}},n.createElement("div",{id:ji},n.createElement(Ie.K,{...Ee}))))),h&&!de?n.createElement(Mi,{value:p,label:s,stid:E,clearAllText:G,handleClear:S,handleClose:y,dismissButtonText:k,onItemRemove:I,selectedItemHeading:R,queryResults:K,onClick:ye,emptyPlaceholderText:T,lineOfBusiness:C||"CRUISES",searchLocationContent:M}):n.createElement(ne.v,{direction:"vertical",tabbable:!1},n.createElement(A.P,{style:{minHeight:"438px",maxHeight:X.length>8?"438px":void 0}},n.createElement(n.Fragment,null,de?n.createElement(r.N,{padding:{inlinestart:"six"}},n.createElement("div",null,n.createElement(Bi,null))):ve,(null==ue?void 0:ue.searchLocation)&&n.createElement(_i,{data:ue.searchLocation,searchLocationContent:M})))))});Ji.displayName="SearchLocationResultsQuery";var eo=n.forwardRef((e,t)=>{const{a11yLabel:a,a11yResultsAvailableSuffix:l,searchTerm:r,isExpanded:i,label:o,icon:c,invalid:s,stid:u,onClick:m,placeholder:p,value:y,required:_,isMulti:S,name:g,index:E}=e,[v,h]=n.useState(!1);n.useEffect(()=>{h(!0)},[]);const D={label:o,icon:c,placeholder:"drop_off_location"===u?p:"",required:_,"aria-label":`${a}${r?`. ${l}`:""}`.trim(),"aria-describedby":s&&u?`${u}-input-error`:void 0,"data-stid":`${u}-menu-trigger`,onClick:()=>{null==m||m()},value:S?y.join(", "):y,invalid:s},f={[d.OB.SMALL]:{"data-stid":`${u}-dialog-trigger`},[d.OB.LARGE]:{"aria-expanded":i}},T=(0,d.s5)(f);return n.createElement(n.Fragment,null,v&&n.createElement(Ce.H,{...D,domRef:t,...T}),n.createElement("div",{className:v?"is-hidden":void 0},n.createElement(Fe.V,{...D,id:void 0!==E?`${g}-input-${E}`:`${g}-input`,"data-stid":void 0,name:g,domRef:t})))});eo.displayName="SearchLocationTrigger";var to=u.gql`
  fragment SearchLocationFragment on SearchLocation {
    __typename
    analytics {
      open
      close
      itemSelected
      recommendationsPresented
      recommendationSelected
    }
    content {
      clearInput {
        accessibility
      }
      close {
        accessibility
      }
      poweredByGoogleLogoAltText
      resultsAvailableAccessibility {
        ...EGDSLocalizedTextFragment
      }
      multiSelection {
        showingResults {
          ...EGDSLocalizedTextFragment
        }
      }
      itemSelectedAccessibility {
        ...EGDSBasicLocalizedTextFragment
      }
    }
  }

  ${Un}
`,ao={__typename:"SearchLocationBasicItem",airportCode:null,coordinates:null,geoType:null,graphic:null,locationFullName:"",itemAccessibilityText:"",primaryText:"",propertyId:null,remove:null,secondaryText:null,analyticsInfo:null,impressionAnalytics:null,regionId:null},no=e=>{var t,a,l;const{accessibilityLabel:r,label:i,searchLocationPlaceholder:o,searchLocationEmptyResultPlaceholder:c,dismissButtonText:s,isMulti:u,onResultSelection:m,onUpdate:p,handleClear:y,value:_,id:S,stid:g,onMountCB:E,onClick:v,onDismiss:f,onType:T,resultItemImpressionTracker:C,retainSearch:b,required:I,lineOfBusiness:F,subLob:O,searchLocationAnalytics:k,isDestination:G,debounceRate:R,onItemRemove:L,regionType:P,lastSearchLatLong:N,pageLocation:M,searchLocationContent:B,index:$}=e,W=Dt(`search-location-dialog-${S}`),[w,U,H]=(0,K.useDialog)(W),[V,q]=n.useState("string"==typeof _?_:""),[z,Y]=n.useState(!1),j=n.useRef(null),X=n.useRef(null),Q=n.useRef(null),te=(0,d.eg)({viewSizes:d.pf})<=d.pf.SMALL,ae=!$||0===$,ne=()=>{var e,t;null==(e=Q.current)||e.focus(),null==(t=Q.current)||t.select(),setTimeout(()=>{U.openDialog({closeAllDialogs:!0}),null==v||v()})},le=e=>{X.current&&X.current.dismissFunction(e)},re=(e,t)=>{if(null==p||p({selectionData:t}),m){const a=document.createElement("input");setTimeout(()=>{var n,l,r,i;a.value=null!=(l=null==(n=t.item)?void 0:n.primaryText)?l:e,a.setAttribute("id",null!=(i=null==(r=t.item)?void 0:r.propertyId)?i:S||"");const o=new CustomEvent("change");a.addEventListener("change",e=>{m(e)}),a.dispatchEvent(o)})}u||(U.closeDialog(),null==f||f(),le(!0),Y(!1))},ie=e=>{null==T||T(e),q(e)},oe=e=>{var t,a,n,l;setTimeout(()=>{var e;return null==(e=j.current)?void 0:e.focus()}),ie(""),le(!!e),U.closeDialog();const r=e&&(null==B?void 0:B.itemSelectedAccessibility)&&"EGDSBasicLocalizedText"===B.itemSelectedAccessibility.__typename?`${ut(B.itemSelectedAccessibility.template,(null==(a=null==(t=B.itemSelectedAccessibility.models)?void 0:t[0])?void 0:a.key)||"",e)} `:"";(0,x.liveAnnounce)(`${r} ${null!=(l=null==(n=null==B?void 0:B.close)?void 0:n.accessibility)?l:""}`),null==f||f()},ce={...e,label:i,onClick:ne,value:_,isMulti:!!u,a11yLabel:i,a11yResultsAvailableSuffix:r,searchTerm:V,isExpanded:w,placeholder:o};n.useEffect(()=>{null==E||E(j)},[]),n.useEffect(()=>{q("string"==typeof _?_:"")},[_]);const se=()=>{var e,t;te?(null==(e=j.current)||e.scrollIntoView({behavior:"smooth"}),null==(t=j.current)||t.focus()):ne()};!G&&ae&&(0,h._H)(D.K2,D.en,{onSuccess:se});const de=n.createElement(eo,{...ce,ref:j}),ue={debounceRate:R,label:i,dismissButtonText:s,isMulti:u,handleClear:y,value:_,required:I,lineOfBusiness:F,subLob:O,stid:g,onItemRemove:L,onResultItemSelect:re,placeholder:o,emptyResultPlaceholder:c,onClearAll:y,initialSearchTerm:V,onClose:oe,onInputChange:ie,searchLocationAnalytics:k,searchLocationContent:B,isDestination:G,regionType:P,lastSearchLatLong:N,pageLocation:M,onInputMount:e=>{e.focus(),!z&&w&&(e.select(),Y(!0))}},me=n.createElement(Ji,{...ue,ref:X}),pe=n.useMemo(()=>({impressionWrapper:C}),[C]),ye={hasClearButton:!1,hasFloatedLabel:!1,hasVisibleLabel:!1,id:`persistent-input-${S}`,label:"",placeholder:"",value:V,handleClear:y,required:!1,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",domRef:Q,type:"text",spellCheck:!1,clearButtonLabel:"",tabIndex:-1};return n.createElement(ui.Provider,{value:pe},n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(n.Fragment,null,n.createElement(A.P,{type:w?"sticky":"absolute",position:{left:w?void 0:"minus-twelve"},"aria-hidden":!0},n.createElement(Ie.K,{...ye,style:{width:w?void 0:0,height:w?void 0:0}})),de,n.createElement(H,null,n.createElement(J.K,{isVisible:w},n.createElement(ee.t,{isVisible:w,type:"full",triggerRef:j},me))))),n.createElement(d.rw,null,n.createElement("div",null,de,n.createElement(H,null,n.createElement(J.K,{isVisible:w},n.createElement(ee.t,{isVisible:w,type:"centered",triggerRef:j,centeredSheetSize:"medium"},n.createElement(Z.Y,{padded:!1},me)))))),n.createElement(d.zQ,null,n.createElement(A.P,{type:"relative"},n.createElement("div",null,de,n.createElement(J.K,{isVisible:w},n.createElement(ee.t,{isVisible:w,showOverTrigger:!0,disableArrowKeyHandler:!0,type:"popover",triggerRef:j,width:(null==(t=j.current)?void 0:t.offsetWidth)&&(null==(a=j.current)?void 0:a.offsetWidth)>375?null==(l=j.current)?void 0:l.offsetWidth:375,onDismiss:()=>{V.length>0&&b&&re(V,{term:V,item:ao}),null==oe||oe()},autoPosition:!1},n.createElement(Z.Y,{padded:!1},me))))))))};no.displayName="SearchLocation";var lo="EGDSSearchFormLocationField",ro=`${lo}-Location`,io=`${lo}-RegionId`,oo=`${lo}-AirportCode`,co=`${lo}-Lat`,so=`${lo}-Long`,uo=`${lo}-Selected`,mo=`${lo}-AmenitiesFacilitiesGroup`,po=`${lo}-LocGroup`,yo=`${lo}-PropertiesGoodForGroup`,_o=`${lo}-PropertyTypeGroup`,So=`${lo}-DestinationId`,go=`${lo}-PropertyId`,Eo=e=>{var t,a,l,r,o,c,s,d,u,y,_,S,g;const{egdsElementId:E,label:f,placeholder:T,icon:C,value:b,accessibility:I,errorText:A,required:F,emptyResultsPlaceholder:O,setFieldRefByTypename:k,__typename:G,analyticsReferrerId:R,categorize:L,allowExactMatch:P,listTitle:N,handleResultSelection:M,onSelection:x,selection:B,index:$,regionId:W,skipQuery:w,valueFromQueryParam:U,pinnedPropertyId:H,alternativeLocationLabel:V,propertyRefinements:q,isDestination:z,skipReflection:Y,onOpenLocationField:K,debounceRate:j=200,onDismissLocation:X,searchLocationAnalytics:Q,onType:Z,onClearLocation:J,lineOfBusiness:ee,subLob:te,regionType:ae,coordinates:ne,airportCode:le,lastSearchLatLong:re,pageLocation:ie,searchLocationContent:oe,retainSearch:ce}=e,{state:se,dispatch:de}=(0,i.kW)(),{destination:ue,origin:me}=se,{context:pe}=(0,m.R)(),{siteId:ye}=pe,_e=(0,p.useLoggerEvents)(di),[Se,{generateId:ge,clearId:Ee}]=(0,be.w)(),[ve,he]=(null==re?void 0:re.split(","))||["",""],De=n.useMemo(()=>{var e,t;return!Y&&z&&ue?ue:Y||z||!me?{term:b,data:{__typename:"SearchLocationBasicItem",airportCode:null!=le?le:"",coordinates:{latitude:null!=(e=null==ne?void 0:ne.latitude)?e:parseFloat(ve),longitude:null!=(t=null==ne?void 0:ne.longitude)?t:parseFloat(he),__typename:"Coordinates"},geoType:null,graphic:null,locationFullName:b,itemAccessibilityText:`Select ${b}`,primaryText:b,propertyId:null,remove:null,secondaryText:null,analyticsInfo:null,impressionAnalytics:null,regionId:W}}:me},[b,W,H,z]),[fe,Te]=n.useState(),[Ce,Ie]=n.useState(De),[Ae,Fe]=n.useState(Ce.term&&V?V:f);n.useEffect(()=>{const e=parseFloat(ve),t=parseFloat(he),a=Number.isNaN(e)?null==ne?void 0:ne.latitude:e,n=Number.isNaN(t)?null==ne?void 0:ne.longitude:t;a&&n&&Te({latitude:a,longitude:n})},[ve,he,ne]),n.useEffect(()=>{null==De.term||w||Ie(De)},[De,w]),n.useEffect(()=>{Y||z||!me||Ie(me),!Y&&z&&ue&&Ie(ue)},[Y,me,ue]);const Oe=n.useCallback(e=>k(G,e),[k,G]);n.useEffect(()=>{void 0!==(null==B?void 0:B.term)&&B.term!==Ce.term&&Ie(B),U&&U!==Ce.term&&(Ie(e=>({...e,term:U})),x&&x({data:Ce.data,term:U}))},[B,U]);const ke=null==(t=Ce.data)?void 0:t.regionId,Ge=null!=(l=null==(a=Ce.data)?void 0:a.airportCode)?l:"",Re=Ce!==De||me||ue?"":H,Le=(null==(r=Ce.data)?void 0:r.propertyId)||null,Pe=n.useCallback(e=>{const{locationValue:t,regionId:a,isDestinationLocation:n}=e.payload,l=void 0===n||n;if(!z&&l||z&&!l||"string"!=typeof t)return;const r={term:t,data:{...Zi,regionId:null!=a?a:null}};Ie(e=>{var t;return(null==(t=e.data)?void 0:t.locationFullName)===r.term?e:r})},[z]);(0,h._H)("SEARCH_FORM_LOCATION_FIELD_UPDATE",D.tk,{onSuccess:Pe,onError:e=>{console.error("Error receiving SEARCH_FORM_LOCATION_FIELD_UPDATE signal:",e)}});const Ne=`${E}${Number.isInteger($)?`-${$}`:""}`,Me=(null==(o=Ce.data)?void 0:o.locationFullName)&&!U?Ce.data.locationFullName:Ce.term,xe=Ce.data&&ke||"",Be=Ce.data&&ke||"",$e={onType:Z,index:null!=$?$:void 0,id:`${E}${null!=$?$:""}`,name:E,label:Ae,searchLocationPlaceholder:T,icon:C,value:Me,onUpdate:e=>{var t,a,n,l;const r=null!=(t=e.selectionData.term)?t:"";if(Ie({term:e.selectionData.term,data:null!=(a=e.selectionData.item)?a:De.data}),Fe(r&&V?V:f),x&&x({term:e.selectionData.term,data:{...e.selectionData.item,dateRange:e.selectionData.dateRange,travelers:e.selectionData.travelers,lineOfBusiness:e.selectionData.lineOfBusiness}}),r||null==J||J(),!Y&&(de({type:z?"UPDATE_DESTINATION":"UPDATE_ORIGIN",location:{term:e.selectionData.term,data:e.selectionData.item}}),e.selectionData.dateRange||e.selectionData.travelers)){let t;e.selectionData.travelers&&"rooms"in e.selectionData.travelers?t={rooms:e.selectionData.travelers.rooms.map(e=>({adults:e.adults,childrenAges:e.childrenAges,pets:e.pets}))}:e.selectionData.travelers&&(t={adults:e.selectionData.travelers.adults,childrenAges:e.selectionData.travelers.childrenAges,pets:e.selectionData.travelers.pets}),de({type:"UPDATE_DATES_AND_TRAVELERS",travelers:{locationFullName:e.selectionData.term,dateRange:null!=(n=e.selectionData.dateRange)?n:void 0,travelers:t,lob:null!=(l=e.selectionData.lineOfBusiness)?l:void 0}})}},handleClear:()=>{x&&x({term:"",data:Zi}),Ie({term:"",data:Zi}),Fe(f),null==J||J()},stid:E,accessibilityLabel:I,onClick:()=>{const e="HOTELS"===ee;!Se&&e?ge():Se&&!e&&Ee(),K&&K({isDestination:z,lineOfBusiness:null!=ee?ee:"",subLineOfBusiness:null!=te?te:""})},onMountCB:Oe,invalid:A,required:F,searchLocationEmptyResultPlaceholder:O,onResultSelection:M,categorize:L,allowExactMatch:P,listTitle:N,onDismiss:()=>{X&&X(Ce)},debounceRate:j,resultItemImpressionTracker:n.memo(({children:e,linkNameSuffix:t,referrerIdSuffix:a})=>n.createElement(v.IntersectionTracker,{linkName:`Location result impression - ${t}`,referrerId:`${R}.${a}`},e)),resultsRequestDurationTimeCallback:(e,t)=>{_e.SEARCH_LOCATION_TYPEAHEAD_DURATION.log(((e={})=>JSON.stringify(e).replaceAll(":","=").replaceAll('"',""))({withSearchTerm:t,siteId:ye,duration:e.toFixed(0),lob:ee}))},lineOfBusiness:ee,subLob:te,searchLocationAnalytics:Q,searchLocationContent:oe,isDestination:z,regionType:ae,lastSearchLatLong:fe,pageLocation:ie,retainSearch:ce};return n.createElement(n.Fragment,null,n.createElement("div",{"data-stid":"search-location"},n.createElement(no,{...$e})),n.createElement("input",{type:"hidden","data-stid":ro,name:`${ro}-${Ne}`,value:Me}),xe&&n.createElement("input",{type:"hidden","data-stid":io,name:`${io}-${Ne}`,value:xe}),n.createElement("input",{type:"hidden","data-stid":oo,name:`${oo}-${Ne}`,value:Ge}),n.createElement("input",{type:"hidden","data-stid":co,name:`${co}-${Ne}`,value:(null==(s=null==(c=Ce.data)?void 0:c.coordinates)?void 0:s.latitude)?null==(u=null==(d=Ce.data)?void 0:d.coordinates)?void 0:u.latitude.toString():""}),n.createElement("input",{type:"hidden","data-stid":so,name:`${so}-${Ne}`,value:(null==(_=null==(y=Ce.data)?void 0:y.coordinates)?void 0:_.longitude)?null==(g=null==(S=Ce.data)?void 0:S.coordinates)?void 0:g.longitude.toString():""}),Le&&n.createElement("input",{type:"hidden","data-stid":go,name:`${go}-${Ne}`,value:Le}),n.createElement("input",{type:"hidden","data-stid":uo,name:`${uo}-${Ne}`,value:null!=Le?Le:Re}),(null==q?void 0:q.amenitiesFacilitiesGroup)&&n.createElement("input",{type:"hidden","data-stid":mo,name:`${mo}-${Ne}`,value:null==q?void 0:q.amenitiesFacilitiesGroup}),(null==q?void 0:q.locationGroup)&&n.createElement("input",{type:"hidden","data-stid":po,name:`${po}-${Ne}`,value:null==q?void 0:q.locationGroup}),(null==q?void 0:q.propertiesGoodForGroup)&&n.createElement("input",{type:"hidden","data-stid":yo,name:`${yo}-${Ne}`,value:null==q?void 0:q.propertiesGoodForGroup}),(null==q?void 0:q.propertyTypeGroup)&&n.createElement("input",{type:"hidden","data-stid":_o,name:`${_o}-${Ne}`,value:null==q?void 0:q.propertyTypeGroup}),Be&&n.createElement("input",{type:"hidden","data-stid":So,name:`${So}-${Ne}`,value:Be}))},vo="EGDSSearchFormLocationField",ho=`${vo}-Location`,Do=`${vo}-RegionId`,fo=`${vo}-AirportCode`,To=`${vo}-Lat`,Co=`${vo}-Long`,bo=`${vo}-Values`,Io=e=>{const{egdsElementId:t,label:a,placeholder:l,icon:r,multiLocations:i,errorText:o,required:c,emptyResultsPlaceholder:s,setFieldRefByTypename:d,__typename:u,categorize:m,allowExactMatch:p,listTitle:y,selectedItemHeading:_,clearAllText:S,dismissButtonText:g,handleResultSelection:E,onMultiSelectItemRemove:v,onMultiSelectClearAll:h,searchLocationAnalytics:D,searchLocationContent:f,lineOfBusiness:T,subLob:C,debounceRate:b,pageLocation:I}=e,A=i.map(e=>{var t,a;return{term:e.text,data:{__typename:"SearchLocationBasicItem",airportCode:"",coordinates:null,geoType:null,graphic:null,locationFullName:null!=(t=e.value)?t:e.text,itemAccessibilityText:"",primaryText:null!=(a=e.value)?a:e.text,propertyId:null,remove:null,secondaryText:null,analyticsInfo:null,impressionAnalytics:null,regionId:null}}}),[F,O]=n.useState(A),[k,G]=n.useState(!1);n.useEffect(()=>{k&&(G(!1),ft(F.map(e=>e.term).join(", "),E))},[k,F,E]);const R=n.useCallback(e=>d(u,e),[d,u]),L=F.map(e=>e.term).join(","),P=F.map(e=>{var t;return null==(t=e.data)?void 0:t.regionId}).join(","),N=F.map(e=>{var t,a;return null==(a=null==(t=e.data)?void 0:t.coordinates)?void 0:a.latitude}).join(","),M=F.map(e=>{var t,a;return null==(a=null==(t=e.data)?void 0:t.coordinates)?void 0:a.longitude}).join(","),x=F.map(e=>{var t;return null==(t=e.data)?void 0:t.airportCode}).join(","),B=F.map(e=>{var t;return null==(t=e.data)?void 0:t.regionId}).join(","),$=a.concat(",").concat(L);return n.createElement(n.Fragment,null,n.createElement("div",{"data-stid":"search-location"},n.createElement(no,{id:t,name:t,label:a,searchLocationPlaceholder:l,icon:r,value:F.map(e=>e.term),onUpdate:e=>{!F.some(t=>t.data===e.selectionData.item&&t.term===e.selectionData.term)&&e.selectionData&&O(t=>[...t,{term:e.selectionData.term,data:e.selectionData.item}])},stid:t,accessibilityLabel:$,onMountCB:R,invalid:o,required:c,searchLocationEmptyResultPlaceholder:s,handleClear:()=>{O([]),null==h||h(t)},onItemRemove:e=>{(null==F?void 0:F.length)>0&&(O(t=>t.filter((t,a)=>a!==e)),null==v||v(F[e],t))},onDismiss:()=>{G(!0)},categorize:m,allowExactMatch:p,listTitle:y,selectedItemHeading:_,clearAllText:S,dismissButtonText:g,isMulti:!0,searchLocationAnalytics:D,debounceRate:b,lineOfBusiness:T,subLob:C,pageLocation:I,searchLocationContent:f})),n.createElement("input",{type:"hidden","data-stid":ho,name:`${ho}-${t}`,value:L}),n.createElement("input",{type:"hidden","data-stid":Do,name:`${Do}-${t}`,value:P}),n.createElement("input",{type:"hidden","data-stid":fo,name:`${fo}-${t}`,value:x}),n.createElement("input",{type:"hidden","data-stid":To,name:`${To}-${t}`,value:N}),n.createElement("input",{type:"hidden","data-stid":Co,name:`${Co}-${t}`,value:M}),n.createElement("input",{type:"hidden","data-stid":bo,name:`${bo}-${t}`,value:B}))},Ao=u.gql`
  fragment EGDSSearchFormLocationFieldFragment on EGDSSearchFormLocationField {
    __typename
    egdsElementId
    label
    placeholder
    value
    errorMessage
    regionId
    regionType
    required
    leftIcon {
      title
    }
    action {
      ...OpenTypeaheadActionFragment
    }
    closeAnalytics {
      linkName
      referrerId
    }
    changeAnalytics {
      linkName
      referrerId
    }
    multiLocations {
      text
      value
    }
    validations {
      ... on EGDSInputValidation {
        errorMessage
        __typename
      }
    }
    debounceRate
    coordinates {
      latitude
      longitude
    }
    airportCode
  }

  fragment OpenTypeaheadActionFragment on OpenTypeaheadAction {
    accessibility
    analytics {
      linkName
      referrerId
    }
    info {
      ...TypeaheadInfoFragment
    }
    emptyResultsPlaceholder
    categorize
    allowExactMatch
    listTitle
    selectedItemHeading
    clearAllText
    dismissButtonText
  }

  fragment TypeaheadInfoFragment on TypeaheadInfo {
    client
    drivable
    isDestination
    lineOfBusiness
    maxNumberOfResults
    packageType
    personalize
    regionType
    typeaheadFeatures
    isMultiLocation
    domain
    regionId
    showCurrentLocation
    subLob
    expUserId
    trending
  }
`,Fo="EGDSSearchFormLocationField",Oo=e=>{var t,a,l,r,i;const{fieldError:o,data:c,onMultiSelectItemRemove:s,onMultiSelectClearAll:d,locationsErrorText:u,lastSearchLatLong:m,pinnedPropertyId:p,alternativeLocationLabel:y,propertyRefinements:_,skipReflection:S,onLocationsSelection:g,onDismissLocation:E,pageLocation:v,retainSearch:h,index:D}=e,{__typename:f,label:T,action:C,placeholder:b,leftIcon:I,egdsElementId:A,value:F,errorMessage:O,multiLocations:k,closeAnalytics:R,changeAnalytics:L,regionId:P,debounceRate:N,validations:M,coordinates:x,airportCode:B}=c,$=(null==(t=null==o?void 0:o.validations)?void 0:t.sameLocationSelected)&&M&&"origin_select"===A?null==(a=M.find(e=>"EGDSSameValueInputValidation"===e.__typename))?void 0:a.errorMessage:null,W=null!=(r=null!=(l=null!=$?$:u)?l:O)?r:"",w=(0,G.j)(A,e=>e);if("OpenTypeaheadAction"!==(null==C?void 0:C.__typename))return null;const{analytics:U,accessibility:H,emptyResultsPlaceholder:V,allowExactMatch:q,categorize:z,listTitle:Y,selectedItemHeading:K,clearAllText:j,dismissButtonText:X}=C,{isDestination:Q,lineOfBusiness:Z,regionType:J,isMultiLocation:ee,subLob:te}=C.info,ae={...e,egdsElementId:A,categorize:!!z,allowExactMatch:q,listTitle:Y,handleResultSelection:w,label:null!=T?T:"",placeholder:null!=b?b:"",icon:null!=(i=null==I?void 0:I.title)?i:"place",accessibility:null!=H?H:"",errorText:o?W:"",required:!1,emptyResultsPlaceholder:null!=V?V:"",analyticsLinkName:U.linkName,analyticsReferrerId:U.referrerId,closeAnalyticsLinkName:null==R?void 0:R.linkName,closeAnalyticsReferrerId:null==R?void 0:R.referrerId,changeAnalyticsLinkName:null==L?void 0:L.linkName,changeAnalyticsReferrerId:null==L?void 0:L.referrerId,selectedItemHeading:null!=K?K:"",dismissButtonText:null!=X?X:"",__typename:f,regionId:P,isDestination:Q,regionType:J,debounceRate:null!=N?N:void 0,lineOfBusiness:Z,subLob:te,coordinates:x,airportCode:B,lastSearchLatLong:m,pageLocation:v,retainSearch:h,index:D};return ee?n.createElement(Io,{...ae,multiLocations:null!=k?k:[],clearAllText:null!=j?j:"",onMultiSelectItemRemove:s,onMultiSelectClearAll:d,onLocationsSelection:g}):n.createElement(Eo,{...ae,value:null!=F?F:"",pinnedPropertyId:null!=p?p:"",alternativeLocationLabel:y,propertyRefinements:_,skipReflection:S,onDismissLocation:E})};Oo.displayName=Fo,Oo.fragment={...Ao,__typename:Fo};var ko=u.gql`
  fragment EGDSSearchPlaybackFragment on EGDSSearchPlayback {
    primary {
      text
    }
    primaryTemplate {
      ... on EGDSBasicLocalizedText {
        text
      }
    }
    additionalPrimaryTemplate {
      ... on EGDSBasicLocalizedText {
        text
        models {
          key
        }
      }
    }
    secondaries {
      ... on EGDSPlainText {
        text
        accessibility
      }
      ... on EGDSBasicLocalizedText {
        text
        template
        accessibilityTemplate
        models {
          key
          source
        }
        egdsElementId
      }
      ... on EGDSCardinalLocalizedText {
        text
        accessibilityText
        egdsElementId
        models {
          key
          source
        }
        templates {
          category
          template
        }
      }
    }
    showAction {
      ... on EGDSShowSearchFormAction {
        accessibility
        analytics {
          linkName
          referrerId
        }
        icon {
          id
          size
        }
        resource {
          value
        }
      }
    }
    closeButton {
      ...EGDSTertiaryButtonFragment
    }
  }

  ${dn.fragment}
`,Go=({data:e,children:t,display:a,onDisplayToggle:r})=>{var i;const{primary:o,secondaries:c,showAction:s,closeButton:d}=e,u=(0,v.useClickTracker)();if("EGDSShowSearchFormAction"!==s.__typename||d&&"UITertiaryButton"!==d.__typename)return null;const{accessibility:m,analytics:p,icon:y}=s,S=_.So[null!=(i=y.size)?i:"SMALL"],g=[o.text,...c.map(e=>{var t;return"EGDSBasicLocalizedText"===(null==e?void 0:e.__typename)?e.accessibilityTemplate:"EGDSCardinalLocalizedText"===(null==e?void 0:e.__typename)?e.accessibilityText:"EGDSPlainText"===(null==e?void 0:e.__typename)?null!=(t=e.accessibility)?t:e.text:""}),m].join(", ");return n.createElement("div",null,a&&n.createElement(l.g,{border:!0,padded:!0},n.createElement(I.w,{space:"three",columns:[(0,ke.ZF)("0x","1fr"),"min-content"],alignItems:"center"},n.createElement(R.T,null,n.createElement("div",null,n.createElement(N.M,{size:6,tag:"h2",overflow:"truncate"},o.text),n.createElement(I.w,{columns:[(0,ke.kM)(c.length,"max-content")],space:"six"},c.map((e,t)=>e&&"EGDSBasicLocalizedText"===e.__typename||e&&"EGDSCardinalLocalizedText"===e.__typename?n.createElement(R.T,{key:`secondary-${t}`},n.createElement(M.D,{size:200,overflow:"truncate"},n.createElement("span",{"aria-hidden":"true"},e.text))):n.createElement(R.T,{key:`secondary-${t}`},n.createElement(M.D,{size:200,overflow:"truncate"},e&&"EGDSPlainText"===e.__typename?e.text:"")))))),n.createElement(R.T,null,n.createElement(_.LD,{id:y.id,name:y.id,size:S}))),n.createElement(Oe.w,null,n.createElement("button",{type:"button",onClick:()=>{r(!1),u(p.referrerId,p.linkName)},"aria-label":g}))),n.createElement(F.X,{style:{display:a?"none":""},space:"three",direction:"column",className:a?"is-visually-hidden is-hidden":""},t,!a&&d&&n.createElement(dn,{onClick:()=>{r(!0);const e=null==d?void 0:d.analytics;if(e){const{referrerId:t,linkName:a}=e;u(t,a)}},isFullWidth:!0,size:$.V.MEDIUM,data:d})))};Go.fragment=ko,Go.displayName="EGDSSearchPlayback";var Ro=(e=>(e.AIRPORT="airport_location",e.HOTEL="hotel_location",e.SINGLE_DATE_PICKER_START_DATE="EGDSSingleDatePicker-StartDate",e.DATE_RANGE_PICKER="EGDSDateRangePicker",e.BASIC_TRAVELER_SELECTOR="EGDSBasicTravelerSelector",e))(Ro||{}),Lo=({day:e,month:t,year:a})=>`${a}-${t<10?`0${t}`:t}-${e<10?`0${e}`:e}`,Po=({hour:e,minute:t})=>`${e<10?"0":""}${e}:${t<10?"0":""}${t}`,No=e=>{var t;if(!e)return{};let a,n;const l=e[0];return"AIRPORT"===(null==(t=null==l?void 0:l.destination)?void 0:t.type)?(n=null==l?void 0:l.destination,a=null==l?void 0:l.origin):(n=null==l?void 0:l.origin,a=null==l?void 0:l.destination),{airport:n,hotel:a}},Mo="hotel_location",xo="airport_location",Bo=(e,t,a,n,l,r)=>{var i,o,c;const s=[...e];return s[t]={...null!=(i=s[t])?i:{},[a]:{...null!=(c=null==(o=s[t])?void 0:o[a])?c:{},[n]:l,type:r}},s},$o=(e,{name:t,value:a})=>{var n;const{primarySearchCriteria:l,secondaryCriteria:r}=e,i=null!=(n=l.groundTransportation)?n:{dateRange:{},locations:[{type:"AIRPORT"},{type:"PROPERTY"}],direction:"FROM_AIRPORT",travelerDetails:[],journeyCriteria:[]};if(t.startsWith(oo)&&t.includes(xo)){const t=((e,t)=>{var a,n;const l=[...null!=(a=null==e?void 0:e.locations)?a:[]];l[0]={...l[0],id:t};let r=[...null!=(n=null==e?void 0:e.journeyCriteria)?n:[]];const i="TO_AIRPORT"===(null==e?void 0:e.direction)?"destination":"origin";return r=Bo(r,0,i,"id",t,"AIRPORT"),"ROUNDTRIP"===(null==e?void 0:e.direction)&&(r=Bo(r,1,"destination","id",t,"AIRPORT")),{...e,locations:l,journeyCriteria:r}})(i,a);return{...e,primarySearchCriteria:{...l,groundTransportation:t}}}if(t.startsWith(io)&&t.includes(xo))return{...e,regionId:a};if(t.startsWith(uo)&&t.includes(Mo)){const t=((e,t)=>{var a,n;const l=[...null!=(a=null==e?void 0:e.locations)?a:[]];l[1]={...l[1],id:t};let r=[...null!=(n=null==e?void 0:e.journeyCriteria)?n:[]];const i="TO_AIRPORT"===(null==e?void 0:e.direction)?"origin":"destination";return r=Bo(r,0,i,"id",t,"PROPERTY"),"ROUNDTRIP"===(null==e?void 0:e.direction)&&(r=Bo(r,1,"origin","id",t,"PROPERTY")),{...e,locations:l,journeyCriteria:r}})(i,a);return{...e,primarySearchCriteria:{...l,groundTransportation:t}}}if(t.startsWith(ro)&&(t.includes(xo)||t.includes(Mo))){const n=((e,t,a)=>{var n,l;const r=[...null!=(n=null==e?void 0:e.locations)?n:[]];let i,o,c,s=[...null!=(l=null==e?void 0:e.journeyCriteria)?l:[]];return a.includes(xo)&&(r[0]={...r[0],name:t},i="TO_AIRPORT"===(null==e?void 0:e.direction)?"destination":"origin",o="destination",c="AIRPORT"),a.includes(Mo)&&(r[1]={...r[1],name:t},i="TO_AIRPORT"===(null==e?void 0:e.direction)?"origin":"destination",o="origin",c="PROPERTY"),i&&o&&c&&r&&(s=Bo(s,0,i,"name",t,c),"ROUNDTRIP"===(null==e?void 0:e.direction)&&(s=Bo(s,1,o,"name",t,c))),{...e,locations:r,journeyCriteria:s}})(i,a,t);return{...e,primarySearchCriteria:{...l,groundTransportation:n}}}if(t.startsWith(co)||t.startsWith(so)){const n=((e,t,a)=>{var n,l,r,i,o,c,s,d,u,m,p,y,_,S,g,E,v,h,D,f;const T=a.includes(Mo),C=T?1:0,b=a.startsWith(`${co}`),I=[...null!=(n=null==e?void 0:e.locations)?n:[]],A=b?Number(t):null!=(i=null==(r=null==(l=I[C])?void 0:l.coordinates)?void 0:r.latitude)?i:200,F=b?null!=(s=null==(c=null==(o=I[C])?void 0:o.coordinates)?void 0:c.longitude)?s:200:Number(t);I[C]={...I[C],coordinates:{latitude:A,longitude:F}};const O=[...null!=(d=null==e?void 0:e.journeyCriteria)?d:[]],k=T&&"TO_AIRPORT"!==(null==e?void 0:e.direction)||!T&&"TO_AIRPORT"===(null==e?void 0:e.direction)?"destination":"origin",G="origin"===k?"destination":"origin",R="coordinates",L=b?"latitude":"longitude";return O[0]={...null!=(u=O[0])?u:{},[k]:{...null!=(p=null==(m=O[0])?void 0:m[k])?p:{},[R]:{...null!=(S=null==(_=null==(y=O[0])?void 0:y[k])?void 0:_[R])?S:{},[L]:Number(t)}}},"ROUNDTRIP"===(null==e?void 0:e.direction)&&(O[1]={...null!=(g=O[1])?g:{},[G]:{...null!=(v=null==(E=O[1])?void 0:E[G])?v:{},[R]:{...null!=(f=null==(D=null==(h=O[1])?void 0:h[G])?void 0:D[R])?f:{},[L]:Number(t)}}}),{...e,locations:I,journeyCriteria:O}})(i,a,t);return{...e,primarySearchCriteria:{...l,groundTransportation:n}}}if(t.startsWith(tn)){const t=((e,t)=>{var a,n,l,r;const[i,o,c]=t.split("-").map(e=>Number(e)),s={...null==e?void 0:e.dateRange};null===s.start||void 0===s.start?s.start={day:c,month:o,year:i,hour:10,minute:30,second:0}:s.start={...s.start,day:c,month:o,year:i};const d=[...null!=(a=null==e?void 0:e.journeyCriteria)?a:[]];return d[0]={...null!=(n=d[0])?n:{},dateTime:{...null!=(r=null==(l=d[0])?void 0:l.dateTime)?r:{},day:c,month:o,year:i}},{...e,dateRange:s,journeyCriteria:d}})(i,a);return{...e,primarySearchCriteria:{...l,groundTransportation:t}}}if(t.startsWith(Za.START_DATE_NAME_PREFIX)||t.startsWith(Za.END_DATE_NAME_PREFIX)){const n=((e,t,a)=>{var n,l,r,i;const o=a.includes(Za.START_DATE_NAME_PREFIX)?"start":"end",[c,s,d]=t.split("-").map(e=>Number(e)),u={...null==e?void 0:e.dateRange};null===u.start||void 0===u[o]?u[o]={day:d,month:s,year:c,hour:10,minute:30,second:0}:(u[o].day=d,u[o].month=s,u[o].year=c);const m=[...null!=(n=null==e?void 0:e.journeyCriteria)?n:[]],p=a.includes(Za.START_DATE_NAME_PREFIX)?0:1;return m[p]={...null!=(l=m[p])?l:{},dateTime:{...null!=(i=null==(r=m[p])?void 0:r.dateTime)?i:{},day:d,month:s,year:c}},{...e,dateRange:u,journeyCriteria:m}})(i,a,t);return{...e,primarySearchCriteria:{...l,groundTransportation:n}}}if(t.startsWith(ri)&&t.includes("time")){const n=((e,t,a)=>{var n,l,r,i;const o=a.includes("pick_up_time"),c=o?"start":"end",s="AM"===t.substring(4,6),d=Number(t.substring(0,2)),u=12===d?0:d,m=s?u:u+12,p=Number(t.substring(2,4)),y={...null==e?void 0:e.dateRange};null===y[c]||void 0===y[c]?y[c]={day:1,month:1,year:1,hour:m,minute:p,second:0}:(y[c].hour=m,y[c].minute=p,y[c].second=0);const _=[...null!=(n=null==e?void 0:e.journeyCriteria)?n:[]],S=o||"ROUNDTRIP"!==(null==e?void 0:e.direction)?0:1;return _[S]={...null!=(l=_[S])?l:{},dateTime:{...null!=(i=null==(r=_[S])?void 0:r.dateTime)?i:{},hour:m,minute:p,second:0}},{...e,dateRange:y,journeyCriteria:_}})(i,a,t);return{...e,primarySearchCriteria:{...l,groundTransportation:n}}}if(t.startsWith(Bl)){const n=((e,t,a)=>{if(0===Number(t))return e;let n=null==e?void 0:e.travelerDetails;return a.includes("Adult")&&(n=[...n,{type:"ADULT",count:Number(t)}]),a.includes("Children")&&(n=[...n,{type:"CHILD",count:Number(t)}]),a.includes("Infant")&&(n=[...n,{type:"INFANT",count:Number(t)}]),{...e,travelerDetails:n}})(i,a,t);return{...e,primarySearchCriteria:{...l,groundTransportation:n}}}return e},Wo=u.gql`
  fragment GroundTransportationSearchFormSelectionFragment on GroundTransportationSearchFormSelection {
    airportToHotel {
      ...EGDSPillFragment
      __typename
    }
    hotelToAirport {
      ...EGDSPillFragment
      __typename
    }
    roundTrip {
      ...EGDSPillFragment
      __typename
    }
  }
  ${Oa.fragment}
`,wo=[{FROM_AIRPORT:!0,TO_AIRPORT:!1,ROUNDTRIP:!1,type:"FROM_AIRPORT",value:"Airport to hotel"},{FROM_AIRPORT:!1,TO_AIRPORT:!0,ROUNDTRIP:!1,type:"TO_AIRPORT",value:"Hotel to airport"},{FROM_AIRPORT:!1,TO_AIRPORT:!1,ROUNDTRIP:!0,type:"ROUNDTRIP",value:"Roundtrip"}],Uo=({data:e,onTripDirectionSelection:t,enableReflection:a=!1})=>{var l,r,o,c,s,d,u,m,p,y,_,S;const{airportToHotel:g,hotelToAirport:E,roundTrip:v}=e,{state:h,dispatch:D}=(0,i.kW)(),{destination:f,origin:T}=h,C=()=>E.selected?wo[1]:v.selected?wo[2]:wo[0],[b,I]=n.useState(C());n.useEffect(()=>{I(C())},[g.selected,E.selected,v.selected]);const A=a?b:C(),F=[{name:"GroundTransportationSearchFormSelection",selected:A.FROM_AIRPORT,checked:A.FROM_AIRPORT,text:null!=(l=g.primary)?l:"",disabled:g.disabled,value:null!=(r=g.value)?r:"FROM_AIRPORT",id:null!=(o=g.value)?o:"FROM_AIRPORT",altText:null!=(c=g.accessibility)?c:void 0},{name:"GroundTransportationSearchFormSelection",selected:A.TO_AIRPORT,checked:A.TO_AIRPORT,text:null!=(s=E.primary)?s:"",disabled:E.disabled,value:null!=(d=E.value)?d:"TO_AIRPORT",id:null!=(u=E.value)?u:"TO_AIRPORT",altText:null!=(m=E.accessibility)?m:void 0},{name:"GroundTransportationSearchFormSelection",selected:A.ROUNDTRIP,checked:A.ROUNDTRIP,text:null!=(p=v.primary)?p:"",disabled:v.disabled,value:null!=(y=v.value)?y:"ROUNDTRIP",id:null!=(_=v.value)?_:"ROUNDTRIP",altText:null!=(S=v.accessibility)?S:void 0}];return n.createElement(te.p,{data:F,handleSelectedPill:e=>{var n,l,r,i,o;const c=null!=(n=wo.find(t=>t.type===e))?n:wo[0];if(a){if(b.type===c.type)return void t(e);if("TO_AIRPORT"===b.type!=("TO_AIRPORT"===c.type)&&T&&f){const e={...T,data:null!=(l=T.data)?l:{},term:null!=(r=T.term)?r:""},t={...f,data:null!=(i=f.data)?i:{},term:null!=(o=f.term)?o:""};D({type:"UPDATE_DESTINATION",location:e}),D({type:"UPDATE_ORIGIN",location:t})}}else I(c);t(e)}})};Uo.fragment=Wo,Uo.displayName="GroundTransportationSearchFormSelection";var Ho=u.gql`
  fragment GroundTransportationSearchFormFragment on GroundTransportationSearchForm {
    __typename
    egdsElementId
    actionURL
    errorSummary {
      ...EGDSErrorSummaryFragment
      __typename
    }
    elements {
      __typename
    }
    dates {
      ...EGDSSearchFormDatePickerFieldFragment
      __typename
    }
    travelers {
      ...EGDSSearchFormTravelersFieldFragment
      __typename
    }
    airportLocation {
      ...EGDSSearchFormLocationFieldFragment
      __typename
    }
    hotelLocation {
      ...EGDSSearchFormLocationFieldFragment
      __typename
    }
    pickupTime {
      ...EGDSSelectFragment
      __typename
    }
    dropoffTime {
      ...EGDSSelectFragment
      __typename
    }
    groundTransportationSelection {
      ...GroundTransportationSearchFormSelectionFragment
      __typename
    }
    search {
      ...EGDSSearchFormButtonFragment
      __typename
    }
    playback @include(if: $includePlayback) {
      ...EGDSSearchPlaybackFragment
      __typename
    }
    searchLocation {
      ...SearchLocationFragment
    }
  }
  ${_t.fragment}
  ${vt.fragment}
  ${Go.fragment}
  ${Oo.fragment}
  ${rn.fragment}
  ${er.fragment}
  ${si.fragment}
  ${Uo.fragment}
  ${to}
`,Vo=e=>{const{data:t,tripDirection:a,onTripDirectionSelection:l,onFieldChange:o,onSubmit:c,redirectToSearchResultOnSubmit:s,autoOpenPlayback:u,lastSearchLatLong:m,enableReflection:p}=e,{egdsElementId:y,actionURL:_,airportLocation:S,hotelLocation:g,pickupTime:E,dropoffTime:v,dates:h,travelers:D,search:f,errorSummary:T,groundTransportationSelection:C,playback:b,searchLocation:A}=t,F=(0,z.useLocalization)(),{dispatch:O}=(0,i.kW)(),[k,L]=n.useState(b),[P,N]=n.useState(!u);n.useEffect(()=>{L(b)},[b]);const[M,x]=n.useState({EGDSSearchFormLocationsField:null,EGDSSearchFormDatePickerField:null,EGDSSearchFormTravelersField:null}),[B,$]=n.useState(g);n.useEffect(()=>{$(g)},[g]);const W={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]},[w,U]=n.useState(W),H=null!=y?y:"search-ground-transportation-form",V=null!=_?_:"/ground-transfers/search";n.useEffect(()=>{var e,t,n,l;const r="TO_AIRPORT"===a,i=null!=(t=null==(e=r?S:g)?void 0:e.value)?t:"",o=null!=(l=null==(n=r?g:S)?void 0:n.value)?l:"";""!==i&&O({type:"UPDATE_DESTINATION",location:{term:i,data:{...Zi}}}),""!==o&&O({type:"UPDATE_ORIGIN",location:{term:o,data:{...Zi}}})},[]);const q=n.useCallback((e,t)=>{var a;const n=nr(e,null==(a=t.current)?void 0:a.id);x(e=>({...e,[n]:t}))},[]),Y={setFieldRefByTypename:q},K=(e,t,a,n)=>{if(!(null==t?void 0:t.text))return e;const l=t.text.trim().replace("${origin}","").replace("${destination}",""),[r,i]=e.text.split(l),o=t.text.replace("${origin}",null!=a?a:r).replace("${destination}",null!=n?n:i);return{...e,text:o}},[j,X]=n.useState(!1),Q=(e,t)=>{o&&o(e,t),L(t=>{const{SINGLE_DATE_PICKER_START_DATE:a,DATE_RANGE_PICKER:n,BASIC_TRAVELER_SELECTOR:l}=Ro,{name:r,value:i}=e,o=r===a,c=r===n,s=r===l;if(!t)return null;const{secondaries:d}=t,[u,m]=d;let p=u;o&&"EGDSPlainText"===u.__typename&&(p={...u,text:F.formatDateString(new Date(i),{skeleton:"MMMd"})}),c&&"EGDSPlainText"===u.__typename&&(p={...u,text:Vt(i,F)});const y=s?{...m,text:i}:m;return{...t,secondaries:[p,y]}})},Z=e=>{var t,n;const l=Array.from(e.currentTarget.elements);let r;r="TO_AIRPORT"===a?{location:{origin:l.find(mr("airport_location")),destination:l.find(mr("hotel_location"))},dates:{startDateInput:l.find(mr("EGDSSingleDatePicker-Date-date_form_field")),endDateInput:void 0,config:{maxNumberOfDaysSelected:0,allowSameDateSelect:!0}},time:{dropOff:l.find(mr("EGDSBasicSelect-drop_off_time")),pickup:void 0}}:"ROUNDTRIP"===a?{location:{origin:l.find(mr("airport_location")),destination:l.find(mr("hotel_location"))},dates:{startDateInput:l.find(mr("EGDSDateRangePicker-StartDate-date_form_field")),endDateInput:l.find(mr("EGDSDateRangePicker-EndDate-date_form_field")),config:{maxNumberOfDaysSelected:0,allowSameDateSelect:!0}},time:{dropOff:l.find(mr("EGDSBasicSelect-drop_off_time")),pickup:l.find(mr("EGDSBasicSelect-pick_up_time"))}}:{location:{origin:l.find(mr("airport_location")),destination:l.find(mr("hotel_location"))},dates:{startDateInput:l.find(mr("EGDSSingleDatePicker-Date-date_form_field")),endDateInput:void 0,config:{maxNumberOfDaysSelected:0,allowSameDateSelect:!0}},time:{dropOff:void 0,pickup:l.find(mr("EGDSBasicSelect-pick_up_time"))}};const i=dr(r),o=j?i.length+1:i.length;if(!(0===o))return U({fieldsWithErrors:j?[...i,{__typename:"EGDSSearchFormTravelersField",isValid:!1}]:i,errorCount:o,displayErrorSummary:!0,errorLinkReference:M[null!=(n=null==(t=i[0])?void 0:t.__typename)?n:"EGDSSearchFormTravelersField"]}),void e.preventDefault();if(U(W),c||s){const t=((e,t)=>{const a={primarySearchCriteria:{groundTransportation:{dateRange:{},locations:[{type:"AIRPORT"},{type:"PROPERTY"}],direction:t,travelerDetails:[],journeyCriteria:[]}},regionId:null};return e.filter(e=>e.name.startsWith("EGDS")||e.name.startsWith("GroundTransportation")).reduce($o,a)})(Array.from(e.currentTarget.elements),a);if(c&&c(e,{groundTransportationSearchCriteria:t}),s){e.preventDefault();const a=(e=>{var t,a,n,l;if(null==e.primarySearchCriteria||null==e.primarySearchCriteria.groundTransportation)return"";const{regionId:r}=e,{travelerDetails:i,direction:o,journeyCriteria:c}=e.primarySearchCriteria.groundTransportation,s=`direction=${o}&roundTrip=${"ROUNDTRIP"===o}`,{hotel:d,airport:u}=No(c),m=`&airportCode=${null==u?void 0:u.id}&location=${encodeURIComponent(null!=(t=null==u?void 0:u.name)?t:"")}&regionId=${r}`,p=`&hotelId=${null==d?void 0:d.id}&hotelName=${encodeURIComponent(null!=(a=null==d?void 0:d.name)?a:"")}`,y=null==(n=null==c?void 0:c[0])?void 0:n.dateTime,_=null==(l=null==c?void 0:c[1])?void 0:l.dateTime,S=`&pickUpDate=${y&&Lo(y)}&pickUpTime=${y&&Po(y)}`,g="ROUNDTRIP"===o?`&dropOffDate=${_&&Lo(_)}&dropOffTime=${_&&Po(_)}`:"",E=i.find(e=>"ADULT"===e.type),v=i.find(e=>"CHILD"===e.type),h=i.find(e=>"INFANT"===e.type);return`?${s}${m}${p}${S}${g}${E?`&adults=${E.count}`:""}${v?`&children=${v.count}`:""}${h?`&infants=${h.count}`:""}`})(t);window.location.href=`${e.currentTarget.action}${a}`}}},J={lastSearchLatLong:m,searchLocationAnalytics:null==A?void 0:A.analytics,searchLocationContent:null==A?void 0:A.content},ee=S&&n.createElement("div",null,n.createElement(Oo,{...Y,...J,onSelection:e=>{const t=null==B?void 0:B.action;if(g){const a={...g,__typename:g.__typename,action:{...t,info:{...t.info,regionId:e.data.regionId}}};$(a)}L(t=>{var n,l;if(!t)return null;const{primary:r,primaryTemplate:i}=t,o=null!=(l=null==(n=null==e?void 0:e.data)?void 0:n.airportCode)?l:null==e?void 0:e.term,c="TO_AIRPORT"===a,s=K(r,i,c?null:o,c?o:null);return{...t,primary:s}})},data:S,fieldError:w.fieldsWithErrors.find(e=>"EGDSSearchFormLocationFieldAirport"===e.__typename),key:`field_${null==S?void 0:S.__typename}_airportLocation`})),te=B&&n.createElement("div",null,n.createElement(Oo,{...Y,...J,onSelection:e=>{L(t=>{var n,l;if(!t)return null;const{primary:r,primaryTemplate:i}=t,o=null!=(l=null==(n=null==e?void 0:e.data)?void 0:n.primaryText)?l:null==e?void 0:e.term,c="TO_AIRPORT"!==a,s=K(r,i,c?null:o,c?o:null);return{...t,primary:s}})},data:B,fieldError:w.fieldsWithErrors.find(e=>"EGDSSearchFormLocationFieldHotel"===e.__typename),key:`field_${null==B?void 0:B.__typename}_hotelLocation`})),ae=D&&n.createElement("div",null,n.createElement(er,{data:D,setFieldRefByTypename:q,setTravelerSelectorErrorState:e=>{X(e)}})),ne=h&&n.createElement("div",null,n.createElement(rn,{...Y,data:h})),le=E&&n.createElement("div",null,n.createElement(si,{data:E,fieldError:w.fieldsWithErrors.find(e=>"EGDSBasicSelectPickUp"===e.__typename)})),re=v&&n.createElement("div",null,n.createElement(si,{data:v,fieldError:w.fieldsWithErrors.find(e=>"EGDSBasicSelectDropOff"===e.__typename)})),ie="EGDSSearchFormButton"===(null==f?void 0:f.__typename)&&n.createElement(r.N,{padding:{blockstart:"six"}},n.createElement("div",null,n.createElement(vt,{data:f}))),{displayErrorSummary:oe,errorCount:ce,errorLinkReference:se}=w,de=oe&&T&&n.createElement(r.N,{margin:{block:"two"}},n.createElement("div",null,n.createElement(_t,{data:T,errorCount:ce,inputErrorRef:se}))),ue=C&&n.createElement(Uo,{...e,data:C,onTripDirectionSelection:l,enableReflection:p}),me=()=>"TO_AIRPORT"===a?n.createElement(n.Fragment,null,ue,n.createElement(G.m,{onFieldChange:Q,onSubmit:Z,id:H,name:H,method:"GET",action:V,hasRequiredFieldIndicator:!0},de,n.createElement(r.N,{padding:{blockstart:"six"}},n.createElement(I.w,{columns:{small:1,medium:6},space:"three"},n.createElement(R.T,{colSpan:{small:1,medium:2,large:3}},te),n.createElement(R.T,{colSpan:{small:1,medium:2,large:3}},ee),n.createElement(R.T,{colSpan:{small:1,medium:2,large:2}},ae),n.createElement(R.T,{colSpan:{small:1,medium:3,large:2}},ne),n.createElement(R.T,{colSpan:{small:1,medium:3,large:2}},re))),ie)):"ROUNDTRIP"===a?n.createElement(n.Fragment,null,ue,n.createElement(G.m,{onFieldChange:Q,onSubmit:Z,id:H,name:H,method:"GET",action:V,hasRequiredFieldIndicator:!0},de,n.createElement(r.N,{padding:{blockstart:"six"}},n.createElement(I.w,{columns:{small:1,medium:2},space:"three"},n.createElement(R.T,null,ee),n.createElement(R.T,null,te),n.createElement(R.T,null,ae),n.createElement(R.T,null,ne),n.createElement(R.T,null,le),n.createElement(R.T,null,re))),ie)):n.createElement(n.Fragment,null,ue,n.createElement(G.m,{onFieldChange:Q,onSubmit:Z,id:H,name:H,method:"GET",action:V,hasRequiredFieldIndicator:!0},de,n.createElement(r.N,{padding:{blockstart:"six"}},n.createElement(I.w,{columns:{small:1,medium:6,large:6},space:"three"},n.createElement(R.T,{colSpan:{small:1,medium:2,large:3}},ee),n.createElement(R.T,{colSpan:{small:1,medium:2,large:3}},te),n.createElement(R.T,{colSpan:{small:1,medium:2,large:2}},ae),n.createElement(R.T,{colSpan:{small:1,medium:3,large:2}},ne),n.createElement(R.T,{colSpan:{small:1,medium:3,large:2}},le))),ie));return n.createElement(d.LM,null,n.createElement(d.NP,null,k?n.createElement(Go,{data:k,display:P,onDisplayToggle:e=>{N(e)}},me()):me()),n.createElement(d.rw,null,me()))};Vo.fragment=Ho,Vo.displayName="GroundTransportationSearchForm";var qo={SEARCH_TOOLS_GROUND_TRANSPORTATION_SEARCH_FORM_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_GROUND_TRANSPORTATION_SEARCH_FORM_QUERY_FAILURE"),SEARCH_TOOLS_GROUND_TRANSPORTATION_OPTIONS_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_GROUND_TRANSPORTATION_OPTIONS_QUERY_FAILURE")},zo={linkName:"Ground Transportation Search Form Fallback Presented",referrerId:"Web.GroundTransportation.Search.Form.Fallback.Presented"},Yo={linkName:"Ground Transportation Search Form Presented",referrerId:"Web.GroundTransportation.Search.Form.Presented"},Ko=u.gql`
  query GroundTransportationSearchFormQuery(
    $context: ContextInput!
    $pageLocation: PageLocation
    $groundTransportationSearchCriteria: ProductShoppingCriteriaInput
    $includePlayback: Boolean = false
  ) {
    searchForm(context: $context, pageLocation: $pageLocation) {
      groundTransportation(groundTransportationSearchCriteria: $groundTransportationSearchCriteria) {
        __typename
        ...GroundTransportationSearchFormFragment
      }
    }
  }
  ${Vo.fragment}
`,jo={rows:[{lineLength:"secondary"},{lineLength:"primary"},{lineLength:"primary"},{lineLength:"primary"}]},Xo=e=>{var t,a,l,r,o,c,s;const{inputs:d,skipSsr:y,batchKey:_,includePlayback:S,pageLocation:g,enableReflection:E}=e,{context:h}=(0,m.R)(),D=(0,p.useLoggerEvents)(qo),[f,T]=n.useState(null!=(l=null==(a=null==(t=d.groundTransportationSearchCriteria)?void 0:t.primarySearchCriteria.groundTransportation)?void 0:a.direction)?l:"FROM_AIRPORT"),[C,b]=n.useState(d),I=e=>{Object.values(Ue).includes(e)&&(T(e),b(E?t=>{var a,n,l;const r=null==(n=null==(a=t.groundTransportationSearchCriteria)?void 0:a.primarySearchCriteria)?void 0:n.groundTransportation;return{groundTransportationSearchCriteria:{...t.groundTransportationSearchCriteria,primarySearchCriteria:{...null==(l=t.groundTransportationSearchCriteria)?void 0:l.primarySearchCriteria,groundTransportation:{...r,direction:e,locations:(null==r?void 0:r.locations)||[],dateRange:(null==r?void 0:r.dateRange)||{},journeyCriteria:(null==r?void 0:r.journeyCriteria)||[],travelerDetails:(null==r?void 0:r.travelerDetails)||[]}}}}}:"FROM_AIRPORT"===e?{groundTransportationSearchCriteria:null}:{groundTransportationSearchCriteria:{primarySearchCriteria:{groundTransportation:{dateRange:{},locations:[],journeyCriteria:[],direction:e,travelerDetails:[]}}}}))},A={...C,context:h,includePlayback:!!S,pageLocation:g},{data:F,error:O,loading:k}=(0,u.useQuery)(Ko,{context:{batchKey:_,shouldLogPerformance:!0},variables:A,ssr:!y});if(k)return n.createElement(ot,{...jo});if(O||"GroundTransportationSearchForm"!==(null==(o=null==(r=null==F?void 0:F.searchForm)?void 0:r.groundTransportation)?void 0:o.__typename)||!F.searchForm.groundTransportation.groundTransportationSelection){const t=(e=>{switch(e){case"TO_AIRPORT":return ni;case"ROUNDTRIP":return li;default:return ai}})(f);return D.SEARCH_TOOLS_GROUND_TRANSPORTATION_SEARCH_FORM_QUERY_FAILURE.log({name:null==O?void 0:O.name,error:new Error(null==O?void 0:O.message)}),"GroundTransportationSearchForm"!==(null==(s=null==(c=null==t?void 0:t.searchForm)?void 0:c.groundTransportation)?void 0:s.__typename)?null:n.createElement(ze,null,n.createElement(v.IntersectionTracker,{...zo},E&&!e.disableInternalReflectionProvider?n.createElement(i.tb,null,n.createElement(Vo,{...e,data:t.searchForm.groundTransportation,tripDirection:f,onTripDirectionSelection:I,...E&&{enableReflection:E}})):n.createElement(Vo,{...e,data:t.searchForm.groundTransportation,tripDirection:f,onTripDirectionSelection:I,...E&&{enableReflection:E}})))}return n.createElement(v.IntersectionTracker,{...Yo},E&&!e.disableInternalReflectionProvider?n.createElement(i.tb,null,n.createElement(Vo,{...e,data:F.searchForm.groundTransportation,tripDirection:f,onTripDirectionSelection:I,...E&&{enableReflection:E}})):n.createElement(Vo,{...e,data:F.searchForm.groundTransportation,tripDirection:f,onTripDirectionSelection:I,...E&&{enableReflection:E}}))};Xo.displayName="sharedui-GroundTransportationSearchForm";var Qo=(e=>(e.PICKUP_LOCATION="airport_location",e.DROPOFF_LOCATION="hotel_location",e.PICKUP_TIME="pick_up_time",e.DROPOFF_TIME="drop_off_time",e.DATE_RANGE_PICKER="EGDSDateRangePicker",e))(Qo||{}),Zo=["age"],Jo=({day:e,month:t,year:a},n)=>{const l=e<10?`0${e}`:e,r=t<10?`0${t}`:t;return n.formatDateString(`${a}-${r}-${l}`,{raw:n.localDateFormat})},ec=({day:e,month:t,year:a})=>`${a}-${t}-${e}`,tc=({hour:e,minute:t})=>{const a=e%12||12;return`${a<10?"0":""}${a}${t<10?"0":""}${t}${e<12?"AM":"PM"}`},ac=e=>e.toString().padStart(2,"0"),nc=({year:e,month:t,day:a})=>`${e}-${ac(t)}-${ac(a)}`,lc=({year:e,month:t,day:a,hour:n,minute:l})=>`${e}-${ac(t)}-${ac(a)}T${ac(n)}:${ac(l)}`,rc=(e,t,a,n)=>{var l,r,i,o,c,s,d;const{pickUpLocation:u,pickUpDateTime:m,dropOffLocation:p,dropOffDateTime:y}=t.primary,_={param:a,value:null!=(l=u.searchTerm)?l:""},S={param:"pickupIATACode",value:null!=(r=u.airportCode)?r:""},g={param:n,value:null!=(i=null==p?void 0:p.searchTerm)?i:""},E={param:"returnIATACode",value:null!=(o=null==p?void 0:p.airportCode)?o:""},v={param:"d1",value:nc(m)},h={param:"d2",value:nc(y)},D={param:"pickupDateTime",value:lc(m)},f={param:"returnDateTime",value:lc(y)},T=null==(d=null==(s=null==(c=t.secondary)?void 0:c.selections)?void 0:s.filter(e=>Zo.indexOf(e.id)>-1))?void 0:d.map(({id:e,value:t})=>({param:e,value:t})),C=[_,S,g,E,v,h,D,f];return((e,t)=>{const a=new URL(e);return t.forEach(e=>{const{param:t,value:n}=e;a.searchParams.append(t,n)}),a.toString()})(e,T&&T.length>0?[...C,...T]:C)},ic="pick_up_location",oc=["vend","cpcd","odcd","cdnu"],cc=(e,{name:t,value:a,checked:n,disabled:l})=>{var r,i,o,c,s,d,u;const{primary:m,secondary:p}=e;if(t.startsWith(oo)){const n=t.includes(ic),l=n?m.pickUpLocation:m.dropOffLocation,r=n?"pickUpLocation":"dropOffLocation";return{...e,primary:{...m,[r]:l||a?{...l,airportCode:a}:null}}}if(t.startsWith(ro)){const n=t.includes(ic),l=n?m.pickUpLocation:m.dropOffLocation,r=n?"pickUpLocation":"dropOffLocation";return{...e,primary:{...m,[r]:l||a?{...l,searchTerm:a}:null}}}if(t.startsWith(co)||t.startsWith(so)){const n=t.includes(ic),l=n?m.pickUpLocation:m.dropOffLocation,s=n?"pickUpLocation":"dropOffLocation",d=t.startsWith(`${co}-`),u=a?Number(a):null,p=d?u:null!=(i=null==(r=null==l?void 0:l.coordinates)?void 0:r.latitude)?i:null,y=d?null!=(c=null==(o=null==l?void 0:l.coordinates)?void 0:o.longitude)?c:null:u,_=p||y?{latitude:p,longitude:y}:null;return{...e,primary:{...m,[s]:l||_?{...l,coordinates:_}:null}}}if(t.startsWith(io)){const n=t.includes(ic),l=n?m.pickUpLocation:m.dropOffLocation,r=n?"pickUpLocation":"dropOffLocation";return{...e,primary:{...m,[r]:l||a?{...l,regionId:a}:null}}}if(t.startsWith(Za.START_DATE_NAME_PREFIX)||t.startsWith(Za.END_DATE_NAME_PREFIX)){const n=t.includes(Za.START_DATE_NAME_PREFIX),l=n?"pickUpDateTime":"dropOffDateTime",[r,i,o]=a.split("-").map(e=>Number(e));return{...e,primary:{...m,[l]:{...n?m.pickUpDateTime:m.dropOffDateTime,day:o,month:i,year:r}}}}if(t.startsWith(ri)&&t.includes("time")){const n=t.includes("pick_up_time"),l=n?"pickUpDateTime":"dropOffDateTime",r=parseInt(a.substring(2,4),10),i=a.substring(4,6),o=parseInt(a.substring(0,2),10),c=12===o&&"AM"===i?0:12!==o&&"PM"===i?o+12:o;return{...e,primary:{...m,[l]:{...n?m.pickUpDateTime:m.dropOffDateTime,hour:c,minute:r}}}}if(t.startsWith(ta)&&t.includes("aarp_rates")){return{...e,secondary:{...p,booleans:[...null!=(s=null==p?void 0:p.booleans)?s:[],{id:"aarpcr",value:n}]}}}if(oc.find(e=>e===t)){return{...e,secondary:{...p,selections:[...null!=(d=null==p?void 0:p.selections)?d:[],{id:t,value:a}]}}}if(t.includes("driver_age")&&!l&&a){return{...e,secondary:{...p,selections:[...null!=(u=null==p?void 0:p.selections)?u:[],{id:"age",value:a}]}}}return e},sc=u.gql`
  fragment EGDSRequiredInputValidationFragment on EGDSRequiredInputValidation {
    __typename
    errorMessage
  }
`,dc=u.gql`
  fragment EGDSTextInputFieldFragment on EGDSTextInputField {
    egdsElementId
    errorMessage
    instructions
    label
    placeholder
    readOnly
    required
    validations {
      ...EGDSRequiredInputValidationFragment
    }
    value
  }

  ${sc}
`,uc=({data:e,onChange:t,invalid:a,setInputRef:l,customValue:r})=>{const{label:i,value:o,egdsElementId:c,placeholder:s}=e,d=r||o,[u,m]=n.useState(null!=d?d:""),p=n.createRef();return n.useEffect(()=>{l&&l(p)},[]),n.createElement(Fe.V,{placeholder:null!=s?s:"",id:null!=c?c:"",label:i,name:null!=c?c:"",value:u,onChange:e=>{t&&t(e),m(e.target.value)},invalid:null!=a?a:"",domRef:p,"aria-label":null!=i?i:""})};uc.displayName="EGDSTextInputField",uc.fragment=dc;var mc=u.gql`
  fragment CarSearchFormSpecialOrAdvertisedOptionFragment on CarSearchFormSpecialOrAdvertisedOption {
    __typename
    addAnotherDiscountCode {
      ...EGDSTertiaryButtonFragment
    }
    discountCodeType {
      label
    }
    discountCodeOptions {
      discountCodeInput {
        ...EGDSTextInputFieldFragment
      }
      discountCodeTypeOption
    }
    maxDiscountCode
    optionLabel
  }
  ${dn.fragment}
  ${uc.fragment}
`,pc=({data:e,errorState:t,handleErrorState:a,index:l,setFieldRefByTypename:i,setSelectedCouponType:o,disabledSelectIndex:c,setSpecialOrAdvertisedDiscountCode:s,codeValue:d,codeTypeSelected:u,discountTypes:m})=>{var p,y,_,S,g;const{discountCodeOptions:E,discountCodeType:v}=e,[h,D]=n.useState(E),[f,T]=n.useState(u),[C,b]=n.useState(d),I=null!=(y=null==(p=E[0])?void 0:p.discountCodeTypeOption)?y:"",A=null!=(S=null==(_=E[1])?void 0:_.discountCodeTypeOption)?S:"",F=null==(g=h.find(({discountCodeTypeOption:e})=>e===f))?void 0:g.discountCodeInput,O=(null==F?void 0:F.validations)&&"EGDSRequiredInputValidation"===F.validations[0].__typename?F.validations[0].errorMessage:"",k=t.inputsWithErrors.includes(`special-advertised-coupon-${l}`)?O:"",G=n.createRef();n.useEffect(()=>{var e;h!==E&&(T(E[0].discountCodeTypeOption),D(E)),null==(e=G.current)||e.focus()},[h,E]);return n.createElement("div",null,n.createElement(r.N,{padding:{block:f?"three":"two"}},n.createElement("div",null,n.createElement(ge._,{label:v.label,onChange:t=>{var n;T(t.target.value),a(m.SPECIAL_OR_ADVERTISED,!0,"",l.toString()),s({data:e,value:null!=C?C:"",index:l,codeTypeSelected:null!=(n=t.target.value)?n:""}),o&&o(t.target.value,l)},"aria-label":v.label,emptyState:!0,value:f,disabled:null==c?void 0:c.includes(l),domRef:G},h.map((e,t)=>n.createElement("option",{key:t,value:e.discountCodeTypeOption},e.discountCodeTypeOption))))),f&&F&&n.createElement(n.Fragment,null,n.createElement(r.N,{padding:{blockend:"three"}},n.createElement(uc,{data:F,onChange:t=>{a(m.SPECIAL_OR_ADVERTISED,!0,t.target.value,l.toString()),b(t.target.value),s({data:e,value:t.target.value,index:l,codeTypeSelected:null!=f?f:""})},invalid:k,setInputRef:e=>{i&&i(`special-advertised-coupon-${l}`,e)},customValue:C})),C&&f===A&&n.createElement("input",{type:"hidden","aria-label":"vend","data-stid":"vend",name:"vend",value:C}),C&&f===I&&n.createElement("input",{type:"hidden","aria-label":"cpcd","data-stid":"cpcd",name:"cpcd",value:C}),C&&f!==I&&f!==A&&n.createElement("input",{type:"hidden","aria-label":"odcd","data-stid":"odcd",name:"odcd",value:C})))};pc.fragment=mc,pc.displayName="CarSearchFormSpecialOrAdvertisedOption";var yc=u.gql`
  fragment CarSearchFormDiscountTypeOptionFragment on CarSearchFormDiscountTypeOption {
    __typename
    corporateOrContractedOption {
      discountCode {
        ...EGDSTextInputFieldFragment
      }
      optionLabel
    }
    preferredBrand
    specialOrAdvertisedOption {
      ...CarSearchFormSpecialOrAdvertisedOptionFragment
    }
  }

  ${pc.fragment}
  ${uc.fragment}
`,_c=e=>{var t;const{data:a,readOnly:l,disabled:i,egdsElementId:o,label:c,icon:s,handleErrorState:d,errorState:u,setFieldRefByTypename:m,isDisabled:p,clearDiscountTypeOptionsState:y,selectedDiscountType:_,handleDiscountType:S,corporateOrContractedCodeValue:g,handleCorporateOrContractedCodeValue:E,handleSpecialOrAdvertisedCouponsData:v,specialOrAdvertisedCouponsData:h,handleDisabledDiscountCodeTypes:D,disabledCouponTypeIndexes:f,handleClearDiscountTypeOptionsState:T,discountTypes:C}=e,{corporateOrContractedOption:b,specialOrAdvertisedOption:I}=a,A=null==b?void 0:b.optionLabel,O=null==I?void 0:I.optionLabel,[k,G]=n.useState(I),[R,L]=n.useState(h),[P,N]=n.useState([]),M=k.maxDiscountCode>R.length&&R.length===P.length,x=(e,t)=>{const a=P.filter(e=>e.index!==t);N([...a,{selectedDiscountType:e,index:t}]);const n=f.filter(e=>e!==t-1);D([...n,t-1])},B={data:I,value:"",index:null,codeTypeSelected:""};n.useEffect(()=>{I!==k&&(L([B]),G(I)),y&&(N([]),L([{data:I,value:"",index:0,codeTypeSelected:""}]),T())},[k,I,y]);const $=null==(t=u.inputsWithErrors)?void 0:t.includes("corporate-or-contracted-option"),W=(null==b?void 0:b.discountCode.validations)&&"EGDSRequiredInputValidation"===(null==b?void 0:b.discountCode.validations[0].__typename)?null==b?void 0:b.discountCode.validations[0].errorMessage:"",w=$?W:"";return n.createElement("div",null,n.createElement(r.N,{padding:{blockend:"three"}},n.createElement("div",null,n.createElement(ge._,{readOnly:l,disabled:null!=p?p:i,id:null!=o?o:"",label:c,icon:null==s?void 0:s.id,"aria-label":null!=c?c:"",onChange:e=>{S&&S(e.target.value),e.target.value===C.CORPORATE_OR_CONTRACTED&&d(C.CORPORATE_OR_CONTRACTED,!0,"")},value:_,emptyState:!0},b&&n.createElement("option",{key:A,label:A,value:A},A),I&&n.createElement("option",{key:O,label:O,value:O},O)))),b&&_===C.CORPORATE_OR_CONTRACTED&&!p&&n.createElement(uc,{data:b.discountCode,invalid:w,onChange:e=>{E&&E(e.target.value),_===C.CORPORATE_OR_CONTRACTED&&d(C.CORPORATE_OR_CONTRACTED,!0,e.target.value)},setInputRef:e=>{m&&m("corporate-or-contracted-option",e)},customValue:g}),I&&_===C.SPECIAL_OR_ADVERTISED&&!p&&n.createElement(n.Fragment,null,R.map((e,t)=>n.createElement(pc,{key:t,data:e.data,index:t,errorState:u,handleErrorState:d,setFieldRefByTypename:m,setSelectedCouponType:x,disabledSelectIndex:f,setSpecialOrAdvertisedDiscountCode:v,codeValue:e.value,codeTypeSelected:e.codeTypeSelected,discountTypes:C})),"UITertiaryButton"===I.addAnotherDiscountCode.__typename&&n.createElement(F.X,{justifyContent:"end"},n.createElement("div",null,n.createElement(dn,{data:I.addAnotherDiscountCode,onClick:()=>{const e=P.map(e=>e.selectedDiscountType),t=k.discountCodeOptions.filter(t=>!e.includes(t.discountCodeTypeOption)&&t),a={...k,discountCodeOptions:t},n=f.length-1;P[n]&&D([...f,n]);const l={data:a,value:"",index:null,codeTypeSelected:""};L([...R,l])},isDisabled:!M})))),g&&n.createElement("input",{type:"hidden","aria-label":"cdnu","data-stid":"cdnu",name:"cdnu",value:g}))};_c.fragment=yc,_c.displayName="CarSearchFormDiscountTypeOption";var Sc=u.gql`
  fragment CarSearchFormDiscountCodeFragment on CarSearchFormDiscountCode {
    __typename
    discountCode {
      ...EGDSPillFragment
    }
    action {
      discountType {
        ...EGDSSelectFragment
      }
      discountTypeOptions {
        ...CarSearchFormDiscountTypeOptionFragment
      }
      preferredBrand {
        ...EGDSSelectFragment
      }
      errorSummary {
        ...EGDSErrorSummaryFragment
      }
      toolbar {
        primary
        actions {
          primary {
            ...EGDSTertiaryButtonFragment
          }
          secondaries {
            icon {
              description
            }
          }
        }
      }
      done {
        ...EGDSPrimaryButtonFragment
      }
    }
  }

  ${_c.fragment}
  ${Oa.fragment}
  ${cn.fragment}
  ${dn.fragment}
  ${_t.fragment}
  ${si.fragment}
`,gc={corporateOrContracted:{selected:!1,value:""},specialOrAdvertised:{selected:!1,coupons:[]}},Ec={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,inputsWithErrors:[]},vc=({data:e})=>{var t,a,l,i,o,s,u,m;const{discountCode:p,action:y}=e,{discountType:_,preferredBrand:S,discountTypeOptions:g,done:E,toolbar:v,errorSummary:h}=y,D={CORPORATE_OR_CONTRACTED:null==(t=g[0].corporateOrContractedOption)?void 0:t.optionLabel,SPECIAL_OR_ADVERTISED:null==(a=g[0].specialOrAdvertisedOption)?void 0:a.optionLabel},[f,T]=n.useState(!1),[C,b]=n.useState(g[0]),I=n.createRef(),A=n.createRef(),[O,k]=n.useState(),[G,R]=n.useState(""),[L,P]=n.useState(""),[M,x]=n.useState([]),[B,$]=n.useState(!1),[W,w]=n.useState([{data:g[0].specialOrAdvertisedOption,value:"",index:0,codeTypeSelected:""}]),[U,H]=n.useState(gc),[V,q]=n.useState([]),[z,Y]=n.useState({...Ec}),{setFocusInput:j}=((e,t="")=>{const[a,l]=n.useState(t);return n.useEffect(()=>{var t,n;null==(n=null==(t=e.find(e=>e.name===a))?void 0:t.reference.current)||n.focus()},[a]),{setFocusInput:l}})(V),X=()=>{Y(Ec),q([]),H(gc)},Q={selectedDiscountType:G,handleDiscountType:e=>{R(e),e===D.CORPORATE_OR_CONTRACTED&&(X(),P("")),e===D.SPECIAL_OR_ADVERTISED&&(X(),x([]),$(!0),w([]))},corporateOrContractedCodeValue:L,handleCorporateOrContractedCodeValue:e=>{P(e),e&&Y(Ec)},handleSpecialOrAdvertisedCouponsData:e=>{const t=W.filter(t=>t.index!==e.index);w([...t,e]),e.value&&(e=>{const t=`special-advertised-coupon-${e.index}`;if(z.inputsWithErrors.includes(t)){const{specialOrAdvertised:e}=U,a=e.coupons.filter(e=>""===e.value).map(e=>`special-advertised-coupon-${e.id}`).filter(e=>e!==t);Y(e=>{var n;if(e.errorCount>0){const l=e.errorCount-1,r=e.inputsWithErrors.filter(e=>!e.includes(t)),i=null==(n=V.find(e=>e.name===a[0]))?void 0:n.reference;return{displayErrorSummary:l>0,errorCount:l,errorLinkReference:null!=i?i:null,inputsWithErrors:r}}return e}),j(t)}})(e)},specialOrAdvertisedCouponsData:W,handleDisabledDiscountCodeTypes:e=>{x(e)},disabledCouponTypeIndexes:M,handleClearDiscountTypeOptionsState:()=>{$(!1)}},[te,ae,ne]=(0,K.useDialog)("discount-codes-dialog"),le="EGDSBasicSelect"===_.__typename?{..._,icon:{id:null==(l=_.icon)?void 0:l.id}}:void 0,re=()=>{R(""),P(""),Y(Ec),x([]),w([]),$(!0),H(gc),q([])},ie=()=>{re(),k("")},oe=()=>{var e;const{corporateOrContracted:t}=U;return!(!t.value&&t.selected)||(Y({displayErrorSummary:!0,errorCount:1,errorLinkReference:null==(e=V[0])?void 0:e.reference,inputsWithErrors:["corporate-or-contracted-option"]}),!1)},ce=()=>{var e;const{specialOrAdvertised:t}=U;if(t.selected){const a=t.coupons.filter(e=>""===e.value);if(a.length>0){const t=a.map(e=>`special-advertised-coupon-${e.id}`),n=null==(e=V.find(e=>e.name===t[0]))?void 0:e.reference;return Y({displayErrorSummary:a.length>0,errorCount:a.length,errorLinkReference:null!=n?n:null,inputsWithErrors:[...t]}),!1}return!0}return!0},se=!O,de=n.useCallback((e,t)=>{const a={name:e,reference:t};q(e=>[...e,a])},[]),{displayErrorSummary:ue,errorCount:me,errorLinkReference:pe}=z,ye=h&&ue,_e=n.createElement(n.Fragment,null,ye&&n.createElement(r.N,{padding:{blockend:"three"}},n.createElement("div",null,n.createElement(_t,{data:h,errorCount:me,inputErrorRef:pe}))),n.createElement(r.N,{padding:{blockend:"three"}},n.createElement("div",null,n.createElement(si,{data:S,onChange:e=>{const t=g.filter(t=>t.preferredBrand===e.target.value)[0];b(t),k(e.target.value),re()},emptyState:!0,selectValue:O}))),C&&le&&n.createElement(r.N,{padding:{blockend:"three"}},n.createElement("div",null,n.createElement(_c,{data:C,...le,...Q,handleErrorState:(e,t,a,n)=>{if(e===D.CORPORATE_OR_CONTRACTED&&H({specialOrAdvertised:{selected:!1,coupons:[]},corporateOrContracted:{selected:null!=t&&t,value:null!=a?a:""}}),e===D.SPECIAL_OR_ADVERTISED){const e={id:null!=n?n:"",value:null!=a?a:""},l=U.specialOrAdvertised.coupons.filter(e=>e.id!==n);H({corporateOrContracted:{selected:!1,value:""},specialOrAdvertised:{...U.specialOrAdvertised,selected:null!=t&&t,coupons:[...l,e]}})}},errorState:z,setFieldRefByTypename:de,isDisabled:se,clearDiscountTypeOptionsState:B,discountTypes:D})))),Se=null!=(u=null==(s=null==(o=(null!=(i=v.actions.secondaries)?i:[]).find(e=>e.icon))?void 0:o.icon)?void 0:s.description)?u:"";return n.createElement("div",null,n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(n.Fragment,null,n.createElement(J.K,{isVisible:te},n.createElement(ne,null,n.createElement(ee.t,{isVisible:te,type:"full",triggerRef:I},n.createElement(c.p,{toolbarTitle:null!=(m=v.primary)?m:"",navigationContent:{navType:"close",onClick:()=>{var e;re(),k(""),ae.closeDialog(),null==(e=A.current)||e.focus()},navIconLabel:Se},toolbarActionContent:n.createElement(dn,{data:v.actions.primary,onClick:ie})}),n.createElement(Z.Y,null,n.createElement(r.N,{padding:{inline:"three",blockstart:"three"}},n.createElement("div",null,_e,"UIPrimaryButton"===E.__typename&&n.createElement(cn,{data:E,onClick:()=>{var e;oe()&&ce()&&(Y(Ec),ae.closeDialog(),null==(e=A.current)||e.focus())}}))))))),n.createElement(Oa,{data:p,triggerPill:!0,onClick:()=>{ae.openDialog()},domRef:A}))),n.createElement(d.rw,null,n.createElement(Ee.p,{isOpen:f,onTriggerClick:()=>{T(e=>!e)},onDismiss:()=>{re(),k("")}},n.createElement(ve.N,null,n.createElement("div",null,n.createElement(Oa,{data:p,triggerPill:!0,domRef:A}))),n.createElement(he.K,{position:he.C.LEFT,showOverTrigger:!0,width:500},n.createElement(r.N,{padding:{inline:"three"}},n.createElement("div",null,n.createElement(F.X,{alignItems:"center",justifyContent:"space-between"},n.createElement(N.M,null,v.primary),n.createElement(dn,{data:v.actions.primary,onClick:ie})),n.createElement(r.N,{padding:{blockstart:"three"}},n.createElement("div",null,_e)),"UIPrimaryButton"===E.__typename&&n.createElement(cn,{data:E,onClick:()=>{var e;oe()&&ce()&&(T(!1),null==(e=A.current)||e.focus())}}))))))),O&&n.createElement("input",{type:"hidden","aria-label":"vend","data-stid":"vend",name:"vend",value:O}))};vc.fragment=Sc,vc.displayName="CarSearchFormDiscountCode";var hc=(e=>(e.pickUpLocation="pickUpLocation",e.dropOffLocation="dropOffLocation",e.dates="dates",e.pickUpTime="pickUpTime",e.dropOffTime="dropOffTime",e.driverAgeCheck="driverAgeCheck",e.specialRatesHeading="specialRatesHeading",e.aarpRatesAndDiscountCodes="aarpRatesAndDiscountCodes",e.search="search",e))(hc||{}),Dc=u.gql`
  fragment EGDSNumberInputFieldFragment on EGDSNumberInputField {
    egdsElementId
    errorMessage
    instructions
    label
    max
    min
    placeholder
    step
    readOnly
    required
    validations {
      ... on EGDSInputValidation {
        errorMessage
      }
      ... on EGDSRangeInputValidation {
        errorMessage
        min
        max
      }
    }
    value
  }
`,fc=({disabled:e,data:t,errorMessage:a,setFieldRefByTypename:l})=>{const{label:r,value:i,egdsElementId:o,placeholder:c,step:s,max:d,min:u,__typename:m}=t,p=null===i?void 0:Number(i),[y,_]=n.useState(p),S=n.createRef();n.useEffect(()=>{l&&S&&l(m,S)},[]);return n.createElement(Ge.R,{label:null!=r?r:"",id:null!=o?o:"",placeholder:null!=c?c:"",name:o?`EGDSNumberInput-${o}`:"",value:y,step:null!=s?s:void 0,max:null!=d?d:void 0,min:null!=u?u:void 0,onChange:e=>{const t=""===e.target.value?void 0:Number(e.target.value);_(t)},disabled:e,invalid:null!=a?a:"",domRef:S})};fc.displayName="EGDSNumberInputField",fc.fragment=Dc;var Tc=u.gql`
  fragment CarSearchFormDriverAgeCheckFragment on CarSearchFormDriverAgeCheck {
    __typename
    label
    driverAge {
      ...EGDSNumberInputFieldFragment
    }
    driverAgeRequired {
      ...EGDSCheckBoxFragment
    }
  }
  ${Ta.fragment}
  ${fc.fragment}
`,Cc=({data:e,errorState:t,setFieldRefByTypename:a,getCheckboxState:l})=>{const{label:r,driverAge:i,driverAgeRequired:o}=e,[c,s]=n.useState("CHECKED"===o.state),{validations:d,__typename:u}=i,m=ar(t,u),p=c?(e=>{var t,a,n,l;const r=null==e?void 0:e.validations;if(m){if(null==r?void 0:r.ageRange)return null!=(a=null==(t=null==d?void 0:d.find(e=>"EGDSRangeInputValidation"===e.__typename))?void 0:t.errorMessage)?a:"";if(!(null==r?void 0:r.ageRange))return null!=(l=null==(n=null==d?void 0:d.find(e=>"EGDSRequiredInputValidation"===e.__typename))?void 0:n.errorMessage)?l:""}return""})(m):"";return n.createElement(n.Fragment,null,n.createElement(N.M,{size:7},r),n.createElement(I.w,{columns:{small:1,medium:["max-content","24x"]},space:"three"},n.createElement(R.T,null,n.createElement(Ta,{onChange:e=>{s(e.target.checked),l(e.target.checked)},data:o})),n.createElement(R.T,null,n.createElement("div",null,n.createElement(fc,{data:i,errorMessage:p,disabled:!c,setFieldRefByTypename:a})))))};Cc.fragment=Tc,Cc.displayName="CarSearchFormDriverAgeCheck";var bc=u.gql`
  fragment RentalTypesSelectorFrament on EGDSBasicTabs {
    __typename
    ...EGDSBasicTabsFragment
  }
  ${da.fragment}
`,Ic=e=>{const t=(0,d.eg)({viewSizes:d.pf})<=d.pf.SMALL;return n.createElement(r.N,{margin:{blockend:t?"three":"six"}},n.createElement(F.X,{space:"three",alignItems:"start",wrap:"wrap"},n.createElement(O.C,{minWidth:t?"full_width":void 0},n.createElement("div",{"data-stid":"SearchFormRentalTypesSelector"},n.createElement(da,{...e})))))};Ic.fragment=bc,Ic.displayName="RentalTypesSelector";var Ac=u.gql`
  fragment CarsSearchFormFragment on CarSearchForm {
    __typename
    egdsElementId
    actionURL
    errorSummary {
      ...EGDSErrorSummaryFragment
    }
    pickUpLocation {
      ...EGDSSearchFormLocationFieldFragment
    }
    dropOffLocation {
      ...EGDSSearchFormLocationFieldFragment
    }
    alternativeDropOffLocationLabel
    dates {
      ...EGDSSearchFormDatePickerFieldFragment
    }
    pickUpTime {
      ...EGDSSelectFragment
    }
    dropOffTime {
      ...EGDSSelectFragment
    }
    driverAgeCheck {
      ...CarSearchFormDriverAgeCheckFragment
    }
    specialRates {
      label
      discountCode {
        ...CarSearchFormDiscountCodeFragment
      }
      showAarpRate {
        ...EGDSPillFragment
      }
    }
    search {
      ...EGDSSearchFormButtonFragment
    }
    localDateFormat
    playback @include(if: $includePlayback) {
      ...EGDSSearchPlaybackFragment
    }
    rentalTypes {
      ...RentalTypesSelectorFrament
    }
    searchLocation {
      ...SearchLocationFragment
    }
  }
  ${Cc.fragment}
  ${_t.fragment}
  ${vc.fragment}
  ${vt.fragment}
  ${Oa.fragment}
  ${Go.fragment}
  ${Oo.fragment}
  ${rn.fragment}
  ${si.fragment}
  ${Ic.fragment}
  ${to}
`,Fc=(e=>(e.ADDRESS="ADDRESS",e.AIRPORT="AIRPORT",e.CITY="CITY",e.CONTINENT="CONTINENT",e.COUNTRY="COUNTRY",e.MULTI_CITY_VICINITY="MULTI_CITY_VICINITY",e.NEIGHBORHOOD="NEIGHBORHOOD",e.POINT_OF_INTEREST="POINT_OF_INTEREST",e.UNKNOWN="UNKNOWN",e))(Fc||{}),{DATE_RANGE_PICKER:Oc,PICKUP_TIME:kc,DROPOFF_TIME:Gc}=Qo,Rc=e=>e?`${e.year}-${e.month}-${e.day}`:"",Lc=e=>{var t,a,l,i,o,c,s,u,m;const{onSubmit:p,onFieldChange:y,onOpenLocationField:_,data:S,redirectToSearchResultOnSubmit:g,autoOpenCalendar:E,autoOpenPlayback:v,autoSubmitOnFieldChange:h,criteria:D,lastSearchLatLong:f,hideDiscountCodes:T,layout:C}=e,b=(0,z.useLocalization)(),{formatDateString:A}=b,{egdsElementId:k,actionURL:L,search:P,driverAgeCheck:N,errorSummary:M,specialRates:x,localDateFormat:B,playback:$,pickUpLocation:W,dropOffLocation:w,alternativeDropOffLocationLabel:U,dates:H,pickUpTime:V,dropOffTime:q,searchLocation:Y}=S,[K,j]=n.useState($),X=(e,t,a)=>{var n;const l="AIRPORT"===e,{additionalPrimaryTemplate:r}=$||{},i="EGDSBasicLocalizedText"===(null==r?void 0:r.__typename)?r.text:null,o="EGDSBasicLocalizedText"===(null==r?void 0:r.__typename)?null==(n=r.models[0])?void 0:n.key:null;return l&&t&&i&&o?ut(i,o,t):a||null},[Q,Z]=n.useState({origin:X(null!=(t=null==W?void 0:W.regionType)?t:"UNKNOWN",null==W?void 0:W.airportCode,null==W?void 0:W.value),destination:X(null!=(a=null==w?void 0:w.regionType)?a:"UNKNOWN",null==w?void 0:w.airportCode,null==w?void 0:w.value)}),[J,ee]=n.useState({start:null!=(i=null==(l=V.options.find(e=>e.selected))?void 0:l.label)?i:void 0,end:null!=(c=null==(o=q.options.find(e=>e.selected))?void 0:o.label)?c:void 0}),[te,ae]=n.useState("EGDSOpenDatePickerAction"===(null==(s=null==H?void 0:H.action)?void 0:s.__typename)&&"EGDSDateRangePicker"===H.action.datePicker.__typename?`${Rc(H.action.datePicker.selectedStartDate)} - ${Rc(H.action.datePicker.selectedEndDate)}`:""),[ne,le]=n.useState(!1),re=n.useRef(null),ie=null!=k?k:"search-car-form",[oe,ce]=n.useState({EGDSSearchFormLocationsField:null,EGDSSearchFormDatePickerField:null}),se={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]},[de,ue]=n.useState(se),[me,pe]=n.useState(!1),ye=null==(m=null==(u=null==N?void 0:N.driverAge)?void 0:u.validations)?void 0:m.find(e=>"EGDSRangeInputValidation"===e.__typename),_e="EGDSRangeInputValidation"===(null==ye?void 0:ye.__typename)?ye.min:void 0,Se="EGDSRangeInputValidation"===(null==ye?void 0:ye.__typename)?ye.max:void 0,[ge,Ee]=n.useState(!v),ve=n.useCallback((e,t)=>{var a;const n=nr(e,null==(a=t.current)?void 0:a.id);ce(e=>({...e,[n]:t}))},[]),he=(e,t)=>{if(e.includes("car-rental")||e.includes("cars.cartrawler"))return void(window.location.href=((e,t)=>rc(e,t,"pickupName","returnName"))(e,t));if(e.includes("rent-a-car"))return void(window.location.href=((e,t)=>rc(e,t,"locn","loc2"))(e,t));const a=((e,t)=>{var a,n,l,r,i,o,c,s,d,u,m,p,y,_,S,g,E,v,h,D;const{pickUpLocation:f,pickUpDateTime:T,dropOffLocation:C,dropOffDateTime:b}=e.primary,I=encodeURIComponent(ec(T)),A=encodeURIComponent(ec(b)),F=Jo(T,t)||I,O=Jo(b,t)||A,k=tc(T),G=tc(b),R=`locn=${encodeURIComponent(null!=(a=f.searchTerm)?a:"")}&pickupIATACode=${null!=(n=f.airportCode)?n:""}&olat=${null!=(r=null==(l=f.coordinates)?void 0:l.latitude)?r:""}&olon=${null!=(o=null==(i=f.coordinates)?void 0:i.longitude)?o:""}&dpln=${null!=(c=f.regionId)?c:""}`,L=C?`loc2=${encodeURIComponent(null!=(s=C.searchTerm)?s:"")}&returnIATACode=${null!=(d=C.airportCode)?d:""}&dlat=${null!=(m=null==(u=C.coordinates)?void 0:u.latitude)?m:""}&dlon=${null!=(y=null==(p=C.coordinates)?void 0:p.longitude)?y:""}&drid1=${null!=(_=C.regionId)?_:""}`:"",P=`d1=${I}&d2=${A}&date1=${F}&date2=${O}`,N=`time1=${k}&time2=${G}`,M=null!=(E=null==(g=null==(S=e.secondary)?void 0:S.booleans)?void 0:g.filter(e=>"aarpcr"===e.id).reduce((e,{id:t,value:a})=>`${e}${t}=${a?"on":"off"}`,""))?E:"",x=null!=(D=null==(h=null==(v=e.secondary)?void 0:v.selections)?void 0:h.reduce((e,{id:t,value:a})=>`${e}&${t}=${a}`,""))?D:"";let B=`${R}&${L}&${P}&${N}`;return M&&(B+=`&${M}`),x&&(B+=`${x}`),B})(t,{localDateFormat:B,formatDateString:A});window.location.href=`${e}?${a}`},De=(e,t)=>{var a,n,l,r,i,o;const c=t?"origin":"destination",s=null!=(l=null!=(n=null==(a=null==e?void 0:e.data)?void 0:a.primaryText)?n:null==e?void 0:e.term)?l:"",d=X(Fc[null!=(i=null==(r=null==e?void 0:e.data)?void 0:r.geoType)?i:"UNKNOWN"],null==(o=null==e?void 0:e.data)?void 0:o.airportCode,s),u={...Q,[c]:d};Z(u),j(e=>{var t,a,n,l,r,i,o;if(!e)return null;const{primary:c,primaryTemplate:s}=e,d=(null==(t=u.origin)?void 0:t.includes("("))?null==(a=u.origin)?void 0:a.split("(")[0].trim():null!=(l=null==(n=u.origin)?void 0:n.trim())?l:"",m=(null==(r=u.destination)?void 0:r.includes("("))?null==(i=u.destination)?void 0:i.split("(")[0].trim():null==(o=u.destination)?void 0:o.trim();if(!m)return{...e,primary:{...c,text:d}};const p=ut(null==s?void 0:s.text,"origin",d),y={...c,text:ut(p,"destination",m)};return{...e,primary:y}})},fe={setFieldRefByTypename:ve},Te={...fe,lastSearchLatLong:f,onOpenLocationField:_,searchLocationAnalytics:null==Y?void 0:Y.analytics,searchLocationContent:null==Y?void 0:Y.content},Ce=W&&n.createElement("div",null,n.createElement(Oo,{...Te,data:W,fieldError:de.fieldsWithErrors.find(e=>"EGDSSearchFormLocationFieldPickUp"===e.__typename),onSelection:e=>De(e,!0),onClearLocation:()=>De(null,!0)})),be=w&&n.createElement("div",null,n.createElement(Oo,{...Te,data:w,fieldError:de.fieldsWithErrors.find(e=>"EGDSSearchFormLocationFieldDropOff"===e.__typename),alternativeLocationLabel:U,onSelection:e=>De(e,!1),onClearLocation:()=>De(null,!1),skipReflection:!0})),Ie=H&&n.createElement(rn,{...e,...fe,data:H,autoOpen:null!=E&&E}),Ae=V&&n.createElement("div",null,n.createElement(si,{fieldError:de.fieldsWithErrors.find(e=>"EGDSBasicSelectPickUp"===e.__typename),...fe,data:V})),Fe=q&&n.createElement("div",null,n.createElement(si,{fieldError:de.fieldsWithErrors.find(e=>"EGDSBasicSelectDropOff"===e.__typename),...fe,data:q})),Oe="EGDSSearchFormButton"===(null==P?void 0:P.__typename)&&n.createElement(I.w,{autoRows:["max-content"]},n.createElement(vt,{data:P})),{displayErrorSummary:Ge,errorCount:Re,errorLinkReference:Le}=de,Pe=!!N,Ne=(e=>{const{includesDriverAgeCheck:t,includeAarpRates:a,includeDiscountCodes:n,layout:l}=e,{pickUpLocation:r,dropOffLocation:i,dates:o,pickUpTime:c,dropOffTime:s,driverAgeCheck:d,aarpRatesAndDiscountCodes:u,search:m}=hc,p={space:"three"},y=a||n?u:".",_=t?d:".",S=[`${Ar(r,8)}`,`${Ar(i,8)}`,`${Ar(o,8)}`,`${Ar(c,4)} ${Ar(s,4)}`,..."."!==_?[`${Ar(_,8)}`]:[],..."."!==y?[`${Ar(y,6)} ${Ar(".",2)}`]:[],`${Ar(m,8)}`],g=[`${Ar(r,3)} ${Ar(i,3)}`,`${Ar(o,2)} ${Ar(c,2)} ${Ar(s,2)}`,..."."!==_?[`${Ar(_,2)} ${Ar(".",4)}`]:[],..."."!==y?[`${y} ${Ar(".",5)}`]:[],`${Ar(m,2)} ${Ar(".",4)}`],E=["pickUpLocation dropOffLocation dates pickUpTime dropOffTime search ",..."."!==_?[`${d} ${Ar(".",5)}`]:[],..."."!==y?[`${y} ${Ar(".",5)}`]:[]];return"STACKED"===l?{...p,areas:{small:S,medium:S,large:S}}:{...p,columns:{large:["188px","188px",(0,ke.ZF)("max-content","4fr"),(0,ke.ZF)("max-content","3fr"),(0,ke.ZF)("max-content","3fr"),(0,ke.ZF)("88px","2fr")]},areas:{small:S,medium:g,large:E}}})({includeAarpRates:!!(null==x?void 0:x.showAarpRate)&&!T,includeDiscountCodes:!!(null==x?void 0:x.discountCode)&&!T,includesDriverAgeCheck:Pe,layout:C}),Me=(()=>{const{pickUpLocation:e,dropOffLocation:t,dates:a,pickUpTime:n,dropOffTime:l,driverAgeCheck:r,specialRatesHeading:i,aarpRatesAndDiscountCodes:o,search:c}=hc;return{pickUpLocation:{area:e},dropOffLocation:{area:t},dates:{area:a},pickUpTime:{area:n},dropOffTime:{area:l},driverAgeCheck:{area:r},search:{area:c},specialRatesHeading:{area:i},aarpRatesAndDiscountCodes:{area:o}}})(),xe="STACKED"===C?`${ie}-stacked`:`${ie}-inline`,Be=n.createElement(G.m,{ref:re,id:ie,name:ie,"data-stid":xe,method:"GET",action:L,onFieldChange:(e,t)=>{var a,n,l;const{name:r,value:i}=e;y&&y(e,t),h&&(null==(a=re.current)||a.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0})));const o=r===Oc,c=r===kc,s=r===Gc;if(o||c||s){const e=o?i:te,t={...J};o?ae(e):(c&&"EGDSBasicSelect"===(null==V?void 0:V.__typename)?t.start=null==(n=V.options.find(e=>e.value===i))?void 0:n.label:s&&"EGDSBasicSelect"===(null==q?void 0:q.__typename)&&(t.end=null==(l=q.options.find(e=>e.value===i))?void 0:l.label),ee(t)),j(a=>{if(!a)return null;const[n]=a.secondaries;if("EGDSPlainText"===n.__typename){const l={...n,text:Vt(e,b,t)};return{...a,secondaries:[l]}}return a})}Ee(!0)},hasRequiredFieldIndicator:!0,onSubmit:e=>{var t;const a=Array.from(e.currentTarget.elements),n={location:{origin:a.find(mr("pick_up_location"))},dates:{startDateInput:a.find(mr("EGDSDateRangePicker-StartDate-dates")),endDateInput:a.find(mr("EGDSDateRangePicker-EndDate-dates")),config:{maxNumberOfDaysSelected:0,allowSameDateSelect:!0}},time:{dropOff:a.find(mr("EGDSBasicSelect-drop_off_time")),pickup:a.find(mr("EGDSBasicSelect-pick_up_time"))},age:me?{ageInput:a.find(mr("EGDSNumberInput-driver_age")),config:{min:_e,max:Se}}:void 0},l=dr(n),r=l.length;if(!(0===r))return ue({fieldsWithErrors:l,errorCount:r,displayErrorSummary:!0,errorLinkReference:oe[null==(t=l[0])?void 0:t.__typename]}),void e.preventDefault();if(ue(se),p||g){const t=(e=>{const t={day:0,hour:0,minute:0,month:0,second:0,year:0},a={primary:{pickUpLocation:{},pickUpDateTime:t,dropOffDateTime:t},secondary:{}};return Array.from(e.currentTarget.elements).filter(e=>e.name.startsWith("EGDS")||e.name.startsWith("Cars")||oc.includes(e.name)).reduce(cc,a)})(e),a={...t,secondary:t.secondary&&Object.keys(t.secondary).length>0?t.secondary:{...null==D?void 0:D.secondary}};if(p&&p(e,{carSearchCriteria:a}),g){e.preventDefault();const{action:t}=e.currentTarget;he(t,a)}}}},Ge&&M&&n.createElement(r.N,{margin:{block:"two"}},n.createElement("div",null,n.createElement(_t,{data:M,errorCount:Re,inputErrorRef:Le}))),n.createElement(I.w,{...Ne},n.createElement(R.T,{...Me.pickUpLocation},Ce),n.createElement(R.T,{...Me.dropOffLocation},be),n.createElement(R.T,{...Me.dates},n.createElement("div",null,Ie)),n.createElement(R.T,{...Me.pickUpTime},n.createElement("div",null,Ae)),n.createElement(R.T,{...Me.dropOffTime},n.createElement("div",null,Fe)),Pe&&n.createElement(R.T,{...Me.driverAgeCheck},n.createElement("div",null,n.createElement(Cc,{data:N,setFieldRefByTypename:ve,errorState:de,getCheckboxState:e=>{pe(e)}}))),!T&&n.createElement(R.T,{...Me.aarpRatesAndDiscountCodes},n.createElement("div",null,n.createElement(F.X,{space:"three"},(null==x?void 0:x.showAarpRate)&&!T&&n.createElement(O.C,null,n.createElement("div",null,n.createElement(Oa,{data:x.showAarpRate,active:ne,onChange:()=>{le(!ne)}}))),(null==x?void 0:x.discountCode)&&!T&&n.createElement(O.C,null,n.createElement("div",null,n.createElement(vc,{data:x.discountCode})))))),Oe&&n.createElement(R.T,{...Me.search},n.createElement("div",null,Oe))));return n.createElement(d.LM,null,n.createElement(d.NP,null,K?n.createElement(Go,{data:K,display:ge,onDisplayToggle:e=>{Ee(e)}},Be):Be),n.createElement(d.rw,null,Be))};Lc.fragment=Ac,Lc.displayName="CarsSearchForm";var Pc={SEARCH_TOOLS_CARS_SEARCH_FORM_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_CARS_SEARCH_FORM_QUERY_FAILURE")},Nc={linkName:"Cars Search Form Fallback Presented",referrerId:"Web.Cars.Search.Form.Fallback.Presented"},Mc={linkName:"Cars Search Form Presented",referrerId:"Web.Cars.Search.Form.Presented"},xc=u.gql`
  query CarSearchFormQuery(
    $context: ContextInput!
    $pageLocation: PageLocation
    $carSearchCriteria: CarSearchCriteriaInput
    $includePlayback: Boolean = false
  ) {
    searchForm(context: $context, pageLocation: $pageLocation) {
      car(carSearchCriteria: $carSearchCriteria) {
        __typename
        ...CarsSearchFormFragment
      }
    }
  }
  ${Lc.fragment}
`,Bc={rows:[{lineLength:"secondary"},{lineLength:"primary"},{lineLength:"primary"},{lineLength:"primary"}]},$c={rows:[{lineLength:"secondary"},{lineLength:"primary"}]},Wc=e=>{const{inputs:t,skipSsr:a,batchKey:l,includePlayback:r,skipQuery:i=!1,sticky:o,pageLocation:c}=e,{context:s}=(0,m.R)(),y=(0,p.useLoggerEvents)(Pc),_={...t,context:s,includePlayback:Boolean(r),pageLocation:c},{data:S,error:g,loading:E,previousData:h}=(0,u.useQuery)(xc,{context:{batchKey:l,shouldLogPerformance:!0},variables:_,ssr:!a,skip:i}),[D,f]=(0,n.useState)("car_search_form_rental_types_option_car");if(E&&!h)return n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(ot,{...Bc})),n.createElement(d.rw,null,n.createElement(ot,{...$c})));const T=null!=S?S:h;if(g||!T||"CarSearchForm"!==(null==T?void 0:T.searchForm.car.__typename))return y.SEARCH_TOOLS_CARS_SEARCH_FORM_QUERY_FAILURE.log({name:null==g?void 0:g.name,error:new Error(null==g?void 0:g.message)}),n.createElement(ze,null,n.createElement(v.IntersectionTracker,{...Nc},n.createElement(Lc,{...e,data:Hr,criteria:t.carSearchCriteria})));const C=n.createElement(n.Fragment,null,"CarSearchForm"===(null==T?void 0:T.searchForm.car.__typename)&&T.searchForm.car.rentalTypes&&n.createElement(Ic,{onTabSelected:e=>{f("car_search_form_rental_types_option_gt"===e?"car_search_form_rental_types_option_gt":"car_search_form_rental_types_option_car")},data:T.searchForm.car.rentalTypes}),"car_search_form_rental_types_option_car"===D?n.createElement("div",{id:"car_search_form_rental_types_option_car"},n.createElement(v.IntersectionTracker,{...Mc},n.createElement(Lc,{...e,data:null==T?void 0:T.searchForm.car,criteria:t.carSearchCriteria}))):n.createElement("div",{id:"car_search_form_rental_types_option_gt"},n.createElement(Xo,{inputs:{groundTransportationSearchCriteria:null},redirectToSearchResultOnSubmit:!0})));return o?n.createElement("div",{"data-stid":"search-form-sticky"},n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement("div",null,C)),n.createElement(d.rw,null,n.createElement(Be,null,C)))):C};Wc.displayName="sharedui-CarsSearchForm";var wc={egdsElementId:"search_form_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Activity.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Activity.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},Uc={egdsElementId:"search_button",primary:"Search",disabled:!1,accessibility:"Search",icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.Activity.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}},Hc={__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_form_field",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select a destination",validations:[{errorMessage:"Please select a destination",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Location selection",referrerId:"Web.Activity.Location.Open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"ACTIVITIES",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:286,typeaheadFeatures:"consistent_display|lxcategory",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:null,expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by destination",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Location close",referrerId:"Web.Activity.Location.Close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Location change",referrerId:"Web.Activity.Location.Change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},Vc=new Date,qc=new Date(Vc.getFullYear(),Vc.getMonth(),Vc.getDate()+14),zc=new Date(qc.getFullYear(),qc.getMonth(),qc.getDate()+1),Yc=new Date(Vc.getFullYear(),Vc.getMonth(),Vc.getDate()+328),Kc=qc.getMonth()+1,jc=zc.getMonth()+1,Xc={__typename:"EGDSSearchFormDatePickerField",egdsElementId:"date_form_field",label:"Dates",placeholder:"Dates",errorMessage:"End date must be after start date",validations:[{errorMessage:"Dates must be no more than 14 days apart",__typename:"EGDSMaxLengthInputValidation"},{errorMessage:"Please select valid dates",__typename:"EGDSRequiredInputValidation"}],action:{accessibility:null,analytics:{linkName:"Calendar selection",referrerId:"Web.Activity.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{flexibleDateContent:null,buttonText:"Done",buttonTextTemplate:null,clearButtonText:null,firstDayOfWeek:"SUN",maxNumberOfDaysSelected:14,sameDaySelectionAllowed:!0,selectedStartDate:{day:qc.getDate(),month:Kc,year:qc.getFullYear(),__typename:"Date"},startDatePlaceholderText:"Check-in",selectedEndDate:{day:zc.getDate(),month:jc,year:zc.getFullYear(),__typename:"Date"},endDatePlaceholderText:"Check-out",validDaysLowerBoundInclusive:{day:Vc.getDate(),month:Vc.getMonth(),year:Vc.getFullYear(),__typename:"Date"},validDaysUpperBoundInclusive:{day:Yc.getDate(),month:Yc.getMonth(),year:Yc.getFullYear(),__typename:"Date"},submitButtonAnalytics:{linkName:"Calendar submit",referrerId:"Web.Activity.Calendar.Submit",__typename:"ClientSideAnalytics"},nextButtonAnalytics:{linkName:"Calendar next",referrerId:"Web.Activity.Calendar.Next.Month.Click",__typename:"ClientSideAnalytics"},previousButtonAnalytics:{linkName:"Calendar previous",referrerId:"Web.Activity.Calendar.Previous.Month.Click",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"Calendar start",referrerId:"Web.Activity.Calendar.Start.Date.Click",__typename:"ClientSideAnalytics"},endDateButtonAnalytics:{linkName:"Calendar end",referrerId:"Web.Activity.Calendar.End.Date.Click",__typename:"ClientSideAnalytics"},clearDatesButtonAnalytics:null,showClearDatesButton:!1,__typename:"EGDSDateRangePicker"},__typename:"EGDSOpenDatePickerAction"}},Qc=u.gql`
  fragment EGDSPlainTextFragment on EGDSPlainText {
    text
  }
`,Zc=({data:e,inline:t,size:a})=>n.createElement(M.D,{inline:t,size:a},e.text);Zc.fragment=Qc,Zc.displayName="EGDSPlainText";var Jc=u.gql`
  fragment EGDSSpannableTextInlineContentFragment on EGDSSpannableTextItem {
    ...EGDSPlainTextFragment
    ...EGDSStandardLinkFragment
  }

  ${Zc.fragment}
  ${tl.fragment}
`,es=({data:e,inline:t})=>{switch(e.__typename){case"EGDSPlainText":return n.createElement(Zc,{data:e,inline:!0});case"EGDSStandardLink":return n.createElement(tl,{data:e});default:return null}};es.fragment=Jc,es.displayName="EGDSSpannableTextInlineContent";var ts=u.gql`
  fragment EGDSSpannableTextFragment on EGDSSpannableText {
    text
    inlineContent {
      ...EGDSPlainTextFragment
      ...EGDSStandardLinkFragment
    }
    __typename
  }
  ${Zc.fragment}
  ${tl.fragment}
`,as=({data:e})=>{var t,a;return(null==(t=null==e?void 0:e.inlineContent)?void 0:t.length)?n.createElement("div",{"data-stid":"egds-spannable-text"},null==(a=null==e?void 0:e.inlineContent)?void 0:a.map((e,t)=>n.createElement(n.Fragment,{key:`inline-content-${t}`},n.createElement(es,{data:e})," "))):null};as.displayName="EGDSSpannableText",as.fragment={...ts,__typename:"EGDSSpannableText"};var ns=(e=>(e.DESTINATION="destination_form_field",e.TRAVEL_DATES="EGDSDateRangePicker",e))(ns||{}),ls=(e,{name:t,value:a})=>{var n,l;const{primary:r}=e;if(t.startsWith(`${ro}-destination`))return{primary:{...r,destination:{...r.destination,regionName:a}}};if(t.startsWith(io))return{primary:{...r,destination:{...r.destination,regionId:a}}};if(t.startsWith(co)||t.startsWith(so)){const e=t.startsWith(`${co}`),n=e?Number(a):null,l=e?null:Number(a),i=n&&l?{latitude:n,longitude:l}:null;return{primary:{...r,destination:{...r.destination,coordinates:i}}}}const i=t.startsWith(Za.START_DATE_NAME_PREFIX),o=t.startsWith(Za.END_DATE_NAME_PREFIX);if(i||o){const[t,r,c]=a.split("-").map(e=>Number(e)),s={day:0,month:0,year:0},d={day:c,month:r,year:t};return{primary:{...e.primary,dateRange:{startDate:i?d:(null==(n=e.primary.dateRange)?void 0:n.startDate)||s,endDate:o?d:(null==(l=e.primary.dateRange)?void 0:l.endDate)||s}}}}return{...e}},rs={grow:1,minWidth:"zero",maxWidth:"full_width"},is={EGDSSearchFormLocationField:rs,EGDSSearchFormDatePickerField:rs,EGDSSearchFormButton:{grow:0},default:rs},os={[d.OB.SMALL]:{...is,EGDSSearchFormLocationField:{...rs,minWidth:"full_width"},EGDSSearchFormDatePickerField:{minWidth:"full_width"},EGDSSearchFormButton:{grow:1}},[d.OB.MEDIUM]:{...is,EGDSSearchFormLocationField:{...rs,minWidth:"third_width"},EGDSSearchFormDatePickerField:{grow:1,minWidth:"third_width"}},[d.OB.LARGE]:is,[d.OB.EXTRA_LARGE]:is},cs=[Oo,rn,vt],ss=u.gql`
  fragment ActivitySearchFormFragment on ActivitySearchForm {
    __typename
    egdsElementId
    actionURL
    errorSummary {
      ...EGDSErrorSummaryFragment
    }
    elements {
      __typename
      ...EGDSSearchFormLocationFieldFragment
      ...EGDSSearchFormDatePickerFieldFragment
    }
    search {
      ...EGDSSearchFormButtonFragment
    }
    subTitle {
      ...EGDSSpannableTextFragment
    }
    playback @include(if: $includePlayback) {
      ...EGDSSearchPlaybackFragment
    }
    searchLocation {
      ...SearchLocationFragment
    }
  }

  ${_t.fragment}
  ${Oo.fragment}
  ${rn.fragment}
  ${vt.fragment}
  ${Go.fragment}
  ${as.fragment}
  ${to}
`,ds=e=>{const{viewSize:t,fields:a,errorState:l,defaultValidationProps:r}=e;return n.createElement(F.X,{alignContent:"end",alignItems:"start",justifyContent:"center",wrap:"wrap",space:"three"},a.map((a,i)=>{const{__typename:o}=a,c=cs.find(({displayName:e})=>e===o);if(!c)return null;const s=((e,t)=>{var a;const n=os[t];return null!=(a=n[e])?a:n.default})(o,t),d=l.fieldsWithErrors.find(e=>e.__typename===o),u={...r,fieldError:d},m={...e,...u};return n.createElement(O.C,{key:`field_${o}_${i}`,...s},n.createElement("div",null,n.createElement(c,{...m,data:a})))}))},us=e=>{var t,a;const{data:l,onFieldChange:i,onSubmit:o,redirectToSearchResultOnSubmit:c,autoOpenPlayback:s,autoSubmitOnFieldChange:u,skipQuery:m}=e,p=(0,z.useLocalization)(),[y,_]=n.useState({EGDSSearchFormLocationField:null,EGDSSearchFormDatePickerField:null}),S=n.useRef(null),g={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]},[E,v]=n.useState(g),{egdsElementId:h,elements:D,search:f,actionURL:T,errorSummary:C,playback:b,subTitle:I,searchLocation:A}=l,F=null!=h?h:"search-activity-form",O=f?[...D,f]:D,[k,R]=n.useState(!s),[L,P]=n.useState(b);n.useEffect(()=>{b&&!m&&P(b)},[b,m]);const N={setFieldRefByTypename:n.useCallback((e,t)=>{_(a=>({...a,[e]:t}))},[])},M=D.find(e=>"EGDSSearchFormDatePickerField"===e.__typename),x="EGDSSearchFormDatePickerField"===(null==M?void 0:M.__typename)&&"EGDSOpenDatePickerAction"===(null==(t=M.action)?void 0:t.__typename)&&"EGDSDateRangePicker"===M.action.datePicker.__typename&&null!=(a=M.action.datePicker.maxNumberOfDaysSelected)?a:0,{displayErrorSummary:B,errorCount:$,errorLinkReference:W}=E,w=C&&B,U={...e,viewSize:d.OB.SMALL,fields:O,errorState:E,defaultValidationProps:N,searchLocationAnalytics:null==A?void 0:A.analytics,searchLocationContent:null==A?void 0:A.content};return n.createElement(G.m,{ref:S,id:F,name:F,method:"GET",action:T,onFieldChange:(e,t)=>{var a;i&&i(e,t),u&&(null==(a=S.current)||a.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))),P(t=>{const{DESTINATION:a,TRAVEL_DATES:n}=ns,{name:l,value:r}=e,i=l===a,o=l===n;if(!t)return null;if(!o&&!i)return{...t};const{primary:c,secondaries:s}=t,d=i?{...c,text:r}:c,u=((e,t,a)=>{const n=t.length>1,l={__typename:"EGDSPlainText",accessibility:null,text:""};if(e){const e=Vt(a,p);return n?[{...l,text:e},t[1]]:[{...l,text:e}]}return[...t]})(o,s,r);return{...t,primary:d,secondaries:u}}),R(!0)},onSubmit:e=>{var t;v(g);const a=Array.from(e.currentTarget.elements),n={location:{destination:a.find(mr("destination_form_field"))},dates:{startDateInput:a.find(mr("EGDSDateRangePicker-StartDate-date_form_field")),endDateInput:a.find(mr("EGDSDateRangePicker-EndDate-date_form_field")),config:{maxNumberOfDaysSelected:x,allowSameDateSelect:!0}}},l=dr(n),r=l.length;if(!(0===r))return v({fieldsWithErrors:l,errorCount:r,displayErrorSummary:!0,errorLinkReference:y[null==(t=l[0])?void 0:t.__typename]}),void e.preventDefault();const i=Array.from(e.currentTarget.elements),s=(e=>e.filter(e=>e.name.startsWith("EGDS")).reduce(ls,{primary:{},secondary:{}}))(i);if(o&&o(e,{activitySearchCriteria:s}),c){e.preventDefault();const t=Nl("ACTIVITIES",i);window.location.href=`${e.currentTarget.action}${t}`}},hasRequiredFieldIndicator:!0},I&&n.createElement(r.N,{padding:{blockend:"two"}},n.createElement(oe.s,{tag:"p"},I?n.createElement(as,{data:I}):"")),w&&n.createElement(_t,{data:C,errorCount:$,inputErrorRef:W}),n.createElement(r.N,{margin:{blockstart:w?"two":void 0}},n.createElement("div",null,n.createElement(d.LM,null,n.createElement(d.NP,null,L?n.createElement(Go,{data:L,display:k,onDisplayToggle:e=>{R(e)}},n.createElement(ds,{...U})):n.createElement(ds,{...U})),n.createElement(d.rw,null,n.createElement(ds,{...U,viewSize:d.OB.MEDIUM})),n.createElement(d.zQ,null,n.createElement(ds,{...U,viewSize:d.OB.LARGE}))))))};us.fragment=ss,us.displayName="ActivitySearchForm";var ms={SEARCH_TOOLS_ACTIVITY_SEARCH_FORM_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_ACTIVITY_SEARCH_FORM_QUERY_FAILURE")},ps={linkName:"Activity Search Form Fallback Presented",referrerId:"Web.Activity.Search.Form.Fallback.Presented"},ys={linkName:"Activity Search Form Presented",referrerId:"Web.Activity.Search.Form.Presented"},_s=u.gql`
  query ActivitySearchFormQuery(
    $context: ContextInput!
    $pageLocation: PageLocation
    $activitySearchCriteria: ActivitiySearchCriteriaInput
    $includePlayback: Boolean = false
  ) {
    searchForm(context: $context, pageLocation: $pageLocation) {
      activity(activitySearchCriteria: $activitySearchCriteria) {
        __typename
        ...ActivitySearchFormFragment
      }
    }
  }

  ${us.fragment}
`,Ss={rows:[{lineLength:"primary"},{lineLength:"primary"},{lineLength:"primary"}]},gs={rows:[{lineLength:"primary"}]},Es=e=>{const{inputs:t,skipSsr:a,skipQuery:l=!1,batchKey:r,includePlayback:i,autoSubmitOnFieldChange:o,pageLocation:c}=e,{context:s}=(0,m.R)(),y=(0,p.useLoggerEvents)(ms),_={...t,context:s,includePlayback:!!i,pageLocation:c},{data:S,error:g,loading:E,previousData:h}=(0,u.useQuery)(_s,{context:{batchKey:r,shouldLogPerformance:!0},variables:_,ssr:!a,skip:l}),D=null!=S?S:h;if(E&&!D)return n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(ot,{...Ss})),n.createElement(d.rw,null,n.createElement(ot,{...gs})));if(g&&y.SEARCH_TOOLS_ACTIVITY_SEARCH_FORM_QUERY_FAILURE.log({name:g.name,error:new Error(g.message)}),g||!D){const t={__typename:"ActivitySearchForm",egdsElementId:"activity-search-form",actionURL:"/things-to-do/search",errorSummary:wc,elements:[Hc,Xc],search:Uc,playback:null,subTitle:null,searchLocation:xr};if("ActivitySearchForm"===t.__typename)return n.createElement(ze,null,n.createElement(v.IntersectionTracker,{...ps},n.createElement(us,{...e,data:t})))}return D&&"ActivitySearchForm"===D.searchForm.activity.__typename?n.createElement(v.IntersectionTracker,{...ys},n.createElement(us,{...e,autoSubmitOnFieldChange:o,data:D.searchForm.activity})):null};Es.displayName="sharedui-ActivitySearchForm";var vs={__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_form_field",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select a destination",validations:[{errorMessage:"Please select a destination",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:null,analytics:{linkName:"Location open",referrerId:"Web.Cruises.Destinations.Open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"CRUISES",maxNumberOfResults:25,packageType:null,personalize:!1,regionType:null,typeaheadFeatures:null,isMultiLocation:!0,domain:"https://www.expedia.com",regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:null,expUserId:"-1",trending:!1},emptyResultsPlaceholder:"",categorize:!0,allowExactMatch:!1,listTitle:!0,selectedItemHeading:"Selected destinations",clearAllText:"Clear all",dismissButtonText:"Done",__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Location close",referrerId:"Web.Cruises.Destinations.Close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Location change",referrerId:"Web.Cruises.Destinations.Change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},hs=new Date,Ds=new Date(hs.getFullYear(),hs.getMonth(),hs.getDate()+2),fs=new Date(Ds.getFullYear(),Ds.getMonth(),Ds.getDate()+1),Ts=new Date(Ds.getFullYear(),Ds.getMonth(),Ds.getDate()+1e3),Cs={__typename:"EGDSSearchFormDatePickerField",egdsElementId:"date_form_field",label:"Departing between",placeholder:"Departing between",errorMessage:null,validations:null,action:{accessibility:null,analytics:{linkName:"cruise date open",referrerId:"Web.Cruises.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{flexibleDateContent:null,buttonText:"Done",buttonTextTemplate:null,clearButtonText:null,firstDayOfWeek:"SUN",maxNumberOfDaysSelected:null,sameDaySelectionAllowed:!1,selectedStartDate:{day:Ds.getDate(),month:Ds.getMonth()+1,year:Ds.getFullYear(),__typename:"Date"},startDatePlaceholderText:"Check In",selectedEndDate:{day:fs.getDate(),month:fs.getMonth()+1,year:fs.getFullYear(),__typename:"Date"},endDatePlaceholderText:"Check Out",validDaysLowerBoundInclusive:{day:Ds.getDate(),month:Ds.getMonth(),year:Ds.getFullYear(),__typename:"Date"},validDaysUpperBoundInclusive:{day:Ts.getDate(),month:Ts.getMonth(),year:Ts.getFullYear(),__typename:"Date"},submitButtonAnalytics:{linkName:"cruise date submit",referrerId:"Web.Cruises.Calendar.Submit",__typename:"ClientSideAnalytics"},nextButtonAnalytics:{linkName:"Calendar next",referrerId:"Web.Cruises.Calendar.Next.Month.Click",__typename:"ClientSideAnalytics"},previousButtonAnalytics:{linkName:"Calendar previous",referrerId:"Web.Cruises.Calendar.Previous.Month.Click",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"cruise date start date click",referrerId:"Web.Cruises.Calendar.Start.Date.Click",__typename:"ClientSideAnalytics"},endDateButtonAnalytics:{linkName:"cruise date end date click",referrerId:"Web.Cruises.Calendar.End.Date.Click",__typename:"ClientSideAnalytics"},clearDatesButtonAnalytics:null,showClearDatesButton:!1,__typename:"EGDSDateRangePicker"},__typename:"EGDSOpenDatePickerAction"}},bs={egdsElementId:"duration_span_selector_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Cruises.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Cruises.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},Is={__typename:"SearchFormDurationSpanField",egdsElementId:"duration_span_form_field",label:"Duration",labelTemplate:{__typename:"EGDSBasicLocalizedText",egdsElementId:"duration_span_form_field_label",models:[{key:"minNights",source:"minNights",__typename:"TemplateModel"},{key:"maxNights",source:"maxNights",__typename:"TemplateModel"}],template:"${minNights} – ${maxNights} nights",text:"3 – 9 nights"},leftIcon:{id:"access_time",__typename:"Icon"},action:{__typename:"OpenDurationSpanAction",analytics:{__typename:"ClientSideAnalytics",linkName:"Search form",referrerId:"Web.Cruises.Duration.Open"},durationSpan:{__typename:"DurationSpanSelector",egdsElementId:"duration_span_selector",title:"Duration",doneButton:{__typename:"UIPrimaryButton",egdsElementId:"duration_span_selector_done_button",primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Search form",referrerId:"Web.Cruises.Duration.Done",__typename:"ClientSideAnalytics"},action:null},closeButton:{__typename:"UITertiaryButton",egdsElementId:"duration_span_selector_close_button",primary:null,disabled:!1,accessibility:"Close duration dialog",icon:null,analytics:{linkName:"Search form",referrerId:"Web.Cruises.Duration.Close",__typename:"ClientSideAnalytics"},action:null},minDurationSpanLimit:{__typename:"EGDSNumberInputField",egdsElementId:"duration_span_selector_min_input",label:"Min nights",value:"3",placeholder:"Enter a number",errorMessage:"Change min nights",step:1,min:1,max:300},maxDurationSpanLimit:{__typename:"EGDSNumberInputField",egdsElementId:"duration_span_selector_max_input",label:"Max nights",value:"9",placeholder:"Enter a number",errorMessage:"Change max nights",step:1,min:1,max:300},validations:[{__typename:"DurationSpanInputValidation",errorMessage:"",type:"REQUIRED_VALUE",errorSummary:bs},{__typename:"DurationSpanInputValidation",errorMessage:"",type:"MINIMUM_VALUE",errorSummary:bs},{__typename:"DurationSpanInputValidation",errorMessage:"",type:"MAXIMUM_VALUE",errorSummary:bs},{__typename:"DurationSpanInputValidation",errorMessage:"",type:"MINIMUM_LESS_THAN_MAXIMUM",errorSummary:bs},{__typename:"DurationSpanInputValidation",errorMessage:"",type:"MAXIMUM_GREATER_THAN_MINIMUM",errorSummary:bs}]},accessibility:"Duration selector opened"}},As={egdsElementId:"search_button",primary:"Search",disabled:!1,accessibility:"Search",icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.Cruises.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}},Fs=(e,t)=>{const{min:a,max:n}=t;if("EGDSBasicLocalizedText"===(null==e?void 0:e.__typename)){const{template:t,models:l}=e;return((e,t,a)=>t.reduce((e,t)=>{const{key:n}=t,l=`\${${n}}`,r=Number(a[n]).toString();return e.replace(l,r)},e))(t,l,{[l[0].key]:a,[l[1].key]:n})}return""},Os=({minDurationInput:e,maxDurationInput:t,errorMessage:a,errorSummary:n,validationType:l,fieldUpdated:r})=>{const{value:i,min:o,max:c}=e,{value:s,min:d,max:u}=t;if(null===i||null===o||null===c||null===s||null===d||null===u)return null;const m=parseFloat(i),p=parseFloat(s),y={displayError:!1,message:a,validationType:l,errorType:"No Duration Input",errorCount:0,errorSummary:n},_=e=>m>p?{...y,errorType:e,errorCount:1}:null;switch(l){case"REQUIRED_VALUE":{const e=Number.isNaN(m),t=Number.isNaN(p),a=Number(e)+Number(t);let n="No Duration Input";return a?(e&&t&&(n="Both Duration Inputs"),e&&!t&&(n="Minimum Duration Input"),!e&&t&&(n="Maximum Duration Input"),{...y,errorType:n,errorCount:a}):null}case"MINIMUM_VALUE":{const e=m<o,t=p<d,a=Number(e)+Number(t);let n="No Duration Input";return a?(e&&t&&(n="Both Duration Inputs"),e&&!t&&(n="Minimum Duration Input"),!e&&t&&(n="Maximum Duration Input"),{...y,errorType:n,errorCount:a}):null}case"MAXIMUM_VALUE":{const e=m>c,t=p>u,a=Number(e)+Number(t);let n="No Duration Input";return a?(e&&t&&(n="Both Duration Inputs"),e&&!t&&(n="Minimum Duration Input"),!e&&t&&(n="Maximum Duration Input"),{...y,errorType:n,errorCount:a}):null}case"MINIMUM_LESS_THAN_MAXIMUM":return"MIN"===r?_("Minimum Duration Input"):null;case"MAXIMUM_GREATER_THAN_MINIMUM":return"MAX"===r?_("Maximum Duration Input"):null;default:return null}},ks=({minDurationInput:e,maxDurationInput:t,validations:a,currentError:n,fieldUpdated:l})=>{if(!a.length)return null;let r=null;for(let o=0;o<a.length;o+=1){const n=a[o];if("DurationSpanInputValidation"===n.__typename&&(null==n?void 0:n.errorSummary)){const{errorMessage:a,type:i,errorSummary:o}=n;if(r=Os({minDurationInput:e,maxDurationInput:t,errorMessage:a,errorSummary:o,validationType:i,fieldUpdated:l}),r)break}}if(!r)return null;const i=(null==n?void 0:n.validationType)===(null==r?void 0:r.validationType);if(i&&(null==n?void 0:n.displayError)){const{errorType:e,errorCount:t}=r;return{...n,errorType:e,errorCount:t}}return!i&&(null==n?void 0:n.displayError)?{...r,displayError:!0}:r},Gs=n.createContext({state:{}}),Rs=(e,t)=>{switch(t.type){case"Update Minimum Value":{const{min:a}=t,{minDurationInput:n,maxDurationInput:l,validations:r,error:i}=e,o={...n,value:a},c=ks({minDurationInput:o,maxDurationInput:l,currentError:i,validations:null!=r?r:[],fieldUpdated:"MIN"});return{...e,error:c,minDurationInput:o}}case"Update Maximum Value":{const{max:a}=t,{minDurationInput:n,maxDurationInput:l,validations:r,error:i}=e,o={...l,value:a},c=ks({minDurationInput:n,maxDurationInput:o,currentError:i,validations:null!=r?r:[],fieldUpdated:"MAX"});return{...e,error:c,maxDurationInput:o}}case"Show Error Message":if(e.error){const t={...e.error,displayError:!0};return{...e,error:t}}return e;case"Reset Duration Span State":return t.state;default:return e}},Ls=({children:e,durationSpan:t})=>{const[a,l]=n.useReducer(Rs,t,e=>{const{minDurationSpanLimit:t,maxDurationSpanLimit:a,validations:n}=e;return{minDurationInput:t,maxDurationInput:a,validations:null!=n?n:[],error:null}});return n.useMemo(()=>n.createElement(Gs.Provider,{value:{state:a,dispatch:l}},e),[a,l])},Ps=()=>n.useContext(Gs),Ns=({minDurationSpanLimit:e,maxDurationSpanLimit:t,durationSpanLimits:a,error:l,handleErrorInputRefUpdate:i,handleChange:o})=>{var c,s,d,u,m,p,y,_,S,g,E,v,h;const D=null!=(c=null==l?void 0:l.errorType)?c:"No Duration Input",f="Minimum Duration Input"===D||"Both Duration Inputs"===D,T="Maximum Duration Input"===D||"Both Duration Inputs"===D,C=null==l?void 0:l.validationType,b=e=>{if(!e.errorMessage)return null==l?void 0:l.message;return"MINIMUM_VALUE"===C||"MAXIMUM_VALUE"===C||"REQUIRED_VALUE"===C?e.errorMessage:null==l?void 0:l.message},I=parseFloat(a.min),A=parseFloat(a.max),k=n.useRef(null),G=n.useRef(null),R={id:null!=(s=e.egdsElementId)?s:"duration_span_field_min_input",label:null!=(d=e.label)?d:"",min:null!=(u=e.min)?u:void 0,max:null!=(m=e.max)?m:void 0,placeholder:null!=(p=e.placeholder)?p:void 0,step:null!=(y=e.step)?y:void 0,value:Number.isNaN(I)?void 0:I,invalid:f?b(e):void 0,domRef:k},L={id:null!=(_=t.egdsElementId)?_:"duration_span_field_max_input",label:null!=(S=t.label)?S:"",min:null!=(g=t.min)?g:void 0,max:null!=(E=t.max)?E:void 0,placeholder:null!=(v=t.placeholder)?v:void 0,step:null!=(h=t.step)?h:void 0,value:Number.isNaN(A)?void 0:A,invalid:T?b(t):void 0,domRef:G};return f&&i(k),!f&&T&&i(G),n.createElement("section",null,n.createElement(r.N,{padding:{blockstart:"four",inline:"four"}},n.createElement(F.X,{wrap:"wrap"},n.createElement(r.N,{padding:{inlineend:"one"}},n.createElement(O.C,{minWidth:"half_width"},n.createElement("div",null,n.createElement(Re.Y,{name:"min",hasBorder:!0,hasVisibleLabel:!0,onChange:o,...R,type:"number"})))),n.createElement(r.N,{padding:{inlinestart:"one"}},n.createElement(O.C,{minWidth:"half_width"},n.createElement("div",null,n.createElement(Re.Y,{name:"max",hasBorder:!0,hasVisibleLabel:!0,onChange:o,...L,type:"number"})))))))},Ms=u.gql`
  fragment DurationSpanSelectorFragment on DurationSpanSelector {
    egdsElementId
    title
    doneButton {
      __typename
      ...EGDSPrimaryButtonFragment
    }
    closeButton {
      __typename
      ...EGDSTertiaryButtonFragment
    }
    minDurationSpanLimit {
      __typename
      ...DurationSpanLimitFragment
    }
    maxDurationSpanLimit {
      __typename
      ...DurationSpanLimitFragment
    }
    validations {
      __typename
      errorMessage
      ... on DurationSpanInputValidation {
        errorMessage
        type
        errorSummary {
          ...EGDSErrorSummaryFragment
        }
      }
    }
  }

  fragment DurationSpanLimitFragment on EGDSNumberInputField {
    egdsElementId
    label
    value
    placeholder
    errorMessage
    step
    min
    max
  }

  ${cn.fragment}
  ${dn.fragment}
  ${_t.fragment}
`,xs=({onSave:e,data:t})=>{var a,l;const{doneButton:i,minDurationSpanLimit:o,maxDurationSpanLimit:c}=t,s=(0,v.useClickTracker)(),{state:u,dispatch:m}=Ps(),{minDurationInput:p,maxDurationInput:y,error:_}=u,[S,g]=n.useState(n.createRef()),[E,h]=n.useState({min:null!=(a=p.value)?a:"",max:null!=(l=y.value)?l:""});n.useEffect(()=>{var e,t;h({min:null!=(e=p.value)?e:"",max:null!=(t=y.value)?t:""})},[p,y]);const D=()=>{if(_)m({type:"Show Error Message"});else{if("UIPrimaryButton"===i.__typename&&i.analytics){const{referrerId:e,linkName:t}=i.analytics;s(e,t)}_||e(u)}};return n.createElement(n.Fragment,null,(null==_?void 0:_.displayError)&&n.createElement(r.N,{padding:{blockstart:"three"}},n.createElement("div",null,n.createElement(_t,{data:_.errorSummary,errorCount:_.errorCount,inputErrorRef:S}))),n.createElement(Ns,{minDurationSpanLimit:o,maxDurationSpanLimit:c,durationSpanLimits:E,error:_,handleErrorInputRefUpdate:e=>{g(e)},handleChange:e=>{const{name:t,value:a}=e.target;h({...E,[t]:a}),"min"!==t?"max"===t&&m({type:"Update Maximum Value",max:a}):m({type:"Update Minimum Value",min:a})}}),"UIPrimaryButton"===i.__typename&&n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(pe.O,{tag:"div",type:Ae.Q.BUTTON,color:Ae.B.SECONDARY},n.createElement(cn,{isFullWidth:!0,onClick:D,data:i}))),n.createElement(d.rw,null,n.createElement(r.N,{padding:{blockstart:"six"}},n.createElement("div",null,n.createElement(cn,{isFullWidth:!0,onClick:D,data:i})))),n.createElement(d.zQ,null,n.createElement(r.N,{padding:{blockstart:"six"}},n.createElement(F.X,{justifyContent:"end"},n.createElement(O.C,null,n.createElement(cn,{isFullWidth:!1,onClick:D,data:i})))))))};xs.displayName="DurationSpanSelector",xs.fragment=Ms;var Bs="SearchFormDurationSpanField",$s=`${Bs}-Max`,Ws=`${Bs}-Min`,ws=({action:e,labelTemplate:t,egdsElementId:a="duration_form_field",label:l="",leftIconId:i="access_time"})=>{var o,s,u,m,p;const{analytics:y,durationSpan:_}=e,{closeButton:S,title:g}=_,{state:E,dispatch:h}=Ps(),[D,f,T]=(0,K.useDialog)("duration-span-dialog"),C=(0,v.useClickTracker)(),b=n.useRef(null),[I,A]=n.useState(!1),[F,O]=n.useState({...E,durationSummary:t.text,shouldFireChangeEvent:!1}),k=(0,G.j)(_.__typename,e=>e),{durationSummary:R,shouldFireChangeEvent:L}=F;n.useEffect(()=>{L&&(O(e=>({...e,shouldFireChangeEvent:!1})),ft(R,k))},[R,L,k]);const P=(e,a)=>{const n=Fs(t,a);O({...e,durationSummary:n,shouldFireChangeEvent:!0})};return"UITertiaryButton"!==S.__typename?null:n.createElement(n.Fragment,null,n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(n.Fragment,null,n.createElement(Ce.H,{id:`${a}_input`,name:`${a}_input`,label:l,value:R,icon:i,onClick:()=>{const{referrerId:e,linkName:t}=y;C(e,t),f.openDialog()},domRef:b}),n.createElement(J.K,{isVisible:D},n.createElement(T,null,n.createElement(ee.t,{type:"full",triggerRef:b,autoFocus:!0,isVisible:!0,returnFocusOnClose:!0},n.createElement(c.p,{id:`${a}_dialog_toolbar`,toolbarType:"standard",toolbarTitle:g,toolbarTitleTag:"h2",navigationContent:{onClick:()=>{var e,t,a;if("UITertiaryButton"===S.__typename&&S.analytics){const{referrerId:e,linkName:t}=S.analytics;C(e,t)}if(E.error)return void h({type:"Show Error Message"});const{minDurationInput:n,maxDurationInput:l}=E;P(E,{min:null!=(e=n.value)?e:"",max:null!=(t=l.value)?t:""}),h({type:"Reset Duration Span State",state:E}),null==(a=b.current)||a.focus(),f.closeDialog()},navIconLabel:null!=(o=null==S?void 0:S.accessibility)?o:void 0,navType:"close"}}),n.createElement(Z.Y,{padded:!1},n.createElement(G.m,{hasRequiredFieldIndicator:!0},n.createElement(xs,{onSave:e=>{var t,a,n;const{minDurationInput:l,maxDurationInput:r}=e;P(e,{min:null!=(t=null==l?void 0:l.value)?t:"",max:null!=(a=null==r?void 0:r.value)?a:""}),null==(n=b.current)||n.focus(),f.closeDialog()},data:_})))))))),n.createElement(d.rw,null,n.createElement(Ee.p,{isOpen:I,onDismiss:()=>{var e,t,a;if(E.error)return A(e=>!e),void h({type:"Show Error Message"});const{minDurationInput:n,maxDurationInput:l}=E;P(E,{min:null!=(e=n.value)?e:"",max:null!=(t=l.value)?t:""}),h({type:"Reset Duration Span State",state:E}),null==(a=b.current)||a.focus()},onTriggerClick:()=>{A(e=>!e)}},n.createElement(ve.N,null,n.createElement(Ce.H,{id:`${a}_input`,name:`${a}_input`,label:l,value:R,icon:i,onClick:()=>{const{referrerId:e,linkName:t}=y;C(e,t)},domRef:b})),n.createElement(he.K,{autoPosition:!0,position:he.C.RIGHT,width:375},n.createElement(r.N,{padding:{inline:"four"}},n.createElement("div",{"data-stid":"duration-span-menu"},n.createElement(r.N,{padding:{blockstart:"three"}},n.createElement(N.M,{size:5,tag:"h5"},g)),n.createElement(xs,{onSave:e=>{var t,a,n;const{minDurationInput:l,maxDurationInput:r}=e;P(e,{min:null!=(t=l.value)?t:"",max:null!=(a=r.value)?a:""}),A(e=>!e),null==(n=b.current)||n.focus()},data:_}))))))),n.createElement("input",{type:"hidden","data-stid":$s,name:`${$s}-${a}`,value:null!=(u=null==(s=F.maxDurationInput)?void 0:s.value)?u:""}),n.createElement("input",{type:"hidden","data-stid":Ws,name:`${Ws}-${a}`,value:null!=(p=null==(m=F.minDurationInput)?void 0:m.value)?p:""}))},Us=u.gql`
  fragment SearchFormDurationSpanFieldFragment on SearchFormDurationSpanField {
    __typename
    egdsElementId
    label
    labelTemplate {
      ...TemplateEGDSBasicLocalizedTextFragment
    }
    leftIcon {
      id
    }
    action {
      __typename
      ...OpenDurationSpanActionFragment
    }
  }

  fragment TemplateEGDSBasicLocalizedTextFragment on EGDSBasicLocalizedText {
    __typename
    egdsElementId
    models {
      key
      source
    }
    template
    text
  }

  fragment OpenDurationSpanActionFragment on OpenDurationSpanAction {
    __typename
    analytics {
      __typename
      linkName
      referrerId
    }
    durationSpan {
      __typename
      ...DurationSpanSelectorFragment
    }
    accessibility
  }

  ${xs.fragment}
`,Hs=({data:e})=>{const{egdsElementId:t,label:a,labelTemplate:l,leftIcon:r,action:i}=e;return"OpenDurationSpanAction"!==(null==i?void 0:i.__typename)||"EGDSBasicLocalizedText"!==(null==l?void 0:l.__typename)?null:n.createElement(Ls,{durationSpan:i.durationSpan},n.createElement(ws,{egdsElementId:t,label:null!=a?a:"",labelTemplate:l,leftIconId:null==r?void 0:r.id,action:i}))};Hs.displayName="SearchFormDurationSpanField",Hs.fragment=Us;var Vs=(e=>(e.DESTINATION="destination_form_field",e.DATES="EGDSDateRangePicker",e.DURATION="DurationSpanSelector",e))(Vs||{}),qs=(e,t,a)=>{const[n,l]=a.split("-"),r={[t[0].key]:n,[t[1].key]:l};return t.reduce((e,t)=>{const{key:a}=t,n=`\${${a}}`;return e.replace(n,r[a])},e)},zs=(e,t,a)=>{const[n,l]=a.split("–"),r=1===Number(l)?e[Number(l)].template:e[4].template;return qs(r,t,`${n} - ${l}`)},Ys={grow:5,minWidth:200,maxWidth:"full_width"},Ks={EGDSSearchFormLocationField:{minWidth:200,maxWidth:288,grow:5},EGDSSearchFormDatePickerField:Ys,SearchFormDurationSpanField:Ys,EGDSSearchFormButton:{grow:0},default:Ys},js={[d.OB.SMALL]:{...Ks,EGDSSearchFormLocationField:Ys,EGDSSearchFormButton:{grow:1,minWidth:315},default:Ys},[d.OB.MEDIUM]:{...Ks,EGDSSearchFormLocationField:{minWidth:160,grow:5},EGDSSearchFormDatePickerField:{minWidth:160,grow:5},SearchFormDurationSpanField:{minWidth:150,grow:5},EGDSSearchFormButton:{grow:0,minWidth:32}},[d.OB.LARGE]:{...Ks},[d.OB.EXTRA_LARGE]:Ks},Xs=[Oo,rn,Hs,vt],Qs=u.gql`
  fragment CruiseSearchFormFragment on CruiseSearchForm {
    __typename
    egdsElementId
    actionURL
    elements {
      __typename
      ...EGDSSearchFormLocationFieldFragment
      ...EGDSSearchFormDatePickerFieldFragment
      ...SearchFormDurationSpanFieldFragment
    }
    search {
      ...EGDSSearchFormButtonFragment
    }
    playback @include(if: $includePlayback) {
      ...EGDSSearchPlaybackFragment
    }
    searchLocation {
      ...SearchLocationFragment
    }
    expertAdviceInfo @skip(if: $skipExpertAdviceInfo)
  }

  ${Oo.fragment}
  ${rn.fragment}
  ${vt.fragment}
  ${Hs.fragment}
  ${Go.fragment}
  ${to}
`,Zs={[Oo.displayName]:{}},Js=({viewSize:e,fields:t,searchLocationContent:a})=>n.createElement(F.X,{alignContent:"end",alignItems:"start",justifyContent:"center",wrap:"wrap",space:"three"},t.map((t,l)=>{const{__typename:r}=t,i=Xs.find(({displayName:e})=>e===r);if(!i)return null;const o=((e,t)=>{var a;const n=js[t];return null!=(a=n[e])?a:n.default})(r,e),c={...Zs[r],searchLocationContent:a,setFieldRefByTypename:()=>{}};return n.createElement(O.C,{key:`field_${r}_${l}`,...o},n.createElement("div",null,n.createElement(i,{data:t,...c})))})),ed=e=>{const{data:t,onFieldChange:a,triggerSubmitOnFieldChange:l}=e,i=(0,z.useLocalization)(),o=n.useRef(null),{egdsElementId:c,elements:s,search:u,actionURL:m,playback:p,expertAdviceInfo:y,searchLocation:_}=t,[S,g]=n.useState(p),[E,v]=n.useState(!0);n.useEffect(()=>{g(p)},[p]);const h=null!=c?c:"cruise_search_form",D={fields:u?[...s,u]:s,searchLocationAnalytics:null==_?void 0:_.analytics,searchLocationContent:null==_?void 0:_.content};return n.createElement(G.m,{ref:o,id:h,name:h,method:"GET",action:m,onFieldChange:(e,t)=>{var n;a&&a(e,t),l&&(null==(n=o.current)||n.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))),g(t=>{if(!t)return null;const{DESTINATION:a,DATES:n,DURATION:l}=Vs,{primary:r,secondaries:o}=t,c=e.value,s=e.name===a?{...r,text:c}:r,[d,u]=o,m=e.name===n&&"EGDSBasicLocalizedText"===d.__typename?{...d,text:Vt(c,i),template:d.template,accessibilityTemplate:qs(d.template,d.models,Vt(c,i)),models:d.models,egdsElementId:d.egdsElementId}:d,p=e.name===l&&"EGDSCardinalLocalizedText"===u.__typename?{...u,text:c,accessibilityText:zs(u.templates,u.models,c.substring(0,c.lastIndexOf(" "))),models:u.models,templates:u.templates,egdsElementId:u.egdsElementId}:u;return{...t,primary:s,secondaries:[m,p]}})},onSubmit:e=>{e.preventDefault();const t=Array.from(e.currentTarget.elements),a=Nl("CRUISES_ODYSSEUS",t),n=e.currentTarget.action.includes("?")?"&":"?";window.location.href=`${e.currentTarget.action}${n}${a}`},hasRequiredFieldIndicator:!0},y&&n.createElement(r.N,{padding:{blockend:"two"}},n.createElement(oe.s,{tag:"p"},y)),n.createElement(r.N,null,n.createElement("div",null,n.createElement(d.LM,null,n.createElement(d.NP,null,S?n.createElement(Go,{data:S,display:E,onDisplayToggle:e=>{v(e)}},n.createElement(Js,{viewSize:d.OB.SMALL,...D})):n.createElement(Js,{viewSize:d.OB.SMALL,...D})),n.createElement(d.rw,null,n.createElement(Js,{viewSize:d.OB.MEDIUM,...D})),n.createElement(d.zQ,null,n.createElement(Js,{viewSize:d.OB.LARGE,...D}))))))};ed.fragment=Qs,ed.displayName="CruiseSearchForm";var td={SEARCH_TOOLS_CRUISES_SEARCH_FORM_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_CRUISES_SEARCH_FORM_QUERY_FAILURE")},ad={linkName:"Cruises Search Form Fallback Presented",referrerId:"Web.Cruises.Search.Form.Fallback.Presented"},nd={linkName:"Cruises Search Form Presented",referrerId:"Web.Cruises.Search.Form.Presented"},ld=u.gql`
  query CruiseSearchFormQuery(
    $context: ContextInput!
    $pageLocation: PageLocation
    $cruiseSearchCriteriaInput: CruiseSearchCriteriaInput
    $includePlayback: Boolean = false
    $skipExpertAdviceInfo: Boolean = false
  ) {
    searchForm(context: $context, pageLocation: $pageLocation) {
      cruise(cruiseSearchCriteria: $cruiseSearchCriteriaInput) {
        __typename
        ...CruiseSearchFormFragment
      }
    }
  }

  ${ed.fragment}
`,rd={rows:[{lineLength:"primary"},{lineLength:"primary"},{lineLength:"primary"}]},id={rows:[{lineLength:"primary"}]},od=e=>{const{inputs:t,skipSsr:a,onFieldChange:l,triggerSubmitOnFieldChange:r,batchKey:i,includePlayback:o,skipQuery:c=!1,pageLocation:s}=e,{context:y}=(0,m.R)(),_=(0,p.useLoggerEvents)(td),S={...t,context:y,includePlayback:!!o,pageLocation:s},[g,E]=n.useState(c),h=(0,u.useQuery)(ld,{context:{batchKey:i,shouldLogPerformance:!0},variables:S,ssr:!a,skip:g}),{error:D,loading:f,previousData:T}=h;let{data:C}=h;if(n.useEffect(()=>{E(c&&!f)},[c,f]),f&&!C)return n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(ot,{...rd})),n.createElement(d.rw,null,n.createElement(ot,{...id})));if(!C&&T&&(C=T),D&&_.SEARCH_TOOLS_CRUISES_SEARCH_FORM_QUERY_FAILURE.log({name:D.name,error:new Error(D.message)}),D||!C){const e={__typename:"CruiseSearchForm",egdsElementId:"cruise_search_form",actionURL:"/swift/cruise?siid=1207601",elements:[vs,Cs,Is],search:As,playback:null,expertAdviceInfo:"For expert cruise advice, call 1-800-916-8586.",searchLocation:xr};if("CruiseSearchForm"===e.__typename)return n.createElement(ze,null,n.createElement(v.IntersectionTracker,{...ad},n.createElement(ed,{data:e,onFieldChange:l,triggerSubmitOnFieldChange:r})))}return C&&"CruiseSearchForm"===C.searchForm.cruise.__typename?n.createElement(v.IntersectionTracker,{...nd},n.createElement(ed,{data:C.searchForm.cruise,onFieldChange:l,triggerSubmitOnFieldChange:r})):null};od.displayName="sharedui-CruiseSearchForm";var cd={egdsElementId:"cabin_class",value:"COACH",label:"Cabin class",placeholder:"Economy",leftIcon:{id:"airline_seat_recline_extra",title:null,token:"icon__airline_seat_recline_extra",description:"airline_seat_recline_extra",size:null,__typename:"Icon"},action:{analytics:{linkName:"Open Cabin Class Selector",referrerId:"Web.package.cabin.class.selector.open",__typename:"ClientSideAnalytics"},options:[{label:"Economy",selected:!0,value:"COACH",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Economy class selected",referrerId:"Web.package.cabin.class.economy.selected",__typename:"ClientSideAnalytics"}},{label:"Premium economy",selected:!1,value:"ECONOMY_PREMIUM",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Premium economy class selected",referrerId:"Web.package.cabin.class.premium.economy.selected",__typename:"ClientSideAnalytics"}},{label:"Business class",selected:!1,value:"BUSINESS",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Business class selected",referrerId:"Web.package.cabin.class.business.class.selected",__typename:"ClientSideAnalytics"}},{label:"First class",selected:!1,value:"FIRST_CLASS",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"First class selected",referrerId:"Web.package.cabin.class.first.class.selected",__typename:"ClientSideAnalytics"}}],__typename:"EGDSSearchFormSelectAction"},__typename:"EGDSSearchFormInputField"},sd=e=>({__typename:"EGDSBasicPill",accessibility:null,disabled:!1,name:"package-type-selector-car",primary:"Car",selected:e,selectedText:"Car added",value:null,icon:null,selectAnalytics:{linkName:"Packages - Pill selected or deselected",referrerId:"Web.package.selection.car.selected",__typename:"ClientSideAnalytics"},deselectAnalytics:{linkName:"Packages - Pill selected or deselected",referrerId:"Web.package.selection.car.deselected",__typename:"ClientSideAnalytics"}}),dd=e=>({__typename:"EGDSBasicPill",accessibility:null,disabled:!1,name:"package-type-selector-flight",primary:"Flight",selected:e,selectedText:"Flight added",value:null,icon:null,selectAnalytics:{linkName:"Packages - Pill selected or deselected",referrerId:"Web.package.selection.flight.selected",__typename:"ClientSideAnalytics"},deselectAnalytics:{linkName:"Packages - Pill selected or deselected",referrerId:"Web.package.selection.flight.deselected",__typename:"ClientSideAnalytics"}}),ud=e=>({__typename:"EGDSBasicPill",accessibility:null,disabled:!1,name:"package-type-selector-stay",primary:"Stay",selected:e,selectedText:"Stay added",value:null,icon:null,selectAnalytics:{linkName:"Packages - Pill selected or deselected",referrerId:"Web.package.selection.stay.selected",__typename:"ClientSideAnalytics"},deselectAnalytics:{linkName:"Packages - Pill selected or deselected",referrerId:"Web.package.selection.stay.deselected",__typename:"ClientSideAnalytics"}}),md=[{__typename:"EGDSSearchFormLocationsField"},{__typename:"EGDSSearchFormDatePickerField"},{__typename:"EGDSSearchFormTravelersField"}],pd=new Map([["FLIGHT_HOTEL",{car:sd(!1),flight:dd(!0),stay:ud(!0),__typename:"PackagesSearchFormSelection"}],["FLIGHT_CAR",{car:sd(!0),flight:dd(!0),stay:ud(!1),__typename:"PackagesSearchFormSelection"}],["FLIGHT_HOTEL_CAR",{car:sd(!0),flight:dd(!0),stay:ud(!0),__typename:"PackagesSearchFormSelection"}],["HOTEL_CAR",{car:sd(!0),flight:dd(!1),stay:ud(!0),__typename:"PackagesSearchFormSelection"}]]),yd=["stay","flight","car"],_d=[{stay:!0,flight:!0,car:!0,type:"FLIGHT_HOTEL_CAR"},{stay:!0,flight:!0,car:!1,type:"FLIGHT_HOTEL"},{stay:!1,flight:!0,car:!0,type:"FLIGHT_CAR"},{stay:!0,flight:!1,car:!0,type:"HOTEL_CAR"}],Sd=u.gql`
  fragment PackagesSearchFormSelectionFragment on PackagesSearchFormSelection {
    car {
      ...EGDSPillFragment
    }
    flight {
      ...EGDSPillFragment
    }
    stay {
      ...EGDSPillFragment
    }
  }

  ${Oa.fragment}
`,gd=e=>{var t,a;const{data:l,onPackageTypeChange:r}=e,{car:i,flight:o,stay:c}=l,s={stay:!!(null==c?void 0:c.selected),flight:!!(null==o?void 0:o.selected),car:!!(null==i?void 0:i.selected)},[,d]=n.useState({...s,type:null!=(a=null==(t=_d.find(e=>yd.every(t=>e[t]===s[t])))?void 0:t.type)?a:null}),u=e=>{const{name:t,checked:a}=e.target,n=t.split("package-type-selector-")[1];d(e=>{var t,l;const i={...e,[n]:a},o=null!=(l=null==(t=_d.find(e=>yd.every(t=>e[t]===i[t])))?void 0:t.type)?l:null;return null==r||r(o),{...i,type:o}})};if(!c||!o)return null;const m=i?[c,o,i]:[c,o];return n.createElement(n.Fragment,null,m.map(e=>n.createElement(Oa,{key:e.name,data:e,onChange:u})))};gd.displayName="PackagesSearchFormSelection",gd.fragment=Sd;var Ed=u.gql`
  query PackagesOptionsQuery(
    $context: ContextInput!
    $packageSearchCriteria: PackageSearchCriteriaInput
    $packageShoppingCriteria: ProductShoppingCriteriaInput
    $packageType: PackageType
    $includePackageType: Boolean = false
  ) {
    searchForm(context: $context) {
      packages(packageSearchCriteria: $packageSearchCriteria, packageShoppingCriteria: $packageShoppingCriteria, packageType: $packageType) {
        __typename
        ... on PackagesSearchForm {
          packageSelection @include(if: $includePackageType) {
            ...PackagesSearchFormSelectionFragment
          }
          directFlightsOnly {
            ...EGDSPillFragment
          }
        }
        elements {
          ...EGDSSearchFormInputFieldFragment
        }
      }
    }
  }

  ${gd.fragment}
  ${Sn.fragment}
  ${Oa.fragment}
`,vd=e=>{var t;const{inputs:a,skipSsr:l,batchKey:i,onFieldChange:o,onCabinClassSelect:c,onPackageTypeChange:s,handleDirectFlightsOnlySwitch:d,showCabinClass:p,showDirectFlightsOnly:y,skipQuery:_}=e,{includePackageType:S,packageType:g}=a,{context:E}=(0,m.R)(),v={...a,context:E},{data:h,error:D,loading:f,previousData:T}=(0,u.useQuery)(Ed,{context:{batchKey:i,shouldLogPerformance:!0},variables:v,ssr:!l,skip:_});let C=T||h;if(n.useEffect(()=>{var e;const{packages:t}=null!=(e=null==C?void 0:C.searchForm)?e:{};"PackagesSearchForm"===(null==t?void 0:t.__typename)&&t.directFlightsOnly&&d&&d(t.directFlightsOnly.selected)},[null==C?void 0:C.searchForm,d]),f&&!C)return n.createElement(r.N,{padding:{blockstart:"three",blockend:"three"}},n.createElement("div",null,n.createElement(k.R,{animation:!0,type:"line",lineLength:"secondary"})));if(!D&&C||(C=((e,t)=>{let a=null,n=[...md];return t&&e&&(a=pd.get(e)||null),e&&"HOTEL_CAR"!==e&&(n=[...md,cd]),{searchForm:{packages:{__typename:"PackagesSearchForm",packageSelection:a,elements:n,directFlightsOnly:null},__typename:"SearchFormResults"}}})(g,S)),"PackagesSearchForm"!==(null==(t=null==C?void 0:C.searchForm)?void 0:t.packages.__typename))return null;const{elements:b}=C.searchForm.packages,{directFlightsOnly:I}=C.searchForm.packages;return n.createElement(r.N,{padding:{blockend:"three"}},n.createElement(F.X,{space:"two",wrap:"wrap"},S&&C.searchForm.packages.packageSelection&&n.createElement(O.C,null,n.createElement(G.m,{onFieldChange:(e,t)=>{null==o||o(e,t)},"data-stid":"package-type-selector"},n.createElement(gd,{...e,data:C.searchForm.packages.packageSelection,onPackageTypeChange:s}))),p&&n.createElement(O.C,null,n.createElement("div",null,n.createElement(G.m,{onFieldChange:e=>{null==c||c(e)}},b.map((e,t)=>"EGDSSearchFormInputField"===e.__typename&&n.createElement(Sn,{key:t,data:e,triggerType:"pill"}))))),I&&y&&n.createElement(O.C,null,n.createElement("div",null,n.createElement(Oa,{data:I,onChange:e=>{null==d||d(e.target.checked)}})))))};vd.displayName="sharedui-PackagesOptions";var hd=[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],Dd=[{category:"ZERO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"ONE",template:"${travelerCount} traveler",__typename:"CardinalTemplate"},{category:"TWO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"FEW",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"MANY",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"OTHER",template:"${travelerCount} travelers",__typename:"CardinalTemplate"}],fd=[{category:"ZERO",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"ONE",template:"${roomCount} room",__typename:"CardinalTemplate"},{category:"TWO",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"FEW",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"MANY",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"OTHER",template:"${roomCount} rooms",__typename:"CardinalTemplate"}],Td={egdsElementId:"search_form_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Packages.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Packages.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:hd,__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},Cd={egdsElementId:"search_button",primary:"Search",disabled:!1,accessibility:"Search",icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.Packages.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}},bd={noSelectionMessage:{body:"To start building your trip, choose two or more items",heading:"Please select two or more items",icon:{id:"search",title:null,token:"icon__search",description:"search",size:null,__typename:"Icon"},__typename:"UIEmptyState"},__typename:"PackagesSearchFormSelection"},Id=new Map([["FLIGHT_CAR","fc"],["FLIGHT_HOTEL_CAR","fhc"],["FLIGHT_HOTEL","fh"],["HOTEL_CAR","hc"]]),Ad=(e="HOTEL_CAR")=>({__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_select",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select a destination",validations:[{errorMessage:"Please select a destination",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Destination Selection",referrerId:"Web.package.destination.location.change",__typename:"ClientSideAnalytics"},info:{client:"Packages.Search",drivable:!1,isDestination:!0,lineOfBusiness:"PACKAGES",maxNumberOfResults:8,packageType:Id[e]||"hc",personalize:!0,regionType:863,typeaheadFeatures:"ta_hierarchy|postal_code|google|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:Id[e]||"hc",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Destination Selection",referrerId:"Web.package.destination.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Destination change",referrerId:"Web.package.destination.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null}),Fd=e=>({__typename:"EGDSSearchFormLocationsField",egdsElementId:"locations",origin:{__typename:"EGDSSearchFormLocationField",egdsElementId:"origin_select",label:"Leaving from",placeholder:"Leaving from",value:null,errorMessage:"Please select an origin",validations:[{errorMessage:"Please select an origin",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Origin Selection",referrerId:"Web.package.origin.location.open",__typename:"ClientSideAnalytics"},info:{client:"Packages.Search",drivable:!1,isDestination:!1,lineOfBusiness:"PACKAGES",maxNumberOfResults:8,packageType:Id.get(e)||"hc",personalize:!0,regionType:863,typeaheadFeatures:"ta_hierarchy|postal_code|google|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:Id.get(e)||"hc",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Origin Selection",referrerId:"Web.package.origin.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Origin change",referrerId:"Web.package.origin.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},destination:Ad(e),horizontalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_horiz",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"package.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},verticalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_vert",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"package.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},validations:[{errorMessage:"Please make sure your departure and arrival cities are different",__typename:"EGDSSameValueInputValidation"}]}),Od=new Date,kd=new Date(Od.getFullYear(),Od.getMonth(),Od.getDate()+14),Gd=new Date(kd.getFullYear(),kd.getMonth(),kd.getDate()+1),Rd=new Date(Od.getFullYear(),Od.getMonth(),Od.getDate()+332),Ld=new Date(Od.getFullYear(),Od.getMonth(),Od.getDate()+2),Pd=kd.getMonth()+1,Nd=Gd.getMonth()+1,Md={__typename:"EGDSSearchFormDatePickerField",egdsElementId:"date-range-select",label:"Dates",placeholder:"Dates",errorMessage:"Please select valid dates",validations:[{errorMessage:"Dates must be no more than 29 days apart",__typename:"EGDSMaxLengthInputValidation"},{errorMessage:"Please select valid dates",__typename:"EGDSRequiredInputValidation"},{__typename:"EGDSSameValueInputValidation"}],action:{accessibility:null,analytics:{linkName:"Packages - Calendar Selection",referrerId:"Web.packages.calendar.selection",__typename:"ClientSideAnalytics"},datePicker:{flexibleDateContent:null,buttonText:"Done",buttonTextTemplate:null,clearButtonText:null,firstDayOfWeek:"SUN",maxNumberOfDaysSelected:29,sameDaySelectionAllowed:!1,selectedStartDate:{day:kd.getDate(),month:Pd,year:kd.getFullYear(),__typename:"Date"},startDatePlaceholderText:"Check-in",selectedEndDate:{day:Gd.getDate(),month:Nd,year:Gd.getFullYear(),__typename:"Date"},endDatePlaceholderText:"Check-out",validDaysLowerBoundInclusive:{day:Ld.getDate(),month:Ld.getMonth(),year:Ld.getFullYear(),__typename:"Date"},validDaysUpperBoundInclusive:{day:Rd.getDate(),month:Rd.getMonth(),year:Rd.getFullYear(),__typename:"Date"},submitButtonAnalytics:{linkName:"Packages - Calendar Submit",referrerId:"Web.packages.calendar.submit",__typename:"ClientSideAnalytics"},nextButtonAnalytics:{linkName:"Calendar next",referrerId:"Web.Packages.Calendar.Next.Month.Click",__typename:"ClientSideAnalytics"},previousButtonAnalytics:{linkName:"Calendar previous",referrerId:"Web.Packages.Calendar.Previous.Month.Click",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"Packages - Calendar Start Date",referrerId:"Web.packages.calendar.start.date.click",__typename:"ClientSideAnalytics"},endDateButtonAnalytics:{linkName:"Packages - Calendar End Date",referrerId:"Web.packages.calendar.end.date.click",__typename:"ClientSideAnalytics"},clearDatesButtonAnalytics:null,showClearDatesButton:!1,__typename:"EGDSDateRangePicker"},__typename:"EGDSOpenDatePickerAction"}},xd={__typename:"EGDSSearchFormInputField",egdsElementId:"cabin_class",value:"COACH",label:"Cabin class",placeholder:"Economy",leftIcon:{id:"airline_seat_recline_extra",title:null,token:"icon__airline_seat_recline_extra",description:"airline_seat_recline_extra",size:null,__typename:"Icon"},action:{analytics:{linkName:"Open Cabin Class Selector",referrerId:"Web.package.cabin.class.selector.open",__typename:"ClientSideAnalytics"},options:[{label:"Economy",selected:!0,value:"COACH",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Economy class selected",referrerId:"Web.package.cabin.class.economy.selected",__typename:"ClientSideAnalytics"}},{label:"Premium economy",selected:!1,value:"ECONOMY_PREMIUM",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Premium economy class selected",referrerId:"Web.package.cabin.class.premium.economy.selected",__typename:"ClientSideAnalytics"}},{label:"Business class",selected:!1,value:"BUSINESS",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Business class selected",referrerId:"Web.package.cabin.class.business.class.selected",__typename:"ClientSideAnalytics"}},{label:"First class",selected:!1,value:"FIRST_CLASS",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"First class selected",referrerId:"Web.package.cabin.class.first.class.selected",__typename:"ClientSideAnalytics"}}],__typename:"EGDSSearchFormSelectAction"}},Bd=[{errorMessage:"We allow up to 6 travelers per booking.",maxCount:6,type:"MAX_TRAVELERS",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"We allow up to 6 travelers per booking.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Packages.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"There must be at least 1 traveler (age 12+) for each infant in a lap.",maxCount:null,type:"MANY_INFANT_ON_LAP",infantsInSeatPerAdult:2,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"There must be at least 1 traveler (age 12+) for each infant in a lap.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Packages.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"Provide the age of the child.",maxCount:null,type:"CHILD_AGE_REQUIRED",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Packages.Traveler.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Packages.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:hd,__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"There must be at least 1 traveler (age 12+) for every 2 infants in a seat.",maxCount:null,type:"MANY_INFANT_IN_SEAT",infantsInSeatPerAdult:2,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"There must be at least 1 traveler (age 12+) for every 2 infants in a seat.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Packages.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"}],$d=(e,t)=>({label:t||e,value:e,egdsElementId:null,changeAnalytics:{linkName:"Travelers age update",referrerId:`Web.Packages.Traveler.Child.Update.Age.${e}`,__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"}),Wd={__typename:"EGDSSearchFormTravelersField",action:{analytics:{linkName:"Packages - Travelers Selection",referrerId:"Web.packages.travelers.selection",__typename:"ClientSideAnalytics"},travelerSelector:{addAnotherRoomButton:{egdsElementId:null,primary:"Add another room",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers add room",referrerId:"Web.Packages.Traveler.Add.Room",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},closeButton:{egdsElementId:null,primary:null,disabled:!1,accessibility:null,icon:{id:"close",description:"",token:"icon__close",title:null,__typename:"Icon"},analytics:{linkName:"Travelers results not updated",referrerId:"Web.Packages.Traveler.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},doneButton:{egdsElementId:null,primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers results updated",referrerId:"Web.Packages.Traveler.Done",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},infantSeatSelection:{airlineAgeRule:{text:"Airline age rules",action:{accessibility:null,target:"INTERNAL",resource:{value:"https://www.expedia.com/p/info-main/h_fw_default%3Frhtx=HTX_FLTSRCH_RT%23travs",__typename:"HttpURI"},analytics:{linkName:"Packages - Airline Age Rules",referrerId:"Web.packages.airline.age.rules",__typename:"ClientSideAnalytics"},__typename:"UILinkAction"},icon:null,iconPosition:null,__typename:"EGDSStandardLink",egdsElementId:null},groupName:"InfantSeating",labelTemplate:{text:"Where will the infants sit?",models:[{key:"infantCount",source:"infantCount",__typename:"TemplateModel"}],templates:[{category:"ONE",template:"Where will the infant sit?",__typename:"CardinalTemplate"},{category:"OTHER",template:"Where will the infants sit?",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},options:[{label:"On lap",value:"lap",__typename:"EGDSInfantSeatRadioButton"},{label:"In seat",value:"seat",__typename:"EGDSInfantSeatRadioButton"}],selected:"lap",__typename:"EGDSTravelerInfantSeatSelection"},maxRoomCount:6,rooms:[{label:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},adults:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of adults in this room",decreaseTextTemplate:null,increaseText:"Increase the number of adults in this room",increaseTextTemplate:null,egdsElementId:"traveler_selector_adult_step_input",__typename:"EGDSTravelerStepInput",label:"Adults",max:6,min:1,step:1,subLabel:null,value:2},children:{count:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of children in this room",decreaseTextTemplate:null,increaseText:"Increase the number of children in this room",increaseTextTemplate:null,egdsElementId:"traveler_selector_child_step_input",__typename:"EGDSTravelerStepInput",label:"Children",max:5,min:0,step:1,subLabel:"Ages 2 to 17",value:0},ages:[],ageTemplate:{disabled:!1,labelTemplate:{models:[{key:"childNumber",source:"childNumber",__typename:"TemplateModel"}],template:"Child ${childNumber} age",__typename:"EGDSBasicLocalizedText"},options:[$d("2"),$d("3"),$d("4"),$d("5"),$d("6"),$d("7"),$d("8"),$d("9"),$d("10"),$d("11"),$d("12"),$d("13"),$d("14"),$d("15"),$d("16"),$d("17")],egdsElementId:null,value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerChildren"},infants:{count:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of infants in this room",decreaseTextTemplate:null,increaseText:"Increase the number of infants in this room",increaseTextTemplate:null,egdsElementId:"traveler_selector_infant_step_input",__typename:"EGDSTravelerStepInput",label:"Infants",max:5,min:0,step:1,subLabel:"Younger than 2",value:0},ages:[],ageTemplate:{disabled:!1,labelTemplate:{models:[{key:"infantNumber",source:"infantNumber",__typename:"TemplateModel"}],template:"Infant ${infantNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{label:"Under 1",value:"0",egdsElementId:null,changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"1",value:"1",egdsElementId:null,changeAnalytics:null,__typename:"EGDSBasicOption"}],egdsElementId:null,value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerInfant"},removeRoomButton:{egdsElementId:null,primary:"Remove room",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Packages.Traveler.Remove.Room",referrerId:"Web.Travelers remove room",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},removeRoomAnnouncement:"Room removed",__typename:"EGDSTravelerSelectorRoom"}],title:"Travelers",validations:Bd,__typename:"EGDSRoomsTravelerSelector"},accessibility:"expand to change the number of travelers",__typename:"EGDSOpenTravelerSelectorAction"},label:"Travelers",labelTemplate:{models:[{key:"rooms",models:{models:[{key:"roomCount",source:"roomCount",__typename:"TemplateModel"}],templates:fd,__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"},{key:"travelers",models:{models:[{key:"travelerCount",source:"travelerCount",__typename:"TemplateModel"}],templates:Dd,__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"}],template:"${travelers}, ${rooms}",text:"2 travelers, 1 room",__typename:"EGDSCompositeLocalizedText"},leftIcon:{id:"person",__typename:"Icon"},readOnly:!1},wd={__typename:"EGDSSearchFormTravelersField",action:{analytics:{linkName:"Packages - Travelers Selection",referrerId:"Web.packages.travelers.selection",__typename:"ClientSideAnalytics"},travelerSelector:{subTitles:null,closeButton:{egdsElementId:null,primary:null,disabled:!1,accessibility:null,icon:{id:"close",description:"",token:"icon__close",title:null,__typename:"Icon"},analytics:null,action:null,__typename:"UITertiaryButton"},doneButton:{egdsElementId:null,primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"UIPrimaryButton"},title:"Travelers",travelers:{adults:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of adults",decreaseTextTemplate:null,increaseText:"Increase the number of adults",increaseTextTemplate:null,egdsElementId:"traveler_selector_adult_step_input",__typename:"EGDSTravelerStepInput",label:"Adults",max:6,min:1,step:1,subLabel:null,value:2},children:{count:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of children",decreaseTextTemplate:null,increaseText:"Increase the number of children",increaseTextTemplate:null,egdsElementId:"traveler_selector_child_step_input",__typename:"EGDSTravelerStepInput",label:"Children",max:5,min:0,step:1,subLabel:"Ages 2 to 17",value:0},ages:[],ageTemplate:{disabled:!1,labelTemplate:{models:[{key:"childNumber",source:"childNumber",__typename:"TemplateModel"}],template:"Child ${childNumber} age",__typename:"EGDSBasicLocalizedText"},options:[$d("2"),$d("3"),$d("4"),$d("5"),$d("6"),$d("7"),$d("8"),$d("9"),$d("10"),$d("11"),$d("12"),$d("13"),$d("14"),$d("15"),$d("16"),$d("17")],egdsElementId:null,value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerChildren"},infantsInSeat:{count:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of infants",decreaseTextTemplate:null,increaseText:"Increase the number of infants",increaseTextTemplate:null,egdsElementId:"traveler_selector_infant_step_input",__typename:"EGDSTravelerStepInput",label:"Infants in seat",max:4,min:0,step:1,subLabel:"Younger than 2",value:0},ages:[],ageTemplate:{disabled:!1,labelTemplate:{models:[{key:"infantNumber",source:"infantNumber",__typename:"TemplateModel"}],template:"Infant ${infantNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{label:"Under 1",value:"0",egdsElementId:null,changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"1",value:"1",egdsElementId:null,changeAnalytics:null,__typename:"EGDSBasicOption"}],egdsElementId:null,value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerInfant"},infantsOnLap:{count:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of infants",decreaseTextTemplate:null,increaseText:"Increase the number of infants",increaseTextTemplate:null,egdsElementId:null,__typename:"EGDSTravelerStepInput",label:"Infants on lap",max:3,min:0,step:1,subLabel:"Younger than 2",value:0},ages:[],ageTemplate:{disabled:!1,labelTemplate:{models:[{key:"infantNumber",source:"infantNumber",__typename:"TemplateModel"}],template:"Infant ${infantNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{label:"Under 1",value:"0",egdsElementId:null,changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"1",value:"1",egdsElementId:null,changeAnalytics:null,__typename:"EGDSBasicOption"}],egdsElementId:null,value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerInfant"},pets:null,__typename:"EGDSTravelers"},validations:Bd,__typename:"EGDSBasicTravelerSelector"},accessibility:"expand to change the number of travelers",__typename:"EGDSOpenTravelerSelectorAction"},label:"Travelers",labelTemplate:{models:[{key:"travelerCount",source:"travelerCount",__typename:"TemplateModel"}],templates:Dd,secondaryTemplates:null,text:"2 travelers",__typename:"EGDSCardinalLocalizedText"},leftIcon:{id:"person",__typename:"Icon"},readOnly:!1},Ud={__typename:"EGDSSearchFormTravelersField",action:{analytics:{linkName:"Packages - Travelers Selection",referrerId:"Web.packages.travelers.selection",__typename:"ClientSideAnalytics"},travelerSelector:{addAnotherRoomButton:{egdsElementId:null,primary:"Add another room",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers add room",referrerId:"Web.Packages.Traveler.Add.Room",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},closeButton:{egdsElementId:null,primary:null,disabled:!1,accessibility:null,icon:{id:"close",description:"",token:"icon__close",title:null,__typename:"Icon"},analytics:{linkName:"Travelers results not updated",referrerId:"Web.Packages.Traveler.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},doneButton:{egdsElementId:null,primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers results updated",referrerId:"Web.Packages.Traveler.Done",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},infantSeatSelection:{airlineAgeRule:{text:"Airline age rules",action:{accessibility:null,target:"INTERNAL",resource:{value:"https://www.expedia.com/p/info-main/h_fw_default%3Frhtx=HTX_FLTSRCH_RT%23travs",__typename:"HttpURI"},analytics:{linkName:"Packages - Airline Age Rules",referrerId:"Web.packages.airline.age.rules",__typename:"ClientSideAnalytics"},__typename:"UILinkAction"},icon:null,iconPosition:null,__typename:"EGDSStandardLink",egdsElementId:null},groupName:"InfantSeating",labelTemplate:{text:"Where will the infants sit?",models:[{key:"infantCount",source:"infantCount",__typename:"TemplateModel"}],templates:[{category:"ONE",template:"Where will the infant sit?",__typename:"CardinalTemplate"},{category:"OTHER",template:"Where will the infants sit?",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},options:[{label:"On lap",value:"lap",__typename:"EGDSInfantSeatRadioButton"},{label:"In seat",value:"seat",__typename:"EGDSInfantSeatRadioButton"}],selected:"lap",__typename:"EGDSTravelerInfantSeatSelection"},maxRoomCount:6,rooms:[{label:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},adults:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of adults in this room",decreaseTextTemplate:null,increaseText:"Increase the number of adults in this room",increaseTextTemplate:null,egdsElementId:"traveler_selector_adult_step_input",__typename:"EGDSTravelerStepInput",label:"Adults",max:6,min:1,step:1,subLabel:null,value:2},children:{count:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of children in this room",decreaseTextTemplate:null,increaseText:"Increase the number of children in this room",increaseTextTemplate:null,egdsElementId:null,__typename:"EGDSTravelerStepInput",label:"Children",max:5,min:0,step:1,subLabel:"Ages 0 to 17",value:0},ages:[],ageTemplate:{disabled:!1,labelTemplate:{models:[{key:"childNumber",source:"childNumber",__typename:"TemplateModel"}],template:"Child ${childNumber} age",__typename:"EGDSBasicLocalizedText"},options:[$d("0","Under 1"),$d("1"),$d("2"),$d("3"),$d("4"),$d("5"),$d("6"),$d("7"),$d("8"),$d("9"),$d("10"),$d("11"),$d("12"),$d("13"),$d("14"),$d("15"),$d("16"),$d("17")],egdsElementId:null,value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerChildren"},infants:null,removeRoomButton:{egdsElementId:null,primary:"Remove room",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Packages.Traveler.Remove.Room",referrerId:"Web.Travelers remove room",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},removeRoomAnnouncement:"Room removed",__typename:"EGDSTravelerSelectorRoom"}],title:"Travelers",validations:Bd,__typename:"EGDSRoomsTravelerSelector"},accessibility:"expand to change the number of travelers",__typename:"EGDSOpenTravelerSelectorAction"},label:"Travelers",labelTemplate:{models:[{key:"rooms",models:{models:[{key:"roomCount",source:"roomCount",__typename:"TemplateModel"}],templates:fd,__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"},{key:"travelers",models:{models:[{key:"travelerCount",source:"travelerCount",__typename:"TemplateModel"}],templates:Dd,__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"}],template:"${travelers}, ${rooms}",text:"2 travelers, 1 room",__typename:"EGDSCompositeLocalizedText"},leftIcon:{id:"person",__typename:"Icon"},readOnly:!1},Hd=u.gql`
  fragment EGDSSecondaryButtonFragment on UISecondaryButton {
    egdsElementId
    ...EGDSButtonFragment
  }

  ${St}
`,Vd=({onClick:e,data:t})=>{const{egdsElementId:a,primary:l,analytics:r}=t,i=null!=a?a:"search_form_secondary_button",o=(0,v.useClickTracker)(),c=n.useCallback(()=>{if(r){const{referrerId:e,linkName:t}=r;o(e,t)}e()},[r,e,o]);return n.createElement(Pe.y,{id:i,onClick:c},l)};Vd.displayName="SearchToolsEGDSSecondaryButton",Vd.fragment=Hd;var qd=u.gql`
  fragment EGDSSearchFormLocationsFieldFragment on EGDSSearchFormLocationsField {
    egdsElementId
    origin {
      ...EGDSSearchFormLocationFieldFragment
    }
    destination {
      ...EGDSSearchFormLocationFieldFragment
    }
    horizontalSwapper {
      ...EGDSSecondaryButtonFragment
    }
    verticalSwapper {
      ...EGDSSecondaryButtonFragment
    }
    validations {
      ... on EGDSInputValidation {
        errorMessage
      }
    }
  }
  ${Vd.fragment}
  ${Oo.fragment}
`,zd="EGDSSearchFormLocationsField",Yd=e=>{var t,a,l,r,o;const{originRef:c,destinationRef:s,data:u,index:m,skipReflection:p,onOpenLocationField:y,onLocationsSelection:_,lastSearchLatLong:S,searchLocationAnalytics:g,searchLocationContent:E}=e,h=(0,v.useClickTracker)(),{state:D,dispatch:f}=(0,i.kW)(),{origin:T,destination:C,validations:b}=u,{originFieldError:I,setFieldRefByTypename:A}=c,{destinationFieldError:F,setFieldRefByTypename:O}=s,{destination:k,origin:R}=D,L={__typename:"SearchLocationBasicItem",airportCode:null,coordinates:null,geoType:null,graphic:null,locationFullName:"",itemAccessibilityText:"",primaryText:"",propertyId:null,remove:null,secondaryText:null,analyticsInfo:null,impressionAnalytics:null,regionId:null},P=(0,G.j)("swap_locations",e=>e),[N,M]=n.useState(!p&&R?R:{term:null!=(t=T.value)?t:"",data:L}),[x,B]=n.useState(!p&&k?k:{term:null!=(a=C.value)?a:"",data:L}),$=e=>{var t,a;e&&"UISecondaryButton"===(null==(t=null==u?void 0:u.horizontalSwapper)?void 0:t.__typename)&&u.horizontalSwapper.analytics?h(u.horizontalSwapper.analytics.referrerId,u.horizontalSwapper.analytics.linkName):!e&&"UISecondaryButton"===(null==(a=null==u?void 0:u.verticalSwapper)?void 0:a.__typename)&&u.verticalSwapper.analytics&&h(u.verticalSwapper.analytics.referrerId,u.verticalSwapper.analytics.linkName)},W=()=>{p||(f({type:"UPDATE_DESTINATION",location:{term:N.term,data:N.data}}),f({type:"UPDATE_ORIGIN",location:{term:x.term,data:x.data}})),M({...x}),B({...N}),ft("",P),_&&_({term:"",data:{...L,origin:x.term,destination:N.term}})},w=e=>{M(e),_&&_({term:e.term,data:{...e.data,origin:e.term,destination:x.term,index:m}})},U=e=>{B(e),_&&_({term:e.term,data:{...e.data,origin:N.term,destination:e.term,index:m}})},H={index:m,onOpenLocationField:y,lastSearchLatLong:S,skipReflection:p,searchLocationAnalytics:g,searchLocationContent:E},V=n.createElement(Oo,{...H,setFieldRefByTypename:A,fieldError:I,data:T,onSelection:w,selection:N,onLocationsSelection:w,searchLocationAnalytics:g}),q=null!=(r=null==(l=null==b?void 0:b.find(e=>"EGDSSameValueInputValidation"===e.__typename))?void 0:l.errorMessage)?r:"",z=(null==(o=null==F?void 0:F.validations)?void 0:o.sameLocationSelected)?q:void 0,Y=n.createElement(Oo,{...H,setFieldRefByTypename:O,fieldError:F,locationsErrorText:z,data:C,onSelection:U,selection:x,onLocationsSelection:U,searchLocationAnalytics:g}),K=(e=>{var t,a;return"UISecondaryButton"===(null==(t=e.horizontalSwapper)?void 0:t.__typename)&&e.horizontalSwapper.accessibility?e.horizontalSwapper.accessibility:"UISecondaryButton"===(null==(a=e.verticalSwapper)?void 0:a.__typename)&&e.verticalSwapper.accessibility?e.verticalSwapper.accessibility:void 0})(u);return n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(Le.W,{startInput:V,isHorizontalSwapper:!1,onSwapButtonClick:()=>{W(),$(!1)},endInput:Y,a11ySwapButtonLabel:K})),n.createElement(d.rw,null,n.createElement(Le.W,{startInput:V,onSwapButtonClick:()=>{W(),$(!0)},endInput:Y,a11ySwapButtonLabel:K})))};Yd.displayName=zd,Yd.fragment={...qd,__typename:zd};var Kd=({children:e})=>n.createElement(I.w,{columns:{small:2,medium:12}},n.createElement(R.T,{colSpan:{small:2,medium:4}},n.createElement("div",null,n.createElement(r.N,{padding:{blockstart:"three"}},n.createElement("div",null,e))))),jd=u.gql`
  fragment SearchFormPartialStayFragment on SearchFormPartialStay {
    __typename
    addPartialStay {
      ...EGDSCheckBoxFragment
      __typename
    }
    dates {
      ...EGDSSearchFormDatePickerFieldFragment
      __typename
    }
    errorMessage
  }
  ${rn.fragment}
  ${rn.fragment}
`,Xd=({data:e,setFieldRefByTypename:t,fieldError:a})=>{var l;const{addPartialStay:r,dates:i,errorMessage:o}=e,[c,s]=n.useState(null!=(l=null==r?void 0:r.state)?l:"UNCHECKED"),d=i&&n.createElement("div",{"data-stid":"partial-stay-date-field"},n.createElement(Kd,null,n.createElement(rn,{skipReflection:!0,data:i,fieldError:a,setFieldRefByTypename:(e,a,n)=>{t(`${e}PartialStay`,a,n)},overrideErrorMessage:o,isPartialDates:!0})));return n.createElement(n.Fragment,null,r&&n.createElement(Ta,{onChange:e=>{s(e.target.checked?"CHECKED":"UNCHECKED")},data:r}),"CHECKED"===c&&d)};Xd.displayName="SearchFormPartialStay",Xd.fragment=jd;var Qd=(e=>(e.ORIGIN="origin_select",e.DESTINATION="destination_select",e.TRAVEL_DATES="EGDSDateRangePicker",e.TRAVELER_SELECTOR="EGDSRoomsTravelerSelector",e.CABIN_CLASS="EGDSSearchFormInputFieldWithSelection-cabin_class",e))(Qd||{}),Zd={SMALL:{default:{}},MEDIUM:{default:{grow:1},EGDSSearchFormLocationsField:{minWidth:"full_width"},EGDSSearchFormButton:{}},LARGE:{default:{grow:1},EGDSSearchFormLocationsField:{minWidth:450,grow:1},EGDSSearchFormButton:{}},EXTRA_LARGE:{default:{}}},Jd={prebundles:{[d.OB.SMALL]:{default:{}},[d.OB.MEDIUM]:{EGDSSearchFormLocationField:{minWidth:"full_width"},EGDSSearchFormButton:{},default:{grow:1}},[d.OB.LARGE]:{EGDSSearchFormButton:{},EGDSSearchFormTravelersField:{maxWidth:400,grow:1},EGDSSearchFormDatePickerField:{maxWidth:400,grow:1},default:{minWidth:"third_width",grow:1}},[d.OB.EXTRA_LARGE]:{default:{}}},FLIGHT_CAR:Zd,FLIGHT_HOTEL:Zd,FLIGHT_HOTEL_CAR:Zd,HOTEL_CAR:{SMALL:{default:{}},MEDIUM:{default:{grow:1,minWidth:400},EGDSSearchFormTravelersField:{minWidth:500,grow:1},EGDSSearchFormButton:{}},LARGE:{EGDSSearchFormButton:{},EGDSSearchFormTravelersField:{maxWidth:300,grow:1},EGDSSearchFormDatePickerField:{maxWidth:300,grow:1},default:{grow:1}},EXTRA_LARGE:{default:{}}}},eu=(e,t,a="prebundles")=>{var n;const l=Jd[a][t];return null!=(n=l[e])?n:l.default},tu={FLIGHT_CAR:"fc",FLIGHT_HOTEL:"fh",HOTEL_CAR:"hc",FLIGHT_HOTEL_CAR:"fhc",HOTEL_ACTIVITY:"ha"},au={BUSINESS:"b",FIRST:"f",PREMIUM_ECONOMY:"p",COACH:"e",ANY:"a"},nu=(e,t)=>{const{day:a,month:n,year:l}=t;return`&${e}=${l}-${n}-${a}`},lu="EGDS",ru={[$l]:"ADULT",[Wl]:"CHILD",[Ul]:"INFANT_IN_LAP",[wl]:"INFANT_IN_SEAT"},iu={COACH:"COACH",ECONOMY_PREMIUM:"PREMIUM_ECONOMY",BUSINESS:"BUSINESS",FIRST_CLASS:"FIRST"},ou=(e,{name:t,value:a,disabled:n})=>{var l,r,i,o,c,s,d,u,m,p,y,_,S,g,E,v,h;if(t.startsWith(`${pn}`)){const t={...e.primary,cabinClass:iu[a]};return{...e,primary:t}}if(t.startsWith(Bl)){const n=t.startsWith($l),o=t.split("-"),c=n?$l:o.slice(0,2).join("-"),s=Number.parseInt(a,10),d=n?Array.from(Array(s).keys()).map(()=>({type:ru[c],age:null})):[{type:ru[c],age:a?s:null}],u=1,m=null!=(l=t.split(`${c}-Room`)[1])?l:"1",p=null!=(r=parseInt(m,10))?r:u,y=[...null!=(i=e.primary.travelerOccupancyGroups)?i:[]];return y[p-1]={travelers:[...y[p-1]?y[p-1].travelers:[],...d]},{...e,primary:{...e.primary,travelerOccupancyGroups:y}}}if(t.startsWith(`${ro}-origin`))return{...e,primary:{...e.primary,origin:{airportCode:"",regionName:a}}};if(t.startsWith(`${ro}-destination`))return{...e,primary:{...e.primary,destination:{airportCode:"",regionName:a}}};const D=t.startsWith(Za.START_DATE_NAME_PREFIX),f=t.startsWith(Za.END_DATE_NAME_PREFIX);if(D||f){const[t,n,l]=a.split("-").map(e=>Number(e)),r={day:0,month:0,year:0},i={day:l,month:n,year:t};return{...e,primary:{...e.primary,dateRange:{start:D?i:(null==(o=e.primary.dateRange)?void 0:o.start)||r,end:f?i:(null==(c=e.primary.dateRange)?void 0:c.end)||r}}}}if(t.startsWith(`${oo}-origin`))return{...e,primary:{...e.primary,origin:{...e.primary.origin,airportCode:a}}};if(t.startsWith(`${oo}-destination`))return{...e,primary:{...e.primary,destination:{...e.primary.destination,airportCode:a}}};if(t.startsWith(`${So}-destination`))return{...e,primary:{...e.primary,destination:{...e.primary.destination,airportCode:null!=(d=null==(s=e.primary.destination)?void 0:s.airportCode)?d:"",regionId:a}}};if(t.startsWith(`${io}-origin`))return{...e,primary:{...e.primary,origin:{...e.primary.origin,airportCode:null!=(m=null==(u=e.primary.destination)?void 0:u.airportCode)?m:"",regionId:a}}};if(t.startsWith(`${uo}-destination`)&&a){const t="hotelId";return{...e,primary:{...e.primary},secondary:{...null!=(p=e.secondary)?p:{},selections:[...null!=(_=null==(y=e.secondary)?void 0:y.selections)?_:[],{id:t,value:a}]}}}const T=t.startsWith(Za.PARTIAL_STAY_START_DATE_NAME_PREFIX),C=t.startsWith(Za.PARTIAL_STAY_END_DATE_NAME_PREFIX);if(T||C){const[t,n,l]=a.split("-").map(e=>Number(e)),r={day:0,month:0,year:0},i={day:l,month:n,year:t};return{...e,primary:{...e.primary,partialStayDateRange:{start:T?i:(null==(S=e.primary.partialStayDateRange)?void 0:S.start)||r,end:C?i:(null==(g=e.primary.partialStayDateRange)?void 0:g.end)||r}}}}return t.includes("driver_age")&&!n&&a?{...e,secondary:{...null!=(E=e.secondary)?E:{},selections:[...null!=(h=null==(v=e.secondary)?void 0:v.selections)?h:[],{id:"age",value:a}]}}:{...e}},cu=(e,{name:t,value:a})=>{var n,l,r,i,o,c,s,d,u,m,p,y,_,S,g,E;if(t.startsWith(`${pn}`)&&e.primarySearchCriteria.flight){const t={...e.primarySearchCriteria,flight:{...e.primarySearchCriteria.flight,searchPreferences:{...null==(n=e.primarySearchCriteria.flight)?void 0:n.searchPreferences,cabinClass:iu[a]}}};return{...e,primarySearchCriteria:t}}if(t.startsWith(Bl)){const n=t.startsWith($l),o=t.split("-"),c=n?$l:o.slice(0,2).join("-"),s=Number.parseInt(a,10),d=n?Array.from(Array(s).keys()).map(()=>({type:ru[c]})):[{type:ru[c],age:a?s:null}],u=1,m=null!=(l=t.split(`${c}-Room`)[1])?l:"1",p=null!=(r=parseInt(m,10))?r:u;if(e.primarySearchCriteria.flight&&e.primarySearchCriteria.property){const t=[...e.primarySearchCriteria.property.rooms],a=d.filter(e=>"ADULT"!==e.type).map(e=>({age:e.age||0}));t[p-1]={adults:t[p-1]?t[p-1].adults+d.filter(e=>"ADULT"===e.type).length:d.filter(e=>"ADULT"===e.type).length,children:[...(null==(i=t[p-1])?void 0:i.children)||[],...a]};const n={...e.primarySearchCriteria,flight:{...e.primarySearchCriteria.flight,travelers:[...e.primarySearchCriteria.flight.travelers,...d]},property:{...e.primarySearchCriteria.property,rooms:[...t]}};return{...e,primarySearchCriteria:n}}}if(t.startsWith(`${ro}-origin`)&&e.primarySearchCriteria.flight&&e.primarySearchCriteria.property){const t={...e.primarySearchCriteria,flight:{...e.primarySearchCriteria.flight,journeyCriterias:[{...null==(o=e.primarySearchCriteria.flight.journeyCriterias)?void 0:o[0],origin:a},{...null==(c=e.primarySearchCriteria.flight.journeyCriterias)?void 0:c[1],destination:a}]}};return{...e,primarySearchCriteria:t}}if(t.startsWith(`${ro}-destination`)&&e.primarySearchCriteria.flight&&e.primarySearchCriteria.property){const t={...e.primarySearchCriteria,flight:{...e.primarySearchCriteria.flight,journeyCriterias:[{...null==(s=e.primarySearchCriteria.flight.journeyCriterias)?void 0:s[0],destination:a},{...null==(d=e.primarySearchCriteria.flight.journeyCriterias)?void 0:d[1],origin:a}]},property:{...e.primarySearchCriteria.property,destination:{...e.primarySearchCriteria.property.destination,regionName:a}}};return{...e,primarySearchCriteria:t}}const v=t.startsWith(Za.START_DATE_NAME_PREFIX),h=t.startsWith(Za.END_DATE_NAME_PREFIX);if(v||h){const[t,n,l]=a.split("-").map(e=>Number(e)),r={day:0,month:0,year:0},i={day:l,month:n,year:t};if(e.primarySearchCriteria.flight&&e.primarySearchCriteria.property){const t={...e.primarySearchCriteria,flight:{...e.primarySearchCriteria.flight,journeyCriterias:[{...null==(u=e.primarySearchCriteria.flight.journeyCriterias)?void 0:u[0],departureDate:v?i:(null==(m=e.primarySearchCriteria.flight.journeyCriterias)?void 0:m[0].departureDate)||r},{...null==(p=e.primarySearchCriteria.flight.journeyCriterias)?void 0:p[1],departureDate:h?i:(null==(y=e.primarySearchCriteria.flight.journeyCriterias)?void 0:y[1].departureDate)||r}]},property:{...e.primarySearchCriteria.property,dateRange:{checkInDate:v?i:(null==(_=e.primarySearchCriteria.property.dateRange)?void 0:_.checkInDate)||r,checkOutDate:h?i:(null==(S=e.primarySearchCriteria.property.dateRange)?void 0:S.checkOutDate)||r}}};return{...e,primarySearchCriteria:t}}}if(t.startsWith(`${io}-destination`)&&e.primarySearchCriteria.property){const t={...e.primarySearchCriteria,property:{...e.primarySearchCriteria.property,destination:{...e.primarySearchCriteria.property.destination,regionId:a}}};return{...e,primarySearchCriteria:t}}const D=t.startsWith(Za.PARTIAL_STAY_START_DATE_NAME_PREFIX),f=t.startsWith(Za.PARTIAL_STAY_END_DATE_NAME_PREFIX);if(D||f){const[t,n,l]=a.split("-").map(e=>Number(e)),r={day:0,month:0,year:0},i={day:l,month:n,year:t};if(e.primarySearchCriteria.flight&&e.primarySearchCriteria.property){const t={...e.primarySearchCriteria,property:{...e.primarySearchCriteria.property,dateRange:{checkInDate:D?i:(null==(g=e.primarySearchCriteria.property.dateRange)?void 0:g.checkInDate)||r,checkOutDate:f?i:(null==(E=e.primarySearchCriteria.property.dateRange)?void 0:E.checkOutDate)||r}}};return{...e,primarySearchCriteria:t}}}return{...e}},su=(e,{name:t,value:a})=>{var n,l,r,i,o,c,s,d,u;if(t.startsWith(`${pn}`)&&e.primarySearchCriteria.flight){const t={...e.primarySearchCriteria,flight:{...e.primarySearchCriteria.flight,searchPreferences:{...null==(n=e.primarySearchCriteria.flight)?void 0:n.searchPreferences,cabinClass:iu[a]}}};return{...e,primarySearchCriteria:t}}if(t.startsWith(Bl)){const n=t.startsWith($l),l=t.split("-"),r=n?$l:l.slice(0,2).join("-"),i=Number.parseInt(a,10),o=n?Array.from(Array(i).keys()).map(()=>({type:ru[r]})):[{type:ru[r],age:a?i:null}];if(e.primarySearchCriteria.flight){const t={...e.primarySearchCriteria,flight:{...e.primarySearchCriteria.flight,travelers:[...e.primarySearchCriteria.flight.travelers,...o]}};return{...e,primarySearchCriteria:t}}}if(t.startsWith(`${ro}-origin`)&&e.primarySearchCriteria.flight){const t={...e.primarySearchCriteria,flight:{...e.primarySearchCriteria.flight,journeyCriterias:[{...null==(l=e.primarySearchCriteria.flight.journeyCriterias)?void 0:l[0],origin:a},{...null==(r=e.primarySearchCriteria.flight.journeyCriterias)?void 0:r[1],destination:a}]}};return{...e,primarySearchCriteria:t}}if(t.startsWith(`${ro}-destination`)&&e.primarySearchCriteria.flight&&e.primarySearchCriteria.car){const t={...e.primarySearchCriteria,flight:{...e.primarySearchCriteria.flight,journeyCriterias:[{...null==(i=e.primarySearchCriteria.flight.journeyCriterias)?void 0:i[0],destination:a},{...null==(o=e.primarySearchCriteria.flight.journeyCriterias)?void 0:o[1],origin:a}]},car:{...e.primarySearchCriteria.car,pickUpLocation:{...e.primarySearchCriteria.car.pickUpLocation,searchTerm:a},dropOffLocation:{...e.primarySearchCriteria.car.dropOffLocation,searchTerm:a}}};return{...e,primarySearchCriteria:t}}const m=t.startsWith(Za.START_DATE_NAME_PREFIX),p=t.startsWith(Za.END_DATE_NAME_PREFIX);if(m||p){const[t,n,l]=a.split("-").map(e=>Number(e)),r={day:0,month:0,year:0},i={day:l,month:n,year:t},o={...i,hour:0,minute:0,second:0};if(e.primarySearchCriteria.flight&&e.primarySearchCriteria.car){const t={...e.primarySearchCriteria,flight:{...e.primarySearchCriteria.flight,journeyCriterias:[{...null==(c=e.primarySearchCriteria.flight.journeyCriterias)?void 0:c[0],departureDate:m?i:(null==(s=e.primarySearchCriteria.flight.journeyCriterias)?void 0:s[0].departureDate)||r},{...null==(d=e.primarySearchCriteria.flight.journeyCriterias)?void 0:d[1],departureDate:p?i:(null==(u=e.primarySearchCriteria.flight.journeyCriterias)?void 0:u[1].departureDate)||r}]},car:{...e.primarySearchCriteria.car,pickUpDateTime:m?o:e.primarySearchCriteria.car.pickUpDateTime,dropOffDateTime:p?o:e.primarySearchCriteria.car.dropOffDateTime}};return{...e,primarySearchCriteria:t}}}if(t.startsWith(`${io}-destination`)&&e.primarySearchCriteria.car){const t={...e.primarySearchCriteria,car:{...e.primarySearchCriteria.car,pickUpLocation:{...e.primarySearchCriteria.car.pickUpLocation,regionId:a},dropOffLocation:{...e.primarySearchCriteria.car.dropOffLocation,regionId:a}}};return{...e,primarySearchCriteria:t}}return{...e}},du=(e,{name:t,value:a})=>{var n,l,r,i,o,c,s;if(t.startsWith(Bl)){const i=t.startsWith($l),o=t.split("-"),c=i?$l:o.slice(0,2).join("-"),s=Number.parseInt(a,10),d=i?Array.from(Array(s).keys()).map(()=>({type:ru[c]})):[{type:ru[c],age:a?s:null}],u=1,m=null!=(n=t.split(`${c}-Room`)[1])?n:"1",p=null!=(l=parseInt(m,10))?l:u;if(e.primarySearchCriteria.property){const t=[...e.primarySearchCriteria.property.rooms],a=d.filter(e=>"ADULT"!==e.type).map(e=>({age:e.age||0}));t[p-1]={adults:t[p-1]?t[p-1].adults+d.filter(e=>"ADULT"===e.type).length:d.filter(e=>"ADULT"===e.type).length,children:[...(null==(r=t[p-1])?void 0:r.children)||[],...a]};const n={...e.primarySearchCriteria,property:{...e.primarySearchCriteria.property,rooms:[...t]}};return{...e,primarySearchCriteria:n}}}if(t.startsWith(`${ro}-destination`)&&e.primarySearchCriteria.car&&e.primarySearchCriteria.property){const t={...e.primarySearchCriteria,property:{...e.primarySearchCriteria.property,destination:{...e.primarySearchCriteria.property.destination,regionName:a}},car:{...e.primarySearchCriteria.car,pickUpLocation:{...e.primarySearchCriteria.car.pickUpLocation,searchTerm:a},dropOffLocation:{...e.primarySearchCriteria.car.dropOffLocation,searchTerm:a}}};return{...e,primarySearchCriteria:t}}const d=t.startsWith(Za.START_DATE_NAME_PREFIX),u=t.startsWith(Za.END_DATE_NAME_PREFIX);if(d||u){const[t,n,l]=a.split("-").map(e=>Number(e)),r={day:0,month:0,year:0},c={day:l,month:n,year:t},s={...c,hour:0,minute:0,second:0};if(e.primarySearchCriteria.car&&e.primarySearchCriteria.property){const t={...e.primarySearchCriteria,property:{...e.primarySearchCriteria.property,dateRange:{checkInDate:d?c:(null==(i=e.primarySearchCriteria.property.dateRange)?void 0:i.checkInDate)||r,checkOutDate:u?c:(null==(o=e.primarySearchCriteria.property.dateRange)?void 0:o.checkOutDate)||r}},car:{...e.primarySearchCriteria.car,pickUpDateTime:d?s:e.primarySearchCriteria.car.pickUpDateTime,dropOffDateTime:u?s:e.primarySearchCriteria.car.dropOffDateTime}};return{...e,primarySearchCriteria:t}}}if(t.startsWith(`${io}-destination`)&&e.primarySearchCriteria.property){const t={...e.primarySearchCriteria,property:{...e.primarySearchCriteria.property,destination:{...e.primarySearchCriteria.property.destination,regionId:a}}};return{...e,primarySearchCriteria:t}}if(t.startsWith(`${oo}-destination`)&&e.primarySearchCriteria.car){const t={...e.primarySearchCriteria,car:{...e.primarySearchCriteria.car,pickUpLocation:{...e.primarySearchCriteria.car.pickUpLocation,airportCode:a},dropOffLocation:{...e.primarySearchCriteria.car.dropOffLocation,airportCode:a}}};return{...e,primarySearchCriteria:t}}const m=t.startsWith(Za.PARTIAL_STAY_START_DATE_NAME_PREFIX),p=t.startsWith(Za.PARTIAL_STAY_END_DATE_NAME_PREFIX);if(m||p){const[t,n,l]=a.split("-").map(e=>Number(e)),r={day:0,month:0,year:0},i={day:l,month:n,year:t};if(e.primarySearchCriteria.car&&e.primarySearchCriteria.property){const t={...e.primarySearchCriteria,property:{...e.primarySearchCriteria.property,dateRange:{checkInDate:m?i:(null==(c=e.primarySearchCriteria.property.dateRange)?void 0:c.checkInDate)||r,checkOutDate:p?i:(null==(s=e.primarySearchCriteria.property.dateRange)?void 0:s.checkOutDate)||r}}};return{...e,primarySearchCriteria:t}}}return{...e}},uu=e=>({tripType:"ROUND_TRIP",journeyCriterias:[],travelers:[],searchPreferences:{advancedFilters:e?["NONSTOP"]:[],cabinClass:"COACH"}}),mu=(e,t)=>{let a={};switch(e){case"FLIGHT_HOTEL":a={flight:uu(t),property:{rooms:[],destination:{regionId:""}}};break;case"FLIGHT_HOTEL_CAR":a={flight:uu(t),property:{rooms:[],destination:{regionId:""}},car:{dropOffDateTime:{day:0,month:0,year:0,hour:0,minute:0,second:0},pickUpDateTime:{day:0,month:0,year:0,hour:0,minute:0,second:0},pickUpLocation:{}}};break;case"FLIGHT_CAR":a={flight:uu(t),car:{dropOffDateTime:{day:0,month:0,year:0,hour:0,minute:0,second:0},pickUpDateTime:{day:0,month:0,year:0,hour:0,minute:0,second:0},pickUpLocation:{}}};break;case"HOTEL_CAR":a={property:{rooms:[],destination:{regionId:""}},car:{dropOffDateTime:{day:0,month:0,year:0,hour:0,minute:0,second:0},pickUpDateTime:{day:0,month:0,year:0,hour:0,minute:0,second:0},pickUpLocation:{}}}}return{primarySearchCriteria:a,secondaryCriteria:{}}},pu=[Oo,Yd,rn,er,Sn,Xd,vt],yu=u.gql`
  fragment MultiPackagesSearchFormFragment on PackagesSearchForm {
    actionURL
    errorSummary {
      ...EGDSErrorSummaryFragment
    }
    elements {
      __typename
      ...EGDSSearchFormLocationFieldFragment
      ...EGDSSearchFormLocationsFieldFragment
      ...EGDSSearchFormDatePickerFieldFragment
      ...EGDSSearchFormTravelersFieldFragment
      ...EGDSSearchFormInputFieldFragment
    }
    search {
      ...EGDSSearchFormButtonFragment
    }
    directFlightsOnly {
      ...EGDSPillFragment
    }
    playback @include(if: $includePlayback) {
      ...EGDSSearchPlaybackFragment
    }
    partialStay {
      ...SearchFormPartialStayFragment
    }
    searchLocation {
      ...SearchLocationFragment
    }
    driverAgeCheck {
      ...CarSearchFormDriverAgeCheckFragment
    }
  }

  ${_t.fragment}
  ${vt.fragment}
  ${Oo.fragment}
  ${Yd.fragment}
  ${rn.fragment}
  ${er.fragment}
  ${Sn.fragment}
  ${Go.fragment}
  ${Xd.fragment}
  ${Oa.fragment}
  ${to}
  ${Cc.fragment}
`,_u=e=>{const{viewportSize:t,packageType:a,defaultValidationProps:l,renderableElements:r,errorState:i,autoOpenCalendar:o,lastSearchLatLong:c,onOpenLocationField:s,searchLocationAnalytics:d,searchLocationContent:u,onLocationsSelection:m,setTravelerSelectorErrorState:p}=e;return n.createElement(n.Fragment,null,r.map((e,r)=>{const{__typename:y}=e,_=pu.find(({displayName:e})=>e===y&&"EGDSSearchFormInputField"!==y);if(!_)return null;const S=eu(y,t,a),g=["EGDSSearchFormDatePickerField","EGDSSearchFormInputField","EGDSSearchFormLocationField","EGDSSearchFormLocationsField","EGDSSearchFormTravelersField","SearchFormDurationSpanField"].includes(y)?y:"EGDSSearchFormDatePickerFieldPartialStay",E={...l,fieldError:ar(i,g),..."EGDSSearchFormLocationsField"===y&&{originFieldError:ar(i,`${e.origin.__typename}Origin`),destinationFieldError:ar(i,`${e.destination.__typename}Destination`),lastSearchLatLong:c,onOpenLocationField:s,searchLocationAnalytics:d,searchLocationContent:u,onLocationsSelection:m},..."EGDSSearchFormLocationField"===y&&{lastSearchLatLong:c,onOpenLocationField:s,searchLocationAnalytics:d,searchLocationContent:u},..."EGDSSearchFormDatePickerField"===y&&{autoOpen:o},..."EGDSSearchFormTravelersField"===y&&{setTravelerSelectorErrorState:p,setFieldRefByTypename:l.setFieldRefByTypename}},v={originRef:"EGDSSearchFormLocationsField"===y?E:null,destinationRef:"EGDSSearchFormLocationsField"===y?E:null};return n.createElement(O.C,{key:`field_${y}_${r}`,...S},n.createElement("div",null,n.createElement(_,{...E,...v,data:e})))}))},Su={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]},gu=e=>{var t,a,l,i,o,c,s,u,m,p;const{data:y,onSubmit:_,onFieldChange:S,autoOpenCalendar:g,packageType:E,cabinClass:v,redirectToSearchResultOnSubmit:h,autoOpenPlayback:D,lastSearchLatLong:f,directFlightsOnlySwitch:T,onOpenLocationField:C,handleDirectFlightsOnlySwitch:b,showDirectFlightsOnly:I}=e,A=(0,z.useLocalization)(),[k,R]=n.useState({EGDSSearchFormLocationFieldOrigin:null,EGDSSearchFormLocationFieldDestination:null,EGDSSearchFormDatePickerField:null,EGDSSearchFormInputField:null,EGDSSearchFormDatePickerFieldPartialStay:null,EGDSSearchFormTravelersField:null}),[L,P]=n.useState(Su),[N,M]=n.useState(!1),[x,B]=n.useState(!D);n.useEffect(()=>{const e=null==y?void 0:y.directFlightsOnly;e&&b&&b(e.selected)},[y,b]),n.useEffect(()=>{ge()},[E]);const $=n.useCallback((e,t)=>{var a;const n=nr(e,null==(a=t.current)?void 0:a.id);R(e=>({...e,[n]:t}))},[]),{elements:W,errorSummary:w,search:U,actionURL:H,playback:V,searchLocation:q,partialStay:Y,directFlightsOnly:K}=y,[j,X]=n.useState(V),{displayErrorSummary:Q,errorCount:Z,errorLinkReference:J}=L,ee=!!(null==y?void 0:y.driverAgeCheck),[te,ae]=n.useState(!1),ne=null==(l=null==(a=null==(t=null==y?void 0:y.driverAgeCheck)?void 0:t.driverAge)?void 0:a.validations)?void 0:l.find(e=>"EGDSRangeInputValidation"===e.__typename),le=null==ne?void 0:ne.min,re=null==ne?void 0:ne.max,ie=null==(o=null==(i=null==y?void 0:y.elements)?void 0:i.find(e=>"EGDSSearchFormTravelersField"===e.__typename))?void 0:o.action,oe="EGDSOpenTravelerSelectorAction"===(null==ie?void 0:ie.__typename)?null==(s=null==(c=ie.travelerSelector)?void 0:c.validations)?void 0:s.filter(e=>"EGDSTravelersInputValidation"===e.__typename):[],ce=null==(u=null==oe?void 0:oe.find(e=>"MAX_TRAVELERS"===e.type))?void 0:u.maxCount;if(!U)return null;const se=[...W,U],de=[...W,Y,U].filter(Boolean),ue=W.find(e=>"EGDSSearchFormDatePickerField"===e.__typename),me="EGDSSearchFormDatePickerField"===(null==ue?void 0:ue.__typename)&&"EGDSOpenDatePickerAction"===(null==(m=ue.action)?void 0:m.__typename)&&"EGDSDateRangePicker"===ue.action.datePicker.__typename&&"FLIGHT_CAR"!==E&&null!=(p=ue.action.datePicker.maxNumberOfDaysSelected)?p:0,pe={setFieldRefByTypename:$},ye={space:"three",direction:"row"},_e={packageType:E,viewportSize:d.OB.SMALL,renderableElements:se,defaultValidationProps:pe,errorState:L,autoOpenCalendar:g,lastSearchLatLong:f,onOpenLocationField:C,searchLocationAnalytics:null==q?void 0:q.analytics,searchLocationContent:null==q?void 0:q.content,onLocationsSelection:e=>{var t,a,n,l;const r=mt(null!=(a=null==(t=null==e?void 0:e.data)?void 0:t.origin)?a:e.term),i=mt(null!=(l=null==(n=e.data)?void 0:n.destination)?l:e.term);X(e=>{if(!e)return null;const{primary:t,primaryTemplate:a}=e;if(!a||"EGDSBasicLocalizedText"!==a.__typename)return e;const n=ut(a.text,"origin",r),l=ut(n,"destination",i);return{...e,primary:{...t,text:l}}})},setTravelerSelectorErrorState:e=>{M(e)}},Se={..._e,renderableElements:se},ge=()=>{P(Su)},Ee="HOTEL_CAR"!==E?n.createElement("input",{type:"hidden",name:null==v?void 0:v.name,value:null==v?void 0:v.value}):null,ve=Y&&("FLIGHT_HOTEL"===E||"FLIGHT_HOTEL_CAR"===E),he=K&&n.createElement(O.C,null,n.createElement("div",null,n.createElement(Oa,{data:K,onChange:e=>{null==b||b(e.target.checked)}}))),De=de.find(e=>"EGDSSearchFormInputField"===e.__typename),fe=De?n.createElement(O.C,null,n.createElement("div",null,n.createElement(Sn,{...pe,triggerType:"pill",data:De}))):null,Te=ee&&n.createElement(r.N,{margin:{blockstart:"three"}},n.createElement("div",null,n.createElement(Cc,{data:y.driverAgeCheck,setFieldRefByTypename:$,errorState:L,getCheckboxState:e=>{ae(e)}})));return n.createElement(G.m,{id:"package-search-form",name:`packages-search-form-${E}`,action:H,onSubmit:e=>{var t,a;ge();const n=Array.from(e.currentTarget.elements),l=pr(n),r="FLIGHT_HOTEL_CAR"===E||"FLIGHT_CAR"===E||"HOTEL_CAR"===E,i={location:{origin:n.find(mr("origin_select")),destination:n.find(mr("destination_select")),config:{sameLocationSelected:!0}},dates:{startDateInput:n.find(mr("EGDSDateRangePicker-StartDate-date-range-select")),endDateInput:n.find(mr("EGDSDateRangePicker-EndDate-date-range-select")),partialStayStartDateInput:n.find(mr("EGDSDateRangePartialStay-StartDate-partial-stay-date-range-select")),partialStayEndDateInput:n.find(mr("EGDSDateRangePartialStay-EndDate-partial-stay-date-range-select")),config:{maxNumberOfDaysSelected:me,validateWhenEmpty:!0}},travelers:{totalTravelers:l,config:{maxTotalTravelers:ce||6}},...te&&r&&{age:{ageInput:n.find(mr("EGDSNumberInput-driver_age")),config:{min:le,max:re}}}},o=dr(i);if(!(0===o.length)||N)return P({fieldsWithErrors:N?[...o,{__typename:"EGDSSearchFormTravelersField",isValid:!1}]:o,errorCount:N?o.length+1:o.length,displayErrorSummary:!0,errorLinkReference:k[null!=(a=null==(t=o[0])?void 0:t.__typename)?a:"EGDSSearchFormTravelersField"]}),void e.preventDefault();if(_||h){const t=Array.from(e.currentTarget.elements),a=(e=>e.filter(e=>e.name.startsWith(lu)).reduce(ou,{primary:{},secondary:{}}))(t),n=((e,t,a)=>{const n=e.filter(e=>e.name.startsWith(lu)),l=mu(t,a);switch(t){case"FLIGHT_HOTEL_CAR":default:return n.reduce(cu,l);case"FLIGHT_CAR":return n.reduce(su,l);case"HOTEL_CAR":return n.reduce(du,l)}})(t,E,T);if(_&&_(e,{packageSearchCriteria:a,packageType:E,packageShoppingCriteria:n}),h){e.preventDefault();const{action:t}=e.currentTarget,n=((e,t,a)=>{var n,l,r,i,o,c,s,d;const{cabinClass:u,dateRange:m,destination:p,origin:y,travelerOccupancyGroups:_,partialStayDateRange:S}=e.primary,g=`&numberOfRooms=${null==_?void 0:_.map(e=>e.travelers).length}`,E=null!=(n=null==_?void 0:_.map(e=>e.travelers.filter(e=>"INFANT_IN_SEAT"===e.type)))?n:[],v="&infantsInSeats="+(E.filter(e=>e.length>0).length>0?1:0),h=null!=(l=null==_?void 0:_.map(e=>e.travelers.filter(e=>"INFANT_IN_LAP"===e.type)))?l:[],D="&infantsOnLap="+(h.filter(e=>e.length>0).length>0?1:0),f=null!=(r=null==_?void 0:_.map(e=>e.travelers.filter(e=>"CHILD"===e.type||"INFANT_IN_LAP"===e.type||"INFANT_IN_SEAT"===e.type)))?r:[],T=f.length>0?f.map((e,t)=>e.map((e,a)=>`&childAges[${t+1}][${a}]=${e.age}`).join("")).join(""):"",C=f.length>0?`${f.map((e,t)=>`&childrenPerRoom[${t+1}]=${e.length}`).join("")}`:"",b=null!=(i=null==_?void 0:_.map(e=>e.travelers.filter(e=>"ADULT"===e.type)))?i:[],I=b.length>0?b.map((e,t)=>`&adultsPerRoom[${t+1}]=${e.length}`).join(""):"",A=h.length>0,F=E.length>0,O=`${g}${I}${T}${C}${D}${v}${A||F?"&InfantSeating="+(A?"lap":"seat"):""}`,k=`${"HOTEL_CAR"!==t?`origin=${null==y?void 0:y.regionName}`:""}&destination=${null==p?void 0:p.regionName}${(null==p?void 0:p.regionId)?`&destinationId=${null==p?void 0:p.regionId}`:""}${(null==p?void 0:p.airportCode)?`&ttla=${null==p?void 0:p.airportCode}`:""}`,G=m?`${nu("fromDate",m.start)}${m.end?nu("toDate",m.end):""}${nu("d1",m.start)}${m.end?nu("d2",m.end):""}`:"",R="FLIGHT_HOTEL_CAR"===t||"FLIGHT_HOTEL"===t||"HOTEL_CAR"===t,L=S?`${nu("checkInDate",S.start)}${nu("checkOutDate",S.end)}&isPartialStay=1\n  &partialStayCheckbox=true`:"&isPartialStay=0",P=R?L:"",N=`&packageType=${tu[t]}`,M="HOTEL_CAR"!==t&&u?`&cabinClass=${au[u]}`:"",x="HOTEL_CAR"!==t&&(null==y?void 0:y.regionId)?`&originId=${y.regionId}`:"",B="HOTEL_CAR"!==t&&(null==y?void 0:y.airportCode)?`&ftla=${y.airportCode}`:"",$="FLIGHT_HOTEL"===t?"&tripType=ROUND_TRIP":"",W="FLIGHT_CAR"!==t?null==(c=null==(o=e.secondary)?void 0:o.selections)?void 0:c.find(e=>"hotelId"===e.id):void 0,w=(null==W?void 0:W.value)?`&hotelId=${W.value}`:"",U=a&&"HOTEL_CAR"!==t?"&isDirectFlight=true":"",H=null==(d=null==(s=e.secondary)?void 0:s.selections)?void 0:d.find(e=>"age"===e.id);return`?${k}${O}${G}${N}${M}${x}${B}${$}${P}${w}${U}${(null==H?void 0:H.value)?`&age=${H.value}`:""}`})(a,E,T);window.location.href=`${t}${n}`}}},onFieldChange:(e,t)=>{null==S||S(e,t),X(t=>{if(!t)return null;const{TRAVELER_SELECTOR:a,TRAVEL_DATES:n}=Qd,{secondaries:l}=t,r=e.value,[i,o]=l,c=e.name===n&&"EGDSPlainText"===i.__typename?{...i,text:Vt(r,A)}:i,s=e.name===a?{...o,text:r}:o;return{...t,secondaries:[c,s]}})},hasRequiredFieldIndicator:!0},Q&&w&&n.createElement(r.N,{margin:{blockend:"two"}},n.createElement("div",null,n.createElement(_t,{data:w,errorCount:Z,inputErrorRef:J}))),n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(n.Fragment,null,j?n.createElement(Go,{data:j,display:x,onDisplayToggle:e=>{B(e)}},I&&(fe||he)&&n.createElement(F.X,{space:"two",wrap:"wrap"},fe,he),n.createElement(F.X,{...ye,direction:"column"},n.createElement(_u,{..._e,viewportSize:d.OB.SMALL,includeCabinClassField:!0})),Te,ve&&n.createElement(r.N,{margin:{blockstart:"three"}},n.createElement("div",null,n.createElement(Xd,{data:Y,setFieldRefByTypename:$,fieldError:L.fieldsWithErrors.find(e=>"EGDSSearchFormDatePickerFieldPartialStay"===e.__typename)})))):n.createElement(n.Fragment,null,n.createElement(F.X,{...ye,direction:"column"},n.createElement(_u,{..._e,viewportSize:d.OB.SMALL}),Ee),Te,ve&&n.createElement(r.N,{margin:{blockstart:"three"}},n.createElement("div",null,n.createElement(Xd,{data:Y,setFieldRefByTypename:$,fieldError:L.fieldsWithErrors.find(e=>"EGDSSearchFormDatePickerFieldPartialStay"===e.__typename)})))))),n.createElement(d.rw,null,n.createElement(n.Fragment,null,n.createElement(F.X,{...ye,wrap:"wrap"},n.createElement(_u,{...Se,viewportSize:d.OB.MEDIUM}),Ee),Te,ve&&n.createElement(r.N,{margin:{blockstart:"three"}},n.createElement("div",null,n.createElement(Xd,{data:Y,setFieldRefByTypename:$,fieldError:L.fieldsWithErrors.find(e=>"EGDSSearchFormDatePickerFieldPartialStay"===e.__typename)}))))),n.createElement(d.zQ,null,n.createElement(n.Fragment,null,n.createElement(F.X,{...ye,wrap:"wrap"},n.createElement(_u,{...Se,viewportSize:d.OB.LARGE}),Ee),Te,ve&&n.createElement(r.N,{margin:{blockstart:"three"}},n.createElement("div",null,n.createElement(Xd,{data:Y,setFieldRefByTypename:$,fieldError:L.fieldsWithErrors.find(e=>"EGDSSearchFormDatePickerFieldPartialStay"===e.__typename)})))))))};gu.fragment=yu,gu.displayName="MultiPackagesSearchForm";var Eu=u.gql`
  fragment NoSelectionMessageFragment on UIEmptyState {
    body
    heading
    icon {
      ...IconFragment
    }
  }
  ${Xe.fragment}
`,vu=e=>{const{data:t}=e,{icon:a,heading:l,body:i}=t;return n.createElement(r.N,{margin:{blockstart:"three"}},n.createElement("div",null,n.createElement(F.X,{direction:"column",alignItems:"center"},n.createElement(O.C,null,a&&n.createElement(Xe,{data:a})),n.createElement(O.C,null,n.createElement(N.M,null,l)),n.createElement(O.C,null,n.createElement(Y.u,null,i)))))};vu.displayName="NoSelectionMessage",vu.fragment=Eu;var hu=[Oo,rn,er,vt],Du=u.gql`
  fragment PrebundlesSearchFormFragment on PackagesSearchForm {
    playback @include(if: $includePlayback) {
      ...EGDSSearchPlaybackFragment
    }
    errorSummary {
      ...EGDSErrorSummaryFragment
    }
    elements {
      __typename
      ...EGDSSearchFormLocationFieldFragment
      ...EGDSSearchFormDatePickerFieldFragment
      ...EGDSSearchFormTravelersFieldFragment
    }
    search {
      ...EGDSSearchFormButtonFragment
    }
  }

  ${_t.fragment}
  ${Go.fragment}
  ${vt.fragment}
  ${Oo.fragment}
  ${rn.fragment}
  ${er.fragment}
`,fu={space:"three",direction:"row"},Tu=({data:e,onFieldChange:t,onSubmit:a})=>{var l,i;const[o,c]=n.useState({EGDSSearchFormLocationField:null,EGDSSearchFormDatePickerField:null}),[s,u]=n.useState({displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]}),[m,p]=n.useState(!0),[y,_]=n.useState(!1),S=e=>{_(e)},g=n.useCallback((e,t)=>{c(a=>({...a,[e]:t}))},[]),{elements:E,errorSummary:v,playback:h,search:D}=e,{displayErrorSummary:f,errorCount:T,errorLinkReference:C}=s;if(!D)return null;const b=[...E,D],I={setFieldRefByTypename:g},A=E.find(e=>"EGDSSearchFormDatePickerField"===e.__typename),k="EGDSSearchFormDatePickerField"===(null==A?void 0:A.__typename)&&"EGDSOpenDatePickerAction"===(null==(l=A.action)?void 0:l.__typename)&&"EGDSDateRangePicker"===A.action.datePicker.__typename&&null!=(i=A.action.datePicker.maxNumberOfDaysSelected)?i:0,R=e=>b.map((t,a)=>{const{__typename:l}=t,r=hu.find(({displayName:e})=>e===l);if(!r)return null;const i=eu(l,e),o=s.fieldsWithErrors.find(e=>e.__typename===l),c={...I,fieldError:o,setTravelerSelectorErrorState:S};return n.createElement(O.C,{key:`field_${l}_${a}`,...i},n.createElement("div",null,n.createElement(r,{data:t,...c})))});return n.createElement(G.m,{id:"package-search-form",name:"package-search-form",onFieldChange:(e,a)=>{null==t||t(e,a)},onSubmit:e=>{var t,n;e.preventDefault();const l=Array.from(e.currentTarget.elements),r={location:{origin:l.find(mr("origin-select"))},dates:{startDateInput:l.find(mr("EGDSDateRangePicker-StartDate-date-range-select")),endDateInput:l.find(mr("EGDSDateRangePicker-EndDate-date-range-select")),config:{maxNumberOfDaysSelected:k}}},i=dr(r);!(0===i.length)||y?u({fieldsWithErrors:y?[...i,{__typename:"EGDSBasicTravelerSelector",isValid:!1}]:i,errorCount:y?i.length+1:i.length,displayErrorSummary:!0,errorLinkReference:o[null!=(n=null==(t=i[0])?void 0:t.__typename)?n:"EGDSBasicTravelerSelector"]}):null==a||a(e)},hasRequiredFieldIndicator:!0},f&&v&&n.createElement(r.N,{margin:{blockend:"two"}},n.createElement("div",null,n.createElement(_t,{data:v,errorCount:T,inputErrorRef:C}))),n.createElement(d.LM,null,n.createElement(d.NP,null,h?n.createElement(Go,{data:h,display:m,onDisplayToggle:e=>{p(e)}},n.createElement(F.X,{...fu,direction:"column"},R(d.OB.SMALL))):n.createElement(F.X,{...fu,direction:"column"},R(d.OB.SMALL))),n.createElement(d.rw,null,n.createElement(F.X,{...fu,wrap:"wrap"},R(d.OB.MEDIUM))),n.createElement(d.zQ,null,n.createElement(F.X,{...fu,wrap:"wrap"},R(d.OB.LARGE)))))};Tu.fragment=Du,Tu.displayName="PrebundlesSearchForm";var Cu={SEARCH_TOOLS_PACKAGES_SEARCH_FORM_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_PACKAGES_SEARCH_FORM_QUERY_FAILURE")},bu={linkName:"Packages Search Form Fallback Presented",referrerId:"Web.Packages.Search.Form.Fallback.Presented"},Iu={linkName:"Packages Search Form Presented",referrerId:"Web.Packages.Search.Form.Presented"},Au=u.gql`
  query PackagesSearchFormQuery(
    $context: ContextInput!
    $pageLocation: PageLocation
    $packageSearchCriteria: PackageSearchCriteriaInput
    $packageShoppingCriteria: ProductShoppingCriteriaInput
    $includePlayback: Boolean = false
    $packageType: PackageType
  ) {
    searchForm(context: $context, pageLocation: $pageLocation) {
      packages(packageSearchCriteria: $packageSearchCriteria, packageShoppingCriteria: $packageShoppingCriteria, packageType: $packageType) {
        ...PrebundlesSearchFormFragment
        ...MultiPackagesSearchFormFragment
        ... on PackagesSearchForm {
          packageSelection {
            noSelectionMessage {
              ...NoSelectionMessageFragment
            }
          }
        }
      }
    }
  }

  ${Tu.fragment}
  ${gu.fragment}
  ${vu.fragment}
`,Fu={rows:[{lineLength:"primary"},{lineLength:"primary"},{lineLength:"primary"}]},Ou={rows:[{lineLength:"primary"}]},ku=e=>{var t,a,l,r,i;const{inputs:o,skipSsr:c,includePlayback:s,batchKey:y,skipQuery:_=!1,pageLocation:S}=e,{packageType:g}=o,{context:E}=(0,m.R)(),h=(0,p.useLoggerEvents)(Cu),[D,f]=n.useState(_),T={...o,context:E,includePlayback:Boolean(s),pageLocation:S},{data:C,error:b,loading:I,previousData:A}=(0,u.useQuery)(Au,{context:{batchKey:y,shouldLogPerformance:!0},variables:T,ssr:!c,skip:D});n.useEffect(()=>{f(_&&!I)},[I,_]);const F=C||A;if(I)return n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(ot,{...Fu})),n.createElement(d.rw,null,n.createElement(ot,{...Ou})));if(b||!F||!(null==(t=null==F?void 0:F.searchForm)?void 0:t.packages)){h.SEARCH_TOOLS_PACKAGES_SEARCH_FORM_QUERY_FAILURE.log({name:null==b?void 0:b.name,error:new Error(null==b?void 0:b.message)});const t=(e=>{let t=[];switch(e){case"HOTEL_CAR":t=[Ad(),Md,Ud];break;case"FLIGHT_HOTEL_CAR":case"FLIGHT_HOTEL":t=[Fd(e),Md,Wd,xd];break;case"FLIGHT_CAR":t=[Fd(e),Md,wd,xd]}return{searchForm:{packages:{errorSummary:Td,search:Cd,elements:t,__typename:"PackagesSearchForm",actionURL:"/flexibleshopping",packageSelection:bd,searchLocation:xr},__typename:"SearchFormResults"}}})(g);return(null==(a=null==t?void 0:t.searchForm)?void 0:a.packages)&&"PackagesSearchForm"===t.searchForm.packages.__typename&&"PackagesSearchFormSelection"===(null==(l=t.searchForm.packages.packageSelection)?void 0:l.__typename)?null===g?n.createElement(ze,null,n.createElement(vu,{data:t.searchForm.packages.packageSelection.noSelectionMessage})):n.createElement(ze,null,n.createElement(v.IntersectionTracker,{...bu},g?n.createElement(gu,{...e,packageType:g,data:t.searchForm.packages,includeCabinClassField:Boolean(s)}):n.createElement(Tu,{...e,data:t.searchForm.packages}))):null}return(null==(r=null==F?void 0:F.searchForm)?void 0:r.packages)&&"PackagesSearchForm"===F.searchForm.packages.__typename&&"PackagesSearchFormSelection"===(null==(i=F.searchForm.packages.packageSelection)?void 0:i.__typename)?null===g?n.createElement(vu,{data:F.searchForm.packages.packageSelection.noSelectionMessage}):n.createElement(v.IntersectionTracker,{...Iu},g?n.createElement(gu,{...e,packageType:g,data:F.searchForm.packages,includeCabinClassField:Boolean(s)}):n.createElement(Tu,{...e,data:F.searchForm.packages})):null};ku.displayName="sharedui-PackagesSearchForm";var Gu=e=>{const{inputs:t,onPackageTypeChange:a,includePlayback:l,enableReflection:r,sticky:o}=e,[c,s]=n.useState(t.packageType),[u,m]=n.useState({name:"",value:""}),[p,y]=n.useState(!0),[_,S]=n.useState(!0),[g,E]=n.useState(!1),[v,h]=n.useState(!1),D=o?Be:n.Fragment,f=n.useCallback(e=>{s(e),null==a||a(e);const t="HOTEL_CAR"===e;y(!t&&null!==e),S(!t&&null!==e)},[s,a]),T=n.useCallback(e=>{m(e),E(!0)},[m]),C=n.useCallback(e=>{h(e)},[h]),b=n.createElement(vd,{...e,onPackageTypeChange:f,onCabinClassSelect:T,inputs:{...t},showCabinClass:p,showDirectFlightsOnly:_,skipQuery:g,handleDirectFlightsOnlySwitch:C}),I=n.createElement(ku,{...e,inputs:{...t,packageType:c},cabinClass:u,directFlightsOnlySwitch:v,showDirectFlightsOnly:_,handleDirectFlightsOnlySwitch:C}),A=n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(n.Fragment,null,!l&&b,I)),n.createElement(d.rw,null,n.createElement(D,null,b,I)));return r?n.createElement(i.tb,null,n.createElement("div",{"data-stid":"search-form-with-reflection"},A)):A},Ru=u.gql`
  fragment ClientSideAnalyticsFragment on ClientSideAnalytics {
    linkName
    referrerId
  }
`,Lu=u.gql`
  fragment SearchFormDirectFlightFragment on SearchFormDirectFlight {
    accessibilityText
    id
    isApplied
    label
    selectAnalytics {
      ...ClientSideAnalyticsFragment
    }
    unselectAnalytics {
      ...ClientSideAnalyticsFragment
    }
  }

  ${Ru}
`,Pu=e=>{const t=(0,v.useClickTracker)(),{data:a,onChange:l}=e,{accessibilityText:r,id:i,isApplied:o,label:c,selectAnalytics:s,unselectAnalytics:d}=a;return n.createElement(de.x,{a11yLabel:null!=r?r:"",id:i,checked:o,onChange:e=>{const a=e.currentTarget.checked?s:d;a&&t(a.referrerId,a.linkName),null==l||l(e)}},c)};Pu.displayName="SearchFormDirectFlight",Pu.fragment=Lu;var Nu=u.gql`
  fragment FlightTypeSelectorOptionsFragment on EGDSSearchFormSelectAction {
    analytics {
      linkName
      referrerId
    }
    options {
      ...FlightTypeSelectorOptionFragment
    }
    apply {
      ...EGDSPrimaryButtonFragment
    }
  }

  fragment FlightTypeSelectorOptionFragment on EGDSBasicOption {
    changeAnalytics {
      linkName
      referrerId
    }
    value
    label
    selected
  }

  ${cn.fragment}
`,Mu={ONE_WAY:"ONE_WAY",ROUND_TRIP:"ROUND_TRIP",MULTI_CITY:"MULTI_DESTINATION"},xu=({data:e,onFlightTypeSelect:t,flightTypeOverride:a})=>{const l=(0,v.useClickTracker)(),r=e.options.filter(({__typename:e})=>"EGDSBasicOption"===e),[i,o]=n.useState(a?r.findIndex(e=>e.value===a):r.findIndex(e=>e.selected)),c={selectedTab:i,onTabSelect:e=>{const{value:a,changeAnalytics:n}=r[e];if(o(e),null==t||t(we[Mu[a]]),n){const{linkName:e,referrerId:t}=n;l(e,t)}},tabsType:le.Ah.NATURAL};return n.createElement(le.IN,{...c},r.map(({value:e,label:t})=>{const a=Mu[e]||e;return n.createElement(re.X,{id:`FlightSearchForm_${a}`,key:e,name:t,targetURI:`?flightType=${e}`})}))};xu.fragment=Nu,xu.displayName="FlightTypeSelectorOptions";var Bu={SEARCH_TOOLS_FLIGHTS_SEARCH_FORM_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_FLIGHTS_SEARCH_FORM_QUERY_FAILURE"),SEARCH_TOOLS_FLIGHTS_OPTIONS_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_FLIGHTS_OPTIONS_QUERY_FAILURE")},$u={linkName:"Flights Search Form Fallback Presented",referrerId:"Web.Flights.Search.Form.Fallback.Presented"},Wu={linkName:"Flights Options Fallback Presented",referrerId:"Web.Flights.Options.Fallback.Presented"},wu={linkName:"Flights Search Form Presented",referrerId:"Web.Flights.Search.Form.Presented"},Uu={linkName:"Flights Options Presented",referrerId:"Web.Flights.Options.Presented"},Hu=u.gql`
  query FlightOptionsQuery(
    $context: ContextInput!
    $pageLocation: PageLocation
    $flightSearchCriteria: FlightSearchCriteriaInput
    $includeFlightType: Boolean = false
  ) {
    searchForm(context: $context, pageLocation: $pageLocation) {
      flight(flightSearchCriteria: $flightSearchCriteria) {
        ...FlightsOptionsSearchFormFragment
      }
    }
  }

  fragment FlightsOptionsSearchFormFragment on FlightSearchForm {
    flightTypeSelector @include(if: $includeFlightType) {
      action {
        ... on EGDSSearchFormSelectAction {
          ...FlightTypeSelectorOptionsFragment
        }
      }
    }

    elements {
      ...EGDSSearchFormInputFieldFragment
    }

    directFlight {
      ...SearchFormDirectFlightFragment
    }
  }

  ${xu.fragment}
  ${Sn.fragment}
  ${Pu.fragment}
`,Vu=e=>{var t,a,l;const{inputs:i,skipSsr:o,onCabinClassSelect:c,onDirectFlightsSelect:s,directFlightsOnlySwitch:y,batchKey:_}=e,{includeFlightType:S}=i,{context:g}=(0,m.R)(),E={...i,context:g},h=(0,p.useLoggerEvents)(Bu),{data:D,error:f,loading:T}=(0,u.useQuery)(Hu,{context:{batchKey:_,shouldLogPerformance:!0},variables:E,ssr:!o}),{exposure:C}=(0,W.useExperiment)("Cabin_Class_in_the_Traveller_UI_WEB");let b=D;if(n.useEffect(()=>{var e,t;if(c){const a="FlightSearchForm"===(null==b?void 0:b.searchForm.flight.__typename)?b.searchForm.flight.elements.find(e=>{var t;return"EGDSSearchFormInputField"===e.__typename&&"EGDSSearchFormSelectAction"===(null==(t=e.action)?void 0:t.__typename)}):null;if("EGDSSearchFormInputField"===(null==a?void 0:a.__typename)&&"EGDSSearchFormSelectAction"===(null==(e=a.action)?void 0:e.__typename)){const e=`${pn}-${a.egdsElementId}`,n=a.action.options.find(e=>e.selected);c({name:e,value:null!=(t=null==n?void 0:n.value)?t:""})}}},[null==b?void 0:b.searchForm,c]),T)return n.createElement(k.R,{animation:!0,type:"line",lineLength:"secondary"});const I=f||!D;(I||"FlightSearchForm"!==(null==(t=D.searchForm)?void 0:t.flight.__typename))&&(b={searchForm:{flight:{directFlight:null,flightTypeSelector:{action:{analytics:{linkName:"Web.Flight - Open Flight Type Selector",referrerId:"Web.Flight.flight.type.selector.open",__typename:"ClientSideAnalytics"},options:[{changeAnalytics:{linkName:"Flight roundtrip change",referrerId:"Web.Flight.Search.Tab.Roundtrip",__typename:"ClientSideAnalytics"},value:"ROUND_TRIP",label:"Roundtrip",selected:!0,__typename:"EGDSBasicOption"},{changeAnalytics:{linkName:"Flight one way change",referrerId:"Web.Flight.Search.Tab.Oneway",__typename:"ClientSideAnalytics"},value:"ONE_WAY",label:"One-way",selected:!1,__typename:"EGDSBasicOption"},{changeAnalytics:{linkName:"Flight multicity change",referrerId:"Web.Flight.Search.Tab.Multicity",__typename:"ClientSideAnalytics"},value:"MULTI_CITY",label:"Multi-city",selected:!1,__typename:"EGDSBasicOption"}],apply:{egdsElementId:"flight_type_selector",primary:"Apply",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Web.Flight - Flight Type Apply",referrerId:"Web.Flight.flight.type.selector.apply.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},__typename:"EGDSSearchFormSelectAction"},__typename:"EGDSSearchFormInputField"},elements:[{egdsElementId:"cabin_class",value:"COACH",label:"Cabin class",placeholder:"Economy",leftIcon:{id:"airline_seat_recline_extra",title:null,token:"icon__airline_seat_recline_extra",description:"airline_seat_recline_extra",size:null,__typename:"Icon"},action:{analytics:{linkName:"Open Cabin Class Selector",referrerId:"Web.Flight.cabin.class.selector.open",__typename:"ClientSideAnalytics"},options:[{label:"Economy",selected:!0,value:"COACH",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Economy class selected",referrerId:"Web.Flight.cabin.class.economy.selected",__typename:"ClientSideAnalytics"}},{label:"Premium economy",selected:!1,value:"ECONOMY_PREMIUM",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Premium economy class selected",referrerId:"Web.Flight.cabin.class.premium.economy.selected",__typename:"ClientSideAnalytics"}},{label:"Business class",selected:!1,value:"BUSINESS",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Business class selected",referrerId:"Web.Flight.cabin.class.business.class.selected",__typename:"ClientSideAnalytics"}},{label:"First class",selected:!1,value:"FIRST_CLASS",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"First class selected",referrerId:"Web.Flight.cabin.class.first.class.selected",__typename:"ClientSideAnalytics"}}],__typename:"EGDSSearchFormSelectAction"},__typename:"EGDSSearchFormInputField"}],__typename:"FlightSearchForm"},__typename:"SearchFormResults"}},h.SEARCH_TOOLS_FLIGHTS_OPTIONS_QUERY_FAILURE.log({name:null==f?void 0:f.name,error:new Error(null==f?void 0:f.message)}));const A=I?ze:n.Fragment,{elements:R,flightTypeSelector:L,directFlight:P}=null==b?void 0:b.searchForm.flight,N={space:"three",alignItems:"start",wrap:"wrap"},M=R.find(e=>"EGDSSearchFormInputField"===e.__typename),x=0===C.bucket&&M&&n.createElement(O.C,null,n.createElement("div",null,n.createElement(G.m,{onFieldChange:e=>{null==c||c(e)}},n.createElement(Sn,{data:M,triggerType:"pill"})))),B=P&&n.createElement(O.C,null,n.createElement("div",null,n.createElement(Pu,{data:{...P,isApplied:null!=y?y:P.isApplied},onChange:e=>{const{checked:t}=e.target;null==s||s(t)}})));return n.createElement(A,null,n.createElement(v.IntersectionTracker,{...I?Wu:Uu},n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(n.Fragment,null,S&&"EGDSSearchFormSelectAction"===(null==(a=null==L?void 0:L.action)?void 0:a.__typename)&&n.createElement(r.N,{margin:{blockend:"three"}},n.createElement("div",null,n.createElement(xu,{...e,data:L.action}))),n.createElement(F.X,{...N},x,B))),n.createElement(d.rw,null,n.createElement(F.X,{...N,alignItems:"center"},S&&"EGDSSearchFormSelectAction"===(null==(l=null==L?void 0:L.action)?void 0:l.__typename)&&n.createElement(O.C,null,n.createElement("div",null,n.createElement(xu,{...e,data:L.action}))),x,B)))))};Vu.displayName="sharedui-FlightOptions";var qu=(e=5)=>{const t=new Date,a=new Date(t);a.setDate(t.getDate()+e);const n=new Date(a);return n.setDate(a.getDate()+4),{departureDate:{day:a.getDate(),month:a.getMonth()+1,year:a.getFullYear()},arrivalDate:{day:n.getDate(),month:n.getMonth()+1,year:n.getFullYear()}}},zu=new Date,Yu=new Date;Yu.setDate(Yu.getDate()+14);var Ku=new Date;Ku.setDate(Ku.getDate()+15);var ju=new Date;function Xu(e){return{__typename:"Date",day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()}}ju.setMonth(ju.getMonth()+10),ju.setDate(ju.getDate()-5);var Qu=e=>`${["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]} ${e.getDate()}`,Zu={egdsElementId:"search_form_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Flight.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Flight.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},Ju={__typename:"EGDSSearchFormLocationField",egdsElementId:"origin_select",label:"Leaving from",placeholder:"Leaving from",value:null,errorMessage:"Please select where you're leaving from",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're leaving from",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!1,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"roundtrip",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Origin change",referrerId:"Web.Flight.origin.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},em={__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_select",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select where you're going",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're going",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"roundtrip",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Destination change",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},tm={__typename:"UISecondaryButton",egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_horiz",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null},am={__typename:"UISecondaryButton",egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_vert",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null},nm=[{__typename:"EGDSSameValueInputValidation",errorMessage:"Please make sure your departure and arrival cities are different"}],lm={__typename:"EGDSSearchFormDatePickerField",egdsElementId:"date_form_field",label:"Dates",placeholder:`${Qu(Yu)} - ${Qu(Ku)}`,errorMessage:"Check-out date must be after check-in date",validations:null,action:{accessibility:null,analytics:{linkName:"flight calendar selection",referrerId:"Web.Flight.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{flexibleDateContent:null,buttonText:"Done",buttonTextTemplate:null,clearButtonText:null,firstDayOfWeek:"SUN",maxNumberOfDaysSelected:null,sameDaySelectionAllowed:!1,selectedStartDate:{...Xu(Yu)},startDatePlaceholderText:Qu(Yu),selectedEndDate:{...Xu(Ku)},endDatePlaceholderText:Qu(Ku),validDaysLowerBoundInclusive:{...Xu(zu)},validDaysUpperBoundInclusive:{...Xu(ju)},submitButtonAnalytics:{linkName:"flight calendar submit",referrerId:"Web.Flight.Calendar.Submit",__typename:"ClientSideAnalytics"},nextButtonAnalytics:{linkName:"Calendar next",referrerId:"Web.Flight.Calendar.Next.Month.Click",__typename:"ClientSideAnalytics"},previousButtonAnalytics:{linkName:"Calendar previous",referrerId:"Web.Flight.Calendar.Previous.Month.Click",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"flight calendar start date click",referrerId:"Web.Flight.Calendar.Start.Date.Click",__typename:"ClientSideAnalytics"},endDateButtonAnalytics:{linkName:"flight calendar end date click",referrerId:"Web.Flight.Calendar.End.Date.Click",__typename:"ClientSideAnalytics"},clearDatesButtonAnalytics:null,showClearDatesButton:!1,__typename:"EGDSDateRangePicker"},__typename:"EGDSOpenDatePickerAction"}},rm={__typename:"EGDSSearchFormDatePickerField",egdsElementId:"date_form_field",label:"Date",placeholder:Qu(Yu),errorMessage:"Check-out date must be after check-in date",validations:null,action:{accessibility:null,analytics:{linkName:"flight calendar selection",referrerId:"Web.Flight.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{buttonText:"Done",firstDayOfWeek:"SUN",selectedStartDate:{...Xu(Yu)},startDateButtonAnalytics:{linkName:"flight calendar start date click",referrerId:"Web.Flight.Calendar.Start.Date.Click",__typename:"ClientSideAnalytics"},submitButtonAnalytics:{linkName:"flight calendar submit",referrerId:"Web.Flight.Calendar.Submit",__typename:"ClientSideAnalytics"},validDaysLowerBoundInclusive:{...Xu(zu)},validDaysUpperBoundInclusive:{...Xu(ju)},__typename:"EGDSSingleDatePicker"},__typename:"EGDSOpenDatePickerAction"}},im={action:{analytics:{linkName:"Travelers selector displayed",referrerId:"Travelers selector updated",__typename:"ClientSideAnalytics"},travelerSelector:{subTitles:null,closeButton:{egdsElementId:"travelers_selector_close_button",primary:"Close",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers Selector Close button",referrerId:"Web.Flight.Search.Traveler.Selector.Close.Button.Clicked",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},doneButton:{egdsElementId:"travelers_selector_done_button",primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers Selector Done button",referrerId:"Web.Flight.Search.Traveler.Selector.Done.Button.Clicked",__typename:"ClientSideAnalytics"},action:{__typename:"ActivityAddOfferToTripAction",accessibility:""},__typename:"UIPrimaryButton"},title:"Travelers",travelers:{adults:{decreaseAnalytics:{linkName:"Adult traveler removed",referrerId:"Web.Flights.Traveler.Remove.Adult",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Adult traveler added",referrerId:"Web.Flights.Traveler.Add.Adult",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of adults",decreaseTextTemplate:null,increaseText:"Increase the number of adults",increaseTextTemplate:null,egdsElementId:"traveler_selector_adult_step_input",label:"Adults",max:6,min:1,step:1,subLabel:null,value:1,__typename:"EGDSTravelerStepInput"},children:{count:{decreaseAnalytics:{linkName:"Children traveler removed",referrerId:"Web.Flights.Traveler.Remove.Children",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Children traveler added",referrerId:"Web.Flights.Traveler.Add.Children",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of children",decreaseTextTemplate:null,increaseText:"Increase the number of children",increaseTextTemplate:null,egdsElementId:"traveler_selector_children_step_input",label:"Children",max:5,min:0,step:1,subLabel:"Ages 2 to 17",value:0,__typename:"EGDSTravelerStepInput"},ages:[],ageTemplate:{disabled:!1,labelTemplate:{models:[{key:"childNumber",source:"childNumber",__typename:"TemplateModel"}],template:"Child ${childNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{label:"Select age",value:"",egdsElementId:"children_age_option",__typename:"EGDSBasicOption",changeAnalytics:null},{label:"2",value:"2",egdsElementId:"children_age_option_2",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"3",value:"3",egdsElementId:"children_age_option_3",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"4",value:"4",egdsElementId:"children_age_option_4",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"5",value:"5",egdsElementId:"children_age_option_5",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"6",value:"6",egdsElementId:"children_age_option_6",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"7",value:"7",egdsElementId:"children_age_option_7",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"8",value:"8",egdsElementId:"children_age_option_8",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"9",value:"9",egdsElementId:"children_age_option_9",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"10",value:"10",egdsElementId:"children_age_option_10",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"11",value:"11",egdsElementId:"children_age_option_11",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"12",value:"12",egdsElementId:"children_age_option_12",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"13",value:"13",egdsElementId:"children_age_option_13",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"14",value:"14",egdsElementId:"children_age_option_14",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"15",value:"15",egdsElementId:"children_age_option_15",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"16",value:"16",egdsElementId:"children_age_option_16",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"17",value:"17",egdsElementId:"children_age_option_17",changeAnalytics:null,__typename:"EGDSBasicOption"}],egdsElementId:"traveler_selector_children_age_selector",value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerChildren"},infantsInSeat:{count:{decreaseAnalytics:{linkName:"Infant traveler removed",referrerId:"Web.Flights.Traveler.Remove.InfantsInSeat",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Infant traveler added",referrerId:"Web.Flights.Traveler.Add.InfantsInSeat",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of infants in seat",decreaseTextTemplate:null,increaseText:"Increase the number of infants in seat",increaseTextTemplate:null,egdsElementId:"traveler_selector_infants_in_seat_step_input",label:"Infants in seat",max:4,min:0,step:1,subLabel:"Younger than 2",value:0,__typename:"EGDSTravelerStepInput"},ages:[],ageTemplate:{disabled:!1,labelTemplate:{models:[{key:"infantNumber",source:"infantNumber",__typename:"TemplateModel"}],template:"Infant ${infantNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{label:"Select age",value:"",egdsElementId:"infants_age_option",__typename:"EGDSBasicOption",changeAnalytics:null},{label:"0",value:"0",egdsElementId:"infants_age_option_0",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"1",value:"1",egdsElementId:"infants_age_option_1",changeAnalytics:null,__typename:"EGDSBasicOption"}],egdsElementId:"traveler_selector_infant_age_selector",value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerInfant"},infantsOnLap:{count:{decreaseAnalytics:{linkName:"Infant traveler removed",referrerId:"Web.Flights.Traveler.Remove.InfantsOnLap",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Infant traveler added",referrerId:"Web.Flights.Traveler.Add.InfantsOnLap",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of infants on lap",decreaseTextTemplate:null,increaseText:"Increase the number of infants on lap",increaseTextTemplate:null,egdsElementId:"traveler_selector_infants_on_lap_step_input",label:"Infants on lap",max:4,min:0,step:1,subLabel:"Younger than 2",value:0,__typename:"EGDSTravelerStepInput"},ages:[],ageTemplate:{disabled:!1,labelTemplate:{models:[{key:"infantNumber",source:"infantNumber",__typename:"TemplateModel"}],template:"Infant ${infantNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{label:"Select age",value:"",egdsElementId:"infants_age_option",__typename:"EGDSBasicOption",changeAnalytics:null},{label:"0",value:"0",egdsElementId:"infants_age_option_0",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"1",value:"1",egdsElementId:"infants_age_option_1",changeAnalytics:null,__typename:"EGDSBasicOption"}],egdsElementId:"traveler_selector_infant_age_selector",value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerInfant"},pets:null,__typename:"EGDSTravelers"},validations:[{errorMessage:"We allow up to 6 travelers per booking.",maxCount:6,type:"MAX_TRAVELERS",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"We allow up to 6 travelers per booking.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Flight.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"Provide the age of the child.",maxCount:null,type:"CHILD_AGE_REQUIRED",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Flight.Traveler.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Flight.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"There must be at least 1 traveler (age 12+) for each infant on lap.",maxCount:null,type:"MANY_INFANT_ON_LAP",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"There must be at least 1 traveler (age 12+) for each infant on lap.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Flight.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"There must be at least 1 traveler (age 12+) for every 2 infants in a seat.",maxCount:null,type:"MANY_INFANT_IN_SEAT",infantsInSeatPerAdult:2,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"There must be at least 1 traveler (age 12+) for every 2 infants in a seat.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Flight.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"}],__typename:"EGDSBasicTravelerSelector"},accessibility:"expand to change the number of travelers",__typename:"EGDSOpenTravelerSelectorAction"},label:"Travelers",labelTemplate:{models:[{key:"travelerCount",source:"travelerCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"ONE",template:"${travelerCount} traveler",__typename:"CardinalTemplate"},{category:"TWO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"FEW",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"MANY",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"OTHER",template:"${travelerCount} travelers",__typename:"CardinalTemplate"}],secondaryTemplates:null,text:"1 traveler",__typename:"EGDSCardinalLocalizedText"},leftIcon:{id:"person",__typename:"Icon"},readOnly:!1,__typename:"EGDSSearchFormTravelersField"},om={__typename:"EGDSSearchFormInputField",egdsElementId:"cabin_class",value:"COACH",label:"Cabin class",placeholder:"Economy",leftIcon:{__typename:"Icon",id:"airline_seat_recline_extra",title:null,token:"icon__airline_seat_recline_extra",description:"airline_seat_recline_extra",size:null},action:{__typename:"EGDSSearchFormSelectAction",analytics:{__typename:"ClientSideAnalytics",linkName:"Open Cabin Class Selector",referrerId:"Web.Flight.cabin.class.selector.open"},options:[{__typename:"EGDSBasicOption",changeAnalytics:{__typename:"ClientSideAnalytics",linkName:"Economy class selected",referrerId:"Web.Flight.cabin.class.economy.selected"},selected:!0,value:"COACH",label:"Economy"},{__typename:"EGDSBasicOption",changeAnalytics:{__typename:"ClientSideAnalytics",linkName:"Premium economy class selected",referrerId:"Web.Flight.cabin.class.premium.economy.selected"},selected:!1,value:"ECONOMY_PREMIUM",label:"Premium economy"},{__typename:"EGDSBasicOption",changeAnalytics:{__typename:"ClientSideAnalytics",linkName:"Business class selected",referrerId:"Web.Flight.cabin.class.business.class.selected"},selected:!1,value:"BUSINESS",label:"Business class"},{__typename:"EGDSBasicOption",changeAnalytics:{__typename:"ClientSideAnalytics",linkName:"First class selected",referrerId:"Web.Flight.cabin.class.first.class.selected"},selected:!1,value:"FIRST_CLASS",label:"First class"}]}},cm={egdsElementId:"search_button",primary:"Search",disabled:!1,accessibility:"Search",icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.Flight.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}},sm=[{id:"multiDestinationLeg_0",locations:{egdsElementId:"locations",origin:{debounceRate:null,__typename:"EGDSSearchFormLocationField",egdsElementId:"origin_select",label:"Leaving from",placeholder:"Leaving from",value:null,errorMessage:"Please select where you're leaving from",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're leaving from",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!1,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"multicity",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Origin change",referrerId:"Web.Flight.origin.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},destination:{debounceRate:null,__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_select",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select where you're going",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're going",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"multicity",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Destination change",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},horizontalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_horiz",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},verticalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_vert",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},validations:[{errorMessage:"Please make sure your departure and arrival cities are different",__typename:"EGDSSameValueInputValidation"}],__typename:"EGDSSearchFormLocationsField"},date:{egdsElementId:"date_form_field",label:"Date",placeholder:Qu(Yu),errorMessage:"Check-out date must be after check-in date",validations:null,action:{accessibility:null,analytics:{linkName:"flight calendar selection",referrerId:"Web.Flight.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{buttonText:"Done",selectedStartDate:{...Xu(Yu)},validDaysLowerBoundInclusive:{...Xu(zu)},validDaysUpperBoundInclusive:{...Xu(ju)},submitButtonAnalytics:{linkName:"flight calendar submit",referrerId:"Web.Flight.Calendar.Submit",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"flight calendar start date click",referrerId:"Web.Flight.Calendar.Start.Date.Click",__typename:"ClientSideAnalytics"},firstDayOfWeek:"SUN",__typename:"EGDSSingleDatePicker"},__typename:"EGDSOpenDatePickerAction"},__typename:"EGDSSearchFormDatePickerField"},__typename:"FlightSearchFormLeg"},{id:"multiDestinationLeg_1",locations:{egdsElementId:"locations",origin:{debounceRate:null,__typename:"EGDSSearchFormLocationField",egdsElementId:"origin_select",label:"Leaving from",placeholder:"Leaving from",value:null,errorMessage:"Please select where you're leaving from",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're leaving from",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!1,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"multicity",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Origin change",referrerId:"Web.Flight.origin.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},destination:{debounceRate:null,__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_select",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select where you're going",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're going",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"multicity",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Destination change",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},horizontalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_horiz",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},verticalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_vert",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},validations:[{errorMessage:"Please make sure your departure and arrival cities are different",__typename:"EGDSSameValueInputValidation"}],__typename:"EGDSSearchFormLocationsField"},date:{egdsElementId:"date_form_field",label:"Date",placeholder:Qu(Yu),errorMessage:"Check-out date must be after check-in date",validations:null,action:{accessibility:null,analytics:{linkName:"flight calendar selection",referrerId:"Web.Flight.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{buttonText:"Done",selectedStartDate:{...Xu(Yu)},validDaysLowerBoundInclusive:{...Xu(zu)},validDaysUpperBoundInclusive:{...Xu(ju)},submitButtonAnalytics:{linkName:"flight calendar submit",referrerId:"Web.Flight.Calendar.Submit",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"flight calendar start date click",referrerId:"Web.Flight.Calendar.Start.Date.Click",__typename:"ClientSideAnalytics"},firstDayOfWeek:"SUN",__typename:"EGDSSingleDatePicker"},__typename:"EGDSOpenDatePickerAction"},__typename:"EGDSSearchFormDatePickerField"},__typename:"FlightSearchFormLeg"}],dm={accessibility:null,action:null,analytics:{linkName:"Add Leg button clicked",referrerId:"Web.Flight.Search.AddLeg.Button.Clicked",__typename:"ClientSideAnalytics"},disabled:!1,egdsElementId:"add_leg_button",icon:{description:"ADD",id:"add",title:null,token:"icon__add",__typename:"Icon"},primary:"Add another flight",__typename:"UITertiaryButton"},um={accessibility:null,action:null,analytics:{linkName:"Remove Leg button clicked",referrerId:"Web.Flight.Search.RemoveLeg.Button.Clicked",__typename:"ClientSideAnalytics"},disabled:!1,egdsElementId:"remove_leg_button",icon:null,primary:"Remove",__typename:"UITertiaryButton"},mm={models:[{key:"legNumber",source:"legNumber",__typename:"TemplateModel"}],template:"Flight ${legNumber}",__typename:"EGDSBasicLocalizedText"},pm=e=>e.valueOf()==="ROUND_TRIP".valueOf()?lm:rm,ym={__typename:"FlightSearchFormTravelersComposition",label:"Travelers, Cabin class",title:"Travelers and Cabin class"},_m=e=>{const t=(e=>{if(e.valueOf()==="MULTI_DESTINATION".valueOf())return{legs:sm,addLeg:dm,removeLeg:um,legHeading:mm};const t=pm(e);return{legs:(a=e,n=t,[{id:a,locations:{__typename:"EGDSSearchFormLocationsField",egdsElementId:"locations",origin:{__typename:"EGDSSearchFormLocationField",egdsElementId:"origin_select",label:"Leaving from",placeholder:"Leaving from",value:null,errorMessage:"Please select where you're leaving from",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're leaving from",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!1,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"roundtrip",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Origin change",referrerId:"Web.Flight.origin.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},destination:{debounceRate:null,__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_select",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select where you're going",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're going",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"roundtrip",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Destination change",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},horizontalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_horiz",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},verticalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_vert",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},validations:[{errorMessage:"Please make sure your departure and arrival cities are different",__typename:"EGDSSameValueInputValidation"}]},date:n,__typename:"FlightSearchFormLeg"}]),addLeg:null,removeLeg:null,legHeading:null};var a,n})(e);return{__typename:"FlightSearchForm",travelersComposition:ym,egdsElementId:"flight-search-form",actionURL:"/Flights-Search",errorSummary:Zu,elements:[{egdsElementId:"flight_locations",origin:Ju,destination:em,horizontalSwapper:tm,verticalSwapper:am,validations:nm,__typename:"EGDSSearchFormLocationsField"},pm(e),im,om],search:cm,addLeg:t.addLeg,removeLeg:t.removeLeg,legHeading:t.legHeading,legs:t.legs,playback:null,maxAllowedLegs:5,localDateFormat:"M/d/yyyy",softPackages:null,searchLocation:xr,valuePropMessage:null,searchFormAnalytics:null}},Sm=({data:e,children:t})=>{var a;return e?n.createElement(v.IntersectionTracker,{referrerId:e.referrerId,linkName:null!=(a=e.linkName)?a:e.referrerId,intersectionOptions:{threshold:.5}},t):n.createElement(n.Fragment,null,t)};Sm.displayName="ClientSideImpressionEventAnalytics",Sm.fragment=Ru;var gm=u.gql`
  fragment TravelersCompositionFragment on FlightSearchFormTravelersComposition {
    __typename
    label
    title
  }
`,Em="LeftIconFlexItem",vm="default",hm={SMALL:{LeftIconFlexItem:{alignSelf:void 0},default:{alignSelf:"center"}},MEDIUM:{LeftIconFlexItem:{alignSelf:"center"},default:{}},LARGE:{default:{}},EXTRA_LARGE:{default:{}}},Dm=(e,t)=>{var a;const n=hm[t];return null!=(a=n[e])?a:n.default},fm="mainLayout",Tm="contentLayout",Cm={space:"three",alignItems:"center"},bm={SMALL:{mainLayout:{...Cm,justifyContent:"start"},contentLayout:{direction:"column",space:"two"}},MEDIUM:{mainLayout:{...Cm},contentLayout:{alignItems:"center",space:"three",style:{padding:"7px 0"}}},LARGE:{mainLayout:{}},EXTRA_LARGE:{mainLayout:{}}},Im=(e,t)=>{var a;return null!=(a=bm[t][e])?a:bm[t].mainLayout},Am=({viewSize:e,toggleVisibility:t,triggerRef:a,data:r,children:i})=>{const{illustration:o,moreInfoTrigger:c,primary:s}=r;return n.createElement(l.g,null,n.createElement(F.X,{...Im(fm,e)},o&&n.createElement(O.C,{...Dm(Em,e)},n.createElement(Me.r,{url:o.url,alt:""})),n.createElement(O.C,{...Dm(vm,e)},n.createElement(F.X,{...Im(Tm,e)},n.createElement("div",null,c&&n.createElement(Jt,{data:c,onHandleClick:t,ref:a},n.createElement(N.M,{size:7},c.text)),s&&n.createElement(N.M,{size:7},s)),i))))},Fm=u.gql`
  fragment SearchFormMessagingFragment on SearchFormMessaging {
    primary
    illustration {
      url
    }
    moreInfoTrigger {
      ...EGDSSearchFormMoreInfoTriggerFragment
    }
  }
  ${Jt.fragment}
`,Om=({data:e,children:t})=>{const{moreInfoTrigger:a}=e,l=n.useRef(null),[i,o]=n.useState(!1),c=()=>{var e;o(!i),i&&(null==(e=l.current)||e.focus())},s={data:e,toggleVisibility:c,triggerRef:l,viewSize:d.OB.SMALL},u=(e=d.OB.SMALL)=>{const t=e===d.OB.SMALL?l:null;return a&&n.createElement(Qt,{isVisible:i,data:a.triggerAction.sheet,ref:t,toggleVisibility:c,sheetTypesByView:{mobile:"POPOVER",desktop:"POPOVER"}},n.createElement(Y.u,{size:2},a.triggerAction.text))};return n.createElement(A.P,{type:"relative"},n.createElement(r.N,{margin:{small:{blockstart:"two"},medium:{blockstart:"three"}}},n.createElement("div",null,n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(n.Fragment,null,n.createElement(Am,{...s},t),u())),n.createElement(d.rw,null,n.createElement(n.Fragment,null,n.createElement(Am,{...s,viewSize:d.OB.MEDIUM},t),u(d.OB.MEDIUM)))))))};Om.fragment=Fm,Om.displayName="SearchFormMessaging";var km=u.gql`
  fragment SoftPackagesFragment on SoftPackages {
    actionURL
    addCar {
      ...EGDSCheckBoxFragment
    }
    addFlight {
      ...EGDSCheckBoxFragment
    }
    addHotel {
      ...EGDSCheckBoxFragment
    }
    origin {
      ...EGDSSearchFormLocationFieldFragment
    }
    datesForHotelStay {
      ...EGDSSearchFormDatePickerFieldFragment
    }
    maxBookableTravelers
    maxNumberOfDaysSelected
    maxDateRangeErrorMessage
    maxTravelersErrorMessage
    validDaysUpperBoundInclusive {
      day
      month
      year
    }
  }

  ${Ta.fragment}
  ${Oo.fragment}
`,Gm="EGDSSoftPackagesPackageType",Rm=e=>{const{data:t,onProductSelect:a,setFieldRefByTypename:l,fieldError:r,currentSearchFormProduct:i,searchLocationContent:o,searchFormMessaging:c,maxDateMessage:s}=e,{addCar:d,addFlight:u,origin:m,addHotel:p,datesForHotelStay:y}=t,_=e=>{a(e)},S=m&&"EGDSBasicCheckBox"===(null==u?void 0:u.__typename)&&"CHECKED"===u.state,g=m&&n.createElement(Kd,null,n.createElement(Oo,{data:m,searchLocationContent:o,setFieldRefByTypename:l,fieldError:r})),E=y&&"EGDSBasicCheckBox"===(null==p?void 0:p.__typename)&&"CHECKED"===p.state,v=y&&n.createElement(Kd,null,n.createElement(rn,{data:y,setFieldRefByTypename:(e,t,a)=>{l(`${e}SoftPackages`,t,a)},fieldError:r,skipReflection:!0,isPartialDates:!0,maxDateMessage:s})),h=e=>"EGDSBasicCheckBox"===(null==e?void 0:e.__typename)&&"CHECKED"===e.state,D=((e,t="hotels")=>{if("hotels"===t){const{flightAdded:t,carAdded:a}=e;if(t&&a)return"fhc";if(t)return"fh";if(a)return"hc"}else if("flights"===t){const{hotelAdded:t,carAdded:a}=e;if(t&&a)return"fhc";if(t)return"fh";if(a)return"fc"}return""})({flightAdded:h(u),carAdded:h(d),hotelAdded:h(p)},i),f=[p,u,d],T=n.createElement(F.X,{direction:"row",space:"three"},f.map(e=>e?n.createElement(O.C,{key:null==e?void 0:e.egdsElementId},n.createElement("div",null,n.createElement(Ta,{data:e,onChange:_}))):null));return n.createElement(n.Fragment,null,c?n.createElement(Om,{data:c},T):T,S&&g,E&&v,n.createElement("input",{"data-stid":Gm,type:"hidden",name:Gm,value:D}))};Rm.fragment=km,Rm.displayName="SoftPackages";var Lm=(e=>(e.TRAVEL_DATES="EGDSDateRangePicker",e.TRAVELER_SELECTOR="EGDSBasicTravelerSelector",e))(Lm||{}),Pm={ONE_WAY:"oneway",ROUND_TRIP:"roundtrip",MULTI_DESTINATION:"multi"},Nm={COACH:"economy",PREMIUM_ECONOMY:"premium",BUSINESS:"business",FIRST:"first",ANY:"any"},Mm=({day:e,month:t,year:a},n)=>{const l=e<10?`0${e}`:e,r=t<10?`0${t}`:t;return n.formatDateString(`${a}-${r}-${l}`,{raw:n.localDateFormat})},xm=(e,t,a=!1)=>{const{day:n,month:l,year:r}=t;return`&${e}=${r}-${a?l<10?`0${l}`:l:l}-${a?n<10?`0${n}`:n:n}`},Bm=e=>{const[t,a,n]=e.split("-");return{__typename:"Date",year:Number(t),month:Number(a),day:Number(n)}},$m=(e,t,a,n)=>{var l,r;const{tripType:i,journeyCriterias:o,travelers:c,searchPreferences:s}=e.primary,d=`trip=${Pm[i]}`,u=o.reduce((e,t,l)=>{var r,i;const{origin:o,destination:c,departureDate:s,arrivalDate:d}=t,u=null!=(r=null==n?void 0:n.get(o))?r:"U",m=null!=(i=null==n?void 0:n.get(c))?i:"U";return`${e}${`&leg${l+1}=from:${o},to:${c},departure:${Mm(s,a)}TANYT,fromType:${u},toType:${m}`}${d?`&leg2=from:${c},to:${o},departure:${Mm(d,a)}TANYT,fromType:${m},toType:${u}`:""}`},""),m=`options=${s?`cabinclass:${Nm[s.cabinClass]}`:""}${(null==(r=null==(l=e.primary.searchPreferences)?void 0:l.advancedFilters)?void 0:r.includes("NONSTOP"))?"maxhops:0":""}`,p=c.some(({type:e})=>"INFANT_IN_SEAT"===e)?"&ChildInSeat=seat":"",y=c.some(({type:e})=>"INFANT_IN_LAP"===e),_=c.filter(e=>"CHILD"===e.type||"INFANT_IN_LAP"===e.type||"INFANT_IN_SEAT"===e.type),S=c.filter(e=>"ADULT"===e.type),g=`passengers=${_.length>0?`children:${_.length}[${_.map(e=>e.age).join(";")}],`:""}${S.length>0?`adults:${S.length},`:""}${y?"infantinlap:Y":"infantinlap:N"}`,[E]=o,{departureDate:v,arrivalDate:h}=E;return`?flight-type=on&mode=search&${d}${u}&${m}${p}${`&fromDate=${Mm(v,a)}${h?`&toDate=${Mm(h,a)}`:""}${xm("d1",v)}${h?xm("d2",h):""}`}&${g}${"true"===(null==t?void 0:t.get("airCreditIntent"))?"&airCreditIntent=true":""}`},Wm=(e,t,a,n)=>{const l=["EGDS","add-"],r=e.filter(({name:e})=>l.some(t=>e.startsWith(t))),i=`tripType=${t}`,o=r.reduce((e,t)=>{const{name:a,value:l,checked:i}=t;if(a.startsWith("EGDSSoftPackagesPackageType")){const t=l.includes("h")?"&isPartialStay=1":"";return`${e}&packageType=${l}${t}`}const o="EGDSSearchFormLocationField";if(a.startsWith(o)){if(a.startsWith(`${o}-AirportCode-origin_select`))return`${e}&ftla=${l}`;if(a.startsWith(`${o}-RegionId-origin_select`))return`${e}&originId=${l}`;if(a.startsWith(`${o}-AirportCode-destination_select`))return`${e}&ttla=${l}`;if(a.startsWith(`${o}-Location-destination_select`))return`${e}&destination=${l}`;if(a.startsWith(`${o}-DestinationId-destination_select`))return`${e}&destinationId=${l}`}const c="EGDSSearchFormTravelersField";if(a.startsWith(c)){if(a.startsWith(`${c}-Adult`))return`${e}&numberOfRooms=1&adultsPerRoom[1]=${l}`;if(a.startsWith(`${c}-ChildrenAge`)){const[,t]=a.split(`${c}-ChildrenAge-`);return`${e}&childAges[1][${t}]=${l}`}if(a.startsWith(`${c}-InfantOnLapAge`)){const t=e.includes("InfantSeating")?"":"&InfantSeating=lap",a=e.includes("infantsInSeats")?"":"&infantsInSeats=0",n=(e.match(/childAges/g)||[]).length+1;return`${e}${t}${a}${`&childAges[1][${n}]=${l}`}`}if(a.startsWith(`${c}-InfantInSeatAge`)){const t=e.includes("InfantSeating")?"":"&InfantSeating=seat",a=e.includes("infantsInSeats")?"":"&infantsInSeats=1",n=(e.match(/childAges/g)||[]).length+1;return`${e}${t}${a}${`&childAges[1][${n}]=${l}`}`}}const s="EGDSSingleDatePicker",d="EGDSDateRangePickerSoftPackages",u="EGDSDateRangePicker";if(a.includes(s)||a.includes(d)||a.includes(u)){const t=Bm(l),i=r.filter(e=>e.name.includes(d)),o=a.includes("EGDSDateRangePickerSoftPackages-EndDate-soft_packages_date_form_field")?((e,t)=>{if(e.year!==t.year||e.month!==t.month||e.day!==t.day)return t;const a=t.day+1,n=a>new Date(t.year,t.month,0).getDate(),l=n?1:a,r=n?1:0,i=t.month+r,o=i>12,c=o?1:i,s=o?1:0,d=t.year+s;return{__typename:"Date",year:Number(d),month:Number(c),day:Number(l)}})(Bm(i[0].value),Bm(i[1].value)):t,c=Mm(o,n);if(a.startsWith(s)){return`${e}${`&fromDate=${c}`}`}if(a.startsWith(d)){const t=a.startsWith(`${d}-StartDate-soft_packages_date_form_field`);return`${e}${xm(t?"d1":"d2",o,!0)}${`&${t?"checkInDate":"checkOutDate"}=${c}`}`}if(a.startsWith(u)){const n=a.startsWith(`${u}-StartDate-date_form_field`),l=`&${n?"fromDate":"toDate"}=${c}`,i=xm(n?"startDate":"endDate",t,!0),o=r.some(e=>e.name.startsWith("EGDSSoftPackagesPackageType")&&e.value.includes("h")),s=o&&r.some(e=>e.name.startsWith(d)),m=xm(n?"d1":"d2",t,!0);return`${e}${l}${i}${s?"":`${m}${o?"&"+(n?`checkInDate=${c}`:`checkOutDate=${c}`):""}`}`}}const m="add-";if(m){if(a.startsWith(`${m}hotel-switch`)&&i)return`${e}&add-hotel-checkbox=`;if(a.startsWith(`${m}car-switch`)&&i)return`${e}&add-car-checkbox=`}return e},`?${i}`),c=a?"&isDirectFlight=true":"",s=(o.match(/childAges/g)||[]).length;return`${o}&childrenPerRoom[1]=${s}${c}`},wm={[$l]:"ADULT",[Wl]:"CHILD",[Ul]:"INFANT_IN_LAP",[wl]:"INFANT_IN_SEAT"},Um={ROUND_TRIP:"ROUND_TRIP",ONE_WAY:"ONE_WAY",MULTI_CITY:"MULTI_DESTINATION"},Hm={ECONOMY:"COACH",ECONOMY_PREMIUM:"PREMIUM_ECONOMY",BUSINESS:"BUSINESS",FIRST_CLASS:"FIRST",ANY:"ANY"},Vm=(e,t)=>{const a=null==e?void 0:e.current,n={primary:{journeyCriterias:[],travelers:[],tripType:t},secondary:null};if(!a)return n;return Array.from(a.elements).filter(e=>e.name.startsWith("EGDS")).reduce(qm,n)},qm=(e,t)=>{var a,n,l,r,i,o,c,s,d,u;const{name:m,value:p}=t;if(m.startsWith(`${pn}-flight_type_selector`)){const t={...e.primary,tripType:null!=(a=Um[p])?a:"ROUND_TRIP"};return{...e,primary:t}}if(m.startsWith(`${pn}-cabin_class`)||"EGDS-defaultCabinClass"===m){const t={...null!=(n=e.primary.searchPreferences)?n:{},cabinClass:null!=(l=Hm[p])?l:"COACH"},a={...e.primary,searchPreferences:t};return{...e,primary:a}}if(m.startsWith(Bl)){const t=m.startsWith($l),a=m.split("-"),n=t?$l:a.slice(0,a.length-1).join("-"),l=Number.parseInt(p,10),r=t?Array.from(Array(l).keys()).map(e=>({type:wm[n],age:null})):[{type:wm[n],age:p?l:null}];return{...e,primary:{...e.primary,travelers:[...e.primary.travelers,...r]}}}if(m.startsWith(`${ro}-origin_select`)){const t=`${ro}-origin_select-`;if(m.startsWith(t)){const[,a]=m.split(t),n=[...e.primary.journeyCriterias];n[Number(a)]={...null!=(r=n[Number(a)])?r:n[0],origin:p};const l={...e.primary,journeyCriterias:[...n]};return{...e,primary:l}}const a=e.primary.journeyCriterias.length,n={...null!=(i=e.primary.journeyCriterias[a-1])?i:{},origin:p},l={...e.primary,journeyCriterias:[n]};return{...e,primary:l}}if(m.startsWith(`${ro}-destination_select`)){const t=`${ro}-destination_select-`;if(m.startsWith(t)){const[,a]=m.split(t),n=[...e.primary.journeyCriterias];n[Number(a)]={...null!=(o=n[Number(a)])?o:n[0],destination:p};const l={...e.primary,journeyCriterias:[...n]};return{...e,primary:l}}const a={...null!=(c=e.primary.journeyCriterias[0])?c:{},destination:p},n={...e.primary,journeyCriterias:[a]};return{...e,primary:n}}if(m.startsWith(Za.START_DATE_NAME_PREFIX)||m.startsWith(Za.END_DATE_NAME_PREFIX)){const[t,a,n]=p.split("-").map(e=>Number(e)),l={...null!=(s=e.primary.journeyCriterias[0])?s:{},[m.startsWith(Za.START_DATE_NAME_PREFIX)?"departureDate":"arrivalDate"]:{day:n,month:a,year:t}},r={...e.primary,journeyCriterias:[l]};return{...e,primary:r}}if(m.startsWith(tn)){const[t,a,n]=p.split("-").map(e=>Number(e)),l=`${tn}-date_form_field-`;if(m.startsWith(l)){const[,r]=m.split(l),i=[...e.primary.journeyCriterias];i[Number(r)]={...null!=(d=i[Number(r)])?d:i[0],departureDate:{day:n,month:a,year:t}};const o={...e.primary,journeyCriterias:[...i]};return{...e,primary:o}}const r={...null!=(u=e.primary.journeyCriterias[0])?u:{},departureDate:{day:n,month:a,year:t}},i={...e.primary,journeyCriterias:[r]};return{...e,primary:i}}return e},zm="yyyy-MM-dd",Ym=e=>{var t,a,l;const{action:r,egdsElementId:o,label:c,placeholder:s,origin:d,destination:u,skipReflection:m}=e,{datePicker:p}=r,{formatDateString:y}=(0,z.useLocalization)(),{state:_,dispatch:S}=(0,i.kW)(),{start:g,end:E}=null!=(t=_.dates)?t:{},{origin:v,destination:h}=_,[D,f]=n.useState({startDate:(null==p?void 0:p.selectedStartDate)?y(It(null==p?void 0:p.selectedStartDate),{raw:zm}):"",endDate:(null==p?void 0:p.selectedEndDate)?y(It(null==p?void 0:p.selectedEndDate),{raw:zm}):"",shouldFireChangeEvent:!1}),{startDate:T,endDate:C,shouldFireChangeEvent:b}=D,I="EGDSDateRangePicker"===p.__typename?xe.Yk.ROUND_TRIP:xe.Yk.ONE_WAY,A=(0,G.j)(`FlightsFareCalendar-${I}`,e=>e);n.useEffect(()=>{f({startDate:g||(p.selectedStartDate?y(It(p.selectedStartDate),{raw:zm}):""),endDate:E||(p.selectedEndDate?y(It(p.selectedEndDate),{raw:zm}):""),shouldFireChangeEvent:!1})},[p]),n.useEffect(()=>{if(b){f(e=>({...e,shouldFireChangeEvent:!1}));const e=I===xe.Yk.ROUND_TRIP?`${T} - ${C}`:`${T}`;ft(e,A)}},[D]);const F={startName:o,startId:o,startLabel:c,endLabel:c,startPlaceholder:s,buttonText:p.buttonText},O={startDate:T,endDate:C,singleMode:I===xe.Yk.ONE_WAY,dateFieldProps:F,onChange:e=>{let t,a;null==e||e.forEach(e=>{const{value:n,fieldName:l}=e;"startDate"===l?t=n:a=n}),t===D.startDate&&a===D.endDate||(m||S({type:"UPDATE_DATES",end:a,start:t}),f({startDate:t,endDate:a,shouldFireChangeEvent:!0}))},origin:null!=(a=null==v?void 0:v.term)?a:d,destination:null!=(l=null==h?void 0:h.term)?l:u,firstDayOfWeek:Ot[p.firstDayOfWeek],tripType:I,onSubmitAnalytics:!0,singleTrigger:I===xe.Yk.ROUND_TRIP};return n.createElement(n.Fragment,null,n.createElement(xe.x3,{...O}),I===xe.Yk.ONE_WAY&&n.createElement("input",{type:"hidden","data-stid":tn,name:`${tn}-${o}`,value:T}),I===xe.Yk.ROUND_TRIP&&n.createElement(n.Fragment,null,n.createElement("input",{type:"hidden","data-stid":Za.START_DATE_NAME_PREFIX,name:`${Za.START_DATE_NAME_PREFIX}-${o}`,value:T}),n.createElement("input",{type:"hidden","data-stid":Za.END_DATE_NAME_PREFIX,name:`${Za.END_DATE_NAME_PREFIX}-${o}`,value:C})))},Km={},jm={[d.OB.SMALL]:{default:{minWidth:"full_width"}},[d.OB.MEDIUM]:{EGDSSearchFormLocationsField:{grow:1,minWidth:"half_width"},EGDSSearchFormDatePickerField:{minWidth:"third_width",maxWidth:"third_width"},EGDSSearchFormTravelersField:{grow:1},default:Km},[d.OB.LARGE]:{EGDSSearchFormLocationsField:{minWidth:"half_width",maxWidth:"half_width"},EGDSSearchFormDatePickerField:{grow:2},EGDSSearchFormTravelersField:{grow:2},EGDSSearchFormButton:{grow:0},default:Km},[d.OB.EXTRA_LARGE]:{EGDSSearchFormLocationsField:{minWidth:"half_width",maxWidth:"full_width"},EGDSSearchFormDatePickerField:{grow:2},EGDSSearchFormTravelersField:{grow:2},EGDSSearchFormButton:{grow:0},default:Km}},Xm=(e,t)=>{var a;const n=jm[t];return null!=(a=n[e])?a:n.default},Qm=[_t,Yd,rn,er],Zm=e=>{const{viewSize:t,fields:a,legs:l,defaultValidationProps:r,errorState:i,onLocationsSelection:o,updatePlaybackDates:c,fareCalendarData:s,search:u,softPackages:m,lastSearchLatLong:p,searchLocationAnalytics:y,searchLocationContent:_,onOpenLocationField:S,cabinClassField:g,travelersComposition:E,searchFormAnalytics:v,maxDateMessage:h,setTravelerSelectorErrorState:D,onCabinClassSelect:f}=e,T=new Map([["EGDSSearchFormDatePickerField",null==v?void 0:v.datePrefillImpression]]),C=l.length>0?[l[0].locations,l[0].date]:[],b=a.filter(e=>"EGDSSearchFormTravelersField"===e.__typename);b.length>0&&b[0]&&C.push(b[0]);const I=n.useContext(yp),{enablePriceCalendar:A,priceCalendarInputs:k,onLocationChange:G}=I,R=A?{lobName:"flights",enablePriceCalendar:A,priceCalendarInputs:k,onLocationChange:G}:void 0,L=t===d.OB.LARGE?"nowrap":"wrap";return n.createElement(F.X,{alignContent:"start",justifyContent:"start",wrap:L,space:"three"},C.map((e,a)=>{const{__typename:l}=e,d=Qm.find(({displayName:e})=>e===l),u=Xm(l,t),m={...r,fieldError:ar(i,l),..."EGDSSearchFormLocationsField"===l&&{originFieldError:ar(i,`${e.origin.__typename}Origin`),destinationFieldError:ar(i,`${e.destination.__typename}Destination`)},..."EGDSSearchFormDatePickerField"===l&&{maxDateMessage:h}},v={originRef:"EGDSSearchFormLocationsField"===l?m:null,destinationRef:"EGDSSearchFormLocationsField"===l?m:null,onLocationsSelection:"EGDSSearchFormLocationsField"===l?o:null,onOpenLocationField:"EGDSSearchFormLocationsField"===l?S:null,updatePlaybackDates:"EGDSSearchFormDatePickerField"===l?c:null,searchLocationAnalytics:"EGDSSearchFormLocationsField"===l?y:null,searchLocationContent:"EGDSSearchFormLocationsField"===l?_:null,lastSearchLatLong:"EGDSSearchFormLocationsField"===l?p:null,cabinClassField:"EGDSSearchFormTravelersField"===l?g:null,travelersComposition:"EGDSSearchFormTravelersField"===l?E:null,setTravelerSelectorErrorState:"EGDSSearchFormTravelersField"===l?D:null,onCabinClassSelect:"EGDSSearchFormTravelersField"===l?f:null};if("EGDSSearchFormDatePickerField"===l&&(null==s?void 0:s.enabled)){const t={action:e.action,egdsElementId:e.egdsElementId,label:e.label,placeholder:e.placeholder,origin:s.origin,destination:s.destination};return n.createElement(O.C,{key:`field_${l}_${a}`,...u},n.createElement("div",null,n.createElement(Sm,{data:T.get(l)},n.createElement(Ym,{...t,...e,key:"SearchFormFareCalendarWrapper"}))))}return d&&n.createElement(O.C,{key:`field_${l}_${a}`,...u},n.createElement("div",null,n.createElement(Sm,{data:T.get(l)},n.createElement(d,{...m,...v,data:e,priceCalendarProps:R}))))}),t===d.OB.SMALL&&n.createElement(O.C,{...Xm("SoftPackages",t)},n.createElement("div",null,m)),u&&"EGDSSearchFormButton"===u.__typename&&n.createElement(O.C,{...Xm("EGDSSearchFormButton",t)},n.createElement("div",null,n.createElement(vt,{data:u}))))},Jm={grow:5,minWidth:315,maxWidth:"full_width"},ep={EGDSSearchFormButton:{},EGDSSearchFormLocationsField:{...Jm,grow:10},EGDSSearchFormDatePickerField:{...Jm,grow:1},EGDSSearchFormTravelersField:{grow:3,minWidth:225,maxWidth:225},default:Jm},tp={[d.OB.SMALL]:{...ep,EGDSSearchFormTravelersField:{grow:3},EGDSSearchFormButton:{grow:1}},[d.OB.MEDIUM]:{...ep,EGDSSearchFormButton:{grow:0,minWidth:32}},[d.OB.LARGE]:ep,[d.OB.EXTRA_LARGE]:ep},ap=[_t,Yd,rn,er,vt,dn],np=e=>{const{element:t,index:a,defaultValidationProps:l,viewSize:r,errorState:i,onLocationsSelection:o,legsElements:c,updatePlaybackDates:s,lastSearchLatLong:d,searchLocationAnalytics:u,searchLocationContent:m,travelersComposition:p,cabinClassField:y,setTravelerSelectorErrorState:_,onCabinClassSelect:S}=e,{__typename:g}=t,E=ap.find(({displayName:e})=>e===g),v=((e,t)=>{var a;const n=tp[t];return null!=(a=n[e])?a:n.default})(g,r),h={...l,fieldError:ar(i,g),..."EGDSSearchFormLocationsField"===g&&{originFieldError:ar(i,`${t.origin.__typename}Origin-leg${a}`),destinationFieldError:ar(i,`${t.destination.__typename}Destination-leg${a}`)}},D=(e,t)=>{l.setFieldRefByTypename(e,t,a.toString())},f={originRef:"EGDSSearchFormLocationsField"===g?{...h,setFieldRefByTypename:D}:null,destinationRef:"EGDSSearchFormLocationsField"===g?{...h,setFieldRefByTypename:D}:null,lastSearchLatLong:"EGDSSearchFormLocationsField"===g?d:null,index:a,...a>0?{skipReflection:!0}:{},onLocationsSelection:"EGDSSearchFormLocationsField"===g?o:null,updatePlaybackDates:"EGDSSearchFormDatePickerField"===g?s:null,totalLegs:c.length,input1Stid:"EGDSSearchFormDatePickerField"===g&&0!==a?a:null,searchLocationAnalytics:"EGDSSearchFormLocationsField"===g?u:null,searchLocationContent:"EGDSSearchFormLocationsField"===g?m:null,menuPosition:"EGDSSearchFormTravelersField"===g?he.C.LEFT:he.C.RIGHT,cabinClassField:"EGDSSearchFormTravelersField"===g?y:null,travelersComposition:"EGDSSearchFormTravelersField"===g?p:null,setTravelerSelectorErrorState:"EGDSSearchFormTravelersField"===g?_:null,onCabinClassSelect:"EGDSSearchFormTravelersField"===g?S:null};return n.createElement(O.C,{key:`field_${g}_${a}`,...v},n.createElement("div",null,E&&n.createElement(E,{data:t,...h,...f})))};np.displayName="MultiCityFormField";var lp=n.forwardRef(({leg:e,indexLeg:t,removeLegClick:a,addLegButtonRef:l,formProps:i},o)=>{var c;const s=n.useRef(null);return n.useImperativeHandle(o,()=>({focus:()=>{var e;null==(e=s.current)||e.focus()}})),n.createElement(r.N,{margin:{block:"three"},key:`field_leg_${e.uniqueKey}`},n.createElement("div",null,n.createElement(r.N,{margin:{blockend:"three",blockstart:"six"}},n.createElement(F.X,{wrap:"wrap",alignItems:"center",direction:"row",space:"three"},e.heading&&"EGDSBasicLocalizedText"===e.heading.__typename&&n.createElement(O.C,null,n.createElement("div",null,n.createElement(N.M,{size:6,tabIndex:-1,domRef:s,tag:"h3","aria-live":"polite","aria-label":ut(e.heading.template,e.heading.models[0].key,(t+1).toString())},ut(e.heading.template,e.heading.models[0].key,(t+1).toString())))),"UITertiaryButton"===(null==(c=e.removeButton)?void 0:c.__typename)&&n.createElement(O.C,null,n.createElement("div",null,n.createElement(P.i,{size:"medium",onClick:()=>a(t,l)},n.createElement("button",{type:"button"},e.removeButton.primary)))))),n.createElement(F.X,{alignItems:"start",justifyContent:"space-between",wrap:"wrap",space:"three"},e.items.map((e,a)=>n.createElement(np,{key:`multicity_leg_item_${a}`,element:e,index:t,...i})))))});lp.displayName="MultiCityLegItem";var rp=e=>{var t,a;const{beforeLegsSlot:l,addLeg:r,search:i,legsElements:o,addLegClick:c,removeLegClick:s,addLegDisabled:u,focusLastFlight:m}=e,p=n.createRef(),y=n.createElement(n.Fragment,null,"UITertiaryButton"===(null==r?void 0:r.__typename)&&n.createElement(O.C,null,n.createElement("div",null,n.createElement(P.i,{size:"medium",onClick:c,domRef:p},n.createElement("button",{type:"button",disabled:u},n.createElement(_.LD,{name:null!=(a=null==(t=r.icon)?void 0:t.id)?a:""}),r.primary)))),i&&n.createElement(np,{element:i,index:0,...e})),[S,g]=n.useState({});return n.useEffect(()=>{const e=o.reduce((e,t,a)=>(e[`leg-heading-${a}`]=n.createRef(),e),{});g(e)},[o]),n.useEffect(()=>{var e,t;if(m){const a="leg-heading-"+(o.length-1);null==(t=null==(e=S[a])?void 0:e.current)||t.focus()}},[S,m,o.length]),n.createElement(n.Fragment,null,n.createElement(F.X,{alignContent:"start",justifyContent:"start",wrap:"wrap",space:"three"},l.map((t,a)=>n.createElement(np,{key:`multicity_before_leg_${a}`,element:t,index:a,...e}))),o.map((t,a)=>{const l=`leg-heading-${a}`;return n.createElement(lp,{key:a,ref:S[l],leg:t,indexLeg:a,removeLegClick:s,addLegButtonRef:p,formProps:e})}),n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(F.X,{justifyContent:"space-between",space:"three",direction:"column"},y)),n.createElement(d.rw,null,n.createElement(F.X,{justifyContent:"space-between",wrap:"wrap",space:"three",alignItems:"center"},y))))};rp.displayName="MultiCityFormFieldsLayout";var ip=(e="")=>`${e}_${Math.random().toString(16).slice(2)}`,op=e=>{var t;const a=(0,v.useClickTracker)(),{legs:l,search:r,addLeg:o,removeLeg:c,legHeading:s,elements:u,maxAllowedLegs:m,playback:p,autoOpenPlayback:y,getFlightSearchCriteria:_,searchLocationAnalytics:S,searchLocationContent:g,travelersComposition:E,cabinClassField:h,setTravelerSelectorErrorState:D,displayPlayback:f,onTogglePlayback:T}=e,C=u.filter(e=>"EGDSSearchFormTravelersField"===e.__typename),{state:b}=(0,i.kW)(),{start:I}=null!=(t=b.dates)?t:{},A=l.map((e,t)=>{var a;let n=e.date;if(I&&/^\d{4}-\d{2}-\d{2}$/.test(I)&&t>0&&"EGDSOpenDatePickerAction"===(null==(a=l[0].date.action)?void 0:a.__typename)){const e=I.split("-");n={...l[0].date,action:{...l[0].date.action,datePicker:{...l[0].date.action.datePicker,selectedStartDate:{...l[0].date.action.datePicker.selectedStartDate,day:parseInt(e[2],10),month:parseInt(e[1],10),year:parseInt(e[0],10)}}}}}return{items:[e.locations,n],heading:s,removeButton:null,uniqueKey:ip()}}),[F,O]=n.useState(A),[k,R]=n.useState(A.length),[L,P]=n.useState(!1),[N,M]=n.useState(!1),x=(0,G.j)("journey_add",e=>e),B=(0,G.j)("journey_remove",e=>e),$={...e,beforeLegsSlot:C,legsElements:F,addLegClick:()=>{var e,t,n;if(M(!0),"UITertiaryButton"===(null==o?void 0:o.__typename)&&o.analytics){const{referrerId:e,linkName:t}=o.analytics;a(e,t)}const r=k+1;r===(null!=m?m:5)&&P(!0),R(e=>e+1);const i={...l[0].locations,origin:{...l[0].locations.origin,value:""},destination:{...l[0].locations.destination,value:""}},{primary:{journeyCriterias:d}}=_();let u=l[0].date;if("EGDSOpenDatePickerAction"===(null==(e=l[0].date.action)?void 0:e.__typename)){const e=null!=(n=null==(t=d[k-1])?void 0:t.departureDate)?n:{};u={...u,action:{...l[0].date.action,datePicker:{...l[0].date.action.datePicker,selectedStartDate:{...l[0].date.action.datePicker.selectedStartDate,...e}}}}}O(e=>[...e,{items:[i,u],uniqueKey:ip(),heading:s,removeButton:c}]),ft(r.toString(10),x)},removeLegClick:(e,t)=>{var n;if("UITertiaryButton"===(null==c?void 0:c.__typename)&&c.analytics){const{referrerId:e,linkName:t}=c.analytics;a(e,t)}null==(n=null==t?void 0:t.current)||n.focus(),L&&k-1<(null!=m?m:5)&&P(!1),R(e=>e-1),O(t=>{const a=[...t];return a.splice(e,1),a}),ft(e.toString(10),B)},addLeg:o,search:r,addLegDisabled:L,searchLocationAnalytics:S,searchLocationContent:g,focusLastFlight:N,travelersComposition:E,cabinClassField:h,setTravelerSelectorErrorState:D};return n.createElement(d.LM,null,n.createElement(d.NP,null,p&&T?n.createElement(Go,{data:p,display:f,onDisplayToggle:T},n.createElement(rp,{...$,viewSize:d.OB.SMALL})):n.createElement(rp,{...$,viewSize:d.OB.SMALL})),n.createElement(d.rw,null,n.createElement(rp,{...$,viewSize:d.OB.MEDIUM})),n.createElement(d.zQ,null,n.createElement(rp,{...$,viewSize:d.OB.LARGE})))},cp=(e,t,a,n,l)=>{const r=n&&l;return{startDateInput:e.find(mr(t)),endDateInput:a?e.find(mr(a)):void 0,softPackagesStartDateInput:n?e.find(mr(n)):void 0,softPackageEndDateInput:l?e.find(mr(l)):void 0,config:{maxNumberOfDaysSelected:0,allowSameDateSelect:!r}}},sp=(e,t,a)=>{var n,l;if("MULTI_DESTINATION"===e){const e=cp(t,"EGDSSingleDatePicker-Date-date_form_field-0","EGDSSingleDatePicker-Date-date_form_field-1"),a=(e=>{var t,a,n,l;const r=e.filter(mr("origin_select")).length,i=[];for(let o=0;o<r;o+=1)i.push({airportCode:{origin:null!=(a=null==(t=e.find(mr(`EGDSSearchFormLocationField-AirportCode-origin_select-${o}`)))?void 0:t.value)?a:"",destination:null!=(l=null==(n=e.find(mr(`EGDSSearchFormLocationField-AirportCode-destination_select-${o}`)))?void 0:n.value)?l:""}});return i})(t);return{location:{origin:t.filter(mr("origin_select")),destination:t.filter(mr("destination_select")),config:{sameLocationSelected:!0,locationFlightsConfig:a}},dates:e,travelers:{totalTravelers:pr(t),config:{maxTotalTravelers:6}}}}const r=a?["EGDSDateRangePickerSoftPackages-StartDate-soft_packages_date_form_field","EGDSDateRangePickerSoftPackages-EndDate-soft_packages_date_form_field"]:[],i=null==(n=t.find(mr("EGDSSearchFormLocationField-AirportCode-origin_select")))?void 0:n.value,o={sameLocationSelected:!0,airportCode:{destination:null==(l=t.find(mr("EGDSSearchFormLocationField-AirportCode-destination_select")))?void 0:l.value,origin:i}};if("ONE_WAY"===e){const e=cp(t,"EGDSSingleDatePicker-Date-date_form_field",void 0,...r);return{location:{origin:t.find(mr("origin_select")),destination:t.find(mr("destination_select")),config:{...o}},dates:e,travelers:{totalTravelers:pr(t),config:{maxTotalTravelers:6}}}}const c=cp(t,"EGDSDateRangePicker-StartDate-date_form_field","EGDSDateRangePicker-EndDate-date_form_field",...r);return{location:{origin:t.find(mr("origin_select")),destination:t.find(mr("destination_select")),config:{...o}},dates:c,travelers:{totalTravelers:pr(t),config:{maxTotalTravelers:6}}}},dp=u.gql`
  fragment FlightSearchFormFragment on FlightSearchForm {
    __typename
    travelersComposition {
      ...TravelersCompositionFragment
    }
    egdsElementId
    actionURL
    errorSummary {
      ...EGDSErrorSummaryFragment
    }
    elements {
      ...EGDSSearchFormTravelersFieldFragment
      ...EGDSSearchFormInputFieldFragment
    }
    search {
      ...EGDSSearchFormButtonFragment
    }
    addLeg {
      ...EGDSTertiaryButtonFragment
    }
    removeLeg {
      ...EGDSTertiaryButtonFragment
    }
    legHeading {
      ...EGDSBasicLocalizedTextFragment
    }
    legs {
      id
      locations {
        ...EGDSSearchFormLocationsFieldFragment
      }
      date {
        ...EGDSSearchFormDatePickerFieldFragment
      }
    }
    playback @include(if: $includePlayback) {
      ...EGDSSearchPlaybackFragment
    }
    maxAllowedLegs
    localDateFormat

    softPackages {
      ...SoftPackagesFragment
    }
    searchLocation {
      ...SearchLocationFragment
    }

    searchFormAnalytics {
      datePrefillImpression {
        ...ClientSideAnalyticsFragment
      }
    }

    valuePropMessage {
      ...SearchFormMessagingFragment
    }
  }

  ${_t.fragment}
  ${Yd.fragment}
  ${rn.fragment}
  ${er.fragment}
  ${Sn.fragment}
  ${vt.fragment}
  ${dn.fragment}
  ${$n}
  ${Go.fragment}
  ${Rm.fragment}
  ${to}
  ${Om.fragment}
  ${gm}
  ${Sm.fragment}
`,up=new Map,mp=e=>{var t,a,l,i,o,c,s,u,m;const{onFieldChange:p,flightType:y,useFareCalendar:_,onSubmit:S,redirectToSearchResultOnSubmit:g,displayPlayback:E,onTogglePlayback:v,cabinClass:f,directFlightsOnlySwitch:T,data:C,additionalQueryParams:b}=e,{errorSummary:I,elements:A,search:F,addLeg:O,removeLeg:k,legHeading:R,localDateFormat:L,legs:P,maxAllowedLegs:N,playback:M,softPackages:x,searchLocation:B,valuePropMessage:$,travelersComposition:w,searchFormAnalytics:U}=C,{publish:H}=(0,h.Yj)(),V=(0,z.useLocalization)(),q=n.useRef(null),{exposure:Y}=(0,W.useExperiment)("Cabin_Class_in_the_Traveller_UI_WEB"),K=new URLSearchParams((0,Ne.zy)().search),[j,X]=n.useState(M),[Q,Z]=n.useState({EGDSSearchFormLocationsField:null,EGDSSearchFormDatePickerField:null,EGDSDatePickerFieldSoftPackages:null,EGDSSearchFormTravelersField:null}),J={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]},[ee,te]=n.useState(J),{displayErrorSummary:ae,errorCount:ne,errorLinkReference:le}=ee,re=n.useCallback((e,t,a)=>{var n;const l=nr(e,null==(n=t.current)?void 0:n.id),r=a?`${l}-leg${a}`:l;Z(e=>({...e,[r]:t}))},[]),ie=n.useRef(!0),oe=P.length>0?P[0].locations:null,ce=oe||null,se=null!=(t=null==ce?void 0:ce.origin.value)?t:"",de=null!=(a=null==ce?void 0:ce.destination.value)?a:"",[ue,me]=n.useState({origin:se,destination:de,enabled:null!=_&&_}),[pe,ye]=n.useState([{type:"ONE_WAY",hasRendered:!1},{type:"ROUND_TRIP",hasRendered:!1},{type:"MULTI_DESTINATION",hasRendered:!1}]),_e=()=>{const e=pe.map(e=>{const t=e;return e.type!==y||e.hasRendered||(t.hasRendered=!0),t});ye(e)};n.useEffect(()=>{var e;if(ie.current)_e(),ie.current=!1;else{(null==(e=pe.find(e=>e.type===y))?void 0:e.hasRendered)&&"MULTI_DESTINATION"!==y||ue.enabled&&me({...ue,origin:"",destination:""}),_e()}},[y]);const[Se,ge]=n.useState(x),Ee=null!=(l=null==Se?void 0:Se.maxNumberOfDaysSelected)?l:0,ve="EGDSBasicCheckBox"===(null==(i=null==Se?void 0:Se.addHotel)?void 0:i.__typename)&&"CHECKED"===Se.addHotel.state,he="EGDSBasicCheckBox"===(null==(o=null==Se?void 0:Se.addCar)?void 0:o.__typename)&&"CHECKED"===Se.addCar.state||ve,De=he?Ee:0,fe=Se&&n.createElement(Rm,{data:Se,onProductSelect:e=>{const{name:t,checked:a}=e.currentTarget;ge(e=>{var n,l;return"EGDSBasicCheckBox"===(null==(n=null==e?void 0:e.addCar)?void 0:n.__typename)&&null!==e.addCar.name&&t.includes(e.addCar.name)?{...e,addCar:{...e.addCar,state:a?"CHECKED":"UNCHECKED"}}:"EGDSBasicCheckBox"===(null==(l=null==e?void 0:e.addHotel)?void 0:l.__typename)&&null!==e.addHotel.name&&t.includes(e.addHotel.name)?{...e,addHotel:{...e.addHotel,state:a?"CHECKED":"UNCHECKED"}}:e})},setFieldRefByTypename:re,currentSearchFormProduct:"flights",fieldError:ee.fieldsWithErrors.find(e=>"EGDSSearchFormDatePickerFieldSoftPackages"===e.__typename),searchFormMessaging:$,maxDateMessage:null!=(c=null==Se?void 0:Se.maxDateRangeErrorMessage)?c:void 0});n.useEffect(()=>{ge(x)},[x]);const[Te,Ce]=n.useState(!1),be=e=>{Ce(e)},Ie=n.useContext(yp),Ae=A,Fe=A.find(e=>"EGDSSearchFormInputField"===e.__typename),Oe={...e,flightType:y,errorState:ee,defaultValidationProps:{setFieldRefByTypename:re},fields:Ae,legs:P,onLocationsSelection:e=>{var t,a,n,l,r,i;(null==(t=null==e?void 0:e.data)?void 0:t.locationFullName)&&(null==(a=null==e?void 0:e.data)?void 0:a.geoType)&&up.set(e.data.locationFullName,e.data.geoType.toUpperCase());const o=mt(null!=(l=null==(n=null==e?void 0:e.data)?void 0:n.origin)?l:e.term),c=mt(null!=(i=null==(r=e.data)?void 0:r.destination)?i:e.term);X(t=>{var a,n;if(!t)return null;const{primary:l,primaryTemplate:r}=t;if((null!=(n=null==(a=e.data)?void 0:a.index)?n:0)>0)return{...t};if(!r||"EGDSBasicLocalizedText"!==r.__typename)return t;const i=ut(r.text,"origin",o),s=ut(i,"destination",c);return{...t,primary:{...l,text:s}}})},maxAllowedLegs:N,fareCalendarData:ue,search:F,softPackages:fe,updatePlaybackDates:(e,t)=>{X(a=>{if(!a)return null;const{secondaries:n}=a,[l,r]=n,i="EGDSPlainText"===l.__typename?{...l,text:qt(e,l.text,t,V)}:l;return{...a,secondaries:[i,r]}})},searchLocationAnalytics:null==B?void 0:B.analytics,searchLocationContent:null==B?void 0:B.content,cabinClassField:Fe,travelersComposition:w,searchFormAnalytics:U,maxDateMessage:null!=(s=null==Se?void 0:Se.maxDateRangeErrorMessage)?s:void 0,setTravelerSelectorErrorState:be};return n.createElement(G.m,{id:null!=(u=C.egdsElementId)?u:"search-flight-form",name:null!=(m=C.egdsElementId)?m:"search-flight-form",method:"GET",action:he&&(null==Se?void 0:Se.actionURL)?Se.actionURL:C.actionURL,ref:q,onFieldChange:(e,t)=>{var a;if("origin_select"!==e.name&&"destination_select"!==e.name||!(null==Ie?void 0:Ie.enablePriceCalendar)||null==(a=Ie.onLocationChange)||a.call(Ie,{name:e.name,value:e.value}),p){const a=Vm(q,y),{primary:n}=a,{travelers:l}=n,r=(null==Ie?void 0:Ie.enablePriceCalendar)?{primary:{...n,journeyCriterias:Ie.priceCalendarInputs.journeyCriteria,travelers:l,tripType:y},secondary:null}:a,i=$m(r,K,{localDateFormat:L,formatDateString:V.formatDateString},up);p(e,t,i)}if(ue.enabled)switch(e.name){case"origin_select":me({...ue,origin:e.value});break;case"destination_select":me({...ue,destination:e.value})}X(t=>{if(!t)return null;const{TRAVELER_SELECTOR:a}=Lm,{secondaries:n}=t,l=e.value,[r,i]=n,o=e.name===a?{...i,text:l}:i;return{...t,secondaries:[r,o]}})},onSubmit:e=>{var t,a;te({...J});const n=Array.from(e.currentTarget.elements),l="MULTI_DESTINATION"===y,r=pr(n),i=sp(y,n,he),o=((e,t,a=!1)=>e?ur(t):dr(t,!1,a))(l,{...i,dates:{...i.dates,config:{...i.dates.config,maxNumberOfDaysSelected:null!=De?De:0}},travelers:{totalTravelers:r,config:{maxTotalTravelers:6}}},ve);if(!(0===o.length)||Te)return te({fieldsWithErrors:Te?[...o,{__typename:"EGDSSearchFormTravelersField",isValid:!1}]:o,errorCount:Te?o.length+1:o.length,displayErrorSummary:!0,errorLinkReference:Q[null!=(a=null==(t=o[0])?void 0:t.__typename)?a:"EGDSSearchFormTravelersField"]}),void e.preventDefault();const c=((e,t,a)=>{const n={primary:{journeyCriterias:[],travelers:[],tripType:t,searchPreferences:{advancedFilters:a?["NONSTOP"]:[],cabinClass:"COACH"}},secondary:null};return Array.from(e.currentTarget.elements).filter(e=>e.name.startsWith("EGDS")).reduce(qm,n)})(e,y,T),s={event:e,lineOfBusiness:"FLIGHTS",criteria:c};if(H(new D.KD("SEARCH_TOOLS_FORM_SUBMIT",s)),(S||g)&&(S&&(S(e,{flightSearchCriteria:c}),null==v||v(!0)),g)){e.preventDefault();const{action:t,elements:a}=e.currentTarget,n=Array.from(a),l=he?Wm(n,y,T,{localDateFormat:L,formatDateString:V.formatDateString}):$m(c,K,{localDateFormat:L,formatDateString:V.formatDateString},up);window.location.href=`${t}${l}${null!=b?b:""}`}},hasRequiredFieldIndicator:!0},ae&&I&&n.createElement(r.N,{margin:{block:"two"}},n.createElement("div",null,n.createElement(_t,{data:I,errorCount:ne,inputErrorRef:le}))),n.createElement(r.N,{margin:{blockstart:"six"}},n.createElement("div",{id:`FlightSearchForm_${y}`,"data-testid":`FlightSearchForm_${y}`},"MULTI_DESTINATION"===y&&"EGDSSearchFormButton"===(null==F?void 0:F.__typename)?n.createElement(op,{...Oe,addLeg:O,removeLeg:k,legHeading:R,search:F,legs:P,elements:A,playback:j,getFlightSearchCriteria:()=>Vm(q,y),cabinClassField:Fe,travelersComposition:w,setTravelerSelectorErrorState:be}):n.createElement(d.LM,null,n.createElement(d.NP,null,j&&v?n.createElement(Go,{data:j,display:E,onDisplayToggle:v},n.createElement(Zm,{...Oe,viewSize:d.OB.SMALL})):n.createElement(Zm,{...Oe,viewSize:d.OB.SMALL})),n.createElement(d.rw,null,n.createElement(Zm,{...Oe,viewSize:d.OB.MEDIUM})),n.createElement(d.zQ,null,n.createElement(Zm,{...Oe,viewSize:d.OB.LARGE}))))),fe&&n.createElement(d.LM,null,n.createElement(d.rw,null,n.createElement(r.N,{margin:{blockstart:"three"}},n.createElement("div",null,fe)))),0===Y.bucket&&n.createElement("input",{type:"hidden",name:f.name,value:f.value}))};mp.fragment=dp,mp.displayName="FlightSearchForm";var pp=u.gql`
  query FlightSearchFormQuery(
    $context: ContextInput!
    $pageLocation: PageLocation
    $flightSearchCriteria: FlightSearchCriteriaInput
    $fixedTravelers: Boolean
    $includePlayback: Boolean = false
    $disabledCabins: [FlightsCabinClass!]
    $features: [String!]
  ) {
    searchForm(context: $context, pageLocation: $pageLocation) {
      flight(flightSearchCriteria: $flightSearchCriteria, fixedTravelers: $fixedTravelers, disabledCabins: $disabledCabins, features: $features) {
        ...FlightSearchFormFragment
      }
    }
  }

  ${mp.fragment}
`,yp=n.createContext({lobName:"flights",enablePriceCalendar:!1,priceCalendarInputs:{flightsSearchContext:{tripType:"ROUND_TRIP"},journeyCriteria:[]},onLocationChange:void 0}),_p=e=>{var t,a,l,o,c,s,y,_,S,g;const{inputs:E,skipSsr:h,skipQuery:D=!1,batchKey:f,includePlayback:T,features:C,enablePriceCalendar:b,pageLocation:I}=e,{context:A}=(0,m.R)(),{state:F,dispatch:O}=(0,i.kW)(),k={...E,context:A,includePlayback:!!T,features:C,pageLocation:I},G=null!=(a=null==(t=E.flightSearchCriteria)?void 0:t.primary.tripType)?a:"ROUND_TRIP",R=(0,p.useLoggerEvents)(Bu),{data:L,error:P,loading:N}=(0,u.useQuery)(pp,{context:{batchKey:f,shouldLogPerformance:!0},variables:k,ssr:!h,skip:D}),M={...e,flightType:G},x={origin:(null==(l=F.origin)?void 0:l.term)||"",destination:(null==(o=F.destination)?void 0:o.term)||"",departureDate:qu(14).departureDate,flightsCabinClass:"COACH"},[B,$]=n.useState((null==(s=null==(c=E.flightSearchCriteria)?void 0:c.primary.journeyCriterias)?void 0:s.length)?E.flightSearchCriteria.primary.journeyCriterias:[x]);n.useEffect(()=>{var e,t,a,n,l;const r=null==(e=null==L?void 0:L.searchForm)?void 0:e.flight,i=null==(l=null==(n=null==(a=null==(t=null==r?void 0:r.legs)?void 0:t[0])?void 0:a.locations)?void 0:n.origin)?void 0:l.value;$(e=>{var t,a,n,l,r,o;return[{...e[0],origin:(null==(t=F.origin)?void 0:t.term)||(null==(a=e[0])?void 0:a.origin)||i||"",destination:(null==(n=F.destination)?void 0:n.term)||(null==(l=e[0])?void 0:l.destination)||"",departureDate:(null==(r=e[0])?void 0:r.departureDate)||x.departureDate,flightsCabinClass:(null==(o=e[0])?void 0:o.flightsCabinClass)||"COACH"}]})},[null==(y=F.origin)?void 0:y.term,null==(_=F.destination)?void 0:_.term]);const W="MULTI_DESTINATION"===G,w=n.useCallback(e=>{W||("origin_select"===e.name?O({type:"UPDATE_ORIGIN",location:{term:e.value,data:{...Zi}}}):"destination_select"===e.name&&O({type:"UPDATE_DESTINATION",location:{term:e.value,data:{...Zi}}}),$(t=>[{...t[0],..."origin_select"===e.name?{origin:e.value}:{},..."destination_select"===e.name?{destination:e.value}:{}}]))},[O,W]),U=n.useMemo(()=>{var e,t;return{lobName:"flights",enablePriceCalendar:null!=b&&b,priceCalendarInputs:{flightsSearchContext:{tripType:(null==(t=null==(e=E.flightSearchCriteria)?void 0:e.primary)?void 0:t.tripType)||"ROUND_TRIP"},journeyCriteria:B},onLocationChange:w}},[b,null==(g=null==(S=E.flightSearchCriteria)?void 0:S.primary)?void 0:g.tripType,B,w,W]);return N?n.createElement(r.N,{padding:{blockstart:"six"}},n.createElement("div",null,n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(ot,{rows:[{lineLength:"primary"},{lineLength:"primary"},{lineLength:"primary"}]})),n.createElement(d.rw,null,n.createElement(ot,{rows:[{lineLength:"primary"}]}))))):P||"FlightSearchForm"!==(null==L?void 0:L.searchForm.flight.__typename)?(R.SEARCH_TOOLS_FLIGHTS_SEARCH_FORM_QUERY_FAILURE.log({name:null==P?void 0:P.name,error:new Error(null==P?void 0:P.message)}),n.createElement(ze,null,n.createElement(v.IntersectionTracker,{...$u},n.createElement(mp,{...M,data:_m(G)})))):n.createElement(v.IntersectionTracker,{...wu},n.createElement(yp.Provider,{value:U},n.createElement(mp,{...M,data:L.searchForm.flight})))};_p.displayName="sharedui-FlightsSearchForm";var Sp={egdsElementId:"search_form_error_summary",goToErrorLinkText:"Go to the error",goToFirstErrorLinkText:"Go to the first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked on search form",referrerId:"Web.Hotels.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed on search form",referrerId:"Web.Hotels.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"ONE",template:"To continue, please correct the error below.",__typename:"CardinalTemplate"},{category:"TWO",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"FEW",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"MANY",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"OTHER",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},gp={__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_form_field",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select a destination",validations:[{errorMessage:"Please select a destination",__typename:"EGDSRequiredInputValidation"},{errorMessage:"Please make sure your departure and arrival cities are different",__typename:"EGDSSameValueInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},closeAnalytics:{linkName:"Location selection",referrerId:"Web.Hotels.Location.Open",__typename:"ClientSideAnalytics"},action:{accessibility:"Results available.",analytics:{linkName:"Location selection",referrerId:"Web.Hotels.Location.Open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!0,isDestination:!0,lineOfBusiness:"HOTELS",maxNumberOfResults:8,packageType:null,personalize:!0,regionType:2047,typeaheadFeatures:"ta_hierarchy|postal_code|google|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:null,expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by destination, accommodations, or landmark",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},multiLocations:null,changeAnalytics:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},Ep=new Date,vp=new Date(Ep.getFullYear(),Ep.getMonth(),Ep.getDate()+14),hp=new Date(vp.getFullYear(),vp.getMonth(),vp.getDate()+1),Dp=vp.getMonth()+1,fp=hp.getMonth()+1,Tp={__typename:"EGDSSearchFormDatePickerField",egdsElementId:"date_form_field",label:"Dates",placeholder:"Dates",errorMessage:"Check-out date must be after check-in date",validations:[{errorMessage:"Check out date must be within 29 days of check in date",__typename:"EGDSMaxLengthInputValidation"},{errorMessage:"Please select a check-in date",__typename:"EGDSRequiredInputValidation"}],action:{accessibility:null,analytics:{linkName:"Calendar selection",referrerId:"Web.Hotels.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{flexibleDateContent:{__typename:"EGDSDatePickerFlexibilityContent",calendarContent:{__typename:"EGDSDatePickerFlexibilityCalendarContent",flexibleDateOptions:[{accessibility:"Exact dates",disabled:!1,name:null,primary:"Exact dates",selected:!0,selectedText:null,value:"0_DAY",icon:null,selectAnalytics:{linkName:"Flexible date selected",referrerId:"Web.Hotels.Calendar.Flexible.Date.Select.0_DAY",__typename:"ClientSideAnalytics"},deselectAnalytics:null,__typename:"EGDSBasicPill"},{accessibility:"Plus or minus 1 day",disabled:!1,name:null,primary:"± 1 day",selected:!1,selectedText:null,value:"1_DAY",icon:null,selectAnalytics:{linkName:"Flexible date selected",referrerId:"Web.Hotels.Calendar.Flexible.Date.Select.1_DAY",__typename:"ClientSideAnalytics"},deselectAnalytics:null,__typename:"EGDSBasicPill"},{accessibility:"Plus or minus 2 days",disabled:!1,name:null,primary:"± 2 days",selected:!1,selectedText:null,value:"2_DAY",icon:null,selectAnalytics:{linkName:"Flexible date selected",referrerId:"Web.Hotels.Calendar.Flexible.Date.Select.2_DAY",__typename:"ClientSideAnalytics"},deselectAnalytics:null,__typename:"EGDSBasicPill"},{accessibility:"Plus or minus 3 days",disabled:!1,name:null,primary:"± 3 days",selected:!1,selectedText:null,value:"3_DAY",icon:null,selectAnalytics:{linkName:"Flexible date selected",referrerId:"Web.Hotels.Calendar.Flexible.Date.Select.3_DAY",__typename:"ClientSideAnalytics"},deselectAnalytics:null,__typename:"EGDSBasicPill"},{accessibility:"Plus or minus 7 days",disabled:!1,name:null,primary:"± 7 days",selected:!1,selectedText:null,value:"7_DAY",icon:null,selectAnalytics:{linkName:"Flexible date selected",referrerId:"Web.Hotels.Calendar.Flexible.Date.Select.7_DAY",__typename:"ClientSideAnalytics"},deselectAnalytics:null,__typename:"EGDSBasicPill"}],formElementId:"date_form_nested_flexible_field",title:null},contentSelector:{__typename:"EGDSBasicTabs",egdsElementId:"date_form_nested_flexible_tabs",selectedTabId:"date_form_nested_flexible_tab_calendar",tabs:[{__typename:"EGDSBasicTab",accessibility:"Calendar",clickAnalytics:{linkName:"Calendar tab select",referrerId:"Web.Hotels.Calendar.Select",__typename:"ClientSideAnalytics"},label:"Calendar",tabId:"date_form_nested_flexible_tab_calendar"},{__typename:"EGDSBasicTab",accessibility:"Flexible dates",clickAnalytics:{linkName:"Flexible dates tab select",referrerId:"Web.Hotels.FlexDateTab.Select",__typename:"ClientSideAnalytics"},label:"Flexible dates",tabId:"date_form_nested_flexible_tab_dates"}]},flexibleDatesContent:{__typename:"EGDSDatePickerFlexibilityDatesContent",nightsSelection:{heading:"How long do you want to stay?",includeWeekend:{__typename:"EGDSBasicCheckBox",egdsElementId:"date_form_flexible_checkbox",description:null,enabled:!0,checkedAnalytics:{linkName:"Flexible dates include weekend select",referrerId:"Web.Hotels.FlexDateForm.Weekend.Select",__typename:"ClientSideAnalytics"},uncheckedAnalytics:{linkName:"Flexible dates does not include weekend select",referrerId:"Web.Hotels.FlexDateForm.Weekend.Deselect",__typename:"ClientSideAnalytics"},label:{text:"Must include weekend",__typename:"EGDSPlainText"},name:null,required:!1,state:"CHECKED"},options:[{__typename:"EGDSBasicPill",accessibility:"1 night stay",disabled:!1,name:"date_form_flexible_nights_pill_1",primary:"1 night",selected:!1,selectedText:null,value:"1_DAY",icon:null,selectAnalytics:{linkName:"Flexible dates duration select",referrerId:"Web.Hotels.FlexDateForm.Duration.Select.1_DAY",__typename:"ClientSideAnalytics"},deselectAnalytics:null},{__typename:"EGDSBasicPill",accessibility:"2 to 3 night stay",disabled:!1,name:"date_form_flexible_nights_pill_2",primary:"2-3 nights",selected:!0,selectedText:null,value:"2_DAY_LOWER,3_DAY_UPPER",icon:null,selectAnalytics:{linkName:"Flexible dates duration select",referrerId:"Web.Hotels.FlexDateForm.Duration.Select.2_DAY_LOWER,3_DAY_UPPER",__typename:"ClientSideAnalytics"},deselectAnalytics:null},{__typename:"EGDSBasicPill",accessibility:"4 to 5 night stay",disabled:!1,name:"date_form_flexible_nights_pill_3",primary:"4-5 nights",selected:!1,selectedText:null,value:"4_DAY_LOWER,5_DAY_UPPER",icon:null,selectAnalytics:{linkName:"Flexible dates duration select",referrerId:"Web.Hotels.FlexDateForm.Duration.Select.4_DAY_LOWER,5_DAY_UPPER",__typename:"ClientSideAnalytics"},deselectAnalytics:null},{__typename:"EGDSBasicPill",accessibility:"6 to 7 night stay",disabled:!1,name:"date_form_flexible_nights_pill_4",primary:"6-7 nights",selected:!1,selectedText:null,value:"6_DAY_LOWER,7_DAY_UPPER",icon:null,selectAnalytics:{linkName:"Flexible dates duration select",referrerId:"Web.Hotels.FlexDateForm.Duration.Select.6_DAY_LOWER,7_DAY_UPPER",__typename:"ClientSideAnalytics"},deselectAnalytics:null}],__typename:"EGDSDatePickerFlexibleNights"},monthsSelection:{heading:"When do you want to travel?",subHeading:"You can select more than one month.",options:{__typename:"EGDSToggleButtonGroup",options:[{__typename:"EGDSToggleButton",egdsElementId:"date_form_flexible_toggle_button",primary:"August",subText:"2024",name:"date_form_flexible_toggle_button_Aug_2024-08-01_2024-08-31",selectedAnalytics:{linkName:"Flexible month selection",referrerId:"Web.Hotels.FlexDateForm.Months.Select.8.1",__typename:"ClientSideAnalytics"},unselectedAnalytics:{linkName:"Flexible month deselection",referrerId:"Web.FlexDateForm.Months.Deselect.8.1",__typename:"ClientSideAnalytics"},icon:{id:"today",size:"MEDIUM",__typename:"Icon"},selected:!1,disabled:!1},{__typename:"EGDSToggleButton",egdsElementId:"date_form_flexible_toggle_button",primary:"September",subText:"2024",name:"date_form_flexible_toggle_button_Sep_2024-09-01_2024-09-30",selectedAnalytics:{linkName:"Flexible month selection",referrerId:"Web.Hotels.FlexDateForm.Months.Select.9.2",__typename:"ClientSideAnalytics"},unselectedAnalytics:{linkName:"Flexible month deselection",referrerId:"Web.FlexDateForm.Months.Deselect.9.2",__typename:"ClientSideAnalytics"},icon:{id:"today",size:"MEDIUM",__typename:"Icon"},selected:!1,disabled:!1},{__typename:"EGDSToggleButton",egdsElementId:"date_form_flexible_toggle_button",primary:"October",subText:"2024",name:"date_form_flexible_toggle_button_Oct_2024-10-01_2024-10-31",selectedAnalytics:{linkName:"Flexible month selection",referrerId:"Web.Hotels.FlexDateForm.Months.Select.10.3",__typename:"ClientSideAnalytics"},unselectedAnalytics:{linkName:"Flexible month deselection",referrerId:"Web.FlexDateForm.Months.Deselect.10.3",__typename:"ClientSideAnalytics"},icon:{id:"today",size:"MEDIUM",__typename:"Icon"},selected:!1,disabled:!1},{__typename:"EGDSToggleButton",egdsElementId:"date_form_flexible_toggle_button",primary:"November",subText:"2024",name:"date_form_flexible_toggle_button_Nov_2024-11-01_2024-11-30",selectedAnalytics:{linkName:"Flexible month selection",referrerId:"Web.Hotels.FlexDateForm.Months.Select.11.4",__typename:"ClientSideAnalytics"},unselectedAnalytics:{linkName:"Flexible month deselection",referrerId:"Web.FlexDateForm.Months.Deselect.11.4",__typename:"ClientSideAnalytics"},icon:{id:"today",size:"MEDIUM",__typename:"Icon"},selected:!1,disabled:!1},{__typename:"EGDSToggleButton",egdsElementId:"date_form_flexible_toggle_button",primary:"December",subText:"2024",name:"date_form_flexible_toggle_button_Dec_2024-12-01_2024-12-31",selectedAnalytics:{linkName:"Flexible month selection",referrerId:"Web.Hotels.FlexDateForm.Months.Select.12.5",__typename:"ClientSideAnalytics"},unselectedAnalytics:{linkName:"Flexible month deselection",referrerId:"Web.FlexDateForm.Months.Deselect.12.5",__typename:"ClientSideAnalytics"},icon:{id:"today",size:"MEDIUM",__typename:"Icon"},selected:!1,disabled:!1},{__typename:"EGDSToggleButton",egdsElementId:"date_form_flexible_toggle_button",primary:"January",subText:"2025",name:"date_form_flexible_toggle_button_Jan_2025-01-01_2025-01-31",selectedAnalytics:{linkName:"Flexible month selection",referrerId:"Web.Hotels.FlexDateForm.Months.Select.1.6",__typename:"ClientSideAnalytics"},unselectedAnalytics:{linkName:"Flexible month deselection",referrerId:"Web.FlexDateForm.Months.Deselect.1.6",__typename:"ClientSideAnalytics"},icon:{id:"today",size:"MEDIUM",__typename:"Icon"},selected:!1,disabled:!1}]},__typename:"EGDSDatePickerFlexibleMonths"}},flexibilityLabel:{templates:[{template:"${nightsSelected} in ${monthSelected}",category:"ZERO",__typename:"CardinalTemplate"},{template:"${nightsSelected} in ${monthSelected}, ${secondMonthSelected}",category:"ONE",__typename:"CardinalTemplate"},{template:"${nightsSelected} in ${monthSelected}, ${secondMonthSelected}, ${thirdMonthSelected}",category:"TWO",__typename:"CardinalTemplate"},{template:"${nightsSelected} in ${monthSelected}, ${secondMonthSelected}, ${thirdMonthSelected}, ${fourthMonthSelected}",category:"FEW",__typename:"CardinalTemplate"},{template:"${nightsSelected} in ${monthSelected}, ${secondMonthSelected}, ${thirdMonthSelected}, ${fourthMonthSelected}...",category:"MANY",__typename:"CardinalTemplate"},{template:"${nightsSelected} in ${monthSelected}, ${secondMonthSelected}, ${thirdMonthSelected}, ${fourthMonthSelected}...",category:"OTHER",__typename:"CardinalTemplate"}],models:[{key:"nightsSelected",__typename:"TemplateModel"},{key:"monthSelected",__typename:"TemplateModel"},{key:"secondMonthSelected",__typename:"TemplateModel"},{key:"thirdMonthSelected",__typename:"TemplateModel"},{key:"fourthMonthSelected",__typename:"TemplateModel"},{key:"fifthMonthSelected",__typename:"TemplateModel"},{key:"sixthMonthSelected",__typename:"TemplateModel"}],__typename:"EGDSCardinalLocalizedText"}},nextButtonAnalytics:null,previousButtonAnalytics:null,buttonText:"Done",clearButtonText:"Clear dates",firstDayOfWeek:"SUN",maxNumberOfDaysSelected:29,sameDaySelectionAllowed:!1,selectedStartDate:{day:vp.getDate(),month:Dp,year:vp.getFullYear(),__typename:"Date"},startDatePlaceholderText:"Check-in",selectedEndDate:{day:hp.getDate(),month:fp,year:hp.getFullYear(),__typename:"Date"},endDatePlaceholderText:"Check-out",validDaysLowerBoundInclusive:{day:Ep.getDate(),month:Ep.getMonth(),year:Ep.getFullYear(),__typename:"Date"},validDaysUpperBoundInclusive:{day:Ep.getDate(),month:Ep.getMonth()+4,year:Ep.getFullYear()+1,__typename:"Date"},submitButtonAnalytics:{__typename:"ClientSideAnalytics",referrerId:"date picker submit",linkName:"date.picker.submit"},startDateButtonAnalytics:{__typename:"ClientSideAnalytics",linkName:"date picker start date",referrerId:"date.picker.start.date"},endDateButtonAnalytics:{__typename:"ClientSideAnalytics",linkName:"date picker end date",referrerId:"date.picker.end.date"},showClearDatesButton:!1,buttonTextTemplate:null,clearDatesButtonAnalytics:null,__typename:"EGDSDateRangePicker"},__typename:"EGDSOpenDatePickerAction"}},Cp={__typename:"EGDSSearchFormTravelersField",readOnly:!1,action:{analytics:{linkName:"Guests selection",referrerId:"Web.Hotels.Traveler.GuestPicker.Open",__typename:"ClientSideAnalytics"},travelerSelector:{addAnotherRoomButton:{egdsElementId:"traveler_selector_add_room",primary:"Add another room",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"UITertiaryButton"},closeButton:{egdsElementId:"traveler_selector_close_button",primary:null,disabled:!1,accessibility:null,icon:{id:"close",description:"close",token:"icon__close",title:"",__typename:"Icon"},analytics:{linkName:"Travelers results not updated",referrerId:"Web.Hotels.Traveler.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},doneButton:{egdsElementId:"traveler_selector_done_button",primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers results updated",referrerId:"Web.Hotels.Traveler.Done",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},maxRoomCount:8,rooms:[{label:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},adults:{decreaseAnalytics:{linkName:"Adult traveler removed",referrerId:"Web.Hotels.Traveler.Remove.Adult",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Adult traveler added",referrerId:"Web.Hotels.Traveler.Add.Adult",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of adults",decreaseTextTemplate:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Decrease the number of adults in room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},increaseText:"Increase the number of adults",increaseTextTemplate:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Increase the number of adults in room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},egdsElementId:"traveler_selector_adult_step_input",__typename:"EGDSTravelerStepInput",label:"Adults",max:14,min:1,step:1,subLabel:null,value:2},children:{count:{decreaseAnalytics:{linkName:"Child traveler removed",referrerId:"Web.Hotels.Traveler.Remove.Child",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Child traveler added",referrerId:"Web.Hotels.Traveler.Add.Child",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of children",decreaseTextTemplate:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Decrease the number of children in room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},increaseText:"Increase the number of children",increaseTextTemplate:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Increase the number of children in room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},egdsElementId:"traveler_selector_children_step_input",__typename:"EGDSTravelerStepInput",label:"Children",max:6,min:0,step:1,subLabel:"Ages 0 to 17",value:0},ages:[],ageTemplate:{disabled:!1,labelTemplate:{models:[{key:"childNumber",source:"childNumber",__typename:"TemplateModel"}],template:"Child ${childNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{changeAnalytics:null,label:"Select age",value:"",egdsElementId:"children_age_option",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"Under 1",value:"0",egdsElementId:"children_age_option_0",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"1",value:"1",egdsElementId:"children_age_option_1",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"2",value:"2",egdsElementId:"children_age_option_2",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"3",value:"3",egdsElementId:"children_age_option_3",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"4",value:"4",egdsElementId:"children_age_option_4",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"5",value:"5",egdsElementId:"children_age_option_5",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"6",value:"6",egdsElementId:"children_age_option_6",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"7",value:"7",egdsElementId:"children_age_option_7",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"8",value:"8",egdsElementId:"children_age_option_8",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"9",value:"9",egdsElementId:"children_age_option_9",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"10",value:"10",egdsElementId:"children_age_option_10",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"11",value:"11",egdsElementId:"children_age_option_11",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"12",value:"12",egdsElementId:"children_age_option_12",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"13",value:"13",egdsElementId:"children_age_option_13",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"14",value:"14",egdsElementId:"children_age_option_14",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"15",value:"15",egdsElementId:"children_age_option_15",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"16",value:"16",egdsElementId:"children_age_option_16",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"17",value:"17",egdsElementId:"children_age_option_17",__typename:"EGDSBasicOption"}],egdsElementId:"traveler_selector_children_age_selector",value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerChildren"},infants:null,removeRoomButton:{egdsElementId:"traveler_selector_remove_room",primary:"Remove room",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"UITertiaryButton"},removeRoomAnnouncement:"Room removed",__typename:"EGDSTravelerSelectorRoom"}],infantSeatSelection:null,title:"Travelers",validations:[{errorMessage:"We allow up to 20 travelers per booking.",maxCount:20,type:"MAX_TRAVELERS",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"We allow up to 20 travelers per booking.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed on travelers",referrerId:"Web.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"Provide the age of the child.",maxCount:null,type:"CHILD_AGE_REQUIRED",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:"Go to the error",goToFirstErrorLinkText:"Go to the first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked on travelers",referrerId:"Web.Hotels.Traveler.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed on travelers",referrerId:"Web.Hotels.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"ONE",template:"To continue, please correct the error below.",__typename:"CardinalTemplate"},{category:"TWO",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"FEW",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"MANY",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"OTHER",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"}],__typename:"EGDSRoomsTravelerSelector"},accessibility:"expand to change the number of travelers",__typename:"EGDSOpenTravelerSelectorAction"},label:"Travelers",labelTemplate:{models:[{key:"rooms",models:{models:[{key:"roomCount",source:"roomCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"ONE",template:"${roomCount} room",__typename:"CardinalTemplate"},{category:"TWO",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"FEW",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"MANY",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"OTHER",template:"${roomCount} rooms",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"},{key:"travelers",models:{models:[{key:"travelerCount",source:"travelerCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"ONE",template:"${travelerCount} traveler",__typename:"CardinalTemplate"},{category:"TWO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"FEW",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"MANY",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"OTHER",template:"${travelerCount} travelers",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"}],template:"${travelers}, ${rooms}",text:"2 travelers, 1 room",__typename:"EGDSCompositeLocalizedText"},leftIcon:{id:"person",__typename:"Icon"}},bp={egdsElementId:"submit_button",primary:"Search",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.Hotels.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}},Ip=(e=>(e.DESTINATION="destination_form_field",e.TRAVEL_DATES="EGDSDateRangePicker",e.TRAVEL_DATES_FLEXIBLE="EGDSDateRangePicker-Flexible",e.TRAVELER_ROOM_SELECTOR="EGDSRoomsTravelerSelector",e.TRAVELER_BASIC_SELECTOR="EGDSBasicTravelerSelector",e))(Ip||{}),Ap=(e=>(e.SORT="sort",e.HOTEL_NAME="hotelName",e.REWARDS="rewards",e.STAR="star",e.GUEST_RATING="guestRating",e.CLEANING_AND_SAFETY="cleaningAndSafetyPractices",e.LODGING="lodging",e.MEAL_PLAN="mealPlan",e.AMENITIES="amenities",e.TRAVELER_TYPE="travelerType",e.PAYMENT_TYPE="paymentType",e.DEALS="deals",e.PROPERTY_STYLE="propertyStyle",e.BEDROOM_FILTER="bedroomFilter",e.NEIGHBORHOOD="neighborhood",e.STAY_TYPE="stayType",e.ACCESSIBILITY="accessibility",e.POI="poi",e.MIN_BEDROOMS="bedroom_count_gt",e.MIN_BATHROOMS="us_bathroom_count_gt",e.PROPERTY_TYPE="property_type_group",e.LOCATION="location_group",e.ACCESSIBILITY_FEATURES="accessibility_features_group",e.BOOKING_OPTIONS="booking_options_group",e.DISCOUNTS_GROUP="discounts_group",e.AMENITIES_FACILITIES="amenities_facilities_group",e.FREE_CANCELLATION_GROUP="free_cancellation_group",e.HOUSE_RULES="house_rules_group",e.NEARBY_ACTIVITIES="nearby_activities_group",e.NEIGHBORHOOD_GROUP="neighborhood_group",e.PREMIER_HOST="premier_host_group",e.PROPERTIES_GOOD="properties_good_for_group",e.PROPERTY_REVIEWS="property_reviews_group",e.ROOMS_SPACES="rooms_spaces_group",e.SAFETY="safety_group",e.VIRTUAL_TOUR_GROUP="virtual_tour_group",e.PRICING_GROUP="pricing_group",e.PROPERTY_NAME="propertyName",e.AVAILABLE_FILTER="availableFilter",e.AGENCY_BUSINESS_MODELS="agencyBusinessModels",e.COMMISSION_TIERS="commissionTiers",e.USE_REWARDS="useRewards",e.BED_TYPE_GROUP="bed_type_group",e.STAY_OPTIONS_GROUP="stay_options_group",e.HOTEL_BRAND="hotel_brand",e.MULTI_NEIGHBORHOOD_GROUP="multi_neighborhood_group",e.SPECIAL_DISCOUNTS_GROUP="special_discounts_group",e.HIGHLY_RATED_FOR_GROUP="highly_rated_for_group",e.AI_SEARCH_QUERY="ai_search_query",e.AVAILABILITY_GROUP="availableFilter",e.EXPEDIA_REWARDS_GROUP="expedia_rewards_group",e.AVAILABILITY_GROUP_VRBO="availability_group",e))(Ap||{}),Fp=(e=>(e.PRICE="price",e.NIGHTLY_PRICE="nightly_price",e.TOTAL_PRICE="total_price",e))(Fp||{}),Op=e=>{const[t,a,n]=e.split("-");return{year:parseInt(t,10),month:parseInt(a,10),day:parseInt(n,10)}},kp=e=>{const[t,a,n]=e.split("/");return`${n}-${t}-${a}`},Gp=e=>{const t=(e=>{const t=e.getAll("flexibility");return 0===t.length?null:t.reduce((e,t)=>{const a=t.split("_");if(a.length>1){const t=parseInt(a[0],10),n=We[a[1].toUpperCase()],l=3===a.length?{bound:$e[a[2].toUpperCase()]}:{};t&&n&&e.push({length:t,unit:n,...l})}return e},[])})(e),a=(e=>e.getAll("searchRange").reduce((e,t)=>{const a=t.split("_");return 2===a.length&&e.push({start:Op(a[0]),end:Op(a[1])}),e},[]))(e),n=(e=>e.getAll("flexibleSearchRequirement").filter(e=>e))(e),l={...(null==t?void 0:t.length)&&{flexibility:t},...(null==a?void 0:a.length)&&{searchRange:a},...(null==n?void 0:n.length)&&{flexibleSearchRequirement:n}};return Object.getOwnPropertyNames(l).length?l:null},Rp=e=>{const t=e.map(e=>e.split(",")).filter(([e,t])=>""!==e&&""!==t).map(([e,t])=>({latitude:Number(e),longitude:Number(t)}));return 2===t.length?t:[]},Lp=[{URL_PARAM_ID:"packageRates",QUERY_BOOLEAN_ID:"showPackageRates"},{URL_PARAM_ID:"vacationRentalsOnly",QUERY_BOOLEAN_ID:"showVacationRentalsOnly"},{URL_PARAM_ID:"dateSelectedByUser",QUERY_BOOLEAN_ID:"isUserSelectedDates"}],Pp=(e,t,a)=>{var n;const l=(({destination:e,regionId:t,latLong:a,selected:n,mapBounds:l})=>{const[r,i]=(null==a?void 0:a.split(",").map(e=>parseFloat(e)))||[null,null];return{regionName:e?decodeURIComponent(e):null,regionId:t,coordinates:r&&i?{latitude:r,longitude:i}:null,mapBounds:l,...n&&{pinnedPropertyId:n}}})({destination:e.get("destination"),regionId:"null"===e.get("regionId")?null:e.get("regionId"),latLong:e.get("latLong"),selected:e.get("selected"),mapBounds:Rp(e.getAll("mapBounds"))}),r=(({startDate:e,endDate:t})=>{if(!e||!t)return null;const a=/^\d{4}-\d{2}-\d{2}$/,n=/^(0?[1-9]|1[0-2])\/(0?[1-9]|[12][0-9]|3[01])\/\d{4}$/,l=a.test(e)||n.test(e),r=a.test(t)||n.test(t);if(!l||!r)return null;const i=a.test(e)?e:kp(e),o=a.test(t)?t:kp(t);return{checkInDate:Op(i),checkOutDate:Op(o)}})({startDate:e.get("startDate"),endDate:e.get("endDate")}),i=(({adults:e,children:t})=>{const a=(null==e?void 0:e.split(",").map(e=>parseInt(e,10)))||[],n=(null==t?void 0:t.split(","))||[];return a.map((e,t)=>{const a=t+1;return{adults:e,children:n.filter(e=>e.startsWith(a.toString())).map(e=>({age:parseInt(e.split("_")[1],10)}))}}).filter(e=>!Number.isNaN(e.adults))})({adults:e.get("adults"),children:e.get("children")}),o=(({queryParams:e})=>{const t=[];return Object.values(Fp).forEach(a=>{const n=e.getAll(a),l=(1===n.length?n[0].split(","):n).filter(e=>0!==e.length).map(Number).filter(e=>!Number.isNaN(e));l.length>1&&t.push({id:a,min:Math.min(...l),max:Math.max(...l)})}),t})({queryParams:e}),c=(({queryParams:e,paramsToExclude:t,isPartnerPointsToggleEnabled:a,fetchedFilterKeys:n})=>{const l=Object.values(Ap),r=n?Object.keys(n):[];return i=Array.from(new Set([...l,...r])).reduce((n,l)=>{const r=t.includes(l);a||"useRewards"!==l||e.delete("useRewards");const i=e.getAll(l);if(i.length&&""!==i[0]){const e=i.map(e=>(r?[e]:e.split(",")).map(e=>a&&"useRewards"===l?{id:l,value:"true"===e?"SHOP_WITH_POINTS":"SHOP_WITHOUT_POINTS"}:{id:l,value:e}));return[...n,...e]}return[...n]},[]).flat(),o={id:"sort",value:"RECOMMENDED"},i.some(e=>e.id===o.id)?i:[...i,o];var i,o})({queryParams:e,paramsToExclude:["hotelName","poi"],isPartnerPointsToggleEnabled:t,fetchedFilterKeys:a}),s=Gp(e),d=s?{flexSearchCriteria:s}:{},u=(e=>Lp.flatMap(t=>"true"===e.get(t.URL_PARAM_ID)?[{id:t.QUERY_BOOLEAN_ID,value:!0}]:[]))(e);return{propertySearchCriteriaInput:{primary:{destination:l,rooms:i,dateRange:(null==s?void 0:s.searchRange)&&0!==(null==(n=null==s?void 0:s.searchRange)?void 0:n.length)?null:r,...d},secondary:{ranges:o,selections:c,booleans:u}}}},Np=u.gql`
  fragment EGUisMicroMessageFragment on EGUisMicroMessage {
    schemaName
    messageContent
  }
`,Mp=u.gql`
  fragment AdaptexTrackingSuccessFragment on SearchFormAdaptExSuccessEvent {
    __typename
    datePrefill {
      ...EGUisMicroMessageFragment
    }
  }

  ${Np}
`,xp=[Oo,rn,er,vt,Rm],Bp=u.gql`
  fragment LodgingSearchFormFragment on LodgingSearchForm {
    __typename
    egdsElementId
    actionURL
    errorSummary {
      ...EGDSErrorSummaryFragment
    }
    elements {
      __typename
      ...EGDSSearchFormLocationFieldFragment
      ...EGDSSearchFormDatePickerFieldFragment
      ...EGDSSearchFormTravelersFieldFragment
    }
    search {
      ...EGDSSearchFormButtonFragment
    }

    playback @include(if: $includePlayback) {
      ...EGDSSearchPlaybackFragment
    }

    softPackages {
      ...SoftPackagesFragment
    }

    adaptExSuccessEvent {
      ...AdaptexTrackingSuccessFragment
    }

    searchLocation {
      ...SearchLocationFragment
    }

    hidePlayback

    priceInsightsDailyConfig {
      debounceRate
      monthsToQuery
      __typename
    }

    groupStaysLink {
      ...EGDSStandardLinkFragment
    }

    searchFormAnalytics {
      datePrefillImpression {
        ...ClientSideAnalyticsFragment
      }
    }

    valuePropMessage {
      ...SearchFormMessagingFragment
    }
  }

  ${_t.fragment}
  ${Oo.fragment}
  ${rn.fragment}
  ${er.fragment}
  ${vt.fragment}
  ${Go.fragment}
  ${Rm.fragment}
  ${Mp}
  ${to}
  ${tl.fragment}
  ${Om.fragment}
  ${Sm.fragment}
`,$p=["AIRPORT","UNKNOWN","POINT_OF_INTEREST"],Wp=e=>{var t,a,l,o,c,s,u;const{data:p,onOpenLocationField:y,onFieldChange:_,onSubmit:S,onTogglePlayback:g,autoOpenCalendar:E,autoOpenPlayback:f,sticky:T,skipQuery:C,autoSubmitOnFieldChange:b,redirectToSearchResultOnSubmit:A,additionalQueryParams:k,dateFieldInitialFocus:L,layout:P,includeFlexibleCalendarContent:N=!1,includeFlexibleDatesContent:M=!1,autoSubmitOnFieldChangeConfig:x,lastSearchLatLong:B,updateLatLongOnSelection:$,regionId:w,handleOnFlexibleTabSelection:U,onOpenDatesField:H}=e,V=(0,z.useLocalization)(),{context:q}=(0,m.R)(),{locale:Y}=q,[K,j]=n.useState({EGDSSearchFormLocationField:null,EGDSSearchFormLocationFieldOrigin:null,EGDSSearchFormDatePickerField:null,EGDSSearchFormTravelersField:null}),X={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]},Q=n.useRef(null),Z=(0,d.eg)({viewSizes:d.pf})<=d.pf.SMALL,J=(0,d.eg)({viewSizes:d.pf})>d.pf.MEDIUM,[ee,te]=n.useState({...X}),{egdsElementId:ae,elements:ne,search:le,actionURL:re,errorSummary:ie,playback:oe,softPackages:ce,adaptExSuccessEvent:se,searchLocation:de,hidePlayback:ue,priceInsightsDailyConfig:me,groupStaysLink:pe,valuePropMessage:ye,searchFormAnalytics:_e}=p,[Se,ge]=n.useState(oe),[Ee,ve]=n.useState(!1),[he,De]=n.useState(ce),fe=null!=(t=null==he?void 0:he.maxNumberOfDaysSelected)?t:0,Te=ne.find(e=>"EGDSSearchFormLocationField"===e.__typename),Ce="EGDSSearchFormLocationField"===(null==Te?void 0:Te.__typename)?Te.regionId:"",be=w&&""!==w?w:Ce,Ie=$p.includes(null!=(a=null==Te?void 0:Te.regionType)?a:"UNKNOWN")?null:be,[Ae,Fe]=n.useState(Ie),[Oe,Ge]=n.useState(!(ue||f)),Re={dailyPriceDebounce:null!=(l=null==me?void 0:me.debounceRate)?l:200,dailyPriceNumberOfMonthsToQuery:null==me?void 0:me.monthsToQuery},{exposure:Le,logExperiment:Pe}=(0,W.useExperiment)("Retain_SearchLocation_input_Desktop_Web"),Ne=e=>{J&&e.length>=1&&(Pe(Le),ve(1===Le.bucket))},Me=()=>{null==H||H()},xe=null!=ae?ae:"search-lodging-form",$e=[...ne,he,le].filter(e=>null!=e),We=(0,v.useClickTracker)(),{track:we}=(0,v.useClickstreamAnalytics)(),{publish:Ue}=(0,h.Yj)();n.useEffect(()=>{oe&&!C&&ge(oe)},[oe,C]);(0,h._H)("SEARCH_FORM_NEXT_PAGE",D.xy,{onSuccess:()=>{var e;(null==se?void 0:se.datePrefill)&&we(v.ITrackType.EVENT,{data:(e=[se.datePrefill],e.map(e=>({messageContent:JSON.parse(e.messageContent),schemaName:e.schemaName})))})}}),n.useEffect(()=>{var e,t;L&&(null==(t=null==(e=K.EGDSSearchFormDatePickerField)?void 0:e.current)||t.focus())},[K.EGDSSearchFormDatePickerField]);const He=n.useCallback((e,t)=>{var a;const n=nr(e,null==(a=t.current)?void 0:a.id);j(e=>({...e,[n]:t}))},[]),Ve=ne.find(e=>"EGDSSearchFormDatePickerField"===e.__typename),qe="EGDSSearchFormDatePickerField"===(null==Ve?void 0:Ve.__typename)&&"EGDSOpenDatePickerAction"===(null==(o=Ve.action)?void 0:o.__typename)&&"EGDSDateRangePicker"===Ve.action.datePicker.__typename&&null!=(c=Ve.action.datePicker.maxNumberOfDaysSelected)?c:0,ze=()=>{y&&y()},[Ye,Ke]=n.useState(!1),je=e=>{Ke(e)},Xe="EGDSBasicCheckBox"===(null==(s=null==he?void 0:he.addFlight)?void 0:s.__typename)&&"CHECKED"===he.addFlight.state,Qe="EGDSBasicCheckBox"===(null==(u=null==he?void 0:he.addCar)?void 0:u.__typename)&&"CHECKED"===he.addCar.state||Xe,Ze=Qe?fe:qe,Je=n.useCallback(e=>{var t,a;const n={location:{...Xe?{origin:e.find(mr("origin_select"))}:null,destination:e.find(mr("destination_form_field")),config:{sameLocationSelected:Xe,airportCode:{destination:null==(t=e.find(mr("EGDSSearchFormLocationField-AirportCode-destination_form_field")))?void 0:t.value,origin:null==(a=e.find(mr("EGDSSearchFormLocationField-AirportCode-origin_select")))?void 0:a.value}}},dates:{startDateInput:e.find(mr("EGDSDateRangePicker-StartDate-date_form_field")),endDateInput:e.find(mr("EGDSDateRangePicker-EndDate-date_form_field")),config:{maxNumberOfDaysSelected:Ze}}},l=dr(n,Xe),r=l.length;return{fieldsWithErrors:l,errorCount:r,isFormValid:0===r}},[Ze,Xe]),{displayErrorSummary:et,errorCount:tt,errorLinkReference:at}=ee,nt=ie&&et,lt=e=>{const{name:t,checked:a}=e.currentTarget;De(e=>{var n,l;return"EGDSBasicCheckBox"===(null==(n=null==e?void 0:e.addCar)?void 0:n.__typename)&&null!==e.addCar.name&&t.includes(e.addCar.name)?{...e,addCar:{...e.addCar,state:a?"CHECKED":"UNCHECKED"}}:"EGDSBasicCheckBox"===(null==(l=null==e?void 0:e.addFlight)?void 0:l.__typename)&&null!==e.addFlight.name&&t.includes(e.addFlight.name)?{...e,addFlight:{...e.addFlight,state:a?"CHECKED":"UNCHECKED"}}:e})},rt=(e,t,a)=>{const n={__typename:"EGDSPlainText",accessibility:null,text:""},l=ne.find(e=>"EGDSSearchFormTravelersField"===e.__typename),r=a?((e,t)=>{var a,n,l,r,o,c,s;if("EGDSOpenTravelerSelectorAction"===(null==(a=null==e?void 0:e.action)?void 0:a.__typename)){const{totalTravelerCount:a,roomCount:d}=(0,i.ur)(t);if("EGDSRoomsTravelerSelector"===(null==(l=null==(n=null==e?void 0:e.action)?void 0:n.travelerSelector)?void 0:l.__typename)&&"EGDSCompositeLocalizedText"===(null==(r=null==e?void 0:e.labelTemplate)?void 0:r.__typename))return xl(null==e?void 0:e.labelTemplate,Y,d,a);if("EGDSBasicTravelerSelector"===(null==(c=null==(o=null==e?void 0:e.action)?void 0:o.travelerSelector)?void 0:c.__typename)&&"EGDSCardinalLocalizedText"===(null==(s=null==e?void 0:e.labelTemplate)?void 0:s.__typename))return Ml(null==e?void 0:e.labelTemplate,a,!1,Y)}return null})(l,a):"",o="EGDSPlainText"===e[0].__typename?e[0].text:"";return[{...n,text:(null==t?void 0:t.start)&&(null==t?void 0:t.end)?Vt(`${new Date(t.start.year,t.start.month-1,t.start.day).toISOString().split("T")[0]} - ${new Date(t.end.year,t.end.month-1,t.end.day).toISOString().split("T")[0]}`,V):o},{...n,text:null!=r?r:""}]},[it,ot]=n.useState(null!=B?B:""),ct=()=>{Fe("")},st=e=>{var t,a,n,l;$&&ot((null==(a=null==(t=e.data)?void 0:t.coordinates)?void 0:a.latitude)&&(null==(l=null==(n=e.data)?void 0:n.coordinates)?void 0:l.longitude)?`${e.data.coordinates.latitude},${e.data.coordinates.longitude}`:""),(e=>{var t,a,n,l;const r="AIRPORT"===(null==(t=e.data)?void 0:t.geoType)||"HOTEL"===(null==(a=e.data)?void 0:a.geoType)||"UNKNOWN"===(null==(n=e.data)?void 0:n.geoType);Fe((null==(l=e.data)?void 0:l.regionId)&&!r?e.data.regionId:"")})(e),ge(t=>{var a;if(!t)return null;const{primary:n,secondaries:l}=t,r={...n,text:(null==(a=e.data)?void 0:a.primaryText)||e.term},{travelers:i,dateRange:o}=e.data;if(i||o){const e=(e=>{var t;if(e)return"rooms"in e?{rooms:e.rooms.map(e=>{var t;return{adults:e.adults,childrenAges:null!=(t=e.childrenAges)?t:[],pets:!!e.pets}})}:{adults:e.adults,childrenAges:null!=(t=e.childrenAges)?t:[],pets:!!e.pets}})(i);return{...t,primary:r,secondaries:rt(l,o,e)}}return{...t,primary:r,secondaries:l}})},dt=Qe&&he.actionURL?he.actionURL:re,ut=he&&n.createElement(F.X,{space:"three",direction:"IN_LINE"===P?"row":"column"},he&&n.createElement(O.C,{grow:1},n.createElement("div",null,n.createElement(Rm,{data:he,searchLocationContent:null==de?void 0:de.content,onProductSelect:lt,setFieldRefByTypename:He,fieldError:ee.fieldsWithErrors.find(e=>"EGDSSearchFormLocationFieldOrigin"===e.__typename),searchFormMessaging:ye})))),mt="SoftPackagesArea",pt=t=>{const a=(e=>e===d.OB.SMALL||"STACKED"===P?["1fr"]:[(0,ke.kM)(3,"1fr"),"max-content"])(t),l=t===d.OB.SMALL||"STACKED"===P?(()=>{const e=[(0,ke.kM)(3,"max-content")];return he&&e.splice(3,0,(0,ke.l)("1x")),e})():(()=>{const e=["1fr"];return he?[...e,(0,ke.l)("1x")]:e})(),r=t===d.OB.SMALL||"STACKED"===P?(()=>{const e=["EGDSSearchFormLocationField","EGDSSearchFormDatePickerField","EGDSSearchFormTravelersField","EGDSSearchFormButton"];return he&&e.splice(3,0,mt),e})():(()=>{const e=["EGDSSearchFormLocationField EGDSSearchFormDatePickerField EGDSSearchFormTravelersField EGDSSearchFormButton"];return he?[...e,`${mt} ${mt} ${mt} ${mt}`]:e})(),i=new URLSearchParams(window.location.search).get("destination");return n.createElement(I.w,{columns:a,rows:l,space:"three",areas:r},$e.map((t,a)=>{const{__typename:l}=t,r=xp.find(({displayName:e})=>e===l);if(!r)return null;const o=ee.fieldsWithErrors.find(e=>{const t="SoftPackages"===l&&"EGDSSearchFormLocationFieldOrigin"===e.__typename;return e.__typename===l||t}),c=(()=>{var e,t;const a=[...$e].find(e=>"EGDSSearchFormLocationField"===e.__typename);return"EGDSSearchFormLocationField"===(null==a?void 0:a.__typename)&&"OpenTypeaheadAction"===(null==(e=null==a?void 0:a.action)?void 0:e.__typename)&&null!=(t=null==a?void 0:a.action.info.showCurrentLocation)&&t})()&&i?i:"",s={...e,lastSearchLatLong:it,setFieldRefByTypename:He,fieldError:o,autoOpen:E,...Qe&&{maxDateMessage:null==he?void 0:he.maxDateRangeErrorMessage},onClearLocation:ct,onProductSelect:lt,valueFromQueryParam:c,onSelection:st,flexibleContentConfig:{includeFlexibleCalendarContent:N,includeFlexibleDatesContent:M},popoverWidth:650,onOpenDatesField:Me,groupStaysLink:pe,...Qe?he:{},showCurrentLocation:Z,onOpenLocationField:ze,searchLocationAnalytics:null==de?void 0:de.analytics,searchLocationContent:null==de?void 0:de.content,gaiaId:Ae,dailyPriceInsightsConfig:Re,onFlexibleTabSelection:U,setTravelerSelectorErrorState:je,onType:Ne,retainSearch:Ee},d="SoftPackages"===l,u="EGDSSearchFormDatePickerField"===r.displayName&&(null==_e?void 0:_e.datePrefillImpression)?n.createElement(Sm,{data:_e.datePrefillImpression},n.createElement(r,{...s,data:t})):n.createElement(r,{...s,data:t}),m=d?ut:u,p=d?mt:l;return n.createElement(R.T,{area:p,key:`field_${p}_${a}`},n.createElement(I.w,{autoRows:["max-content"]},m))}))};return n.createElement(G.m,{ref:Q,id:xe,name:xe,method:"GET",action:dt,onFieldChange:(e,t)=>{var a,n,l;if(_){const n=Q.current?Array.from(null==(a=Q.current)?void 0:a.elements):[],l=Nl("LODGING",n);_(e,t,l)}b&&(null==(n=Q.current)||n.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))),"EGDSDateRangePicker"===e.name&&(null==x?void 0:x.onDateFieldChange)&&!b&&(null==(l=Q.current)||l.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))),ge(t=>{const{DESTINATION:a,TRAVELER_ROOM_SELECTOR:n,TRAVELER_BASIC_SELECTOR:l,TRAVEL_DATES:r,TRAVEL_DATES_FLEXIBLE:i}=Ip,{name:o,value:c}=e,s=o===r,d=o===i,u=o===n||o===l;if(!t)return null;if(!(s||u||o===a||d))return{...t};const{secondaries:m}=t,p=((e,t,a,n,l)=>{const r={__typename:"EGDSPlainText",accessibility:null,text:""};if(n.length>1){if(e){const e=Vt(l,V);return[{...r,text:e},n[1]]}if(a)return[n[0],{...r,text:l}];if(t)return[{...r,text:l},n[1]]}if(e){const e=Vt(l,V);return[{...r,text:e},n[0]]}return t?[{...r,text:l},n[0]]:a?[{...r,text:l}]:[...n]})(s,d,u,m,c);return{...t,secondaries:p}}),Ge(!0)},onSubmit:e=>{var t,a,n,l;te({...X});const r=Array.from(e.currentTarget.elements),{fieldsWithErrors:i,errorCount:o,isFormValid:c}=Je(r);if(K[null==(t=i[0])?void 0:t.__typename]&&(null==(a=null==p?void 0:p.errorSummary)?void 0:a.analytics)){const e=`${p.errorSummary.analytics.referrerId}.For.NoDestinationSubmit`;We(e,p.errorSummary.analytics.linkName)}if(!c||Ye)return te({fieldsWithErrors:Ye?[...i,{__typename:"EGDSSearchFormTravelersField",isValid:!1}]:i,errorCount:Ye?o+1:o,displayErrorSummary:!0,errorLinkReference:K[null!=(l=null==(n=i[0])?void 0:n.__typename)?l:"EGDSSearchFormTravelersField"]}),void e.preventDefault();if(S||A){const t=Nl("LODGING",r),a=Pp(new URLSearchParams(t))||void 0;S&&S(e,a),A&&(e.preventDefault(),Ue(new D.xy("SEARCH_FORM_NEXT_PAGE",{})),window.location.href=`${e.currentTarget.action}${t}${k?`&${k}`:""}`)}},hasRequiredFieldIndicator:!0},nt&&n.createElement(_t,{data:ie,errorCount:tt,inputErrorRef:at}),n.createElement(r.N,{margin:{blockstart:nt?"two":void 0}},n.createElement("div",null,n.createElement(d.LM,null,n.createElement(d.NP,null,Se?n.createElement(Go,{data:Se,display:Oe,onDisplayToggle:e=>{Ge(e),null==g||g(!e)}},pt(d.OB.SMALL)):pt(d.OB.SMALL)),n.createElement(d.rw,null,T?n.createElement(Be,null,pt(d.OB.MEDIUM)):pt(d.OB.MEDIUM)),n.createElement(d.zQ,null,T?n.createElement(Be,null,pt(d.OB.LARGE)):pt(d.OB.LARGE))))))};Wp.fragment=Bp,Wp.displayName="LodgingSearchForm";var wp={SEARCH_TOOLS_LODGING_SEARCH_FORM_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_LODGING_SEARCH_FORM_QUERY_FAILURE")},Up={linkName:"Lodging Search Form Fallback Presented",referrerId:"Web.Lodging.Search.Form.Fallback.Presented"},Hp={linkName:"Lodging Search Form Presented",referrerId:"Web.Hotels.Search.Form.Presented"},Vp=u.gql`
  query LodgingSearchFormQuery(
    $context: ContextInput!
    $pageLocation: PageLocation
    $propertySearchCriteriaInput: PropertySearchCriteriaInput
    $includePlayback: Boolean = false
    $features: [String!]
  ) {
    searchForm(context: $context, pageLocation: $pageLocation) {
      lodging(propertySearchCriteria: $propertySearchCriteriaInput, features: $features) {
        __typename
        ...LodgingSearchFormFragment
      }
    }
  }

  ${Wp.fragment}
`,qp=(e=>(e.PREFILL_PROPERTY_NAME="PREFILL_PROPERTY_NAME",e))(qp||{}),zp=e=>{var t,a,l,r,o,c,s,y,_,S,g,E,h,D,f;const{inputs:T,skipSsr:C,skipQuery:b=!1,fetchPolicy:I,batchKey:A,features:F,includePlayback:O,layout:k="IN_LINE",enableReflection:G,pageLocation:R,retainSearch:L}=e,{context:P}=(0,m.R)(),N=(0,p.useLoggerEvents)(wp),[M,x]=n.useState(b),B=[...F?[...F]:[]],$=B.length>0?B:void 0,W={...T,context:P,includePlayback:!!O,features:$,pageLocation:R},{data:w,error:U,loading:H,previousData:V}=(0,u.useQuery)(Vp,{context:{batchKey:A,shouldLogPerformance:!0},variables:W,ssr:!C,skip:M,...I?{fetchPolicy:I}:{}}),q=null!=w?w:V;if(n.useEffect(()=>{x(b&&!H)},[H,b]),H&&!q)return n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(ot,{rows:[{lineLength:"primary"},{lineLength:"primary"},{lineLength:"primary"}]})),n.createElement(d.rw,null,n.createElement(ot,{rows:[{lineLength:"primary"}]})));const z=null==(t=T.propertySearchCriteriaInput)?void 0:t.secondary,Y=null!=(o=null==(r=null==(l=null==(a=T.propertySearchCriteriaInput)?void 0:a.primary)?void 0:l.destination)?void 0:r.pinnedPropertyId)?o:void 0,K=z?{amenitiesFacilitiesGroup:null==(s=null==(c=null==z?void 0:z.selections)?void 0:c.find(e=>"amenities_facilities_group"===e.id))?void 0:s.value,locationGroup:null==(_=null==(y=null==z?void 0:z.selections)?void 0:y.find(e=>"location_group"===e.id))?void 0:_.value,propertiesGoodForGroup:null==(g=null==(S=null==z?void 0:z.selections)?void 0:S.find(e=>"properties_good_for_group"===e.id))?void 0:g.value,propertyTypeGroup:null==(h=null==(E=null==z?void 0:z.selections)?void 0:E.find(e=>"property_type_group"===e.id))?void 0:h.value}:void 0,j={...e,regionId:null!=(f=null==(D=T.propertySearchCriteriaInput)?void 0:D.primary.destination.regionId)?f:"",propertyRefinements:K,pinnedPropertyId:Y,skipQuery:M,layout:k,pageLocation:R,retainSearch:L};if(U||!q||"LodgingSearchForm"!==q.searchForm.lodging.__typename){const e={__typename:"LodgingSearchForm",egdsElementId:"lodging_search_form",actionURL:"/Hotel-Search",errorSummary:Sp,elements:[gp,Tp,Cp],search:bp,searchLocation:xr,playback:null,softPackages:null,adaptExSuccessEvent:null,hidePlayback:null,priceInsightsDailyConfig:null,groupStaysLink:null,valuePropMessage:null,searchFormAnalytics:null};return N.SEARCH_TOOLS_LODGING_SEARCH_FORM_QUERY_FAILURE.log({name:null==U?void 0:U.name,error:new Error(null==U?void 0:U.message)}),n.createElement(ze,null,n.createElement(v.IntersectionTracker,{...Up},G?n.createElement(i.tb,null,n.createElement(Wp,{...j,data:e})):n.createElement(Wp,{...j,data:e})))}return n.createElement(v.IntersectionTracker,{...Hp},G?n.createElement(i.tb,null,n.createElement(Wp,{...j,data:q.searchForm.lodging})):n.createElement(Wp,{...j,data:q.searchForm.lodging}))};zp.displayName="sharedui-LodgingSearchForm"}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/shopping-pwa/shared-ui-retail-search-tools-product.83cfbbedc253510413a1.js.map