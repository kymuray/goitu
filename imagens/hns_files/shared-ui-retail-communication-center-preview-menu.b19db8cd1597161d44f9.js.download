/*@license For license information please refer to shared-ui-retail-communication-center-preview-menu.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[9093],{4364:function(e,n,t){t.d(n,{t:function(){return je}});var i=t(56195),r=t(4611),a=t(72908),l=t(10554),o=t(64341),c=t(46559),u=t(49733),m=t(522),s=t(99828),d=t(37292),v=t(42534),f=t(27102),E=t(97778),p=t(85540),y=t(95519),g=t(80240),k=t(2557),b=t(87818),C=t(47958),I=t(50734),h=t(82319),N=t(18704),w=t(53017),x=t(58624),S=t(48138),_=t(1226),A=t(47540),T=t(9010),D=t(60156),O=t(24109),L=t(36145),z=t(74071),F=t(96112),P=t(63744),B=t(91056),M=t(87993);function U(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function R(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function $(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.forEach(function(n){R(e,n,t[n])})}return e}function G(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e}function j(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,r,a=[],l=!0,o=!1;try{for(t=t.call(e);!(l=(i=t.next()).done)&&(a.push(i.value),!n||a.length!==n);l=!0);}catch(c){o=!0,r=c}finally{try{l||null==t.return||t.return()}finally{if(o)throw r}}return a}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return U(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return U(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function J(){var e=H(["\n  fragment IconFragment on Icon {\n    title\n    description\n    id\n    token\n  }\n"]);return J=function(){return e},e}function V(){var e=H(["\n  fragment TertiaryButtonFragment on CommunicationCenterButton {\n    button {\n      ... on UITertiaryButton {\n        __typename\n        primary\n        accessibility\n        icon {\n          ...IconFragment\n        }\n        analytics {\n          eventType\n          linkName\n          referrerId\n        }\n      }\n    }\n    action {\n      ... on UILinkAction {\n        resource {\n          value\n        }\n      }\n    }\n  }\n  ","\n"]);return V=function(){return e},e}function X(){var e=H(["\n  fragment CommunicationCenterBannerFragment on CommunicationCenterBanner {\n    icon {\n      ...IconFragment\n    }\n    title\n    body\n    theme\n    action {\n      ...TertiaryButtonFragment\n    }\n  }\n\n  ","\n  ","\n"]);return X=function(){return e},e}function q(){var e=H(["\n  fragment EGDSStylizedTextFragment on EGDSStylizedText {\n    size\n    text\n    weight\n  }\n"]);return q=function(){return e},e}function W(){var e=H(["\n  fragment CommunicationCenterEmptyStateFragment on CommunicationCenterEmptyState {\n    __typename\n    title {\n      ...EGDSStylizedTextFragment\n    }\n    body {\n      ...EGDSStylizedTextFragment\n    }\n    image {\n      url\n      description\n    }\n    impressionAnalytics {\n      event\n      referrerId\n      linkName\n    }\n    emptyStateType\n    actions {\n      button {\n        ... on UIPrimaryButton {\n          __typename\n          primary\n          analytics {\n            linkName\n            referrerId\n          }\n        }\n      }\n      action {\n        ... on UILinkAction {\n          resource {\n            value\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return W=function(){return e},e}function K(){var e=H(["\n  fragment EGDSGraphicTextFragment on EGDSGraphicText {\n    graphic {\n      ...IconFragment\n    }\n    text\n  }\n  ","\n"]);return K=function(){return e},e}function Q(){var e=H(["\n  fragment NotificationsLinkFragment on EGDSStandardLink {\n    __typename\n    text\n    size\n    action {\n      resource {\n        value\n      }\n      analytics {\n        linkName\n        referrerId\n      }\n      accessibility\n    }\n  }\n"]);return Q=function(){return e},e}function Y(){var e=H(["\n  fragment NotificationsItemFragment on CommunicationCenterNotificationCard {\n    __typename\n    cardId\n    title {\n      ...EGDSStylizedTextFragment\n    }\n    body {\n      ...EGDSStylizedTextFragment\n    }\n    type\n    icon {\n      ...IconFragment\n    }\n    links {\n      ...NotificationsLinkFragment\n    }\n    impressionAnalytics {\n      event\n      referrerId\n      linkName\n    }\n    revealActions {\n      referrerId\n      linkName\n      eventType\n    }\n    userActions {\n      __typename\n      icon {\n        id\n        description\n      }\n      type\n      text {\n        size\n        text\n        weight\n      }\n      revealActions {\n        referrerId\n        linkName\n        eventType\n      }\n    }\n    timeStamp {\n      ...EGDSStylizedTextFragment\n    }\n    state\n    moreMenuButton {\n      __typename\n      accessibilityLabel\n    }\n  }\n  ","\n  ","\n  ","\n"]);return Y=function(){return e},e}function Z(){var e=H(["\n  mutation UpdateNotificationsInMenuMutation(\n    $contextInput: ContextInput!\n    $notificationIds: [String!]!\n    $state: CommunicationCenterNotificationState!\n  ) {\n    updateNotificationsState(context: $contextInput, notificationIds: $notificationIds, state: $state) {\n      notificationId\n      operationStatus\n    }\n  }\n"]);return Z=function(){return e},e}function ee(){var e=H(["\n  query CommunicationCenterPreviewQuery($context: ContextInput!, $optionalContext: OptionalContextInput) {\n    communicationCenterPreview(context: $context, optionalContext: $optionalContext) {\n      label {\n        ...EGDSStylizedTextFragment\n      }\n      notifications {\n        heading {\n          ...EGDSStylizedTextFragment\n        }\n        unseen\n        notifications {\n          ...NotificationsItemFragment\n        }\n        emptyState {\n          ...CommunicationCenterEmptyStateFragment\n        }\n        impressionAnalytics {\n          event\n          referrerId\n          linkName\n        }\n        clickToActionButton {\n          button {\n            ... on UIPrimaryButton {\n              primary\n              analytics {\n                linkName\n                referrerId\n              }\n            }\n          }\n          action {\n            ... on UILinkAction {\n              resource {\n                value\n              }\n            }\n          }\n        }\n        banner {\n          ...CommunicationCenterBannerFragment\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return ee=function(){return e},e}function ne(){var e=H(["\n  query CommunicationCenterPreviewMenuQuery($context: ContextInput!, $optionalContext: OptionalContextInput) {\n    communicationCenterEntryPoint(context: $context, optionalContext: $optionalContext) {\n      __typename\n      icon {\n        id\n        token\n        description\n      }\n      label\n      notificationUnseenCount\n      messageUnseenCount\n      defaultTab\n      clickAnalytics {\n        linkName\n        referrerId\n        eventType\n      }\n      impressionAnalytics {\n        event\n        referrerId\n        linkName\n      }\n    }\n  }\n"]);return ne=function(){return e},e}function te(){var e=H(["\n  query PreviewMenuGlobalHeaderQuery(\n    $context: ContextInput!\n    $viewSize: HeaderViewSize\n    $lineOfBusiness: GlobalNavigationLineOfBusiness\n    $layout: HeaderLayout\n    $marketing: HeaderMarketingInput\n    $minimal: Boolean = false\n    $theme: String\n  ) {\n    globalHeader(\n      context: $context\n      viewSize: $viewSize\n      lineOfBusiness: $lineOfBusiness\n      layout: $layout\n      marketing: $marketing\n      minimal: $minimal\n      theme: $theme\n    ) {\n      redDotState @client\n    }\n  }\n"]);return te=function(){return e},e}var ie,re=function(e){var n=(0,E.useClickTracker)(),t=e.unseen,r=e.unread,a=e.label,l=e.impressionAnalytics,o=e.clickAnalytics,c=e.clickAnalyticsForMessage,p=null==o?void 0:o.referrerId,y=null==o?void 0:o.linkName,g=null==c?void 0:c.referrerId,k=null==c?void 0:c.linkName,b=t+r>0,C=j(i.useState(b),2),I=C[0],h=C[1],N=null==l?void 0:l.referrerId,w=(null==l?void 0:l.linkName)||"";return i.createElement("a",{href:"/inbox/notifications"},i.createElement(v.N,{padding:{block:"three",inline:"six"}},i.createElement(d.i,{onClick:function(){h(!1),p&&y&&n(p,y,void 0,[]),g&&k&&n(g,k,void 0,[])}},i.createElement("button",{type:"button"},i.createElement(m.X,null,i.createElement(s.C,null,i.createElement(f.D,{size:300,theme:"standard"},a)),i.createElement(s.C,null,N&&i.createElement(E.IntersectionTracker,{referrerId:N,linkName:w},I&&i.createElement(u.z,{visible:!0}))))))))};re.displayName="sharedui-CommunicationCenterPreviewMenuLinkContent";var ae,le=(R(ie={},"BOLD","bold"),R(ie,"MEDIUM","medium"),R(ie,"REGULAR","regular"),ie),oe={100:100,200:200,300:300,400:400,500:500,600:600,700:700,800:800,900:900},ce=(R(ae={},"ONE_ONE",T.l.R1_1),R(ae,"FOUR_THREE",T.l.R4_3),R(ae,"SIXTEEN_NINE",T.l.R16_9),R(ae,"THREE_TWO",T.l.R3_2),R(ae,"THREE_FOUR",T.l.R3_4),R(ae,"TWENTY_ONE_NINE",T.l.R21_9),R(ae,"FOUR_ONE",T.l.R4_1),{error:"error",critical:"critical"}),ue=(0,r.J1)(J()),me=function(e){var n=e.data,t=e.isIconOnly,r=e.onClick,a=n.id,l={name:a,id:a,title:n.title||a,description:n.description||a};if(t)return i.createElement(k.LD,G($({},l),{size:k.So.MEDIUM}));return i.createElement(y.q,{tag:"a",href:"#",onClick:function(){r&&r()}},i.createElement(k.LD,$({},l)))};me.fragment=ue,me.displayName="Icon";var se=(0,r.J1)(V(),me.fragment),de=function(e){var n=e.data,t=e.buttonSize,r=e.inverse,a=e.onClick,l=e.disabled,o=e.tag,c=n.button,u=n.action,m=(0,E.useClickTracker)(),s=$({href:null==u?void 0:u.resource.value,size:t,disabled:l,inverse:r,onClick:function(){if("UITertiaryButton"===(null==c?void 0:c.__typename)&&c.analytics){var e=c.analytics,n=e.referrerId,t=e.linkName;m(n,t)}null==a||a()},tag:o,target:o?"_blank":""},"UITertiaryButton"===(null==c?void 0:c.__typename)&&(null==c?void 0:c.accessibility)?{"aria-label":c.accessibility}:{});return i.createElement(i.Fragment,null,"UITertiaryButton"===(null==c?void 0:c.__typename)&&i.createElement(y.q,G($({},s),{"data-stid":"tertiary-button"}),c.icon&&i.createElement(k.LD,{name:c.icon.id}),c.primary))};de.fragment=se,de.displayName="CommunicationCenterTertiaryButton";var ve=(0,r.J1)(X(),me.fragment,de.fragment),fe=function(e){var n=e.data,t=e.onBannerClick,r=e.onComponentMountCallback,a=e.isFlexLayout,l=n.action,o=n.body,u=n.icon,E=n.title,p=n.theme;(0,i.useEffect)(function(){r&&r()},[]);var y=function(){t&&t()},b=function(){var e,n;return o?i.createElement(x.O,{theme:ce[p]},i.createElement(m.X,{direction:"column"},i.createElement(s.C,null,i.createElement(f.D,{weight:"bold"},E)),i.createElement(s.C,null,i.createElement(f.D,{weight:"regular"},o)))):i.createElement(x.O,{theme:ce[p]},i.createElement(m.X,{direction:"column"},i.createElement(s.C,null,i.createElement(f.D,{weight:"medium"},E)),i.createElement(s.C,null,i.createElement(v.N,{padding:{blockend:"one",blockstart:"two"}},i.createElement(d.i,{theme:"default"},"UITertiaryButton"===(null==l||null===(e=l.button)||void 0===e?void 0:e.__typename)&&i.createElement("a",{href:null==l||null===(n=l.action)||void 0===n?void 0:n.resource.value,onClick:y},null==l?void 0:l.button.primary))))))};if(a){var C,I,h=i.createElement(d.i,{theme:"default",inline:!0},"UITertiaryButton"===(null==l||null===(C=l.button)||void 0===C?void 0:C.__typename)&&i.createElement("a",{href:null==l||null===(I=l.action)||void 0===I?void 0:I.resource.value,onClick:y},null==l?void 0:l.button.primary));return o&&(h=i.createElement(f.D,{weight:"medium"},o)),i.createElement(i.Fragment,null,n&&i.createElement(x.O,{theme:ce[p]},i.createElement(m.X,{alignItems:"center",space:"four"},i.createElement(S.p,null,i.createElement(k.LD,{name:u.id,description:u.description})),i.createElement(s.C,null,i.createElement("div",null,i.createElement(f.D,{weight:"bold"},E),h)))))}return i.createElement(i.Fragment,null,n&&i.createElement(c.LM,null,i.createElement(c.NP,null,b()),i.createElement(c.rw,null,b()),i.createElement(c.zQ,null,function(){var e;return o?i.createElement(x.O,{theme:ce[p]},i.createElement(m.X,{alignItems:"center",space:"two"},i.createElement(s.C,null,i.createElement("div",null,i.createElement(k.LD,{name:u.id,spotlight:{theme:"standard",background:!1}}))),i.createElement(s.C,null,i.createElement("div",null,i.createElement(f.D,{weight:"bold"},E),i.createElement(f.D,{weight:"regular"},o))))):i.createElement(x.O,{theme:ce[p]},i.createElement(_.w,{columns:["min-content","max-content","max-content"],areas:["icon text action"],alignItems:"center",space:{column:"four"}},i.createElement(A.T,{area:"icon"},i.createElement(k.LD,{name:u.id,description:u.description})),i.createElement(A.T,{area:"text"},i.createElement(f.D,null,E)),i.createElement(A.T,{area:"action"},"UITertiaryButton"===(null==l||null===(e=l.button)||void 0===e?void 0:e.__typename)&&i.createElement(de,{buttonSize:g.V.MEDIUM,data:l,onClick:y,inverse:!0}))))}())))};fe.displayName="CommunicationCenterBanner",fe.fragment=G($({},ve),{__typename:"CommunicationCenterBanner"});var Ee=(0,r.J1)(q());function pe(e,n){return e||(n?le[n]:void 0)}var ye=function(e){var n=e.spacing,t=e.overflow,r=e.weightOverride,a=e.align,l=e.theme,o=e.isStriked,c=e.data,u=e.ariaLabelText,m=c.size,s=c.text,d=c.weight,v={align:a,overflow:t,size:m?oe[m]:void 0,spacing:n,weight:pe(r,d),inline:o?"s":void 0,theme:l};return u?i.createElement(i.Fragment,null,i.createElement(f.D,{className:"is-visually-hidden"},u),i.createElement(f.D,G($({},v),{"aria-hidden":"true"}),s)):i.createElement(f.D,$({},v),s)};ye.fragment=Ee,ye.displayName="EGDSStylizedText";var ge=(0,r.J1)(W(),ye.fragment),ke=function(e){var n,t,r,a=e.data,l=a.title,o=a.body,c=a.image,u=a.actions,d=a.impressionAnalytics,f=a.emptyStateType,p=null==o?void 0:o[0],y=null==u||null===(n=u[0])||void 0===n?void 0:n.button,k=null==y?void 0:y.analytics,b=null==k?void 0:k.referrerId,C=null==k?void 0:k.linkName,I=null==d?void 0:d.referrerId,h=(null==d?void 0:d.linkName)||"",N=(0,E.useClickTracker)(),w=j(i.useState(null==u||null===(r=u[0])||void 0===r||null===(t=r.action)||void 0===t?void 0:t.resource.value),2),x=w[0],S=w[1];return i.useEffect(function(){var e,n;"SIGN_IN"===f&&S(function(e){var n="";if(null!==window.location){var t=window.location.pathname?window.location.pathname:"",i=window.location.search?window.location.search:"",r=window.location.hash?window.location.hash:"",a=t.concat(i,r);n="?&uurl=".concat(encodeURIComponent("e3id=redr&rurl=".concat(a)))}return e+n}(null==u||null===(n=u[0])||void 0===n||null===(e=n.action)||void 0===e?void 0:e.resource.value))},[u,f]),i.createElement(i.Fragment,null,I&&i.createElement(E.IntersectionTracker,{referrerId:I,linkName:h},i.createElement(m.X,{alignItems:"center",justifyContent:"center",direction:"column",blockSize:"full_size"},i.createElement(O.E,{padded:!1},i.createElement(v.N,{padding:{inlinestart:"four",inlineend:"four",blockend:"sixteen"}},i.createElement("div",null,i.createElement(s.C,{alignSelf:"center",grow:1,maxWidth:300},i.createElement("section",null,i.createElement(T.M,{imageFit:"contain"},i.createElement(L.F,{alt:null==c?void 0:c.description,src:null==c?void 0:c.url})),i.createElement(v.N,{padding:{blockstart:"four",blockend:"four"}},i.createElement(z.M,{align:"center",tag:"h1",size:5},null==l?void 0:l.text)),i.createElement(v.N,{padding:{blockstart:"four",blockend:"six"}},i.createElement("div",null,i.createElement(ye,{data:p,align:"center"}))),(null==y?void 0:y.primary)&&i.createElement(D.t,{tag:"a",href:x,size:g.V.LARGE,onClick:function(){b&&C&&N(b,C)}},null==y?void 0:y.primary)))))))))};ke.fragment=ge,ke.displayName="CommunicationCenterEmptyState";var be=(0,r.J1)(K(),me.fragment),Ce=function(e){var n=e.data,t=e.theme,r=n.graphic,a=n.text;return i.createElement(i.Fragment,null,"Icon"===r.__typename&&i.createElement(v.N,{margin:{blockstart:"two"}},i.createElement(k.LD,{theme:t,name:r.id,description:r.description})),i.createElement(v.N,{margin:{blockstart:"three"}},i.createElement(f.D,{theme:t},a)))};Ce.fragment=be,Ce.displayName="EGDSGraphicText";var Ie=function(e,n){var t=function(e){var t,i,r=null===(i=n.payload)||void 0===i||null===(t=i.notificationsList)||void 0===t?void 0:t.find(function(n){return n.cardId===e.cardId});return null!=r},i=function(n){return e.notificationsList.map(function(e){return t(e)?G($({},e),{state:n}):e})};switch(n.action){case 0:return G($({},e),{notificationsList:i("SEEN"),unseenCount:0});case 1:return G($({},e),{notificationsList:i("READ"),unseenCount:0});case 2:return G($({},e),{notificationsList:e.notificationsList.filter(function(e){return!t(e)}),unseenCount:0});default:return{notificationsList:[],unseenCount:0}}},he={notificationsList:[],unseenCount:0},Ne=(0,i.createContext)({state:he}),we=function(e){var n=e.notificationsList,t=e.unseenCount,r=e.children,a=j((0,i.useReducer)(Ie,G($({},he),{notificationsList:n,unseenCount:t})),2),l=a[0],o=a[1];return i.createElement(Ne.Provider,{value:{state:l,dispatch:o}},r||null)},xe=function(){return i.useContext(Ne)},Se=(0,i.createContext)({mutation:function(){},error:void 0,loading:!1}),_e=function(e){var n=e.mutationFunction,t=e.children,r=j((0,B.n)(n),2),a=r[0],l=r[1],o=l.error,c=l.loading;return i.createElement(Se.Provider,{value:(0,i.useMemo)(function(){return{mutation:a,error:o,loading:c}},[a,o,c])},t||null)},Ae=function(){return(0,i.useContext)(Se)},Te=(0,r.J1)(Q()),De=function(e){var n,t,r,a,l,c,u,m=e.notification,s=e.data,d=e.children,v=(null==s||null===(t=s.action)||void 0===t||null===(n=t.resource)||void 0===n?void 0:n.value)?null==s||null===(a=s.action)||void 0===a||null===(r=a.resource)||void 0===r?void 0:r.value:"#",f=null==s||null===(l=s.action)||void 0===l?void 0:l.analytics,p=null==f?void 0:f.referrerId,y=null==f?void 0:f.linkName,g=null==m||null===(u=m.links)||void 0===u||null===(c=u[0].action)||void 0===c?void 0:c.accessibility,k=(0,E.useClickTracker)(),b=(0,o.R)().context,C=Ae().mutation,I=xe().dispatch,h=null==m?void 0:m.cardId,N=null==m?void 0:m.state;return i.createElement("a",{href:v,target:"_blank",rel:"noopener",onClick:function(){p&&y&&k(p,y),"SEEN"===N&&(I({action:1,payload:{notificationsList:[m]}}),C({variables:{contextInput:b,notificationIds:[h],state:"READ"}}))}},d,i.createElement("span",{className:"is-visually-hidden"},g))};De.fragment=Te,De.displayName="NotificationsLink";var Oe=(0,r.J1)(Y(),me.fragment,ye.fragment,De.fragment),Le=function(e){var n,t,r,a,l,c,u,d,f,p,y,g,k,b,C,I=e.data,h=e.children,N=null==I||null===(n=I.impressionAnalytics)||void 0===n?void 0:n[0],w=null==N?void 0:N.referrerId,x=(null==N?void 0:N.linkName)||"",S=null==I||null===(r=I.links)||void 0===r||null===(t=r[0].action)||void 0===t?void 0:t.analytics,_=null==S?void 0:S.referrerId,A=null==S?void 0:S.linkName,T=null==I?void 0:I.cardId,D=null==I?void 0:I.state,L=(0,E.useClickTracker)(),B=(0,o.R)().context,M=Ae().mutation,U=xe().dispatch;return i.createElement(i.Fragment,null,w&&i.createElement(E.IntersectionTracker,{referrerId:w,linkName:x},i.createElement(m.X,null,i.createElement(s.C,{alignSelf:"start",grow:0},i.createElement(O.E,{padded:["blockstart","blockend","inlinestart"]},i.createElement(v.N,{margin:{blockstart:"two"}},i.createElement(F.v,{visible:"READ"!==I.state})))),i.createElement(s.C,{alignSelf:"start",grow:0},i.createElement(O.E,{padded:["blockstart","blockend","inlinestart"]},I.icon&&i.createElement(me,{data:I.icon,isIconOnly:!0}))),i.createElement(s.C,{grow:1},i.createElement(O.E,{padded:["blockstart","blockend","inlinestart"]},i.createElement(P.w,null,i.createElement("a",{href:(null===(c=I.links)||void 0===c||null===(l=c[0].action)||void 0===l||null===(a=l.resource)||void 0===a?void 0:a.value)?null===(f=I.links)||void 0===f||null===(d=f[0].action)||void 0===d||null===(u=d.resource)||void 0===u?void 0:u.value:"#",target:"_blank",rel:"noopener",onClick:function(){_&&A&&L(_,A),"SEEN"===D&&(U({action:1,payload:{notificationsList:[I]}}),M({variables:{contextInput:B,notificationIds:[T],state:"READ"}}))}},null===(p=I.title)||void 0===p?void 0:p.text)),(null===(y=I.title)||void 0===y?void 0:y.text)&&i.createElement(z.M,{tag:"h2",size:5},I.title.text),(null===(k=I.body)||void 0===k||null===(g=k[0])||void 0===g?void 0:g.text)&&i.createElement(v.N,{padding:{blockstart:"two"}},i.createElement("div",null,i.createElement(ye,{data:null===(b=I.body)||void 0===b?void 0:b[0],overflow:"truncate-3-lines",weightOverride:"READ"===I.state?"regular":"bold"}))),(null===(C=I.timeStamp)||void 0===C?void 0:C.text)&&i.createElement(v.N,{padding:{blockstart:"two"}},i.createElement("div",null,i.createElement(ye,{data:I.timeStamp}))))),i.createElement(s.C,null,i.createElement(O.E,{padded:["blockstart","blockend","inlineend"]},h)))))};Le.fragment=Oe,Le.displayName="NotificationsItem";var ze=(0,r.J1)(Z()),Fe=function(e){var n,t,r,a,l,c=e.heading,u=e.emptyState,d=e.clickToActionButton,f=e.impressionAnalytics,p=(0,o.R)().context,y=(0,E.useClickTracker)(),g=null==f||null===(n=f[0])||void 0===n?void 0:n.referrerId,k=(null==f||null===(t=f[0])||void 0===t?void 0:t.linkName)||"",C=null==f||null===(r=f[1])||void 0===r?void 0:r.referrerId,I=(null==f||null===(a=f[1])||void 0===a?void 0:a.linkName)||"",h=null==d?void 0:d.button,N=null==h?void 0:h.analytics,w=null==N?void 0:N.referrerId,x=null==N?void 0:N.linkName,S=xe().state,_=Ae().mutation;return i.useEffect(function(){var e,n,t=(null===(e=S.notificationsList)||void 0===e?void 0:e.filter(function(e){return"UNSEEN"===e.state}))||[],i=(null==(n=t)?void 0:n.map(function(e){return e.cardId||""}).filter(function(e){return""!==e}))||[];t&&t.length>0&&_({variables:{contextInput:p,notificationIds:i,state:"SEEN"}})},[S.notificationsList,p,_]),0===S.notificationsList.length?i.createElement(i.Fragment,null,i.createElement(O.E,{padded:!0,border:"bottom"},c&&i.createElement(z.M,{size:5,tag:"h1"},null==c?void 0:c.text)),i.createElement(v.N,{padding:{blockstart:"twelve"}},i.createElement("section",null,u&&i.createElement(ke,{data:u})))):i.createElement(i.Fragment,null,g&&i.createElement(E.IntersectionTracker,{referrerId:g,linkName:k},i.createElement(O.E,{padded:!0,border:"bottom"},c&&i.createElement(z.M,{size:5,tag:"h1"},null==c?void 0:c.text)),i.createElement("section",null,null===(l=S.notificationsList)||void 0===l?void 0:l.map(function(e,n){return i.createElement("div",{key:"notifications-cell-".concat(n),"data-stid":"notifications-cell"},i.createElement(v.N,{padding:{block:"half",inlinestart:"one",inlineend:"half"}},i.createElement("div",null,i.createElement(Le,{data:e}))))})),d&&h&&h.primary&&i.createElement(i.Fragment,null,C&&i.createElement(E.IntersectionTracker,{referrerId:C,linkName:I},i.createElement(b.P,{display:"block",position:{bottom:"zero"},type:"absolute",style:{width:"100%"}},i.createElement(O.E,{padded:!0,border:"top"},i.createElement(m.X,{justifyContent:"center"},i.createElement(s.C,null,i.createElement(M.y,{tag:"a",href:"/inbox/notifications",onClick:function(){w&&x&&y(w,x)}},h.primary)))))))))};Fe.displayName="CommunicationCenterPreviewMenuContent";var Pe=function(e){var n=e.data,t=e.errorBannerAction,r=n.notifications,a=null==r?void 0:r.heading,l=null==r?void 0:r.emptyState,o=null==r?void 0:r.clickToActionButton,c=null==r?void 0:r.notifications,u=null==r?void 0:r.impressionAnalytics,m=null==r?void 0:r.banner;return m?i.createElement(fe,{data:m,onBannerClick:function(){t&&t()},isFlexLayout:!0}):i.createElement(we,{notificationsList:c||[],unseenCount:0},i.createElement(_e,{mutationFunction:ze},i.createElement(Fe,{heading:a,emptyState:l,clickToActionButton:o,impressionAnalytics:u})))};Pe.displayName="sharedui-CommunicationCenterPreviewMenuContentWithContext";var Be=(0,r.J1)(ee(),ye.fragment,ke.fragment,Le.fragment,fe.fragment),Me=function(e){var n,t=(0,o.R)().context,r=(0,E.useClickTracker)(),a=e.unseen,l=e.unread,c=e.icon,d=e.impressionAnalytics,v=e.clickAnalytics,f=null==v?void 0:v.referrerId,x=null==v?void 0:v.linkName,S=j(i.useState(!1),2),_=S[0],A=S[1],T=a+l>0,D=j(i.useState(T),2),O=D[0],L=D[1],z=j(i.useState(!1),1)[0],F=null==d?void 0:d.referrerId,P=(null==d?void 0:d.linkName)||"",B=(0,w.useExperiment)("Shared_UI_Remove_Deprecated_UITK_Nav_Button").exposure.bucket>0,M=j((0,p._)(Be,{variables:{context:t,optionalContext:{dropdownView:!0}},ssr:!1}),2),U=M[0],R=M[1],$=R.called,G=R.loading,H=R.data,J=R.error,V=R.refetch,X=B?"uitk-button-only-icon":"uitk-button-only-icon global-navigation-nav-button";return i.createElement(s.C,{minWidth:"zero",grow:0},i.createElement(I.p,{isOpen:_,onTriggerClick:function(){A(!_),a<4&&L(!1),$||U({context:t}),!_&&f&&x&&r(f,x,void 0,[])},disableBodyClickHandler:z},i.createElement(h.N,null,i.createElement(y.q,{className:X,size:g.V.LARGE},i.createElement(b.P,{display:"inline-block",type:"relative"},i.createElement(k.LD,{name:c.id,size:k.So.LARGE,id:"".concat(c.id,"-icon"),title:null!==(n=c.description)&&void 0!==n?n:""}),i.createElement(b.P,{cloneElement:!0,position:{right:"zero",top:"zero"},type:"absolute"},i.createElement(b.P,{cloneElement:!0,position:{right:"zero",top:"zero"},type:"absolute"},F&&i.createElement(E.IntersectionTracker,{referrerId:F,linkName:P},O&&i.createElement(u.z,{visible:!0}))))))),i.createElement(N.K,{position:N.C.RIGHT,width:375,maxHeight:576},i.createElement("div",{style:{height:576},role:"menu"},(G||J)&&i.createElement(m.X,{justifyContent:"center",alignItems:"center",direction:"column",blockSize:"full_size"},i.createElement(s.C,null,i.createElement(C.v,null))),!G&&!J&&H&&H.communicationCenterPreview&&i.createElement(Pe,{data:H.communicationCenterPreview,errorBannerAction:V})))))};Me.displayName="sharedui-CommunicationCenterPreviewMenuContentWrapper";var Ue=function(e){var n,t=(0,E.useClickTracker)(),r=e.unseen,a=e.unread,l=e.icon,o=e.impressionAnalytics,c=e.clickAnalytics,m=e.clickAnalyticsForMessage,s=null==c?void 0:c.referrerId,d=null==c?void 0:c.linkName,v=null==m?void 0:m.referrerId,f=null==m?void 0:m.linkName,p=r+a>0,C=j(i.useState(p),2),I=C[0],h=C[1],N=null==o?void 0:o.referrerId,x=(null==o?void 0:o.linkName)||"",S=(0,w.useExperiment)("Shared_UI_Remove_Deprecated_UITK_Nav_Button").exposure.bucket>0?"uitk-button-only-icon":"uitk-button-only-icon global-navigation-nav-button";return i.createElement("a",{href:"/inbox/notifications"},i.createElement(y.q,{className:S,size:g.V.LARGE,onClick:function(){h(!1),s&&d&&t(s,d,void 0,[]),v&&f&&t(v,f,void 0,[])}},i.createElement(b.P,{display:"inline-block",type:"relative"},i.createElement(k.LD,{name:l.id,size:k.So.LARGE,id:"".concat(l.id,"-icon"),title:null!==(n=l.description)&&void 0!==n?n:""}),i.createElement(b.P,{cloneElement:!0,position:{right:"zero",top:"zero"},type:"absolute"},i.createElement(b.P,{cloneElement:!0,position:{right:"zero",top:"zero"},type:"absolute"},N&&i.createElement(E.IntersectionTracker,{referrerId:N,linkName:x},I&&i.createElement(u.z,{visible:!0})))))))};Ue.displayName="CommunicationCenterPreviewMenuIconContent";var Re=function(e){var n=e.unseen,t=e.unread,r=e.icon,a=e.impressionAnalytics,l=e.clickAnalytics,o=e.clickAnalyticsForMessage;return e.isPreviewMenuView?i.createElement(Me,{unseen:n||0,unread:t||0,icon:r,impressionAnalytics:a,clickAnalytics:l}):i.createElement(Ue,{unseen:n||0,unread:t||0,icon:r,impressionAnalytics:a,clickAnalytics:l,clickAnalyticsForMessage:o})};Re.displayName="CommunicationCenterPreviewMenuWrapper";var $e=(0,r.J1)(ne()),Ge=(0,r.J1)(te()),je=function(e){var n,t,r,u=e.inputs,m=e.skipSsr,s=e.isPreviewMenuView,d=void 0!==s&&s,v=e.messageCountEnabled,f=void 0!==v&&v,E=u.lineOfBusiness,p=u.viewSize,y=(0,o.R)().context,g=(0,a.m)(),k=G($({},u),{context:y,optionalContext:{messageCountEnabled:f}}),b=(0,l.I)($e,{variables:k,ssr:m,onCompleted:function(e){var n,t,i,r,a;(null!==(r=null==e||null===(n=e.communicationCenterEntryPoint)||void 0===n?void 0:n.notificationUnseenCount)&&void 0!==r?r:0)+(null!==(a=null==e||null===(t=e.communicationCenterEntryPoint)||void 0===t?void 0:t.messageUnseenCount)&&void 0!==a?a:0)>0&&"AUTHENTICATED"===(null==y||null===(i=y.identity)||void 0===i?void 0:i.authState)&&g.writeQuery({query:Ge,data:{globalHeader:{redDotState:"VISIBLE"}},variables:{context:y,viewSize:p,lineOfBusiness:E,minimal:!1,theme:null}})}}),C=b.data,I=b.error;if(b.loading||I||!C)return null;var h=null==C?void 0:C.communicationCenterEntryPoint,N=null==h?void 0:h.label,w=null==h?void 0:h.icon,x=null==h?void 0:h.notificationUnseenCount,S=null==h?void 0:h.messageUnseenCount,_=null==h||null===(n=h.impressionAnalytics)||void 0===n?void 0:n[0],A=null==h||null===(t=h.clickAnalytics)||void 0===t?void 0:t[0],T=null==h||null===(r=h.clickAnalytics)||void 0===r?void 0:r[1];return i.createElement(c.LM,null,i.createElement(c.rw,null,i.createElement(Re,{isPreviewMenuView:d,unseen:x||0,unread:S||0,icon:w,impressionAnalytics:_,clickAnalytics:A,clickAnalyticsForMessage:T})),i.createElement(c.NP,null,i.createElement(re,{unseen:x||0,unread:S||0,label:N||"",impressionAnalytics:_,clickAnalytics:A,clickAnalyticsForMessage:T})))};je.displayName="sharedui-CommunicationCenterPreviewMenu"}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/shopping-pwa/shared-ui-retail-communication-center-preview-menu.b19db8cd1597161d44f9.js.map