/*@license For license information please refer to shared-ui.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3211],{26690:function(e,t,n){n.r(t),n.d(t,{ApolloClient:function(){return o.R},ApolloError:function(){return l.K4},ApolloLink:function(){return c.C},ApolloProvider:function(){return s.X},InMemoryCache:function(){return u.D},MockLink:function(){return b.B},MockedProvider:function(){return S.x},NetworkStatus:function(){return d.pT},Observable:function(){return m.c},cloneDeep:function(){return I.m},createHttpLink:function(){return p.$},getOperationName:function(){return _.n4},gql:function(){return f.J1},makeVar:function(){return g.UT},useApolloClient:function(){return y.m},useLazyQuery:function(){return v._},useMutation:function(){return E.n},useQuery:function(){return C},useReactiveVar:function(){return h.q}});var r=n(56195),a=n(10554),i=n(68478),o=n(8719),l=n(10818),c=n(52755),s=n(4700),u=n(47310),d=n(26190),m=n(33398),p=n(98288),f=n(4611),g=n(58953),y=n(72908),v=n(85540),E=n(91056),h=n(6782),b=n(26130),S=n(63429),I=n(58762),_=n(30753),k=e=>{var t,n,r;let a;try{a=(null==(r=null==(n=null==(t=null==e?void 0:e.definitions)?void 0:t.find(e=>"OperationDefinition"===(null==e?void 0:e.kind)&&"name"in e))?void 0:n.name)?void 0:r.value)||"UnknownOperation"}catch(i){a="UnknownOperation"}return a.replace(/query$/i,"")};function C(e,t=Object.create(null)){var n;const o=Boolean(null==(n=null==t?void 0:t.context)?void 0:n.shouldLogPerformance)&&!(null==t?void 0:t.skip),l=r.useRef(o?0:5),c=r.useMemo(()=>Math.random().toString(36).slice(2),[]),s=k(e),{trackEvent:u}=(0,i.VF)({componentId:c,componentName:s});l.current<1&&(u("componentStart"),l.current=1);const d=(0,a.I)(e,t),{loading:m,error:p,data:f}=d;return r.useEffect(()=>{try{m||!f||p||(l.current<2&&(u("componentContentReady"),l.current=2),l.current<3&&(u("componentReadyForInteraction"),l.current=3)),p&&l.current<3&&(u("componentFailed",{error:p,attributes:{event:"COMPONENT_FAILED",type:p.name||"UnknownError",source:p.networkError?"network":"custom"}}),l.current=4)}catch(e){}},[m,p,f,u]),d}},66868:function(e,t,n){n.r(t),n.d(t,{typePolicies:function(){return m}});var r=Object.defineProperty,a=Object.defineProperties,i=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,s=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&s(e,n,t[n]);if(o)for(var n of o(t))c.call(t,n)&&s(e,n,t[n]);return e},d=(e,t)=>a(e,i(t)),m={CommunicationCenterQuery:{merge:!0},Customer:{merge:!0},FlightsSearchResponse:{merge:!0},BookingServiceDetails:{merge:!0},FlightsInformationResponse:{merge:!0,fields:{flightsSelectedJourneyDetails:{merge(e,t,{mergeObjects:n}){return e?t?e.map((e,r)=>n(e,t[r])):e:t}}}},Header:{merge:!0,fields:{redDotState:{read(e="NOT_VISIBLE"){return e}}}},Icon:{keyFields:!1},Mark:{keyFields:!1},Illustration:{keyFields:!1},MultiItemDetailsQuery:{merge:!0},NotificationQuery:{merge:!0},InlineNotification:{keyFields:["type","notificationLocation"]},PreBundledPackageEntryQueries:{merge:!0},PropertyInfo:{merge:!0},ShoppingSortAndFilterSection:{keyFields:!1},SortAndFilterSignalEmitter:{keyFields:!1},SortAndFilterSignalReceiver:{keyFields:!1},BookingServicingLodgingSearchSection:{keyFields:!1},Query:{fields:{globalHeader:{merge:!0},activityReviews:{keyArgs:["context","activityId","selections"],merge(e,t,{mergeObjects:n}){var r,a,i,o,l,c;if(!e)return t;if(!t)return e;const s=n(e,t);return d(u({},s),{comments:[...null!=(r=null==e?void 0:e.comments)?r:[],...null!=(a=null==s?void 0:s.comments)?a:[]],reviewsDialog:d(u({},s.reviewsDialog),{comments:[...null!=(o=null==(i=e.reviewsDialog)?void 0:i.comments)?o:[],...null!=(c=null==(l=null==s?void 0:s.reviewsDialog)?void 0:l.comments)?c:[]]})})}},propertySearch:{keyArgs:["context","criteria","productShoppingCriteriaInput"],merge(e,t,{mergeObjects:n}){return e?t?n(e,t):e:t}},supplyProgramsEnrollment:{keyArgs:["context","program"],merge(e,t,{mergeObjects:n}){return e?t?n(e,t):e:t}},cruiseSearch:{keyArgs:["context","cruiseContext","searchInput","sortBy","sortOrder"],merge(e,t,{mergeObjects:n}){return e?t?n(e,t):e:t}},landingDiscoveryModule:{keyArgs:["discoveryContext"],merge(e,t,{mergeObjects:n}){return e?t?n(e,t):e:t}},landingFlightQuickDates:{keyArgs:["context","uriContext"],merge(e,t,{mergeObjects:n}){return e?t?n(e,t):e:t}},propertyOffers:{keyArgs:["context","searchCriteria","shoppingContext"],merge(e,t,{mergeObjects:n}){return e?t?n(e,t):e:t}},cruiseRates:{keyArgs:["cruiseRequestContextInput","orderSummaryRatesInput","pageDataInput",["selectedRateIndex","ratesInfo",["offerToken"]]]},flightsSearch:{keyArgs:["journeyCriteria","flightsSearchContext","searchFilterValuesList","queryState","searchPreferences","sortOption","travelerDetails","rewardsOption"],merge(e,t,{args:n}){var r,a,i,o,l,c;if(!(null==(r=null==e?void 0:e.listingResult)?void 0:r.listings))return t;if(!(null==(a=null==t?void 0:t.listingResult)?void 0:a.listings))return e;return e&&t?d(u({},e),{listingResult:d(u({},e.listingResult),{listings:[...e.listingResult.listings,...t.listingResult.listings],listingsAction:t.listingResult.listingsAction,moreListingsAvailable:t.listingResult.moreListingsAvailable,flightsListingsAnalytics:d(u(u({},null==(i=e.listingResult)?void 0:i.flightsListingsAnalytics),null==(o=t.listingResult)?void 0:o.flightsListingsAnalytics),{fareCalendarAnalytics:null==(c=null==(l=t.listingResult)?void 0:l.flightsListingsAnalytics)?void 0:c.fareCalendarAnalytics})})}):t}}}},CruiseOrderSummaryRatesInfo:{keyFields:["rateInfo",["offerToken"]],merge:!0},CruiseSearchFilters:{merge:!0},SearchFormResults:{merge(e,t,{mergeObjects:n}){return e?t?n(e,t):e:t}},PackagesSearchFormSelection:{merge:!0},SailingSearchResults:{merge(e,t,{mergeObjects:n,args:r}){var a,i,o,l;const c=(null==r?void 0:r.offset)||0;if(!e)return t;if(!t)return e;const s=n(e,t),m=u(u({},e.sailings),t.sailings),p=(null==(a=e.sailings)?void 0:a.sailingList)?null==(i=e.sailings)?void 0:i.sailingList.slice(0):[];for(let u=0;u<(null==(l=null==(o=t.sailings)?void 0:o.sailingList)?void 0:l.length);u+=1)p[c+u]=t.sailings.sailingList[u];return d(u({},s),{sailings:d(u({},m),{sailingList:p})})}},TransportationSearchResponse:{merge:!0},FlightsServicingResponse:{merge:!0},Trips:{merge:!0},Trip:{merge:!0},OfferDetails:{keyFields:!1},SingleUnitOfferDetails:{keyFields:!1},ShoppingSelectableFilterOption:{keyFields:!1},ActivitySelectedValue:{keyFields:["id","value"]},ActivityOffer:{keyFields:["id","name","availableTime",["day"],"travelerSelectorDialog"]},ActivityTravelerSelectorDialog:{keyFields:!1},ActivityOfferMultiSelectionOption:{keyFields:!1},ActivityInfo:{merge:!0},SupplyScoreDetails:{merge:!0},PropertyNaturalKey:{keyFields:!1},PropertyUnit:{keyFields:!1},RatePlan:{keyFields:!1},RatePlanAmenity:{keyFields:!1},Console:{merge:!0},SelectedValue:{keyFields:["id","value"]},ShoppingTextInputField:{keyFields:!1},ShoppingStepInputField:{keyFields:!1},ShoppingRangeTextInputField:{keyFields:!1},VirtualAgentControlInboundMessageGroup:{keyFields:!1},VacLite:{keyFields:!1},PropertyReview:{keyFields:["id","text","highlightedText"]},DirectFeedbackPrompt:{merge:!0},HelpArticlesResultsView:{merge:!0},ContactUsView:{merge:!0,fields:{contactUsOptionsView:{merge(e,t,{mergeObjects:n}){return"ContactUsErrorView"===t.__typename?e:n(e,t)}},speakNextAvailableAgentView:{merge(e,t,{mergeObjects:n}){return"ContactUsErrorView"===t.__typename?e:n(e,t)}},emailUsFormView:{merge(e,t,{mergeObjects:n}){return"ContactUsErrorView"===t.__typename?e:n(e,t)}}}},LoyaltyRewardsResults:{merge:!0},EGDSBasicTriggerPill:{keyFields:!1},EGDSBasicRemovablePill:{keyFields:!1},ShoppingRangeFilterOption:{keyFields:!1},RangeValue:{keyFields:!1},ClientSideAnalytics:{keyFields:!1},ActivitySortAndFilterField:{keyFields:!1},LodgingCard:{keyFields:!1},LodgingPropertyCompare:{merge:!0},BookingServicingCancelHeadsUp:{merge:!0},EGDSCardCarouselItem:{keyFields:!1},ActivitySearchResults:{merge:!0},GenericDiscoveryCard:{keyFields:!1},TripsUIItemCardVoteActionCount:{keyFields:["action",["itemId"]]},TripsUIItemCardCommentActionCount:{keyFields:["trigger",["id"]]},TripsUIComments:{keyFields:["postCommentSection",["postButton",["primer",["itemId"]]]]},TripsUIPageHeaderResponse:{merge:!0},SupplyPartnerSelectResponse:{merge:!0,fields:{summary:{keyArgs:!1,merge(e,t){return e?t&&e.cardsNextPageToken!==t.cardsNextPageToken?d(u({},t),{cards:[...e.cards||[],...t.cards||[]]}):e:t}}}},SupplyPartnerCardDetail:{keyFields:["secondary"]},SupplyPropertyFilterSection:{merge:!0,fields:{filteredPropertiesSummary:{keyArgs:!1,merge(e,t){return e?t&&e.propertiesNextPage!==t.propertiesNextPage?d(u({},t),{associatedProperties:[...e.associatedProperties||[],...t.associatedProperties||[]]}):e:t}}}},ShoppingMultiSelectionField:{keyFields:!1},ShoppingMutexField:{keyFields:!1},VirtualAgentIntentValue:{keyFields:!1},BookingServicingSearchPresentation:{merge:!0},TripsUIPrimerQuery:{merge:!0},CheckoutDetails:{merge:!0},ProductReviewDetails:{merge:!0},ProductReview:{keyFields:["id","review"]},ReviewSection:{keyFields:["text","highlightedText"]},AllInclusiveVacationsSearchFormResults:{merge:!0},EGDSPriceCalendar:{merge:!0,fields:{calendarPrices:{merge(e,t){return(null==t?void 0:t.some(e=>"-"!==(null==e?void 0:e.label)))?t:e}}}}}},64341:function(e,t,n){n.d(t,{R:function(){return o},f:function(){return i}});var r=n(56195),a=r.createContext({context:{}}),i=function(e){var t=e.children,n=e.context,i=r.useMemo(function(){return{context:n}},[n]);return r.createElement(a.Provider,{value:i},t)};i.displayName="BexApiProvider";var o=function(){return r.useContext(a)}},41891:function(e,t,n){n.d(t,{j:function(){return o},P:function(){return l}});var r=n(56195),a={getIcon:function(e){return null},getIconPath:function(e){return null}},i=r.createContext(a),o=function(e){return r.createElement(i.Provider,{value:e.config||a},e.children)};o.displayName="BrandProvider";var l=function(){return r.useContext(i)}},83431:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(63812),t),a(n(55070),t),a(n(52314),t)},63812:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.referrerMapper=void 0;t.referrerMapper=function(e,t,n){return void 0===n&&(n="click"),{schemaName:"referrer",messageContent:{referrerId:e,linkName:t,eventType:n}}}},55070:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.IntersectionTrackerTags=void 0;t.IntersectionTrackerTags=new Map([["article","article"],["aside","aside"],["div","div"],["span","span"],["footer","footer"],["header","header"],["section","section"],["ul","ul"],["ol","ol"],["li","li"]])},52314:function(e,t){var n=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(l){a={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o},r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.uisMicroMessagesAggregator=void 0;t.uisMicroMessagesAggregator=function(e,t){return Array.isArray(t)&&t.length?r([e],n(t),!1):e}},97778:function(e,t,n){n.r(t),n.d(t,{ClickstreamAnalyticsProvider:function(){return c},EgClickstreamImpressionTracker:function(){return f},ITrackType:function(){return r},IntersectionTimeTracker:function(){return k},IntersectionTracker:function(){return O},IntersectionTrackerTags:function(){return v},useClickTracker:function(){return P},useClickstreamAnalytics:function(){return s},useEgClickstream:function(){return g},useIntersectionObserver:function(){return m}});var r,a=n(56195);!function(e){e.PAGE_VIEW="pageView",e.EVENT="event",e.TIMING="timing"}(r||(r={}));var i=function(){},o={track:i,reset:i},l=a.createContext(o),c=function(e){var t=e.clickstreamAnalytics,n=e.children;return a.createElement(l.Provider,{value:t},n)};c.displayName="ClickstreamAnalyticsProvider";var s=function(){return a.useContext(l)},u=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(l){a={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o},d=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};function m(e,t,n){void 0===t&&(t={}),void 0===n&&(n=[]);var r=(0,a.useRef)(null),i=(0,a.useRef)(e);i.current=e;var o=t.root,l=t.rootMargin,c=t.threshold,s=t.triggerOnce,m=(0,a.useCallback)(function(e){var n;if(null===(n=r.current)||void 0===n||n.disconnect(),null!==e){r.current=new IntersectionObserver(function(e,n){i.current(e,n),t.triggerOnce&&n.disconnect()},{root:o,rootMargin:l,threshold:c}),r.current.observe(e)}else r.current=null},d([o,l,c,s],u(n),!1));return(0,a.useMemo)(function(){return[m]},[m])}var p=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(l){a={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o},f=function(e){var t=e.eventData,n=e.trackOnce,i=void 0===n||n,o=e.intersectionOptions,l=e.deps,c=e.children,u=s().track,d=p(m(function(e,n){p(e,1)[0].isIntersecting&&(u(r.EVENT,{data:t,config:{isEgClickstream:!0}}),i&&n.disconnect())},o,l),1)[0];return c?a.createElement("div",{ref:d},c):null};f.displayName="EgClickstreamImpressionTracker";var g=function(){var e=s().track;return(0,a.useCallback)(function(t){e(r.EVENT,{data:t,config:{isEgClickstream:!0}})},[e])},y=function(e,t,n){return void 0===n&&(n="click"),{schemaName:"referrer",messageContent:{referrerId:e,linkName:t,eventType:n}}},v=new Map([["article","article"],["aside","aside"],["div","div"],["span","span"],["footer","footer"],["header","header"],["section","section"],["ul","ul"],["ol","ol"],["li","li"]]),E=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(l){a={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o},h=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},b=function(e,t){return Array.isArray(t)&&t.length?h([e],E(t),!1):e},S=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(l){a={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o};function I(){var e=S((0,a.useState)(!0),2),t=e[0],n=e[1],r=(0,a.useCallback)(function(){return n(!document[void 0!==document.msHidden?"msHidden":void 0!==document.webkitHidden?"webkitHidden":"hidden"])},[n]);return(0,a.useEffect)(function(){var e=function(){if(void 0!==document.msHidden)return"msvisibilitychange";if(void 0!==document.webkitHidden)return"webkitvisibilitychange";return"visibilitychange"}();return window.addEventListener(e,r,!1),function(){window.removeEventListener(e,r)}},[r]),t}var _=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(l){a={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o},k=function(e){var t,n=e.referrerId,i=e.linkName,o=e.additionalUisPrimeMicroMessages,l=e.delay,c=e.className,u=e.trackOnce,d=void 0===u||u,p=e.intersectionOptions,f=e.minTime,g=void 0===f?0:f,E=e.tag,h=e.children,S=s().track,k=_((t=(0,a.useRef)(null),[function(){return Boolean(t.current)},function(){t.current=(new Date).getTime()},function(){if(t.current){var e=(new Date).getTime()-t.current;return t.current=null,e}}]),3),C=k[0],O=k[1],P=k[2],T=(0,a.useRef)(),D=(0,a.useRef)(),x=I(),w=E&&v.get(E)||v.get("div"),A=function(){if(C()){var e=P();void 0!==e&&e>=g&&(S(r.EVENT,{data:b(y("".concat(n,".").concat(e),i,"impression"),o),config:{delay:l}}),d&&(D.current&&D.current.disconnect(),T.current=void 0))}};T.current&&(!x&&C()?A():x&&!C()&&O());var N=_(m(function(e,t){var n=_(e,1)[0];T.current=n.isIntersecting,D.current=t,n.isIntersecting||A(),n.isIntersecting&&O()},p),1)[0];return(0,a.useEffect)(function(){return function(){A()}},[]),a.createElement(w,{ref:N,className:c},h)};k.displayName="IntersectionTimeTracker";var C=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(l){a={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o},O=function(e){var t,n=e.referrerId,i=e.linkName,o=e.additionalUisPrimeMicroMessages,l=e.delay,c=e.className,u=e.trackOnce,d=void 0===u||u,p=e.intersectionOptions,f=e.tag,g=e.deps,E=e.cloneElement,h=e.refAttrForCloneElement,S=void 0===h?"ref":h,I=e.children,_=s().track,k=C(m(function(e,t){C(e,1)[0].isIntersecting&&(_(r.EVENT,{data:b(y(n,i,"impression"),o),config:{delay:l}}),d&&t.disconnect())},p,g),1)[0];if(!I)return null;if(E){var O=a.Children.toArray(I)[0];return a.cloneElement(O,((t={})[S]=k,t.className=c,t))}var P=f&&v.get(f)||v.get("div");return a.createElement(P,{ref:k,className:c},I)};O.displayName="IntersectionTracker";var P=function(){var e=s().track;return function(t,n,a,i){e(r.EVENT,{data:b(y(t,n),i),config:{delay:a}})}}},2672:function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}n.d(t,{AI:function(){return b},C1:function(){return E},fq:function(){return S},vp:function(){return h}});var i=Object.defineProperty,o=Object.defineProperties,l=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&d(e,n,t[n]);if(c)for(var n of c(t))u.call(t,n)&&d(e,n,t[n]);return e},p=(e,t)=>o(e,l(t)),f="RUM_PROXY",g=e=>e.name.startsWith(f),y=e=>void 0!==e.componentId,v=(e,t)=>e.filter(e=>e.componentId===t),E=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.trackers=t,this.handlePerformanceObserver=e=>{const t=performance.getEntries().filter(g).map(({detail:e})=>e);for(const n of e.getEntries())if(n.name.startsWith(f)){const{detail:e}=n;this.trackers.forEach(n=>{n.trackEvent(e,y(e)?v(t,e.componentId):t)})}},this.performanceObserver=new PerformanceObserver(this.handlePerformanceObserver),this.performanceObserver.observe({type:"mark"})},(t=[{key:"trackEvent",value:function(e){this.performanceObserver&&performance.mark(`${f}::${e.type}`,{detail:e,startTime:e.timestamp})}},{key:"disconnect",value:function(){var e;null==(e=this.performanceObserver)||e.disconnect(),this.performanceObserver=void 0}}])&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),h=()=>({trackEvent:e=>{const t=p(m({},e.attributes),{componentType:e.componentType,componentName:e.componentName,componentId:e.componentId,startTime:e.timestamp}),n=void 0!==window.DD_RUM?window.DD_RUM:null;switch(e.type){case"componentStart":null==n||n.addAction("COMPONENT_START",t);break;case"componentReadyForInteraction":null==n||n.addAction("COMPONENT_READY_FOR_INTERACTION",t);break;case"componentContentReady":null==n||n.addAction("COMPONENT_CONTENT_READY",t);break;case"componentFailed":null==n||n.addError(e.error,t)}}}),b=()=>{const e=new Map;return{trackEvent:t=>{const{attributes:n,componentId:r,componentName:a,componentType:i}=t,o=p(m({},n),{componentId:r,componentName:a,componentType:i,error:"componentFailed"===t.type?t.error.message:void 0}),l=void 0!==window.DD_RUM?window.DD_RUM:null;switch(t.type){case"componentStart":e.set(r,t);break;case"componentFailed":case"componentReadyForInteraction":{const n=e.get(r);n&&(null==l||l.addDurationVital(a,{context:o,duration:t.timestamp-n.timestamp,startTime:n.timestamp+performance.timeOrigin}),e.delete(r));break}}}}},S=()=>({trackEvent:e=>{const t=p(m({},e.attributes),{startTime:e.timestamp}),n=void 0!==window.DD_RUM?window.DD_RUM:null;switch(e.type){case"action":null==n||n.addAction(e.action,t);break;case"error":null==n||n.addError(e.error,t);break;case"globalContextUpdate":null==n||n.setGlobalContextProperty(e.key,e.value);break;case"startDuration":null==n||n.startDurationVital(e.name,{context:t});break;case"stopDuration":null==n||n.stopDurationVital(e.name);break;case"timing":null==n||n.addTiming(e.name,e.timestamp+performance.timeOrigin)}}})},96895:function(e,t,n){n.d(t,{D4:function(){return i},DH:function(){return o}});var r,a=n(56195),i=null!=(r=a.useId)?r:()=>a.useMemo(()=>Math.random().toString(36).substring(7),[]),o=()=>{const e="function"==typeof a.startTransition,[t,n]=(()=>{var e,t;const n=null==(t=(e=a).useTransition)?void 0:t.call(e);return n||[!1,e=>{setTimeout(e,0)}]})();return[t,t=>{e?n(()=>{t()}):setTimeout(()=>{t()},0)}]}},68478:function(e,t,n){n.d(t,{VF:function(){return g},eS:function(){return y},mH:function(){return f}});var r=n(56195),a=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&u(e,n,t[n]);if(l)for(var n of l(t))s.call(t,n)&&u(e,n,t[n]);return e},m=(e,t)=>i(e,o(t)),p=r.createContext({manager:{trackEvent:()=>{}}}),f=({children:e,manager:t})=>{const n=r.useMemo(()=>({manager:t}),[t]);return r.createElement(p.Provider,{value:n},e)};f.displayName="RumProvider";var g=({componentId:e,componentName:t})=>{const{manager:n}=(0,r.useContext)(p),a=(0,r.useCallback)((r,a)=>{const i=m(d({},a),{type:r,viewId:void 0,timestamp:performance.now(),componentId:e,componentName:t});n.trackEvent(i)},[n,e,t]);return(0,r.useMemo)(()=>({trackEvent:a}),[a])},y=()=>{const{manager:e}=(0,r.useContext)(p),t=(0,r.useCallback)((t,n)=>{const r=m(d({},n),{type:t,viewId:void 0,timestamp:performance.now()});e.trackEvent(r)},[e]);return(0,r.useMemo)(()=>({trackEvent:t}),[t])}},86405:function(e,t,n){n.d(t,{RQ:function(){return c},Yj:function(){return u},_H:function(){return d}});var r=n(56195);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}var l=r.createContext({manager:{publish:function(){},subscribe:function(e,t,n){return{SignalType:t,unsubscribe:function(){}}},unsubscribe:function(){}}}),c=function(e){var t=e.children,n=e.manager,a=r.useMemo(function(){return{manager:n}},[n]);return r.createElement(l.Provider,{value:a},t)};c.displayName="SignalContextProvider";var s=function(){return r.useContext(l)},u=function(){var e=s().manager;return r.useMemo(function(){return{publish:function(t){e.publish(t)}}},[])},d=function(e,t,n){var a=s().manager,l=r.useRef(),c=r.useRef(n);return n!==c.current&&(c.current=n),l.current||(l.current=a.subscribe(e,t,o(i({},c.current||{}),{onSuccess:function(e,t){var n,r;return null===(r=c.current)||void 0===r||null===(n=r.onSuccess)||void 0===n?void 0:n.call(r,e,t)},onError:function(e,t){var n,r;return null===(r=c.current)||void 0===r||null===(n=r.onError)||void 0===n?void 0:n.call(r,e,t)}}))),r.useEffect(function(){return l.current||(l.current=a.subscribe(e,t,o(i({},c.current||{}),{onSuccess:function(e,t){var n,r;return null===(r=c.current)||void 0===r||null===(n=r.onSuccess)||void 0===n?void 0:n.call(r,e,t)},onError:function(e,t){var n,r;return null===(r=c.current)||void 0===r||null===(n=r.onError)||void 0===n?void 0:n.call(r,e,t)}}))),function(){var e;null===(e=l.current)||void 0===e||e.unsubscribe(),l.current=void 0}},[]),l.current}},80216:function(e,t,n){function r(e,t,n){return r=c()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&o(a,n.prototype),a},r.apply(null,arguments)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function i(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function l(e){var t="function"==typeof Map?new Map:void 0;return l=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return r(e,arguments,a(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),o(i,e)},l(e)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}n.d(t,{H:function(){return s}});var s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(l,e);var t,n,r=(t=l,n=c(),function(){var e,r=a(t);if(n){var o=a(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return i(this,e)});function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(n=r.call(this)).topic=e,n.payload=t,n}return l}(l(Object))},22980:function(e,t,n){n.d(t,{O:function(){return P}});var r=n(56195),a=n(10554),i=n(64341),o=n(97778),l=n(46559),c=n(7138),s=n(4611),u=n(48959),d=n(30169),m=n(80240),p=n(2557),f=n(99828),g=n(27102),y=n(80914);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function I(){var e=S(["\n  fragment SecondaryButtonFragment on UISecondaryButton {\n    __typename\n    primary\n    icon {\n      id\n      title\n      description\n    }\n    analytics {\n      linkName\n      referrerId\n      eventType\n    }\n  }\n"]);return I=function(){return e},e}function _(){var e=S(["\n  query MobileAppDownloadButtonQuery($context: ContextInput!, $optionalPageId: String) {\n    notification(context: $context) {\n      mobileAppDownloadButton(optionalPageId: $optionalPageId) {\n        button {\n          ...SecondaryButtonFragment\n        }\n        revealAction {\n          event\n          referrerId\n          linkName\n        }\n        action {\n          ... on UIBannerLinkAction {\n            target\n            resource {\n              value\n            }\n          }\n          ... on UINotificationAction {\n            notificationSlot\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return _=function(){return e},e}var k=(0,s.J1)(I()),C=function(e){var t,n,a,i=e.data,l=e.optionalPageId,s=e.bannerAction,v=i.analytics,E=i.icon,h=i.primary,S=(0,o.useClickTracker)(),I=(0,c.zy)(),_=r.useRef(null),k=r.useRef(null),C=b(r.useState(!1),2),O=C[0],P=C[1],T=function(e){k.current&&!k.current.contains(e.target)&&O&&P(!1)},D=function(e){"Escape"===e.key&&O&&P(!1)};if(r.useEffect(function(){return document.addEventListener("keydown",D),document.addEventListener("mousedown",T),function(){document.removeEventListener("keydown",D),document.removeEventListener("mousedown",T)}}),!E||!v)return null;var x=h?"":null!==(a=E.title)&&void 0!==a?a:"";if("UIBannerLinkAction"===(null==s?void 0:s.__typename)&&(null===(t=s.resource)||void 0===t?void 0:t.value)){var w="".concat(I.pathname).concat(I.search);n=function(e,t){try{var n=new URL(e);return n.searchParams.has("$canonical_url")&&t?"".concat(n).concat(encodeURIComponent(t)):"".concat(n,"/")}catch(r){return}}(s.resource.value,w)}var A=function(){S(v.referrerId,v.linkName,void 0,[]),P(!O)};return r.createElement(r.Fragment,null,"UIBannerLinkAction"===(null==s?void 0:s.__typename)&&n&&r.createElement(f.C,null,r.createElement(d.y,{size:m.V.SMALL,tag:"a",href:n,onClick:A},r.createElement(u.D,{name:E.id,title:x}),h&&r.createElement(g.D,{whiteSpace:"nowrap"},h))),"UINotificationAction"===(null==s?void 0:s.__typename)&&r.createElement("div",{ref:k},r.createElement(f.C,null,r.createElement(d.y,{size:m.V.SMALL,onClick:A,domRef:_},r.createElement(p.LD,{id:E.id,name:E.id,title:x}),h&&r.createElement(g.D,{whiteSpace:"nowrap"},h))),O&&r.createElement(y.YU,{inputs:{notificationLocation:y.T5[s.notificationSlot],xPageId:l}})))};C.fragment=k,C.displayName="MobileAppDownloadButtonSecondaryButton";var O=(0,s.J1)(_(),C.fragment),P=function(e){var t=e.inputs,n=e.skipSsr,c=(0,i.R)().context,s=h(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){E(e,t,n[t])})}return e}({},t),{context:c}),u=(0,a.I)(O,{variables:s,ssr:!n}),d=u.data,m=u.error;if(u.loading||m||!d)return null;var p=d.notification.mobileAppDownloadButton,f=p.button,g=p.revealAction,y=p.action;if(!(f&&f.icon&&f.analytics&&g&&g.linkName))return null;var v=t.optionalPageId||"";return r.createElement(o.IntersectionTracker,{referrerId:g.referrerId,linkName:g.linkName,trackOnce:!0},r.createElement(l.LM,null,r.createElement(l.NP,null,r.createElement(C,{data:f,optionalPageId:v,bannerAction:y}))))};P.displayName="sharedui-MobileAppDownloadButton"},4628:function(e,t,n){n.d(t,{l:function(){return m}});var r=n(56195),a=n(26690),i=n(64341),o=n(63085),l={INIT:new o.SystemEvent(o.SystemEventLevel.INFO,"INIT_QUALTRICS"),INIT_ERROR:new o.SystemEvent(o.SystemEventLevel.ERROR,"INIT_ERROR_QUALTRICS"),INIT_WARN:new o.SystemEvent(o.SystemEventLevel.WARN,"INIT_WARN_QUALTRICS")},c=e=>{if(null==window?void 0:window.tc_vars){const{event_page_name:t,point_of_sale_eg_pos_id:n,language:r,identifiers_session_id:a}=window.tc_vars;return`${e} pageName=${t} point_of_sale_id=${n} language=${r} sessionId=${a}`}return e},s=e=>{const t=null==window?void 0:window.QSI;t.API?Object.keys(t.Request[t.config.zoneId].Intercepts).forEach(n=>{t.API.getIntercept(n).then(t=>{var n,r;const a=null==t?void 0:t.evaluation,i=null==t?void 0:t.intercept,o=t.getEvaluationResult();o.passed?(e.INIT.log(c(`Qualtrics initialization successful for survey=[id:${i.InterceptID} name:${i.Name} creative:${(null==(n=null==o?void 0:o.creative)?void 0:n.name)||""}]`)),((e,t,n)=>{var r;const a=t.Decision.ActionSetID,i=null==(r=n.ActionSets.find(e=>e.ActionSetID===a))?void 0:r.Label;e.INIT.log(c(`Qualtrics ready to display - actionSet=[id:${a} name:${i} interceptId:${n.InterceptID}]`))})(e,a,i),t.onClose(()=>{e.INIT.log(c(`Qualtrics interceptId=${i.InterceptID} has been closed`))})):e.INIT_ERROR.log(c(`Qualtrics initialization failed for survey=[id:${i.InterceptID} name:${i.Name} creative:${(null==(r=null==o?void 0:o.creative)?void 0:r.name)||""}]`))})}):e.INIT_ERROR.log(c("Error during Qualtrics initialization - QSI.API not available"))},u=e=>{const t=function(e,t,n,r){this.get=function(e){e=`${e}=`;for(var t=document.cookie.split(";"),n=0,r=t.length;n<r;n++){for(var a=t[n];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(e))return a.substring(e.length,a.length)}return null},this.set=function(e,t){var n="";(n=new Date).setTime(n.getTime()+6048e5),n=`; expires=${n.toGMTString()}`,document.cookie=`${e}=${t}${n}; path=/; `},this.check=function(){let r=this.get(n);if(r)r=r.split(":");else{if(100==e)return!0;"v"==t&&(e=Math.random()>=e/100?0:100),r=[t,e,0],this.set(n,r.join(":"))}let a=r[1];if(100==a)return!0;switch(r[0]){case"v":return!1;case"r":return a=r[2]%Math.floor(100/a),r[2]++,this.set(n,r.join(":")),!a}return!0},this.go=function(){if(this.check()){const e=document.createElement("script");e.type="text/javascript",e.src=r,document.body&&document.body.appendChild(e)}},this.start=function(){const e=this;"complete"!==document.readyState?window.addEventListener?window.addEventListener("load",()=>{e.go()},!1):window.attachEvent&&window.attachEvent("onload",()=>{e.go()}):e.go()}};try{new t(100,"r",`QSI_S_${e}`,`https://${e.toLowerCase().replace(/_/g,"")}-expediainc.siteintercept.qualtrics.com/SIE/?Q_ZID=${e}`).start()}catch(n){}},d=a.gql`
  query QualtricsConfigQuery($context: ContextInput!) {
    qualtricsConfig(context: $context) {
      zoneId
    }
  }
`,m=e=>{var t;const{context:n}=(0,i.R)(),{skipSsr:m,onInit:p}=e,f={context:n},{data:g,error:y,loading:v}=(0,a.useQuery)(d,{context:{shouldLogPerformance:!0},variables:f,fetchPolicy:"network-only",ssr:!m}),E=(0,o.useLoggerEvents)(l),h=null==(t=null==g?void 0:g.qualtricsConfig)?void 0:t.zoneId;return r.useEffect(()=>()=>{const e=null==window?void 0:window.QSI,t=null==window?void 0:window.tc_vars;if(null==e?void 0:e.API){e.API.unload();const n=null==t?void 0:t.event_page_name;let r=1;const a=setInterval(()=>{n!==(null==t?void 0:t.event_page_name)?(e.API.unload(),e.API.load(),e.API.run(),clearInterval(a)):100===r&&(clearInterval(a),e.API.unload(),e.API.load(),e.API.run()),r+=1},100)}},[]),r.useEffect(()=>{h&&(null==p||p(h),u(h),window.addEventListener("qsi_js_loaded",()=>s(E),!1))},[h]),v||y||!h?(v||E.INIT_WARN.log(c(y?`Qualtrics initialization - error=${y}`:"Incomplete Qualtrics initialization - missing zoneId")),null):r.createElement("div",{"data-stid":h,id:h})};m.displayName="sharedui-Qualtrics"},52677:function(e,t,n){n.d(t,{d:function(){return x},g:function(){return P}});var r=n(56195),a=n(4611),i=n(10554),o=n(30169),l=n(43888),c=n(934),s=n(42534),u=n(27102),d=n(64341),m=n(97778),p=n(69772),f=n(24924),g=n(30686),y=n(29366),v=n(74071);function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){h(e,t,n[t])})}return e}function S(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function k(){var e=_(["\n  query VirtualAgentControlExitSurveyQuery($context: ContextInput!, $propertyId: String!) {\n    propertyInfo(context: $context, propertyId: $propertyId) {\n      id\n      summary {\n        lodgingChatbot {\n          botNoLabel\n          botYesLabel\n          feedbackContentLabel\n        }\n      }\n    }\n  }\n"]);return k=function(){return e},e}function C(){var e=_(["\n  query VirtualAgentControlExitSurveyFeedbackQuery($context: ContextInput!, $propertyId: String!) {\n    propertyInfo(context: $context, propertyId: $propertyId) {\n      id\n      summary {\n        lodgingChatbot {\n          feedbackFormTitleLabel\n          feedbackFormContentLabel\n          feedbackFormLabel\n          botSkipLabel\n          feedbackFormSubmitLabel\n        }\n      }\n    }\n  }\n"]);return C=function(){return e},e}var O=(0,a.J1)(k()),P=function(e){var t,n=e.inputs,a=e.skipSsr,p=e.chatbotEntryPoint,f=e.chatbotName,g=e.timeoutMs,y=e.onDismiss,v=n.propertyId,E=(0,d.R)().context,h=(0,m.useClickTracker)(),I=S(b({},n||{}),{context:E});r.useEffect(function(){var e=setTimeout(function(){y()},g),t=function(e,t,n){return{schemaName:"chatbot",messageContent:{chatbotEntryPoint:e,chatbotName:t,propertyId:n}}}(p,f,v);return h("Customer.VirtualAgentControl.ExitSurvey","chatbot_exit_survey.presented",void 0,[t]),function(){h("Customer.VirtualAgentControl.ExitSurvey","chatbot_exit_survey.hidden",void 0,[t]),clearTimeout(e)}},[p,f,y,v,g,h]);var _=(0,i.I)(O,{variables:I,ssr:!a}),k=_.data,C=_.error,P=_.loading,T=null==k||null===(t=k.propertyInfo.summary)||void 0===t?void 0:t.lodgingChatbot;if(P||C||!k||!T)return null;var D=T.botYesLabel,x=T.botNoLabel,w=T.feedbackContentLabel,A=function(e){var t=function(e,t,n,r){return{schemaName:"chatbot",messageContent:{chatbotEntryPoint:e,chatbotName:t,helpful:n,propertyId:r}}}(p,f,e,v);h("Customer.VirtualAgentControl.ExitSurvey","chatbot_exit_survey.submitted",void 0,[t]),y(e)};return r.createElement(l.K,{isVisible:!0},r.createElement(c.t,{isVisible:!0,type:"bottom",triggerRef:null},r.createElement(s.N,{padding:"three"},r.createElement(u.D,null,w)),r.createElement(s.N,{margin:"three"},r.createElement(o.y,{onClick:function(){return A(!0)}},D)),r.createElement(s.N,{margin:{block:"three"}},r.createElement(o.y,{onClick:function(){return A(!1)}},x))))};P.displayName="sharedui-VirtualAgentControlExitSurvey";var T=(0,a.J1)(C()),D=function(e){var t=I(r.useState(""),2),n=t[0],a=t[1],i=e.inputRef,o=e.label;return r.createElement(y._,{domRef:i,id:"survey-feedback",label:null!=o?o:"",value:n,onChange:function(e){a(e.target.value)}})},x=function(e){var t,n=e.inputs,a=e.skipSsr,o=e.onDismiss,l=(0,d.R)().context,c=r.createRef(),m=S(b({},n||{}),{context:l}),y=(0,i.I)(T,{variables:m,ssr:!a}),E=y.data,h=y.error,I=y.loading,_=null==E||null===(t=E.propertyInfo.summary)||void 0===t?void 0:t.lodgingChatbot;if(I||h||!E||!_)return null;var k=_.feedbackFormTitleLabel,C=_.feedbackFormContentLabel,O=_.feedbackFormLabel,P=_.botSkipLabel,x=_.feedbackFormSubmitLabel;return r.createElement(p.Q,{dialogShow:!0,autoFocus:!1,animation:p.m.FADE},r.createElement(f.h,{key:"exitSurveyFeedback"},r.createElement(v.M,{tag:"h1",size:5},k),r.createElement(s.N,{padding:{block:"three"}},r.createElement(u.D,null,C)),r.createElement(D,{inputRef:c,label:O})),r.createElement(g.l,{key:"EGDSDialogFooter",stacked:!1,buttonOne:{onClick:o,text:P,type:"tertiary"},buttonTwo:{onClick:function(){var e;null===(e=c.current)||void 0===e||e.value;o()},text:x,type:"primary"}}))};x.displayName="sharedui-VirtualAgentControlExitSurveyFeedback"},57823:function(e,t,n){n.d(t,{$:function(){return D}});var r=n(56195),a=n(4611),i=n(10554),o=n(64341),l=n(30169),c=n(522),s=n(99828),u=n(37292),d=n(42534),m=n(27102),p=n(97778),f=n(53017);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function v(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function E(){var e=v(["\n  fragment voiceOfTheCustomerFragment on VoiceOfTheCustomer {\n    label\n    displayAction\n    accessibilityMessage\n    relativeURI {\n      value\n    }\n    analytics {\n      linkName\n      referrerId\n    }\n  }\n"]);return E=function(){return e},e}function h(){var e=v(["\n  query VoiceOfTheCustomerQuery($context: ContextInput!, $surveyContext: String, $additionalParams: [GraphQLPairInput!]) {\n    voiceOfTheCustomerOptional(context: $context, surveyContext: $surveyContext, additionalParams: $additionalParams) {\n      ...voiceOfTheCustomerFragment\n    }\n  }\n\n  ","\n"]);return h=function(){return e},e}var b=(0,a.J1)(E()),S={margin:{blockstart:"two",blockend:"three"}},I={margin:{blockend:"six"}},_=function(e){return(e-535)/2},k=function(e){return(e-192)/2},C="640px",O="700px",P=function(e){var t=e.data,n=1===(0,f.useExperiment)("App_Shell_Property_Requirement_Web",!0).exposure.bucket,a=1===(0,f.useExperiment)("App_Shell_Property_Requirement_Web_Dateless",!0).exposure.bucket,i=n||a,o=(0,p.useClickTracker)(),g=t.label,y=t.analytics,v=t.accessibilityMessage,E=t.displayAction,h=t.relativeURI,b=r.useCallback(function(e){e.preventDefault();var t=_(screen.width),n=k(screen.height);window.open(h.value,"ModalPopUp","toolbar=no,\n        scrollbars=no,\n        location=no,\n        statusbar=no,\n        menubar=no,\n        resizable=no,\n        width=".concat(C,",\n        height=").concat(O,",\n        screenX=").concat(t,",\n        screenY=").concat(n,",\n        left=").concat(t,",\n        top=").concat(n)),window.focus(),o(y.referrerId,y.linkName)},[y.linkName,y.referrerId,o,h.value]);return r.createElement(d.N,{margin:I.margin},r.createElement(c.X,{alignItems:"center",direction:"column","data-stid":"voice-of-the-customer"},r.createElement(s.C,null,r.createElement(m.D,{size:i?300:200,weight:i?"regular":"bold",inline:!0},g)),r.createElement(s.C,null,r.createElement(d.N,{margin:S.margin,padding:S.padding},i?r.createElement(u.i,{onClick:b,"data-stid":"goto-voice-of-the-customer-link","aria-label":v,align:"center",inline:!0},r.createElement("a",{href:h.value,target:"_blank",rel:"noopener noreferrer"},E)):r.createElement(l.y,{tag:"a","data-stid":"goto-voice-of-the-customer-button","aria-label":v,onClick:b,href:h.value,target:"_blank",rel:"noopener"},E)))))};P.fragment=b,P.displayName="VoiceOfTheCustomerContainer";var T=(0,a.J1)(h(),P.fragment),D=function(e){var t=e.inputs,n=e.skipSsr,a=(0,o.R)().context,l=y(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){g(e,t,n[t])})}return e}({},t),{context:a}),c=(0,i.I)(T,{variables:l,ssr:!n}),s=c.data,u=c.error;return c.loading||u||!(null==s?void 0:s.voiceOfTheCustomerOptional)?null:r.createElement(P,{data:s.voiceOfTheCustomerOptional})};D.displayName="sharedui-VoiceOfTheCustomer"},70882:function(e,t,n){n.r(t),n.d(t,{DialogProvider:function(){return m},useDialog:function(){return p}});var r=n(56195),a=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(l){a={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o},i=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},o=r.createContext({openedDialogs:[],open:function(){},close:function(){}}),l=function(e,t){var n=t.dialogId;return t.isOpen?e.includes(n)?i([],a(e),!1):i(i([],a(e),!1),[n],!1):e.filter(function(e){return e!==n})},c=function(e){var t=e.children,n=a(r.useReducer(l,[]),2),i=n[0],c=n[1],s=r.useCallback(function(e){c({dialogId:e,isOpen:!0})},[c]),u=r.useCallback(function(e){c({dialogId:e,isOpen:!1})},[c]),d=r.useMemo(function(){return{openedDialogs:i,open:s,close:u}},[i,s,u]);return r.createElement(o.Provider,{value:d},t)},s=function(e){return function(t){return r.createElement(r.Fragment,null,e&&t.children)}},u={useDialogControl:function(e,t,n,r){return{ComponentFactory:s(n),actions:{openDialog:function(e){return r(!0,null==e?void 0:e.closeAllDialogs)},closeDialog:function(e){return r(!1,null==e?void 0:e.closeAllDialogs)},toggleDialog:function(e){return r(!n,null==e?void 0:e.closeAllDialogs)}}}}},d=r.createContext(u),m=function(e){var t=e.value,n=e.children;return r.createElement(c,null,r.createElement(d.Provider,{value:t},n))},p=function(e,t,n,a){void 0===t&&(t="pwaDialog"),void 0===n&&(n=!0);var i=r.useContext(o),l=i.openedDialogs,c=i.open,s=i.close,u=r.useContext(d).useDialogControl,m="".concat(e,"_").concat(t),p=l.includes(m),f=r.useCallback(function(e,t){t&&l.forEach(function(e){s(e)}),e?c(m):e||t||s(m)},[c,s,m,l]),g=u(e,t,p,f,n,a);return[p,g.actions,g.ComponentFactory]}},98708:function(e,t,n){n.d(t,{U:function(){return o}});var r=n(56195),a={context:{}},i=r.createContext(a),o=function(e){return r.useContext(i).context[e]}},53017:function(e,t,n){n.r(t),n.d(t,{Experiment:function(){return s},ExperimentControl:function(){return l},ExperimentProvider:function(){return o},ExperimentVariant:function(){return c},MockExperimentProvider:function(){return d},useExperiment:function(){return u}});var r=n(56195),a={getExposure:function(e){return null},logExperiment:function(e){}},i=r.createContext(a),o=function(e){return r.createElement(i.Provider,{value:e.config||a,children:e.children||null})},l=function(e){return r.createElement(r.Fragment,null,e.children||null)},c=function(e){return r.createElement(r.Fragment,null,e.children||null)},s=function(e){var t,n=e.name,a=e.children,o=e.logExposure,c=void 0===o||o,s=(0,r.useContext)(i),u=s.getExposure,d=s.logExperiment;n&&(t=u(n));var m,p=(null==t?void 0:t.bucket)||0,f=a.find(function(e){return e.type===l&&(m=e,0===p)||e.props.bucket===p});if(!f||-1===f)return m?r.Children.only(m):null;if(t&&c)try{d(t)}catch(g){}return r.Children.only(f)},u=function(e,t){var n,a=(0,r.useContext)(i),o=a.getExposure,l=a.logExperiment,c=null!==(n=o(e))&&void 0!==n?n:{name:e,bucket:0};if(c&&t)try{l(c)}catch(s){}return{exposure:c,logExperiment:l}},d=function(e){var t=e.mockExperiments||{},n={getExposure:function(e){return t.hasOwnProperty(e)&&t[e]||null},logExperiment:function(e){}};return r.createElement(o,{config:n},e.children||null)}},63731:function(e,t,n){n.d(t,{e:function(){return F}});var r=n(56195),a=n(4611),i=n(10554),o=n(64341),l=n(46559);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){c(e,t,n[t])})}return e}function u(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function d(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function m(){var e=d(["\n  fragment CoBrandBannerStyleFragment on CoBrandBannerStyle {\n    __typename\n    desktop {\n      key\n      value\n    }\n    tablet {\n      key\n      value\n    }\n    mobile {\n      key\n      value\n    }\n    commonStyle {\n      key\n      value\n    }\n  }\n"]);return m=function(){return e},e}function p(){var e=d(["\n  fragment CoBrandBannerLogoDetailFragment on CoBrandBannerLogoDetail {\n    __typename\n    imgSrc\n    style {\n      key\n      value\n    }\n  }\n\n  ","\n"]);return p=function(){return e},e}function f(){var e=d(["\n  fragment CoBrandBannerLogoDataFragment on CoBrandBannerLogoData {\n    __typename\n    desktop {\n      ...CoBrandBannerLogoDetailFragment\n    }\n    tablet {\n      ...CoBrandBannerLogoDetailFragment\n    }\n    mobile {\n      ...CoBrandBannerLogoDetailFragment\n    }\n    altText\n    href\n    logoContainerStyle {\n      ...CoBrandBannerStyleFragment\n    }\n  }\n\n  ","\n  ","\n"]);return f=function(){return e},e}function g(){var e=d(["\n  fragment CoBrandBannerStylesFragment on CoBrandBannerStyles {\n    __typename\n    mainContainer {\n      ...CoBrandBannerStyleFragment\n    }\n    subContainer {\n      ...CoBrandBannerStyleFragment\n    }\n  }\n\n  ","\n"]);return g=function(){return e},e}function y(){var e=d(["\n  fragment CoBrandBannerTextTokenFragment on CoBrandBannerTextToken {\n    __typename\n    text\n    href\n    style {\n      key\n      value\n    }\n  }\n"]);return y=function(){return e},e}function v(){var e=d(["\n  fragment CoBrandBannerTextSectionFragment on CoBrandBannerTextSection {\n    __typename\n    textTokens {\n      ...CoBrandBannerTextTokenFragment\n    }\n  }\n\n  ","\n"]);return v=function(){return e},e}function E(){var e=d(["\n  fragment CoBrandBannerTextDataFragment on CoBrandBannerTextData {\n    __typename\n    textSections {\n      __typename\n      ...CoBrandBannerTextSectionFragment\n    }\n    textContainerStyle {\n      ...CoBrandBannerStyleFragment\n    }\n  }\n  ","\n  ","\n"]);return E=function(){return e},e}function h(){var e=d(["\n  query CoBrandBannerQuery($context: ContextInput!) {\n    coBrandBanner(context: $context) {\n      __typename\n      logoData {\n        __typename\n        ...CoBrandBannerLogoDataFragment\n      }\n      textData {\n        __typename\n        ...CoBrandBannerTextDataFragment\n      }\n      styles {\n        __typename\n        ...CoBrandBannerStylesFragment\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return h=function(){return e},e}var b=function(e){var t={};return null!==e&&e.forEach(function(e){t[e.key]=e.value}),t},S=(0,a.J1)(m()),I=function(e){var t=e.children,n=e.data;if(!n)return null;var a=b(n.commonStyle),i=s({},b(n.desktop),a),o=s({},b(n.tablet),a),c=s({},b(n.mobile),a);return r.createElement(l.LM,null,r.createElement(l.zQ,null,r.createElement("div",{style:i,className:"co-brand-banner-style","data-stid":"co-brand-banner-style"},t)),r.createElement(l.rw,null,r.createElement("div",{style:o,className:"co-brand-banner-style","data-stid":"co-brand-banner-style"},t)),r.createElement(l.NP,null,r.createElement("div",{style:c,className:"co-brand-banner-style","data-stid":"co-brand-banner-style"},t)))};I.fragment=u(s({},S),{__typename:"CoBrandBannerStyle"}),I.displayName="CoBrandBannerStyle";var _=(0,a.J1)(p(),I.fragment),k=function(e){var t=e.data,n=e.altText,a=e.href,i=e.view;if(!t)return null;var o=b(t.style),l={backgroundImage:"url(".concat(t.imgSrc,")"),backgroundRepeat:"no-repeat",backgroundSize:"".concat(o.width," ").concat(o.height),width:"".concat(o.width),height:"".concat(o.height)};delete o.width,delete o.height;var c=void 0!==i?"-".concat(i):"";return r.createElement("div",{style:o,className:"co-brand-banner-logo-inner-section","data-stid":"co-brand-banner-logo-inner-section"},a?r.createElement("a",{href:a,target:"_blank",rel:"noopener"},r.createElement("div",{role:"img","aria-label":n,style:l,className:"co-brand-banner-logo-div".concat(c)})):r.createElement("div",{role:"img","aria-label":n,style:l,className:"co-brand-banner-logo-div".concat(c)}))};k.fragment=u(s({},_),{__typename:"CoBrandBannerLogoDetail"}),k.displayName="CoBrandBannerLogoDetail";var C=(0,a.J1)(f(),k.fragment,I.fragment),O=function(e){var t=e.data;return t?r.createElement(I,{data:t.logoContainerStyle},r.createElement(l.LM,null,r.createElement(l.zQ,null,r.createElement(k,{data:t.desktop,altText:t.altText,href:t.href,view:"large"})),r.createElement(l.rw,null,r.createElement(k,{data:t.tablet,altText:t.altText,href:t.href,view:"medium"})),r.createElement(l.NP,null,r.createElement(k,{data:t.mobile,altText:t.altText,href:t.href,view:"small"})))):null};O.fragment=u(s({},C),{__typename:"CoBrandBannerLogoData"}),O.displayName="CoBrandBannerLogoData";var P=(0,a.J1)(g(),I.fragment),T=function(e){var t=e.children,n=e.data;return n?r.createElement(I,{data:n.mainContainer},r.createElement(I,{data:n.subContainer},t)):null};T.fragment=u(s({},P),{__typename:"CoBrandBannerStyles"}),T.displayName="CoBrandBannerStyles";var D=(0,a.J1)(y()),x=function(e){var t=e.data,n=t.href,a=t.style,i=t.text;return n&&a?r.createElement("a",{className:"co-brand-banner-text-token",href:n,target:"_blank",rel:"noopener",style:b(a)},i):n?r.createElement("a",{href:n,target:"_blank",rel:"noopener"},i):a?r.createElement("span",{className:"co-brand-banner-text-token",style:b(a)},i):r.createElement(r.Fragment,null,i)};x.fragment=u(s({},D),{__typename:"CoBrandBannerTextToken"}),x.displayName="CoBrandBannerTextToken";var w=(0,a.J1)(v(),x.fragment),A=function(e){var t=e.data;return t&&t.textTokens&&0!==t.textTokens.length?r.createElement(r.Fragment,null,t.textTokens.map(function(e,t){return r.createElement(x,{data:e,key:x.displayName+t})})):null};A.fragment=u(s({},w),{__typename:"CoBrandBannerTextSection"}),A.displayName="CoBrandBannerTextSection";var N=(0,a.J1)(E(),A.fragment,I.fragment),R=function(e){var t=e.data;if(!t)return null;var n=t.textSections,a=t.textContainerStyle;return r.createElement(I,{data:a},r.createElement("div",{className:"cobrand-banner-text-section","data-stid":"cobrand-banner-text-section"},n.map(function(e,t){return r.createElement(r.Fragment,{key:A.displayName+t},r.createElement(A,{data:e}),t<n.length-1?r.createElement("br",null):"")})))};R.fragment=u(s({},N),{__typename:"CoBrandBannerTextData"}),R.displayName="CoBrandBannerTextData";var L=(0,a.J1)(h(),O.fragment,R.fragment,T.fragment),F=function(e){var t=e.skipSsr,n={context:(0,o.R)().context},a=(0,i.I)(L,{variables:n,ssr:!t}),l=a.data,c=a.error;if(a.loading||c||!l||!l.coBrandBanner.logoData&&!l.coBrandBanner.textData)return null;var s=l.coBrandBanner,u=s.textData,d=s.logoData,m=s.styles;return r.createElement("div",{className:"co-brand-banner"},r.createElement(T,{data:m},d&&r.createElement(O,{data:d}),u&&r.createElement(R,{data:u})))};F.displayName="sharedui-CoBrandBanner"},77134:function(e,t,n){n.d(t,{z:function(){return u}});var r=n(56195),a=n(42534),i=n(74071),o=n(70833),l=n(26690),c=n(64341),s=l.gql`
  query loyalty($context: ContextInput!) {
    loyalty(context: $context) {
      member {
        firstName
      }
      memberStatus
    }
  }
`,u=e=>{var t;const{skipSsr:n}=e,{context:u}=(0,c.R)(),{data:d,error:m,loading:p}=(0,l.useQuery)(s,{context:{shouldLogPerformance:!0},variables:{context:u},ssr:!n});if(p||m||!d)return null;const{loyalty:f}=d;return f&&(null==(t=f.member)?void 0:t.firstName)&&f.memberStatus?r.createElement(a.N,{padding:"six"},r.createElement("div",null,r.createElement(i.M,{tag:"h2",size:5},f.member.firstName),r.createElement(o.s,{tag:"h3"},f.memberStatus))):null};u.displayName="sharedui-LoyaltyMemberStatus"},81900:function(e,t,n){n.d(t,{u:function(){return c},l:function(){return l}});var r=n(56195),a={1:"h1",2:"h2",3:"h3",4:"h4",5:"h5",6:"h6"},i={h1:1,h2:2,h3:3,h4:4,h5:5,h6:6};var o=r.createContext({topHeadingLevel:void 0}),l=function(e){var t=r.useContext(o).topHeadingLevel;if(!t)return{headingLevel:void 0};var n="number"==typeof t?t:i[t];return n+(e-1)>6?{headingLevel:"h6"}:{headingLevel:a[n+(e-1)]}},c=function(e){var t=e.children,n=e.topHeadingLevel;return r.createElement(o.Provider,{value:{topHeadingLevel:n}},t)}},51213:function(e,t,n){n.r(t),n.d(t,{LocalizationContext:function(){return y},LocalizedDate:function(){return g},LocalizedText:function(){return m},useLocalization:function(){return v},withLocalization:function(){return l}});var r,a=n(56195),i=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)};function l(e){var t,n=e,r=n.name,l="localization(".concat(r,")");return"function"==typeof n&&a.Component.isPrototypeOf(n)&&(r=n.displayName||n.name||"Component",l="localization(".concat(r,")")),t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this;return a.createElement(y.Consumer,null,function(t){return a.createElement(n,o({},e.props,{l10n:t}))})},t}(a.Component),t.wrappedComponent=n,t.displayName=l,t}var c=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},u=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(l){a={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o},d=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.data,n=void 0===t?[]:t,r=e.message,a=e.l10n;return a.formatText.apply(a,d([r],u(n),!1))||""},t=s([l],t)}(a.Component),p=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),t.prototype.render=function(){var e=this.props,t=e.date,n=e.options,r=e.l10n;if(!r)return"";var a="string"==typeof t?r.parseLocalDateString(t,n):t;return r.formatDate(a,n)},t=f([l],t)}(a.Component),y=a.createContext({setLocale:function(e){},formatDate:function(e,t){return""},formatDateString:function(e,t){return""},formatText:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return""},getWeekData:function(){return{firstDay:""}},parseLocalDateString:function(e,t){return""}}),v=function(){return a.useContext(y)}},90780:function(e,t,n){n.d(t,{C:function(){return L}});var r=n(56195),a=n(4611),i=n(10554),o=n(58762),l=n(14986),c=n(97778),s=n(53017),u=n(51213),d=n(522),m=n(99828),p=n(42534),f=n(27102),g=n(46559),y=n(11116),v=n(22489);function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){h(e,t,n[t])})}return e}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _(){var e=I(["\n  fragment LodgingPlainMessageFragment on LodgingPlainMessage {\n    value\n  }\n"]);return _=function(){return e},e}function k(){var e=I(["\n  query PropertyRatesDateSelectorQuery($context: ContextInput!, $eid: ID!, $dateRange: DateRangeInput) {\n    propertyRatesDateSelector(context: $context, dateRange: $dateRange, eid: $eid) {\n      configuration {\n        currentDate {\n          ...DateFragment\n        }\n        beginDate {\n          ...DateFragment\n        }\n        endDate {\n          ...DateFragment\n        }\n      }\n      days {\n        ...DayFragment\n      }\n      disclaimer {\n        ...LodgingPlainMessageFragment\n      }\n      submitButtonLabel\n      analyticsPayloads {\n        eventName\n        payload\n      }\n      validationMessage\n    }\n  }\n\n  fragment DayFragment on PropertyCalendarRate {\n    date {\n      ...DateFragment\n    }\n    displayPrice\n    accessibilityLabel\n    theme\n  }\n\n  fragment DateFragment on Date {\n    day\n    month\n    year\n  }\n\n  ","\n"]);return k=function(){return e},e}var C="yyyy-MM-dd",O=function(e){return new Date(e.year,e.month-1,e.day)},P={PAGE_NAME:"Product Details",PAGE_NAME_DETAILED:"Product Details Lodging Dated",PAGE_PRODUCT_LINE:"Lodging"},T=function(e,t){return{event:{event_type:e.EVENT_TYPE,event_name:e.EVENT_NAME,event_version:e.EVENT_VERSION,event_category:e.EVENT_CATEGORY},experience:{page_name:t.PAGE_NAME,page_name_detailed:t.PAGE_NAME_DETAILED,page_product_line:t.PAGE_PRODUCT_LINE}}},D=function(e,t){return{EVENT_NAME:e,EVENT_TYPE:t,EVENT_VERSION:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1.0.0",EVENT_CATEGORY:"calendar"}},x=(0,a.J1)(_()),w=function(e){var t=e.data;return(null==t?void 0:t.value)?r.createElement(d.X,{justifyContent:"center"},r.createElement(m.C,null,r.createElement(g.LM,null,r.createElement(g.NP,null,r.createElement(p.N,{padding:{inlinestart:"three",blockend:"three"}},r.createElement(f.D,{size:200,weight:"regular"},null==t?void 0:t.value))),r.createElement(g.zQ,null,r.createElement(p.N,{padding:{inlinestart:"three",blockend:"four"}},r.createElement(f.D,{size:200,weight:"regular"},null==t?void 0:t.value)))))):null};w.displayName="LodgingPlainMessage",w.fragment=x;var A=function(e,t){return!(null==t?void 0:t.isPast)},N=function(e){var t=e.day,n=e.dayData,a=t.day,i=t.isPast,o=t.isToday,l=n||{},c=l.dateText,s=l.isSelected,u=l.isWithinDateRange,g=l.showRatesBackground,E=c||{},h=E.textValue,b=E.textWeight,S=E.textTheme,I=Boolean(h),_=r.useMemo(function(){if(!s){if(o)return"today";if(i)return"muted"}return"default"},[s,o,i]);return r.createElement(v.o,{theme:g&&!s&&!u&&S||"default",backgroundShape:"rounded"},r.createElement(p.N,{padding:{block:"three"}},r.createElement(d.X,{blockSize:"full_size",alignItems:"center",direction:"column",justifyContent:"center",className:"uitk-default-day-template-has-text"},r.createElement(m.C,null,r.createElement(y.f,{theme:_,size:300,weight:"regular",disabled:!o&&!!i},a)),r.createElement(m.C,null,I&&r.createElement(f.D,{theme:!s&&S||"inverse",weight:b,size:100},h)))))};N.canClick=A,N.canSpan=A,N.getAriaLabel=function(e,t,n){var r=t.isPast,a=t.localeDateString;return r?n.formatText("calendar.unavailable.a11yLabel",a):a};var R=(0,a.J1)(k(),w.fragment),L=function(e){var t,n,a,d,m,p,f=e.inputs,g=e.onSubmit,y=e.startDateRef,v=e.endDateRef,E=e.isNestDialog,h=void 0!==E&&E,I=e.showCalendar,_=e.toggleCalendar,k=e.showOnlyLowRates,x=e.hideDefaultDate,A=e.handleShape,L=e.inputLabel1,F=e.inputLabel2,M=e.skipQuery,j=e.showClearDates,$=void 0!==j&&j,B="boolean"==typeof I&&_,U=S(r.useState(!!B&&I),1)[0],z=S(r.useState(U),2),H=z[0],G=z[1],V=(0,c.useEgClickstream)(),q=f.context,K=(0,u.useLocalization)().formatDateString,Y=(0,r.useRef)(!1),Q=(0,s.useExperiment)("Avail_Rate_Calendar_Lowest_Prices_only_Web").exposure,X=S((0,r.useState)((null===(t=f.dateRange)||void 0===t?void 0:t.start)&&!x?K(O(null===(n=f.dateRange)||void 0===n?void 0:n.start),{raw:C}):null),2),W=X[0],J=X[1],Z=S((0,r.useState)((null===(a=f.dateRange)||void 0===a?void 0:a.end)&&!x?K(O(null===(d=f.dateRange)||void 0===d?void 0:d.end),{raw:C}):null),2),ee=Z[0],te=Z[1],ne=S((0,r.useState)(void 0),2),re=ne[0],ae=ne[1],ie=S((0,r.useState)({defaults:{dateText:{textWeight:"regular",textTheme:null,textValue:null}}}),2),oe=ie[0],le=ie[1],ce=S((0,r.useState)(!0),2),se=ce[0],ue=ce[1],de=r.useMemo(function(){var e=new Date;return e.setFullYear(e.getFullYear()+1,e.getMonth()+6),e},[]),me=(0,r.useRef)(W),pe=(0,r.useRef)(ee);(0,r.useEffect)(function(){var e,t=new Date;t.setHours(0,0,0,0),(null==f||null===(e=f.dateRange)||void 0===e?void 0:e.start)&&O(f.dateRange.start)<t&&(J(null),te(null))},[f.dateRange]);var fe=(0,r.useCallback)(function(e,t){var n=new Date(e),r=new Date(t);return n.setDate(n.getDate()+28),r<=n},[]),ge=function(e,t){Y.current=!0;var n,r=me.current!==W||pe.current!==ee;(me.current=e,pe.current=t,r&&e&&t)&&V(function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=new Date(e.replace(/-/g,"/")),a=new Date(t.replace(/-/g,"/")),i="",o="",l=0;l<n.length;l+=1){var c=n[l];if(O(c.date)>=r&&O(c.date)<=a&&("AGGRESSIVE"===c.theme&&(o="High"),"HIGHLIGHT"===c.theme&&(i="Low")),O(c.date)>a)break}var s=T(D("calendar_new_dates.selected","Interaction","2.3.0"),P);return s.product_list=[{pricing:{price_type:o}},{pricing:{price_type:i}}],s}(e,t,null==he||null===(n=he.propertyRatesDateSelector)||void 0===n?void 0:n.days));var a=e?new Date(e.replace(/-/g,"/")):null,i=t?new Date(t.replace(/-/g,"/")):null;if(e||t)if(e&&t&&fe(e,t))ae(void 0),null==g||g(a,i);else{var o;ae(null==he||null===(o=he.propertyRatesDateSelector)||void 0===o?void 0:o.validationMessage)}else null==g||g(a,i)},ye=function(e,t){if(he){var n,r=JSON.parse(null===(n=he.propertyRatesDateSelector.analyticsPayloads.find(function(t){return t.eventName===e}))||void 0===n?void 0:n.payload).events[e].v1.event_data;r&&(t&&(r.event.event_name=t),V(r))}},ve=b({},f),Ee=(0,i.I)(R,{variables:ve,skip:M}),he=Ee.data,be=Ee.loading,Se=(0,r.useCallback)(function(e){return String(e).padStart(2,"0")},[he]),Ie=(0,r.useCallback)(function(e){return"".concat(e.year,"-").concat(Se(e.month),"-").concat(Se(e.day))},[he]),_e=(0,r.useCallback)(function(e){var t="default";return"HIGHLIGHT"===e.theme?t="positive":"AGGRESSIVE"!==e.theme||k||(t="negative"),{dateText:{textWeight:"default"!==t?"bold":"regular",textTheme:t,textValue:e.displayPrice},showRatesBackground:0===Q.bucket}},[he]),ke=(0,r.useCallback)(function(e){var t={};return e.forEach(function(e){var n=Ie(e.date);t[n]=_e(e),n===W&&(t[n].isSelected=!0),n===ee&&(t[n].isSelected=!0)}),t},[he]),Ce=(0,r.useCallback)(function(e){var t={defaults:{dateText:{textWeight:"regular",textTheme:null,textValue:null}}};if(e){var n=e.propertyRatesDateSelector.days;t=b({},t,ke(n))}return t},[he]),Oe=q.locale.replace("_","-");return(0,r.useEffect)(function(){he&&le(Ce(he))},[he]),(0,r.useEffect)(function(){be&&V(T(D("calendar.initiated","Impression"),P))},[be]),(0,r.useEffect)(function(){var e;B&&(I&&!H?null==y||null===(e=y.current)||void 0===e||e.click():!I&&H&&document.body.click())},[I,_]),r.createElement(l.L,{allowClearDates:$,dateFormatOptions:{month:"short",day:"numeric"},dayData:oe,dayTemplateComponent:N,endDate:ee,endDateRef:v,maxDate:de,startDate:W,startDateRef:y,initialOpenState:U,inputName1:"startDate",inputName2:"endDate",inputLabel1:L,inputLabel2:F,invalidInput2:re,submitButtonLabel:(null==he||null===(m=he.propertyRatesDateSelector)||void 0===m?void 0:m.submitButtonLabel)||"Submit",onClose:function(){(me.current!==W||pe.current!==ee)&&W&&ee&&!Y.current&&!h?ge(W,ee):(J(me.current),te(pe.current)),B&&_(!1),G(!1),ye("calendar.closed"),Y.current=!1,ue(!0)},onDateRangeChange:function(e,t){var n=function(e,t,n){if(e&&t){var r=new Date(e),i=new Date(t);if(r<i){r.setDate(r.getDate()+1);for(var o=r;o<=i;o.setDate(o.getDate()+1)){var l=K(o,{raw:C});a[l]&&(a[l].isWithinDateRange=n)}}}},r=function(e,t){if(se&&e&&W&&ee){var n=new Date(W),r=new Date(ee).getDate()-n.getDate(),a=new Date(e);a.setDate(a.getDate()+r+1);var i=K(a,{raw:C});return ue(!1),i}return t}(e,t),a=(0,o.m)(oe);e&&a[e]&&(a[e].isSelected=!0),W&&a[W]&&(!e||ee!==e&&W!==e)&&(a[W].isSelected=!1),r&&a[r]&&(a[r].isSelected=!0),ee&&a[ee]&&(!r&&ee!==e||r&&ee!==e&&W!==r&&ee!==r)&&(a[ee].isSelected=!1),n(W,ee,!1),n(e,r,!0),le(a),J(e),te(r)},onDateRangeClear:function(){J(null),te(null)},onNextClicked:function(){ye("calendar_next_month.selected")},onOpen:function(){var e;(V(T(D("calendar.opened","Interaction"),P)),null==he?void 0:he.propertyRatesDateSelector)?(ye("calendar.presented"),(null==he||null===(e=he.propertyRatesDateSelector)||void 0===e?void 0:e.days.length)>0&&ye("calendar_rates.presented")):V(T(D("calendar.failed","Impression"),P))},onPrevClicked:function(){ye("calendar_previous_month.selected")},onSubmit:ge,locale:Oe,handleShape:null!=A?A:"circle",navType:"inset",isNestDialog:h,alertTemplateComponent:w,alertTemplateData:{data:null==he||null===(p=he.propertyRatesDateSelector)||void 0===p?void 0:p.disclaimer}})};L.displayName="sharedui-PropertyRatesDateSelector"},5838:function(e,t,n){n.d(t,{EQ:function(){return O},cg:function(){return K},yO:function(){return Z},yQ:function(){return U}});var r=n(56195),a=n(26690),i=n(69772),o=n(24924),l=n(43888),c=n(97778),s=n(70882),u=n(60800),d=Object.defineProperty,m=Object.defineProperties,p=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,v=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E=(e,t)=>{for(var n in t||(t={}))g.call(t,n)&&v(e,n,t[n]);if(f)for(var n of f(t))y.call(t,n)&&v(e,n,t[n]);return e},h=(e,t)=>m(e,p(t)),b=(e,t)=>{var n={};for(var r in e)g.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&f)for(var r of f(e))t.indexOf(r)<0&&y.call(e,r)&&(n[r]=e[r]);return n};function S(e){return e.reduce((e,t)=>Object.assign(e,{[t]:{status:"UNKNOWN"}}),{})}var I=({useRegisterOperations:e})=>{var t;const n=(0,c.useClickTracker)(),[a,d,m]=(0,s.useDialog)("operation-failure-dialog"),[p,f]=r.useState(),g=r.useCallback(()=>{(null==p?void 0:p.dialog.closeAnalytics)&&n(p.dialog.closeAnalytics.referrerId,p.dialog.closeAnalytics.linkName),d.closeDialog()},[n,d,null==(t=null==p?void 0:p.dialog)?void 0:t.closeAnalytics]);return e(d.openDialog,f),p?r.createElement(l.K,{isVisible:a},r.createElement(m,null,r.createElement(i.Q,{dialogShow:a,returnFocusOnClose:!0},r.createElement(o.h,null,r.createElement(u.MultiItemEGDSParagraph,{data:h(E({},p.content),{size:2})})),r.createElement(u.EGDSActionDialogFooter,{data:p.dialog.footer,onDialogClose:g})))):null};function _(e){return()=>Promise.resolve({success:!1,failureReason:`no SessionOperationsProvider in tree found while calling ${e}`,failure:{type:"NO_PROVIDER"}})}var k={addProduct:_("addProduct"),updateProduct:_("updateProduct"),removeProduct:_("removeProduct"),replaceProduct:_("replaceProduct"),changeSelectedProduct:_("changeSelectedProduct")},C=r.createContext(h(E({},k),{state:S(Object.keys(k))}));function O(){const e=r.useContext(C),{addProduct:t,updateProduct:n,removeProduct:a,replaceProduct:i,changeSelectedProduct:o}=e,l=b(e,["addProduct","updateProduct","removeProduct","replaceProduct","changeSelectedProduct"]);return E({addProduct:r.useCallback(t,[]),updateProduct:r.useCallback(n,[]),removeProduct:r.useCallback(a,[]),replaceProduct:r.useCallback(i,[]),changeSelectedProduct:r.useCallback(o,[])},l)}function P(e,t){const{state:n}=O();r.useEffect(()=>{if("SUCCESS"===n.addProduct.status){const{addProducts:r}=n.addProduct.result.data.multiItemShopping;"MultiItemSearchContextErrorResponse"===r.__typename&&r.failureDialog&&(t(r.failureDialog),e())}},[n.addProduct]),r.useEffect(()=>{if("SUCCESS"===n.removeProduct.status){const{removeProducts:r}=n.removeProduct.result.data.multiItemShopping;"MultiItemSearchContextErrorResponse"===r.__typename&&r.failureDialog&&(t(r.failureDialog),e())}},[n.removeProduct]),r.useEffect(()=>{if("SUCCESS"===n.replaceProduct.status){const{selectProducts:r}=n.replaceProduct.result.data.multiItemShopping;"MultiItemSearchContextErrorResponse"===r.__typename&&r.failureDialog&&(t(r.failureDialog),e())}},[n.replaceProduct]),r.useEffect(()=>{if("SUCCESS"===n.updateProduct.status){const{updateProduct:r}=n.updateProduct.result.data.multiItemShopping;"MultiItemSearchContextErrorResponse"===r.__typename&&r.failureDialog&&(t(r.failureDialog),e())}},[n.updateProduct])}function T(e){return function(t,n,r,a){return n(t=>h(E({},t),{[e.operationName]:{status:"IN_PROGRESS",event:a}})),t({variables:r}).then(t=>{if(t.errors){const r={failureReason:`${e.operationName} failed with graphql error(s)`,failure:{type:"GRAPHQL",errors:t.errors}};return n(t=>h(E({},t),{[e.operationName]:{status:"FAILURE",event:a,error:r}})),E({success:!1},r)}return t.data?(n(n=>h(E({},n),{[e.operationName]:{status:"SUCCESS",event:a,result:t}})),E({success:!0},t)):Promise.reject(new Error(`${e.operationName} returned null data`))}).catch(t=>{const r=`unexpected error encountered while calling ${e.operationName}`,i=`${r}: ${t instanceof Error?t.message:t}`,o={failureReason:r,failure:{type:"UNKNOWN",error:new Error(i)}};return n(t=>h(E({},t),{[e.operationName]:{status:"FAILURE",event:a,error:o}})),E({success:!1},o)})}}var D=T({operationName:"addProduct"}),x=a.gql`
  fragment MishopUIOperationFailureDialogFragment on MishopUIOperationFailureDialog {
    content {
      text
    }
    dialog {
      closeAnalytics {
        linkName
        referrerId
      }
      footer {
        ...EGDSActionDialogFooterFragment
      }
    }
  }

  ${u.EGDSActionDialogFooter.fragment}
`,w=a.gql`
  fragment MultiItemSearchContextErrorResponseFragment on MultiItemSearchContextErrorResponse {
    message
    failureDialog {
      ...MishopUIOperationFailureDialogFragment
    }
    errorContent {
      ...PackageUIEmptyStateErrorFragment
    }
  }

  ${x}
  ${u.PackageUIEmptyStateError.fragment}
`,A=a.gql`
  mutation MishopSharedUIAddProductMutation(
    $context: ContextInput!
    $multiItemSessionId: String!
    $activities: [ActivityNaturalKeyInput!]
    $groundTransfers: [GroundTransfersNaturalKeyInput!]
  ) {
    multiItemShopping(context: $context) {
      addProducts(sessionId: $multiItemSessionId, activities: $activities, groundTransfers: $groundTransfers) {
        __typename
        ... on MultiItemSearchContextCreatedResponse {
          redirectUrl
          action {
            __typename
            shoppingContext {
              multiItem {
                id
              }
            }
            ... on FlightSearchMultiItemShoppingAction {
              journeyContinuationId
            }
          }
          message
        }
        ... on MultiItemSearchContextErrorResponse {
          ...MultiItemSearchContextErrorResponseFragment
        }
      }
    }
  }

  ${w}
`,N=T({operationName:"changeSelectedProduct"}),R=a.gql`
  mutation MishopSharedUIChangeSelectedProductMutation(
    $context: ContextInput!
    $sessionId: String!
    $priceToken: String!
    $properties: [PropertyNaturalKeyInput!]
    $cars: [CarNaturalKeyInput!]
    $flights: [FlightNaturalKeyInput!]
    $changeAction: MultiItemShoppingActionType!
  ) {
    multiItemShopping(context: $context) {
      changeSelectedProduct(
        sessionId: $sessionId
        priceToken: $priceToken
        properties: $properties
        cars: $cars
        flights: $flights
        changeAction: $changeAction
      ) {
        __typename
        ... on MultiItemSearchContextCreatedResponse {
          shoppingContext {
            multiItem {
              id
              packageType
            }
          }
          redirectUrl
        }
        ... on MultiItemSearchContextErrorResponse {
          message
        }
      }
    }
  }
`,L=T({operationName:"removeProduct"}),F=a.gql`
  mutation MishopSharedUIRemoveProductMutation(
    $context: ContextInput!
    $multiItemSessionId: String!
    $activities: [ActivityNaturalKeyInput!]
    $groundTransfers: [GroundTransfersNaturalKeyInput!]
  ) {
    multiItemShopping(context: $context) {
      removeProducts(sessionId: $multiItemSessionId, activities: $activities, groundTransfers: $groundTransfers) {
        __typename
        ... on MultiItemSearchContextCreatedResponse {
          redirectUrl
          action {
            __typename
            shoppingContext {
              multiItem {
                id
              }
            }
            ... on FlightSearchMultiItemShoppingAction {
              journeyContinuationId
            }
          }
          message
        }
        ... on MultiItemSearchContextErrorResponse {
          ...MultiItemSearchContextErrorResponseFragment
        }
      }
    }
  }

  ${w}
`,M=T({operationName:"replaceProduct"}),j=a.gql`
  mutation MishopSharedUIReplaceProductMutation(
    $context: ContextInput!
    $multiItemSessionId: String!
    $priceToken: String
    $cars: [CarNaturalKeyInput!]
    $flights: [FlightNaturalKeyInput!]
    $properties: [PropertyNaturalKeyInput!]
  ) {
    multiItemShopping(context: $context) {
      selectProducts(sessionId: $multiItemSessionId, priceToken: $priceToken, cars: $cars, flights: $flights, properties: $properties) {
        __typename
        ... on MultiItemSearchContextCreatedResponse {
          redirectUrl
          action {
            __typename
            shoppingContext {
              multiItem {
                id
              }
            }
            ... on FlightSearchMultiItemShoppingAction {
              journeyContinuationId
            }
          }
        }
        ... on MultiItemSearchContextErrorResponse {
          ...MultiItemSearchContextErrorResponseFragment
        }
      }
    }
  }

  ${w}
`,$=T({operationName:"updateProduct"}),B=a.gql`
  mutation MishopSharedUIUpdateProductMutation(
    $context: ContextInput!
    $multiItemSessionId: String!
    $priceToken: String
    $flights: [FlightNaturalKeyInput!]
    $activity: ActivityUpdateInput
  ) {
    multiItemShopping(context: $context) {
      updateProduct(sessionId: $multiItemSessionId, priceToken: $priceToken, flights: $flights, activity: $activity) {
        __typename
        ... on MultiItemSearchContextCreatedResponse {
          redirectUrl
          action {
            __typename
            shoppingContext {
              multiItem {
                id
              }
            }
            ... on FlightSearchMultiItemShoppingAction {
              journeyContinuationId
            }
          }
        }
        ... on MultiItemSearchContextErrorResponse {
          ...MultiItemSearchContextErrorResponseFragment
        }
      }
    }
  }

  ${w}
`,U=({children:e,autoRenderFailureDialog:t=!1})=>{const[n]=(0,a.useMutation)(A),[i]=(0,a.useMutation)(B),[o]=(0,a.useMutation)(F),[l]=(0,a.useMutation)(j),[c]=(0,a.useMutation)(R),[s,u]=r.useState(S(Object.keys(k)));return r.createElement(C.Provider,{value:(0,r.useMemo)(()=>({addProduct:(...e)=>D(n,u,...e),updateProduct:(...e)=>$(i,u,...e),removeProduct:(...e)=>L(o,u,...e),replaceProduct:(...e)=>M(l,u,...e),changeSelectedProduct:(...e)=>N(c,u,...e),state:s}),[n,i,o,l,c,s])},t&&r.createElement(I,{useRegisterOperations:P}),e)};function z(e){return()=>Promise.resolve({success:!1,failureReason:`no PrepareCheckoutOperationsProvider in tree found while calling ${e}`,failure:{type:"NO_PROVIDER"}})}var H={prepareCheckoutBySessionId:z("prepareCheckoutBySessionId"),prepareCheckout:z("prepareCheckout")};r.createContext(h(E({},H),{state:S(Object.keys(H))})),a.gql`
  mutation MishopSharedUIPrepareCheckout(
    $context: ContextInput!
    $activities: [ActivityNaturalKeyInput!]
    $groundTransfers: [GroundTransfersNaturalKeyInput!]
    $cars: [CarNaturalKeyInput!]
    $properties: [PropertyNaturalKeyInput!]
    $flights: [FlightNaturalKeyInput!]
    $packages: [PackageNaturalKeyInput!]
    $responseOptions: [PrepareCheckoutResponseOption!]
    $totalPrice: MoneyInput
    $cookies: String
    $checkoutOptions: [CheckoutOptionInput!]
  ) {
    prepareCheckout(
      context: $context
      activities: $activities
      groundTransfers: $groundTransfers
      cars: $cars
      properties: $properties
      flights: $flights
      packages: $packages
      responseOptions: $responseOptions
      totalPrice: $totalPrice
      cookies: $cookies
      checkoutOptions: $checkoutOptions
    ) {
      tripId
      checkoutUrl
      failureReason {
        __typename
        description
        message
        ... on MaxRoomsFailure {
          groupLinkMessage
        }
      }
    }
  }
`,T({operationName:"prepareCheckout"}),a.gql`
  mutation MishopSharedUIPrepareCheckoutBySessionId(
    $context: ContextInput!
    $multiItemSessionId: String!
    $cookies: String
    $checkoutOptions: [CheckoutOptionInput!]
  ) {
    prepareCheckoutBySessionId(context: $context, multiItemSessionId: $multiItemSessionId, cookies: $cookies, checkoutOptions: $checkoutOptions) {
      tripId
      checkoutUrl
      failureReason {
        __typename
        description
        message
        ... on MaxRoomsFailure {
          groupLinkMessage
        }
      }
    }
  }
`,T({operationName:"prepareCheckoutBySessionId"});function G(e){return()=>Promise.resolve({success:!1,failureReason:`no PackageOperationsProvider in tree found while calling ${e}`,failure:{type:"NO_PROVIDER"}})}var V={selectPackage:G("selectPackage"),changePackage:G("changePackage")},q=r.createContext(h(E({},V),{state:S(Object.keys(V))}));function K(){const e=r.useContext(q),{changePackage:t,selectPackage:n}=e,a=b(e,["changePackage","selectPackage"]);return E({changePackage:r.useCallback(t,[]),selectPackage:r.useCallback(n,[])},a)}function Y(e,t){const{state:n}=K();r.useEffect(()=>{if("SUCCESS"===n.selectPackage.status){const{selectPackage:r}=n.selectPackage.result.data.multiItemShopping;"MultiItemSearchContextErrorResponse"===r.__typename&&r.failureDialog&&(t(r.failureDialog),e())}},[n.selectPackage]),r.useEffect(()=>{if("SUCCESS"===n.changePackage.status){const{changePackage:r}=n.changePackage.result.data.multiItemShopping;"MultiItemSearchContextErrorResponse"===r.__typename&&r.failureDialog&&(t(r.failureDialog),e())}},[n.changePackage])}var Q=T({operationName:"changePackage"}),X=a.gql`
  mutation MishopSharedUIChangePackageMutation($context: ContextInput!, $multiItemSessionId: String!, $searchCriteria: PackageSearchCriteriaInput!) {
    multiItemShopping(context: $context) {
      changePackage(sessionId: $multiItemSessionId, searchCriteria: $searchCriteria) {
        __typename
        ... on MultiItemSearchContextCreatedResponse {
          redirectUrl
          action {
            __typename
            shoppingContext {
              multiItem {
                id
              }
            }
          }
        }
        ... on MultiItemSearchContextErrorResponse {
          ...MultiItemSearchContextErrorResponseFragment
        }
      }
    }
  }

  ${w}
`,W=T({operationName:"selectPackage"}),J=a.gql`
  mutation MishopSharedUISelectPackageMutation($context: ContextInput!, $multiItemSessionId: String!, $packageOfferId: String!) {
    multiItemShopping(context: $context) {
      selectPackage(sessionId: $multiItemSessionId, packageOfferId: $packageOfferId) {
        __typename
        ... on MultiItemSearchContextCreatedResponse {
          redirectUrl
          action {
            __typename
            shoppingContext {
              multiItem {
                id
              }
            }
          }
          target
        }
        ... on MultiItemSearchContextErrorResponse {
          ...MultiItemSearchContextErrorResponseFragment
        }
      }
    }
  }

  ${w}
`,Z=({children:e,autoRenderFailureDialog:t=!1})=>{const[n]=(0,a.useMutation)(J),[i]=(0,a.useMutation)(X),[o,l]=r.useState(S(Object.keys(V)));return r.createElement(q.Provider,{value:(0,r.useMemo)(()=>({selectPackage:(...e)=>W(n,l,...e),changePackage:(...e)=>Q(i,l,...e),state:o}),[n,i,o])},t&&r.createElement(I,{useRegisterOperations:Y}),e)}},49107:function(e,t,n){n.d(t,{h:function(){return B}});var r=n(56195),a=n(80240),i=n(92919),o=n(24109),l=n(41054),c=n(63744),s=n(522),u=n(99828),d=n(96394),m=n(42534),p=n(51537),f=n(26690),g=n(64341),y=n(97778),v=n(60800),E=n(64612),h=n(2557),b=n(37292),S=Object.defineProperty,I=Object.defineProperties,_=Object.getOwnPropertyDescriptors,k=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,P=(e,t,n)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T=(e,t)=>{for(var n in t||(t={}))C.call(t,n)&&P(e,n,t[n]);if(k)for(var n of k(t))O.call(t,n)&&P(e,n,t[n]);return e},D=(e,t)=>I(e,_(t)),x=e=>{switch(e){case"PRIMARY":return E.g5.PRIMARY;case"SECONDARY":return E.g5.SECONDARY;case"HIGHLIGHT":return E.g5.HIGHLIGHT;default:return}},w=f.gql`
  fragment CrossSellButtonActionFragment on CrossSellButtonAction {
    label
    resource {
      value
    }
    icon {
      id
    }
    analytics {
      referrerId
      linkName
      uisPrimeMessages {
        ...EGUisMicroMessageFragment
      }
    }
    accessibility
  }

  ${v.EGUisMicroMessageFragment}
`,A=({data:{label:e,resource:t,icon:n,analytics:a,accessibility:i}})=>{const o=(0,y.useClickTracker)(),{track:l}=(0,y.useClickstreamAnalytics)(),c=r.useCallback(()=>{o(a.referrerId,a.linkName),l(y.ITrackType.EVENT,{data:(0,v.mapUisMicroMessage)(a.uisPrimeMessages)})},[a,l,o]);return r.createElement(b.i,{align:"right",onClickCapture:c,inline:!0},r.createElement("a",{target:"_blank",rel:"noopener",href:t.value},e,i&&r.createElement("span",{className:"is-visually-hidden"},i),(null==n?void 0:n.id)&&r.createElement(h.LD,{name:n.id})))};A.fragment=w,A.displayName="CrossSellButtonAction";var N=f.gql`
  fragment CrossSellLinkActionFragment on CrossSellLinkAction {
    label
    resource {
      value
    }
    analytics {
      linkName
      referrerId
      uisPrimeMessages {
        ...EGUisMicroMessageFragment
      }
    }
    accessibility
  }

  ${v.EGUisMicroMessageFragment}
`,R=({data:{label:e,resource:t,analytics:n,accessibility:a}})=>{const i=(0,y.useClickTracker)(),{track:o}=(0,y.useClickstreamAnalytics)(),l=r.useCallback(()=>{i(n.referrerId,n.linkName),o(y.ITrackType.EVENT,{data:(0,v.mapUisMicroMessage)(n.uisPrimeMessages)})},[n,i,o]);return r.createElement(m.N,{margin:{block:"two"}},r.createElement(b.i,{onClickCapture:l},r.createElement("a",{target:"_blank",rel:"noopener",href:t.value},e,a&&r.createElement("span",{className:"is-visually-hidden"},a))))};R.fragment=D(T({},N),{__typename:"CrossSellLinkAction"}),R.displayName="CrossSellLinkAction";var L=f.gql`
  fragment CrossSellActionFragment on CrossSellAction {
    ...CrossSellButtonActionFragment
    ...CrossSellLinkActionFragment
  }

  ${A.fragment}
  ${R.fragment}
`,F=({data:e})=>{switch(e.__typename){case"CrossSellButtonAction":return r.createElement(A,{data:e});case"CrossSellLinkAction":return r.createElement(R,{data:e});default:return null}};F.fragment=L,F.displayName="CrossSellAction";var M=f.gql`
  query StaticCrossSellQuery(
    $context: ContextInput!
    $searchContext: MultiItemSearchContextInput!
    $userLocation: CrossSellUserLocationInput
    $crossSellProductType: CrossSellProductType
  ) {
    crossSell(context: $context, searchContext: $searchContext) {
      static {
        searchResultListing(userLocation: $userLocation, crossSellProductType: $crossSellProductType) {
          crossSellV2 {
            data {
              theme
              border
              themeProvider {
                lightMode {
                  colorTheme: themeProviderColor
                }
              }
              header {
                ...CrossSellMessageItemFragment
              }
              messageItems {
                ...CrossSellMessageItemFragment
                ...CrossSellLinkActionFragment
                ...PackageUIButtonFragment
              }
              graphic {
                ...UIGraphicFragment
              }
              action {
                ...CrossSellLinkActionFragment
              }
              actionBar {
                ...CrossSellActionFragment
              }
            }
          }
          impressionAnalytics {
            referrerId
            linkName
          }
        }
      }
    }
  }

  ${F.fragment}
  ${R.fragment}
  ${v.CrossSellMessageItem.fragment}
  ${v.PackageUIButton.fragment}
  ${v.UIGraphic.fragment}
`,j={block:"two"},$={blockstart:"two"},B=({inputs:e,skipSsr:t,noResultsFallback:n,loadingPlaceholder:E,outerSpacing:h})=>{var b,S;const{context:I}=(0,g.R)(),_=(0,y.useClickTracker)(),{track:k}=(0,y.useClickstreamAnalytics)(),C=D(T({},e),{context:I}),{data:O,error:P,loading:w}=(0,f.useQuery)(M,{context:{shouldLogPerformance:!0},variables:C,ssr:!t});if(r.useEffect(()=>{if(O){const{referrerId:e,linkName:t}=O.crossSell.static.searchResultListing.impressionAnalytics;_(e,t)}P&&_("mit.static.xsell.graphql.error","Multi-Item static cross sell error")},[_,O,P]),w)return E?r.createElement(E,null):null;if(P||!(null==O?void 0:O.crossSell.static.searchResultListing.crossSellV2.data))return n?r.createElement(n,null):null;const{header:A,theme:N,border:L,messageItems:B,graphic:U,action:{label:z,resource:H,analytics:G,accessibility:V},actionBar:q,themeProvider:K}=O.crossSell.static.searchResultListing.crossSellV2.data,Y={lightMode:{colorTheme:v.themeProviderColorMap[null!=(S=null==(b=null==K?void 0:K.lightMode)?void 0:b.colorTheme)?S:"NONE"]}},Q=B.map((e,t)=>{switch(e.__typename){case"CrossSellMessageItem":return r.createElement("div",{key:`message-item-${t}`},r.createElement(v.CrossSellMessageItem,{data:e}));case"PackageUIButton":return r.createElement(m.N,{margin:$},r.createElement("div",{key:`message-item-${t}`},r.createElement(v.PackageUIButton,{data:e,size:a.V.SMALL})));case"CrossSellLinkAction":return r.createElement("div",{key:`message-item-${t}`},r.createElement(R,{data:e}));default:return null}});return r.createElement(m.N,{padding:null==h?void 0:h.padding},r.createElement(p.EGDSThemeProvider,{config:Y},r.createElement(i.g,{"data-stid":"static-cross-sell__main",border:null!=L?L:void 0,backgroundTheme:x(N)},r.createElement(s.X,null,r.createElement(u.C,{alignSelf:"center",grow:0},r.createElement(o.E,{padded:["blockstart","blockend","inlinestart"]},U&&r.createElement(o.E,{padded:!1},r.createElement(v.UIGraphic,{data:U,markProps:{size:d.G[8]}})))),r.createElement(u.C,{grow:1},r.createElement(o.E,{padded:!0},r.createElement(m.N,{margin:j},r.createElement("div",null,r.createElement(v.CrossSellMessageItem,{data:A,textWeight:"bold",textTheme:"emphasis"}))),r.createElement("div",null,Q)))),(null==q?void 0:q.length)&&r.createElement(l.H,null,r.createElement(s.X,{alignItems:"end",direction:"column"},r.createElement("div",null,q.map((e,t)=>r.createElement(F,{data:e,key:`action-bar-${t}`}))))),r.createElement(c.w,null,r.createElement("a",{onClickCapture:()=>{_(G.referrerId,G.linkName),k(y.ITrackType.EVENT,{data:(0,v.mapUisMicroMessage)(G.uisPrimeMessages)})},"data-stid":"static-cross-sell__card-link",target:"_blank",rel:"noopener",href:H.value},z,V&&r.createElement("span",{className:"is-visually-hidden"},V))))))};B.displayName="sharedui-StaticMultiItemCrossSell"},57969:function(e,t,n){n.d(t,{c:function(){return i}});var r=n(56195),a=r.createContext({navigate:function(e){}}),i=(a.Provider,function(){return r.useContext(a)})},97161:function(e,t,n){n.d(t,{t:function(){return i},H:function(){return o}});var r=n(56195),a=r.createContext({setPageTitle:function(){}}),i=a.Provider,o=function(){return r.useContext(a)}},8820:function(e,t,n){n.d(t,{P:function(){return o},p:function(){return l}});var r=n(56195),a={htmlElement:void 0},i=r.createContext(a),o=function(e){var t=e.reactPortalContext,n=e.children,a=t.htmlElement;return r.createElement(i.Provider,{value:{htmlElement:a}},n)},l=function(){return r.useContext(i)}},71514:function(e,t,n){n.d(t,{_:function(){return Z},c:function(){return M}});var r=n(56195),a=n(522),i=n(26690),o=n(64341),l=n(97778),c=n(53017),s=n(2557),u=n(42534),d=n(27102),m=n(47073),p=n(31009),f=n(95519),g=n(24109),y=n(99828),v=n(89438),E=n(7484),h=n(22280),b=n(4918),S=n(23111),I=n(88232),_=n(63810),k=n(74071),C=n(87818),O=n(51537),P=n(57862),T=n(69772),D=n(24924),x=n(30686),w=n(18174),A=n(43888),N=n(70882),R={EVENT_NAME:"price_summary.presented",EVENT_TYPE:"Impression",EVENT_VERSION:"1.0.0"},L=i.gql`
  fragment LodgingAdditionalFeesContentFragment on LodgingAdditionalFeesContent {
    title
    body {
      title
      content {
        ... on AdditionalFeesRow {
          name
          value
        }
        ... on EGDSPlainText {
          text
        }
      }
    }
  }
`,F=({text:e,align:t={horizontal:"leading",vertical:"top"}})=>e?r.createElement(h.U,{align:t,padding:b.Bc.zero},r.createElement(u.N,null,r.createElement("div",null,r.createElement(d.D,null,e)))):null,M=({data:e,actionId:t})=>{const n=r.useRef(null),i=(0,p.pC)(null!=t?t:"");return(null==e?void 0:e.body)?r.createElement(p.e3,{actionId:t,renderNavigateBar:!1,useToolbar:!1,ref:n,hasModal:!0},r.createElement(a.X,null,r.createElement(y.C,null,r.createElement(v.Y,{padded:!1},r.createElement(u.N,{padding:{inlinestart:"six",block:"six"}},r.createElement("div",null,e.body.map((e,t)=>e.content&&r.createElement(u.N,{margin:{blockend:t>0?"six":void 0,blockstart:t>0?"six":void 0},key:`fees-content${t}`},r.createElement("div",null,r.createElement(u.N,{margin:{blockend:"three"}},r.createElement(k.M,{size:6,tag:"h6"},e.title)),r.createElement(g.E,{padded:!1},r.createElement(S.yg,{overflow:!1},r.createElement(I.u,null,r.createElement(r.Fragment,null,e.content.map(e=>{switch(e.__typename){case"EGDSPlainText":return r.createElement(_.k,null,r.createElement(F,{text:e.text}));case"AdditionalFeesRow":return r.createElement(_.k,null,r.createElement(F,{text:e.name}),r.createElement(F,{text:e.value,align:{horizontal:"trailing",vertical:"top"}}));default:return null}})))))))))))),r.createElement(y.C,null,r.createElement(E.t,null,r.createElement(f.q,{type:"button",onClick:i},r.createElement(s.LD,{name:"close",size:s.So.EXTRA_SMALL,id:"close",title:"close"})))))):null};M.fragment={...L,__typename:"LodgingAdditionalFeesContent"},M.displayName="sharedui-LodgingAdditionalFeesContent";var j=i.gql`
  fragment EnrichedMessageFragment on LodgingEnrichedMessage {
    __typename
    value
    state
    actions {
      actionId
      accessibility
    }
  }
`,$={STRONG:"bold",EMPHASIS:"medium",POSITIVE:"regular"},B={POSITIVE:"positive"},U=({actionId:e,contents:t,textSize:n,state:a,textAlign:i,value:o})=>{var l;const c=r.useRef(null),s=(0,p.pC)(null!=e?e:""),f=(0,p.RN)(null!=e?e:""),g=null==f?void 0:f.contentId,y=null==(l=null==t?void 0:t.find(e=>e.contentId===g))?void 0:l.content;return r.createElement(r.Fragment,null,r.createElement(m.x,{onClick:s,inline:!0},r.createElement("button",{type:"button",ref:c},r.createElement(u.N,{padding:{inlinestart:"one"}},r.createElement(d.D,{size:n,weight:a?$[a]:"regular",theme:a?B[a]:void 0,align:i},o)))),r.createElement(M,{data:y,actionId:e}))},z=({data:{value:e,state:t,actions:n},textAlign:i,increaseProminenceOfNightlyPriceEnabled:o=!1,isReassuranceStylingEnabled:l,displayCheckmarkIcon:c=!1,contents:m,isCheaperDates:p=!1,theme:f="regular"})=>{var g;const y=o&&"REASSURANCE_DISPLAY_QUALIFIER"===t,v=l||p?300:200,E=t?{BREAKOUT_TYPE_BOOKABLE_UNIT_COUNT:200,BREAKOUT_TYPE_NUMBER_OF_NIGHTS_UNITS:200,EMPHASIS:300,REASSURANCE_DISPLAY_QUALIFIER:o?400:v,SECONDARY_LEAD:200,POSITIVE:p?300:200,BREAKOUT_TYPE_INVALID:"bold"===f?200:300,STRONG:"bold"===f?200:300}[t]:v,h=n&&(null==n?void 0:n.length)>0?null==(g=n[0])?void 0:g.actionId:null;return r.createElement(u.N,{margin:{blockstart:l&&"SECONDARY_LEAD"!==t?"half":"unset"}},r.createElement(a.X,{alignItems:"start"},!h&&r.createElement(r.Fragment,null,"POSITIVE"===t&&c&&r.createElement(u.N,{margin:{inlineend:"half"}},r.createElement(s.LD,{name:"check",size:s.So.EXTRA_SMALL,theme:"positive"})),r.createElement("div",null,r.createElement(d.D,{size:E,weight:t&&!y?$[t]:"regular",theme:t?B[t]:void 0,align:i},e))),h&&r.createElement(U,{actionId:h,contents:m,textAlign:i,textSize:E,state:t,value:e})))};z.fragment={...j,__typename:"LodgingEnrichedMessage"},z.displayName="EnrichedMessage";var H=({disclaimer:e,textAlign:t,children:n,type:i,enableInlineLink:o=!1,onDisclaimerClick:c})=>{var d;const{content:p=[""],primaryUIButton:f}=null!=e?e:{},g=`${i}-price-disclaimer-${r.useMemo(()=>Math.random().toString(36).substr(2,5),[])}`,[v,E,h]=(0,N.useDialog)(g,"pwaNestedDialog"),b=(0,l.useClickTracker)(),S=r.useCallback(()=>{E.openDialog()},[E]),I=(0,r.useRef)(null);return r.createElement(r.Fragment,null,o?r.createElement(m.x,{onClick:S,onClickCapture:()=>{b(".Price.DisclaimerDialog","Price Disclaimer Dialog"),c&&c()},"data-stid":"disclaimer-dialog-link",inline:!0},r.createElement("button",{type:"button",ref:I},r.createElement(a.X,{direction:"left"===t?"row-reverse":"row"},r.createElement(y.C,null,n)))):r.createElement(w.t,{onClick:S,onClickCapture:()=>{b(".Price.DisclaimerDialog","Price Disclaimer Dialog"),c&&c()},"data-stid":"disclaimer-dialog-link"},r.createElement("button",{type:"button",ref:I},r.createElement(a.X,{direction:"left"===t?"row-reverse":"row"},r.createElement(y.C,null,r.createElement(u.N,{padding:{blockstart:"half",inlinestart:t?"unset":"half",inlineend:t?"half":"unset"}},r.createElement(s.LD,{name:"info_outline",size:s.So.SMALL}))),r.createElement(y.C,null,n)))),r.createElement(A.K,{isVisible:v},r.createElement(h,null,r.createElement(T.Q,{returnFocusOnClose:!0,dialogShow:v,triggerRef:I},r.createElement(D.h,null,p.map((e,t)=>r.createElement("div",{key:t},t>0&&r.createElement("br",null),r.createElement("p",null,e))),r.createElement(x.l,{buttonOne:{onClick:E.closeDialog,text:null!=(d=null==f?void 0:f.primary)?d:"",type:"tertiary"}}))))))},G=i.gql`
  fragment PriceMessageFragment on DisplayPrice {
    __typename
    role
    price {
      formatted
      accessibilityLabel
    }
    disclaimer {
      content
      primaryUIButton {
        accessibility
        primary
      }
    }
  }
`,V=({price:{formatted:e,accessibilityLabel:t}})=>r.createElement(u.N,null,r.createElement("div",null,r.createElement(d.D,{className:"is-visually-hidden"},t||e),r.createElement("span",{"aria-hidden":"true"},r.createElement(d.D,null,e)))),q=({price:{formatted:e,accessibilityLabel:t},isReassuranceStylingEnabled:n,isDialog:a,disableFeeInclusive:i,theme:l,isCheaperDates:c})=>{const{context:s}=(0,o.R)(),m=9001001===(null==s?void 0:s.siteId),p=(0,P.J5)(),f=(0,P.Up)(p.cardId,m,p.cardPlacement),[g,y]=r.useState(f);r.useEffect(()=>{y(f)},[f]);const v=()=>{y(!1)};return r.createElement(u.N,{padding:{blockstart:"half"}},r.createElement(C.P,{type:"relative"},r.createElement("div",{className:f?"fee-inclusive-coachmark":void 0},r.createElement(d.D,{className:"is-visually-hidden"},t||e),r.createElement("span",{"aria-hidden":"true"},"regular"===l?r.createElement(d.D,{size:n||c?400:500,weight:"medium",theme:"emphasis"},g&&!i&&r.createElement(P.sO,{onDismiss:v,isDialog:a}),e):r.createElement(d.D,{size:600,weight:"bold",theme:"emphasis"},g&&!i&&r.createElement(P.sO,{onDismiss:v,isDialog:a}),e)))))},K=({price:{formatted:e,accessibilityLabel:t},disclaimer:n,textAlign:a,enableInlineLink:i=!1,onDisclaimerClick:o,isReassuranceStylingEnabled:l,showSecondaryStrikeOut:c=!1})=>{const s=c?r.createElement("div",null,r.createElement(d.D,{className:"is-visually-hidden"},t||e),r.createElement("span",{"aria-hidden":"true"},r.createElement(d.D,{size:200},r.createElement("del",null,e)))):r.createElement(u.N,{padding:{blockstart:"half"}},r.createElement("div",null,r.createElement(d.D,{className:"is-visually-hidden"},t||e),r.createElement("span",{"aria-hidden":"true"},r.createElement(d.D,{size:l?200:300},r.createElement("del",null,e)))));return n?r.createElement(O.EGDSThemeProvider,{config:{color:{lightMode:{colorTheme:"light-1"}}}},r.createElement(H,{disclaimer:n,textAlign:a,type:"STRIKEOUT",enableInlineLink:i,onDisclaimerClick:o},s)):s},Y=({price:{formatted:e,accessibilityLabel:t},disclaimer:n,enableInlineLink:a=!1,isReassuranceStylingEnabled:i})=>{const{exposure:o}=(0,c.useExperiment)("USFTC_Post_go_live_Nightly_base_rate_only_display");let l=200;i&&(l=1===o.bucket?300:400);const s=r.createElement(u.N,{margin:{inline:"half",blockstart:i?"half":"unset"}},r.createElement("div",null,r.createElement(d.D,{className:"is-visually-hidden"},t||e),r.createElement("span",{"aria-hidden":"true"},r.createElement(d.D,{weight:"regular",size:l},e))));return n?r.createElement(O.EGDSThemeProvider,{config:{color:{lightMode:{colorTheme:"light-1"}}}},r.createElement(H,{disclaimer:n,textAlign:"left",type:"INFORMATIVE",enableInlineLink:a},s)):s},Q=({data:e,textAlign:t,enableInlineLink:n=!1,isReassuranceStylingEnabled:a,onDisclaimerClick:i,showStrikeThroughPrice:o=!0,isDialog:l=!1,disableFeeInclusive:c=!1,theme:s="regular",isCheaperDates:u=!1})=>{const{role:d}=e;switch(d){case"LEAD":return r.createElement(q,{...e,isReassuranceStylingEnabled:a,isDialog:l,disableFeeInclusive:c,theme:s,isCheaperDates:u});case"STRIKEOUT":return r.createElement(r.Fragment,null,o&&r.createElement(K,{...e,textAlign:t,enableInlineLink:n,onDisclaimerClick:i,isReassuranceStylingEnabled:a}));case"SECONDARY_STRIKEOUT":return r.createElement(r.Fragment,null,o&&r.createElement(K,{...e,textAlign:t,enableInlineLink:n,onDisclaimerClick:i,isReassuranceStylingEnabled:a,showSecondaryStrikeOut:!0}));case"INFORMATIVE":return r.createElement(Y,{...e,enableInlineLink:n,isReassuranceStylingEnabled:a});default:return r.createElement(V,{...e})}};Q.fragment={...G,__typename:"DisplayPrice"},Q.displayName="PriceMessage",K.displayName="StrikeOutPrice",q.displayName="LeadPrice",V.displayName="FallbackPrice";var X=i.gql`
  fragment PriceSummaryFragment on PropertyPrice {
    displayMessages {
      lineItems {
        ...PriceMessageFragment
        ...EnrichedMessageFragment
      }
    }
  }

  ${Q.fragment}
  ${z.fragment}
`,W=[Q,z],J=({flexAlignment:e,flexDirection:t="row",index:n,displayMessage:i,enableInlineLink:l=!1,isReassuranceStylingEnabled:s,onDisclaimerClick:u,showStrikeThroughPrice:d=!0,isDialog:m=!1,contents:p,disableFeeInclusive:f=!1,theme:g,isCheaperDates:y=!1})=>{var v;const{exposure:{bucket:E}}=(0,c.useExperiment)("California_BEX_SUVRs_PDP_experience"),{exposure:{bucket:h}}=(0,c.useExperiment)("Expand_Kates_Price_Summary_to_Total_POSa_Test_2"),{exposure:b}=(0,c.useExperiment)("USFTC_Price_Summary_Increase_prominence_of_the_nightly_price",!0),{context:S}=(0,o.R)(),I=(e=>[1,3001,70301,70201,6e3,30031,80001].includes(e.tpid))(S),_=9001===S.tpid;return r.createElement(a.X,{space:"xsmall",justifyContent:"row-reverse"===t?"end":e,direction:t,alignItems:"center",wrap:"wrap",dataTestId:"price-summary-message-line"},null==(v=null==i?void 0:i.lineItems)?void 0:v.map((t,a)=>{const{__typename:i}=t||{},o=W.find(e=>e.fragment.__typename===i);if(!o)return null;const c=(_||1===E||I)&&!y,v=1===b.bucket,S=s&&(I||1===h);return r.createElement(o,{key:`attr-${n}-${a}`,data:t,textAlign:"end"===e?"right":"left",enableInlineLink:l,displayCheckmarkIcon:c,onDisclaimerClick:u,isReassuranceStylingEnabled:S,increaseProminenceOfNightlyPriceEnabled:v,showStrikeThroughPrice:d,isDialog:m,contents:p,disableFeeInclusive:f,theme:g,isCheaperDates:y})}))},Z=({data:e,flexAlignment:t="end",enableInlineLink:n=!1,messageLineFlexDirection:i,isReassuranceStylingEnabled:o,onDisclaimerClick:c,showStrikeThroughPrice:s=!0,isDialog:u=!1,contents:d,disableFeeInclusive:m=!1,theme:p="regular",isCheaperDates:f=!1})=>{const{displayMessages:g}=e,y={event:{event_type:(v=R).EVENT_TYPE,event_name:v.EVENT_NAME,event_version:v.EVENT_VERSION}};var v;if(!(null==g?void 0:g.length))return null;const E=null==g?void 0:g.some(e=>{var t;return null==(t=e.lineItems)?void 0:t.some(e=>"LodgingEnrichedMessage"===e.__typename&&"REASSURANCE_DISPLAY_QUALIFIER"===e.state)});return r.createElement(a.X,{direction:"column",dataTestId:"price-summary"},r.createElement(l.EgClickstreamImpressionTracker,{eventData:y},g.map((e,a)=>r.createElement(J,{key:`attr-${a}`,index:a,flexAlignment:t,flexDirection:i,displayMessage:e,enableInlineLink:n,onDisclaimerClick:c,isReassuranceStylingEnabled:o||E,showStrikeThroughPrice:s,isDialog:u,contents:d,disableFeeInclusive:m,theme:p,isCheaperDates:f}))))};Z.fragment=X,Z.displayName="sharedui-PriceSummary",J.displayName="sharedui-MessageLine"},13902:function(e,t,n){n.d(t,{RK:function(){return l},A9:function(){return c}});var r=n(56195),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},a.apply(this,arguments)},i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(l){a={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o},o=r.createContext({state:{},dispatch:function(){}}),l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,l={},c={};e.forEach(function(e){var t;if(e.events.forEach(function(t){void 0===l[t]&&(l[t]=[]),l[t].push({callback:e.update,stateKey:e.stateFieldName})}),void 0!==c[e.stateFieldName])throw"buildStateProvider: Duplicate stateFieldName=".concat(e.stateFieldName," defined in list of StateChunks");c=a(a({},c),((t={})[e.stateFieldName]=e.data,t))}),n={reducer:function(e,t){var n=l[t.type];if(!n)return e;var r=a({},e);return n.forEach(function(n){r[n.stateKey]=n.callback(t.type,e[n.stateKey],{data:t.payload})}),r},state:c};var s=function(e){var t=e.children,a=i((0,r.useReducer)(n.reducer,n.state),2),l=a[0],c=a[1];return r.createElement(o.Provider,{value:{state:l,dispatch:c}},t||null)};return s.displayName="StateProvider",s},c=function(){var e=r.useContext(o);return[e.state,e.dispatch]}},1905:function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t),n.d(t,{PubSubSignalManager:function(){return o}});var a=Object.defineProperty,i=function(e,t,n){return function(e,t,n){t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==(void 0===t?"undefined":function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t))?t+"":t,n),n},o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"subscribers",new Map)}var t,n,a;return t=e,(n=[{key:"getOrCreateSubscribers",value:function(e){return e&&this.subscribers.has(e)?this.subscribers.get(e):this.subscribers.set(e,new Map).get(e)}},{key:"getSubscribers",value:function(e){if(e&&this.subscribers.has(e))return this.subscribers.get(e)}},{key:"publish",value:function(e){var t=this.subscribers.get(e.topic);null==t||t.forEach(function(t,n){setTimeout(function(){try{t.onSuccess(e,n)}catch(a){var r;null===(r=t.onError)||void 0===r||r.call(t,e,a)}},0)})}},{key:"subscribe",value:function(e,t,n){var r=this,a=this.getOrCreateSubscribers(e),i={SignalType:t,unsubscribe:function(){return r.unsubscribe(e,i)}};return a&&a.set(i,n),i}},{key:"unsubscribe",value:function(e,t){var n=this.subscribers.get(e);(null==n?void 0:n.has(t))&&n.delete(t)}}])&&r(t.prototype,n),a&&r(t,a),e}()},37965:function(e,t,n){n.d(t,{VN:function(){return l},Rn:function(){return c},h1:function(){return u},OK:function(){return o},xC:function(){return s},c5:function(){return m}});var r=n(56195),a=r.createContext({registerTarget:function(){return{current:null}},getTargets:function(){return{}}}),i=a.Provider,o=function(){return r.useContext(a)},l=function(e){var t=e.children,n=r.useRef({});return r.createElement(i,{value:{registerTarget:function(e){if(!e)return{current:null};if(n.current[e])return n.current[e];var t=r.createRef();return n.current[e]=t,t},getTargets:function(e){return e.reduce(function(e,t){if(n.current[t])return e[t]=n.current[t],e;var a=r.createRef();return n.current[t]=a,e[t]=a,e},{})}}},t)},c=function(e){var t=e.children,n=e.name,a=e.className,i=e.dataStid,l=e.tabIndex,c=e.tag,s=void 0===c?"div":c,u=o().registerTarget;if(!n)return r.createElement(r.Fragment,null,t);var d=u(n);return r.createElement(s,{id:n,ref:d,className:a,"data-stid":i,tabIndex:l},t)};function s(){var e=o().getTargets;return{scrollTo:r.useCallback(function(t,n){var r=e([t])[t];if(r&&r.current){var a=window.scrollY,i=r.current.getBoundingClientRect().top,o=0;if(n&&n.length>0){var l=n.map(function(e){return e&&e.sectionName}),c=e(l);o=n.reduce(function(e,t){var n=c[t.sectionName].current;return e+(n&&n.getBoundingClientRect().height||0)*(t.offsetMultiplier||1)},0)}window.scrollTo({behavior:"smooth",top:a+i-o})}else console.warn("useRefTargetScroll warning: ".concat(t," is not a target ref"))},[e])}}var u;!function(e){e.ENTER_COMPLETE="ENTER_COMPLETE",e.EXIT_TOP_COMPLETE="EXIT_TOP_COMPLETE",e.EXIT_BOTTOM_COMPLETE="EXIT_BOTTOM_COMPLETE",e.PARTIAL_TOP="PARTIAL_TOP",e.PARTIAL_BOTTOM="PARTIAL_BOTTOM",e.SPAN_VIEWPORT="SPAN_VIEWPORT"}(u||(u={}));var d=function(e,t){var n=this;this.observe=function(e){e&&e.length&&e.forEach(function(e){var t=e.ref;t&&t.current&&n.instance.observe(t.current)})},this.isDisabled=function(){return 0!==n.stateStack.length},this.disable=function(){n.stateStack.push(!0)},this.enable=function(){n.stateStack.pop()},this.destroy=function(){n.instance.disconnect()};var r=t.rootMargin?"".concat(t.rootMargin,"px"):void 0;this.stateStack=[],this.instance=new IntersectionObserver(e,{rootMargin:r,threshold:t.thresholds,root:t.root})},m=function(e,t,n){void 0===n&&(n={});var a=r.useRef({}),i=r.useRef(null),o=function(e,t){return function(n){n.forEach(function(e){var n=e.target.id;n&&(a.current[n]=function(e,t){var n=t||0;if(!e.isIntersecting){var r=e.rootBounds&&e.rootBounds.top||0;return e.boundingClientRect.bottom<=r?u.EXIT_TOP_COMPLETE:u.EXIT_BOTTOM_COMPLETE}if(1===e.intersectionRatio)return u.ENTER_COMPLETE;if(e.boundingClientRect.top+n<0)return u.PARTIAL_TOP;if(e.rootBounds){var a=e.rootBounds.height;if(a&&e.intersectionRect.height>=a+n)return u.SPAN_VIEWPORT}return u.PARTIAL_BOTTOM}(e,t.rootMargin))}),i.current&&!i.current.isDisabled()&&e(a.current)}};return r.useEffect(function(){i.current&&i.current.destroy();var r=o(t,n),a=new d(r,n);return a.observe(e),i.current=a,function(){return a.destroy()}},[t,n,e]),{disableObserver:function(){i.current&&i.current.disable()},enableObserver:function(){i.current&&i.current.enable()},destroyObserver:function(){i.current&&i.current.destroy()}}}},74988:function(e,t,n){n.d(t,{u:function(){return g}});var r=n(56195),a=n(4611),i=n(10554),o=n(53797),l=n(64341),c=n(97778);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(){var e,t,n=(e=["\n  query CrossSellRateCalendarQuery(\n    $context: ContextInput!\n    $activityId: String!\n    $dateRange: ActivityDateRangeInput\n    $shoppingPath: ShoppingPathType\n    $selectedOffers: [ActivityOfferNaturalKeyInput!]\n  ) {\n    activityInfo(context: $context, activityId: $activityId, dateRange: $dateRange, shoppingPath: $shoppingPath, selectedOffers: $selectedOffers) {\n      availabilities {\n        accessibility\n        analytics {\n          linkName\n          referrerId\n        }\n        date {\n          ...DateFragment\n        }\n        formattedDate {\n          text\n        }\n        highlighted\n        formattedPrice\n      }\n    }\n  }\n\n  fragment DateFragment on Date {\n    day\n    month\n    year\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return p=function(){return n},n}var f=(0,a.J1)(p()),g=function(e){var t,n=e.inputs,a=e.skipSsr,s=e.onClick,p=(0,l.R)().context,g=(0,c.useClickTracker)(),y=d(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){u(e,t,n[t])})}return e}({},n),{context:p}),v=(0,i.I)(f,{variables:y,ssr:!a}),E=v.data,h=v.error,b=v.loading,S=v.previousData,I=null==E||null===(t=E.activityInfo.availabilities.find(function(e){return e.highlighted}))||void 0===t?void 0:t.date,_=m(r.useState(I),2),k=_[0],C=_[1];if(r.useEffect(function(){C(I)},[I]),b&&!S)return r.createElement(o.j,{loading:!0,results:[]});var O=b?S:E;if(h||!(null==O?void 0:O.activityInfo.availabilities.length))return null;var P=O.activityInfo.availabilities.map(function(e){var t,n=e.date,r=e.formattedPrice,a=e.accessibility,i=e.analytics;return{dateText:null!==(t=e.formattedDate.text)&&void 0!==t?t:"",text:null!=r?r:"-",accessibilityMessage:a,analytics:{id:i.referrerId,description:i.linkName,callback:function(e,t){g(e,t)}},onClickCallback:function(){return s(n,C)},selected:k===n}});return r.createElement(o.j,{results:P})};g.displayName="sharedui-CrossSellDateRange"},34869:function(e,t,n){n.d(t,{Ff:function(){return A},Hk:function(){return v},J9:function(){return N},dm:function(){return y},dr:function(){return k},yg:function(){return b}});var r=n(56195),a=n(76467),i=n(7138),o=n(99016),l=Object.defineProperty,c=Object.defineProperties,s=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&p(e,n,t[n]);if(u)for(var n of u(t))m.call(t,n)&&p(e,n,t[n]);return e},g=(e,t)=>c(e,s(t)),y="compareDialog",v="lodging-compare-dialog",E="comparePropertyIds",h="toggleState",b=e=>e.split("-")[0],S=e=>(null!=e?e:"").split(",").filter(({length:e})=>0!==e),I=e=>t=>e===(({propertyId:e,isAd:t})=>t?`${e}-ad`:e)(t),_=(e,t)=>[...new Set(e.filter(e=>t.some(I(e))))],k=e=>e.reduce((e,t)=>e.some(e=>b(e)===b(t))?e:[...e,t],[]),C={searchResultsProperties:[],comparePropertyIds:[],isDialogOpen:!1,reselectPropertyIds:null,deepLinkDialogPropertyIds:null,enabled:!1,maxSelectable:5,preservedProperties:[],bottomSheetHeight:0,showToolbarPrompt:!1},O={setProperties:(e,t)=>{const{reselectPropertyIds:n,comparePropertyIds:r,searchResultsProperties:a,preservedProperties:i}=e,o=((e,t)=>e.map(e=>t.find(I(e))).filter(e=>Boolean(e)))(r,[...i,...a]);return g(f({},e),{preservedProperties:o,searchResultsProperties:t,comparePropertyIds:n?_(n,[...o,...t]):r})},addCompareProperty:(e,t)=>g(f({},e),{comparePropertyIds:[...e.comparePropertyIds,t],reselectPropertyIds:C.reselectPropertyIds,showToolbarPrompt:!1}),removeCompareProperty:(e,t)=>{var n,r;const a=b(t),i=e.comparePropertyIds.filter(e=>b(e)!==a),o=null!=(r=null==(n=e.deepLinkDialogPropertyIds)?void 0:n.filter(e=>b(e)!==a))?r:C.deepLinkDialogPropertyIds,l=e.isDialogOpen&&k(o||i).length>1;return g(f({},e),{comparePropertyIds:i,isDialogOpen:l,reselectPropertyIds:C.reselectPropertyIds,deepLinkDialogPropertyIds:l?o:C.deepLinkDialogPropertyIds})},openDialog:e=>g(f({},e),{isDialogOpen:!0}),closeDialog:e=>g(f({},e),{isDialogOpen:!1,deepLinkDialogPropertyIds:C.deepLinkDialogPropertyIds}),enable:e=>g(f({},e),{enabled:!0,showToolbarPrompt:0===e.comparePropertyIds.length}),disable:e=>g(f({},e),{enabled:!1,comparePropertyIds:C.comparePropertyIds,preservedProperties:C.preservedProperties,reselectPropertyIds:C.reselectPropertyIds,isDialogOpen:!1,deepLinkDialogPropertyIds:C.deepLinkDialogPropertyIds}),resetSelection:e=>g(f({},e),{comparePropertyIds:C.comparePropertyIds,preservedProperties:C.preservedProperties,reselectPropertyIds:C.reselectPropertyIds}),setBottomSheetHeight:(e,t)=>g(f({},e),{bottomSheetHeight:t})},P=()=>{},T={setProperties:P,addCompareProperty:P,removeCompareProperty:P,openDialog:P,closeDialog:P,enable:P,disable:P,resetSelection:P,setBottomSheetHeight:P},D=(0,r.createContext)([C,T]),{Provider:x}=D,w=({location:e,cookies:t})=>{const n=new URLSearchParams(e.search),r=S(n.get(E)),a=r.length?r:C.reselectPropertyIds,i="true"===t[h]||r.length>0;return g(f({},C),{enabled:i,reselectPropertyIds:a,deepLinkDialogPropertyIds:n.get(y)===v&&a?a:C.deepLinkDialogPropertyIds})},A=({children:e})=>{const t=(0,i.zy)(),[n,l]=(0,o.ok)(),[c,s,u]=(0,a.lT)([h],{doNotParse:!0}),d={location:t,cookies:c},[m,p]=((...e)=>{const t=(0,r.useMemo)(()=>3===e.length?e[1](e[0]):e[0],[]),n=3===e.length?e[2]:e[1],a=(0,r.useCallback)((e,t)=>n[t.type](e,t.payload),[]),[i,o]=(0,r.useReducer)(a,t);return[i,Object.fromEntries(Object.entries(n).map(([e])=>[e,t=>o({type:e,payload:t})]))]})(d,w,O),{enabled:f,deepLinkDialogPropertyIds:g,comparePropertyIds:v}=m;(0,r.useEffect)(()=>{f?s(h,String(f),{path:"/",expires:new Date(Date.now()+2592e6)}):u(h,{path:"/"})},[f]);const b=(0,r.useMemo)(()=>[m,p],[m,p]),I=n.get(E);return(0,r.useEffect)(()=>{const e=m.deepLinkDialogPropertyIds||v;e.join(",")!==S(I).join(",")&&(0===e.length?n.delete(E):n.set(E,e.join(",")),!m.isDialogOpen&&n.get(y)&&n.delete(y),l(n))},[v,g,I]),r.createElement(x,{value:b},e)},N=()=>(0,r.useContext)(D)},74855:function(e,t,n){n.d(t,{K:function(){return _}});var r=n(56195),a=n(522),i=n(99828),o=n(26690),l=n(64341),c=n(46559),s=n(27102),u=Object.defineProperty,d=Object.defineProperties,m=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,y=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||(t={}))f.call(t,n)&&y(e,n,t[n]);if(p)for(var n of p(t))g.call(t,n)&&y(e,n,t[n]);return e},E=(e,t)=>d(e,m(t)),h={BOLD:"bold",MEDIUM:"medium",REGULAR:"regular"},b=o.gql`
  fragment EGDSStylizedTextFragment on EGDSStylizedText {
    text
    weight
  }
`,S=({data:{text:e,weight:t},inline:n,theme:a,align:i})=>{const o=t?h[t]:void 0;return r.createElement(s.D,{weight:o,inline:n,theme:a,align:i},e)};S.fragment=b,S.displayName="EGDSStylizedText";var I=o.gql`
  query PartnerLoyaltyPointsQuery($context: ContextInput!) {
    partnerLoyaltyPoints(context: $context) {
      description {
        ...EGDSStylizedTextFragment
      }
      shortDescription {
        ...EGDSStylizedTextFragment
      }
      balance {
        ...EGDSStylizedTextFragment
      }
      value {
        ...EGDSStylizedTextFragment
      }
    }
  }
  ${S.fragment}
`,_=({inputs:e,skipSsr:t,inverseTheme:n})=>{const{context:s}=(0,l.R)(),u=(0,c.eg)({viewSizes:c.pf}),d=E(v({},e),{context:s}),{data:m,error:p,loading:f}=(0,o.useQuery)(I,{context:{useApq:!0,shouldLogPerformance:!0},variables:d,ssr:!t});if(f||p||!m)return null;const g=n?{theme:"inverse"}:{};return r.createElement(a.X,{wrap:"wrap",space:"one",justifyContent:"end"},r.createElement(i.C,null,u!==c.pf.EXTRA_LARGE?m.partnerLoyaltyPoints.shortDescription&&r.createElement(S,v({data:m.partnerLoyaltyPoints.shortDescription},g)):m.partnerLoyaltyPoints.description&&r.createElement(S,v({data:m.partnerLoyaltyPoints.description},g))),r.createElement(i.C,null,m.partnerLoyaltyPoints.balance&&r.createElement(S,E(v({data:m.partnerLoyaltyPoints.balance},g),{align:"right"}))),r.createElement(i.C,null,m.partnerLoyaltyPoints.value&&r.createElement(S,E(v({data:m.partnerLoyaltyPoints.value},g),{align:"right"}))))};_.displayName="sharedui-PartnerLoyaltyPoints"},17571:function(e,t,n){n.d(t,{G:function(){return x}});var r=n(56195),a=n(42534),i=n(48752),o=n(26690),l=n(64341),c=n(97778),s=n(86405),u=n(20637),d=n(72233),m=n(522),p=n(1226),f=n(87818),g=n(49858),y=Object.defineProperty,v=Object.defineProperties,E=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,I=(e,t,n)=>t in e?y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_=(e,t)=>{for(var n in t||(t={}))b.call(t,n)&&I(e,n,t[n]);if(h)for(var n of h(t))S.call(t,n)&&I(e,n,t[n]);return e},k=(e,t)=>v(e,E(t)),C=({id:e="",description:t,title:n})=>({name:e,title:n,description:t}),O=(e,t)=>null==e?void 0:e.map(e=>k(_({},e),{icon:e.icon?C(e.icon):void 0,ariaLabel:e.accessibility,disabled:t})),P=e=>"object"==typeof e&&null!==e&&"segmentedControls"in e,T=({spacingOptions:e})=>r.createElement(a.N,_({},e),r.createElement("div",{"data-stid":"stay-options-segmented-controls-loading-skeleton"},r.createElement(m.X,{direction:"column"},r.createElement(p.w,{rows:["38px"]},r.createElement(f.P,{type:"relative"},r.createElement(g.R,{type:"block",cornerRadius:32}))))));T.displayName="sharedui-SegmentedControlsLoadingSkeleton";var D=o.gql`
  query StayOptionsSegmentedControlsQuery($context: ContextInput!, $criteria: PropertySearchCriteriaInput) {
    propertySearch(context: $context, criteria: $criteria) {
      ...PropertySearchResultsFragment
    }
  }

  fragment PropertySearchResultsFragment on PropertySearchResults {
    tnlFields {
      key
      value
    }
  }
`,x=({disableAllSegments:e,inputs:t,onSegmentSelection:n,skipSsr:m=!1,spacingOptions:p})=>{var f,g,y;const{context:v}=(0,l.R)(),E=(0,c.useEgClickstream)(),[h,b]=(0,r.useState)(),S=_({context:v},t),{data:I,error:C,loading:x}=(0,o.useQuery)(D,{context:{shouldLogPerformance:!0},ssr:!m,variables:S}),w=(0,r.useMemo)(()=>{var e;if(null==(e=null==I?void 0:I.propertySearch)?void 0:e.tnlFields)return(e=>{var t,n;return(0,u.RX7)(null!=(n=null==(t=null==e?void 0:e.find(e=>"stay_options_segmented_controls_data"===e.key))?void 0:t.value)?n:"",P)})(I.propertySearch.tnlFields)},[I]),A=(0,r.useMemo)(()=>{if(null==w?void 0:w.segmentedControls)return((e,t=!1)=>{return k(_({},e),{segmentedControls:k(_({},e.segmentedControls),{accessibility:(n=e.segmentedControls.accessibility,n.reduce((e,{key:t,value:n})=>(e[t]=n,e),{})),segmentedControlItems:O(e.segmentedControls.segmentedControlItems,t)})});var n})(w,e)},[w,e]),N=(0,r.useMemo)(()=>{var e;return(null==(e=null==A?void 0:A.segmentedControls)?void 0:e.segmentedControlItems)||[]},[A]);(0,s._H)(d.hz,d.SE,{onSuccess(e){b(e.payload.selectedSegmentId)}});const R=(0,r.useCallback)(({value:e,id:t})=>{var r;if(null==n||n(e),null==(r=null==w?void 0:w.clickstreamEvents)?void 0:r.categorySelected){const n=(0,u.ViV)("category.selected",w.clickstreamEvents.categorySelected);n&&E({clientPayload:k(_({},n),{category_list:[{category_id:e,product_line:"lodging",category_position:(N.findIndex(e=>e.id===t)+1).toString()}]})})}b(t)},[n,w,N,E]);if(x&&!I)return r.createElement(T,{spacingOptions:p});if(!w||0===N.length||C)return null;const L=(0,u.ViV)("category_list.presented",null!=(g=null==(f=w.clickstreamEvents)?void 0:f.categoryListPresented)?g:""),F=h||(null==(y=w.segmentedControls)?void 0:y.selectedItemId),M=r.createElement(a.N,_({},p),r.createElement("div",null,r.createElement(i.Z,{"aria-label":null==A?void 0:A.segmentedControls.accessibility[F],items:N,name:"lodging-stay-options-segmented-controls",onSegmentSelection:R,selectedItemId:F,tabIndex:0})));return L?r.createElement(c.EgClickstreamImpressionTracker,{eventData:{clientPayload:L}},M):M};x.displayName="sharedui-StayOptionsSegmentedControls"},57862:function(e,t,n){n.d(t,{$c:function(){return D},Aw:function(){return x},BL:function(){return M},J5:function(){return w},Up:function(){return T},Ve:function(){return P},YS:function(){return F},iE:function(){return A},j_:function(){return O},ln:function(){return j},sO:function(){return L}});var r=n(56195),a=n(27685),i=n(31952),o=n(66831),l=n(64341),c=n(97778),s=n(53017),u=n(51213),d=n(32178),m=Object.defineProperty,p=Object.defineProperties,f=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,E=(e,t,n)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))y.call(t,n)&&E(e,n,t[n]);if(g)for(var n of g(t))v.call(t,n)&&E(e,n,t[n]);return e},b=(e,t)=>p(e,f(t)),S=r.createContext(null),I=r.createContext(null),_=r.createContext({cardId:"",cardPlacement:"",iconUrl:"",text:""}),k="Map",C=(e,t,n=0)=>{document.cookie=`${e}=${t};path=/;${n>0?`max-age=${n};`:""}`},O=e=>{var t,n;const r=e.find(e=>{const t=JSON.parse(e.toString()),n="object"==typeof t&&"events"in t?t.events:null;return"object"==typeof n&&"price_request_fee_inclusive_pricing.submitted"in n});if(!r)return null;return null==(n=null==(t=JSON.parse(r.toString()).events["price_request_fee_inclusive_pricing.submitted"])?void 0:t.v1)?void 0:n.event_data},P=e=>null!==e&&!e.isMultiItem&&e.clickstreamEvents&&0!==e.clickstreamEvents.length&&null!==O(e.clickstreamEvents),T=(e="",t=!1,n="")=>{const a=r.useContext(S),i=1===(0,s.useExperiment)("California_Coachmark_Web_Audience_Targeting").exposure.bucket,{exposure:o,logExperiment:l}=(0,s.useExperiment)("USFTC_Coachmark_Logic_improvements_on_Web"),c=(null==a||a.pageName,e=>e.split("-")[0]),u=(null==a?void 0:a.eligibleItemId)||"",d=n===k?c(u):u;if(null!==d&&""!==d&&i){o.bucket;const t=n===k?c(e):e;if(!P(a)||d!==t)return!1;if(l(o),"false"!==(e=>{const t=`${e}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r+=1){let e=n[r];if(null==e)return null;for(;" "===e.charAt(0);)e=e.substring(1);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null})("should-display-fee-inclusive-coachmark"))return C("should-display-fee-inclusive-coachmark",!0),!0}return!1},D=()=>r.useContext(S),x=()=>r.useContext(I),w=()=>r.useContext(_),A=(e=>(e[e.REGISTER_ELIGIBLE_LISTINGS_ID=0]="REGISTER_ELIGIBLE_LISTINGS_ID",e[e.REGISTER_ELIGIBLE_OFFERS_ID=1]="REGISTER_ELIGIBLE_OFFERS_ID",e[e.GET_CLICKSTREAM_EVENTS=2]="GET_CLICKSTREAM_EVENTS",e[e.VERIFY_PRECONDITIONS_MET=3]="VERIFY_PRECONDITIONS_MET",e[e.SET_POSITION=4]="SET_POSITION",e[e.FEE_INCLUSIVE_PRICING_SHEET_DISMISSED=5]="FEE_INCLUSIVE_PRICING_SHEET_DISMISSED",e[e.SET_TOP_STICKY_VISIBILITY=6]="SET_TOP_STICKY_VISIBILITY",e[e.SET_TOP_STICKY_TEXT=7]="SET_TOP_STICKY_TEXT",e))(A||{}),N=(e,t)=>{switch(t.type){case 0:return b(h({},e),{eligibleItemId:t.eligibleListingId});case 1:return b(h({},e),{eligibleItemId:t.eligibleOfferId});case 2:return b(h({},e),{clickstreamEvents:t.clickstreamEvents});case 4:return b(h({},e),{position:t.position});case 5:return b(h({},e),{isFeeInclusivePricingSheetDismissed:t.isFeeInclusivePricingSheetDismissed});case 6:return b(h({},e),{isTopStickyNoteShown:t.isTopStickyNoteVisible});case 7:return b(h({},e),{stickyNoteText:t.stickyNoteText});default:return e}},R={referrerId:"HOT.SR.Cali_coachmark.DISPLAYED",linkName:"Display Fee Inclusive price coach mark",trackOnce:!0},L=({onDismiss:e,isDialog:t=!1})=>{var n,m;const[p,f]=(0,r.useState)(!1),[g,y]=(0,r.useState)(!1),v=x(),{context:E}=(0,l.R)(),b=(e=>9001001===(null==e?void 0:e.siteId))(E),S=w(),I=D(),_=1===(0,s.useExperiment)("USFTC_SRP_Bottom_sheet_to_educate_travellers_of_total_price").exposure.bucket,O="true"===(null==(n=(0,d.m9)("placeCoachmarkAbovePriceSummary"))?void 0:n.value),{exposure:P}=(0,s.useExperiment)("USFTC_Coachmark_Slimmer_coachmark",!0),{exposure:T}=(0,s.useExperiment)("USFTC_Coachmark_Logic_improvements_on_Web",!1),{exposure:A}=(0,s.useExperiment)("USFTC_Coachmark_Test_adding_on_Vrbo_Single_Units_PDPs",!0),N=1===(0,s.useExperiment)("USFTC_Coachmark_to_slim_banner",!1).exposure.bucket,{formatText:L}=(0,u.useLocalization)(),F=(0,c.useClickTracker)(),M=((e="")=>e===k)(null==S?void 0:S.cardPlacement),j=((e="")=>"Grid"===e)(null==S?void 0:S.cardPlacement),$=I&&"page.Hotel-Search"===I.pageName?"SRP":"PDP",B=P.bucket>0,U=2===P.bucket||3===P.bucket,z="SRP"!==$||!_||(null==I?void 0:I.isFeeInclusivePricingSheetDismissed),[H]=(0,c.useIntersectionObserver)(e=>{const[t]=e;t.isIntersecting&&f(!0),v&&"Map"!==(null==S?void 0:S.cardPlacement)&&v({isTopStickyNoteVisible:t&&t.boundingClientRect.bottom<0,type:6})},{threshold:1}),G=(()=>{const e="single-unit-offer"===(null==S?void 0:S.cardId);return(M||O||!e&&t)&&"top-right"||j&&"top-left"||e&&t&&"bottom-left"||e&&"bottom-left"||(null==I?void 0:I.position)||"bottom-right"})();let V="hotels.pricing.coachmark.header",q="hotels.pricing.coachmark.description";b&&(V="hotels.pricing.coachmark.header.vrbo",q="hotels.pricing.coachmark.description.vrbo");const K=L(V),Y=L(q),Q=null!=(m=S.text)?m:"",X=S.iconUrl?S.iconUrl:void 0,W=!B||""!==Q&&void 0!==X,J=()=>{const t=T.bucket;1===t||2===t?C("should-display-fee-inclusive-coachmark",!1):C("should-display-fee-inclusive-coachmark",!1,1800),F("HOT.SR.Cali_coachmark.CLOSED","Close Fee Inclusive price coach mark"),N&&y(!0);setTimeout(()=>{e()},N?300:0)};if(r.useEffect(()=>{const e=T.bucket;(1===e||2===e)&&z&&p&&setTimeout(()=>J(),2e4)},[z,p]),"single-unit-offer"===(null==S?void 0:S.cardId)&&0===A.bucket)return null;return r.createElement(c.IntersectionTracker,h({},R),r.createElement("div",{ref:H,style:{transition:"all 300ms ease-in-out",opacity:g?0:"initial"}},p&&z&&W&&r.createElement(o.h0,{onDismiss:J,position:G,theme:"hcom-blue-theme",slim:B,animation:U},B?r.createElement(a.P,{text:Q,showIcon:!0,iconUrl:X}):r.createElement(i.t,{title:K,subtitle:Y,showIcon:!0}))))},F=(e=>(e.SRP="page.Hotel-Search",e.PDP="page.Hotels.Infosite.Information",e))(F||{}),M=({children:e,position:t="bottom-right",pageName:n="page.Hotel-Search",isMultiItem:a=!1,isFeeInclusivePricingSheetDismissed:i=!0})=>{const o={position:t,pageName:n,isMultiItem:a,clickstreamEvents:null,eligibleItemId:null,isFeeInclusivePricingSheetDismissed:i,isTopStickyNoteShown:!1,stickyNoteText:null},[l,c]=r.useReducer(N,o);return r.createElement(S.Provider,{value:l},r.createElement(I.Provider,{value:c},e))},j=_.Provider},13132:function(e,t,n){n.d(t,{S8:function(){return M},_O:function(){return j},mN:function(){return U}});var r=n(56195),a=n(87993),i=n(80240),o=n(9010),l=n(36145),c=n(522),s=n(43888),u=n(934),d=n(89438),m=n(42534),p=n(27102),f=n(74071),g=n(23726),y=n(64341),v=n(97778),E=n(70882),h=n(51213),b=n(57862),S=n(32178),I=n(76467),_=n(99828),k=n(37292),C=n(12299),O=n(53017),P=n(63085),T=n(46559),D=n(26690),x=n(32380),w={EVENT_NAME:"exit_intent_overlay.presented",EVENT_TYPE:"Impression",EVENT_VERSION:"1.0.0"},A={EVENT_NAME:"exit_intent_overlay.closed",EVENT_TYPE:"Interaction",EVENT_VERSION:"1.0.0"},N={EVENT_NAME:"fee_inclusive_reassurance_modal.presented",EVENT_TYPE:"Impression",EVENT_VERSION:"1.0.0"},R={EVENT_NAME:"fee_inclusive_reassurance_modal.closed",EVENT_TYPE:"Interaction",EVENT_VERSION:"1.0.0"},L={EVENT_NAME:"fee_inclusive_reassurance_modal.opened",EVENT_TYPE:"Interaction",EVENT_VERSION:"1.0.0"},F=e=>({event:{event_type:e.EVENT_TYPE,event_name:e.EVENT_NAME,event_version:e.EVENT_VERSION}}),M=({modalLocalStorageKeyName:e="exitIntentModalShowed",expiringMinutes:t=30,isMouseLeaveEvent:n=!0,timeoutInMilliSeconds:I=2e4})=>{var _;const{formatText:k}=(0,h.useLocalization)(),{context:C}=(0,y.R)(),O=r.useRef(null),P=(0,v.useEgClickstream)(),T=(e=>300000001===(null==e?void 0:e.siteId))(C);let D="https://a.travel-assets.com/travel-assets-manager/exit-intent/BEX.png";T&&(D="https://a.travel-assets.com/travel-assets-manager/exit-intent/Hcom.png");const x=k("hotels.pricing.exit.intent.modal.header"),N=k("hotels.pricing.exit.intent.modal.description"),R=k("hotels.pricing.exit.intent.modal.button.text"),L="true"===(null==(_=(0,S.m9)("disableFeeInclusiveMessaging"))?void 0:_.value),[M,j,$]=(0,E.useDialog)("exit-intent-modal"),B=()=>{j.openDialog({closeAllDialogs:!0})},U=()=>{P(F(A)),j.closeDialog()},z=(0,r.useCallback)(()=>{var n;const r=new Date(null!=(n=localStorage.getItem(e))?n:"");var a;!M&&(a=r,!Boolean(a&&"Invalid Date"!==a.toDateString())||(e=>((new Date).getTime()-e.getTime())/6e4)(r)>t)&&(B(),P(F(w)),t&&t>0&&localStorage.setItem(e,(new Date).toUTCString()))},[B]);r.useEffect(()=>{const e=setTimeout(n?()=>document.body.addEventListener("mouseleave",z):z,I);return()=>{clearTimeout(e),n&&document.body.removeEventListener("mouseleave",z)}},[z,n,I]);const H=(0,b.$c)();return!(0,b.Ve)(H)||L?null:r.createElement(s.K,{isVisible:M},r.createElement($,null,r.createElement(u.t,{isVisible:M,type:"centered",triggerRef:O},r.createElement(g.p,{navigationContent:{navType:"close",navIconLabel:"close",onClick:U},elevation:"flat"}),r.createElement(d.Y,{padded:!1},r.createElement(m.N,{margin:{inline:"sixteen",blockend:"eight"}},r.createElement(c.X,{direction:"column",alignItems:"center",justifyContent:"center",space:"two"},r.createElement(m.N,{margin:{blockend:"two"}},r.createElement(p.D,{size:500,weight:"regular",theme:"standard"},x)),r.createElement(f.M,{size:4,typeStyle:{customStyle:"headline-large"},align:"center",tag:"h4"},N),r.createElement(o.M,{imageFit:"contain",ratio:o.l.R3_2},r.createElement(l.F,{src:D,placeholderImage:!0,alt:"fee inclusion brand comparison"})),r.createElement(m.N,null,r.createElement(a.y,{onClick:U,size:i.V.LARGE},R))))))))};M.displayName="sharedui-ExitIntentModal";D.gql`
  fragment TnlFieldsFragment on PropertySearchResults {
    tnlFields {
      key
      value
    }
  }
`;var j=(e,t)=>{var n;const r="true"===(null==(n=e.find(e=>"disableFeeInclusiveMessaging"===(null==e?void 0:e.key)))?void 0:n.value),a=e.some(e=>"USFTC_SRP_BOTTOM_SHEET_HEADER"===(null==e?void 0:e.key));return!r&&a&&void 0!==t&&null!==(0,b.j_)(t.additionalEvents)},$=({ariaLabel:e,bulletPoints:t,isCenteredSheet:n=!1})=>{const a=r.useRef(null),[i,o,l]=(0,E.useDialog)("fee-inclusive-pricing-learn-more-sheet","learnMoreDialog");return r.createElement(s.K,{isVisible:i},r.createElement(l,null,r.createElement(u.t,{ariaLabel:e,autoFocus:!1,type:n?"centered":"full",isVisible:i,triggerRef:a,...n?{centeredSheetSize:"small"}:{}},r.createElement(g.p,{id:"fee-inclusive-pricing-learn-more-sheet-toolbar",pageMargin:"small",elevation:"default",navigationContent:{id:"fee-inclusive-pricing-learn-more-sheet-toolbar-navigation",onClick:()=>{o.closeDialog()},navIconLabel:"Close learn more dialog",navType:"close",navButtonId:"close-fee-inclusive-pricing-learn-more-sheet"}}),r.createElement(d.Y,{padded:!1},r.createElement(m.N,{padding:{blockend:"eight",inlinestart:"six",inlineend:"twelve"}},r.createElement(x.y,{size:1,data:t}))))))};$.displayName="sharedui-LearnMoreSheet";var B={FEE_INCLUSIVE_DIALOG_OPENED:new P.SystemEvent(P.SystemEventLevel.INFO,"FEE_INCLUSIVE_DIALOG_OPENED"),FEE_INCLUSIVE_DIALOG_CLOSED:new P.SystemEvent(P.SystemEventLevel.INFO,"FEE_INCLUSIVE_DIALOG_CLOSED")},U=({tnlFields:e,feeInclusivePricingSheetCookieKeyName:t="feeInclusivePricingSheetLastShown",reappearTimeInMilliseconds:n=18e5})=>{const u=r.useMemo(()=>0!==e.length?(e=>e.reduce((e,t)=>(e[t.key]=t.value,e),{}))(e):{},[e]),p=r.useRef(null),y=(0,v.useEgClickstream)(),[h,S]=(0,I.lT)([t]),D=2592e6,x=(0,r.useCallback)(()=>{se("dismiss")},[]),[w,{openDialog:A,closeDialog:M},j]=(0,E.useDialog)("fee-inclusive-pricing-sheet",void 0,void 0,x),U=(0,b.Aw)(),[z,H]=r.useState(!1),G=(0,T.s5)({[T.OB.SMALL]:!0,[T.OB.MEDIUM]:!1}),V=r.useCallback(()=>{S(t,Date.now().toString(),{path:"/",maxAge:D})},[t,S,D]),[,q]=(0,E.useDialog)("fee-inclusive-pricing-learn-more-sheet","learnMoreDialog"),K=r.useCallback(()=>{w||(A(),y(F(N)),V(),H(!1))},[w,A,y,V]),Y=r.useCallback(()=>{y(F(R)),V(),H(!0),se("close"),M()},[y,V,M]),Q=r.useCallback(()=>{q.openDialog(),y(F(L))},[q,y]);r.useEffect(()=>{null==U||U({type:b.iE.FEE_INCLUSIVE_PRICING_SHEET_DISMISSED,isFeeInclusivePricingSheetDismissed:z})},[U,z]),r.useEffect(()=>{const e=h[t];if(!e)return void K();const r=parseInt(e,10),a=Date.now(),i=n-(a-r);if(i<=0)return void K();const o=setTimeout(()=>{K()},i);return()=>{clearTimeout(o)}},[h,t,K,n]);const{USFTC_SRP_BOTTOM_SHEET_HEADER:X="",USFTC_SRP_BOTTOM_SHEET_SUBTEXT:W="",USFTC_SRP_BOTTOM_SHEET_PRIMARY_BUTTON_LABEL:J="",USFTC_SRP_BOTTOM_SHEET_LEARN_MORE_HEADER:Z="",USFTC_SRP_BOTTOM_SHEET_LEARN_MORE_BUTTON_LABEL:ee="",USFTC_SRP_BOTTOM_SHEET_URL:te="",USFTC_SRP_BOTTOM_SHEET_LEARN_MORE_BULLET_1:ne="",USFTC_SRP_BOTTOM_SHEET_LEARN_MORE_BULLET_2:re="",USFTC_SRP_BOTTOM_SHEET_LEARN_MORE_BULLET_3:ae=""}=u,ie=(0,O.useExperiment)("Bernie_location_change_optimization").exposure.bucket,oe=(0,r.useRef)(!1),le=(0,P.useLoggerEvents)(B);(0,r.useEffect)(()=>{var e,t,n,r,a;if(w&&!oe.current){oe.current=!0;const i={time:null==(n=null==(t=null==(e=window.performance)?void 0:e.measure)?void 0:t.call(e,"fee_inclusive_dialog_opened"))?void 0:n.duration,variant:ie};le.FEE_INCLUSIVE_DIALOG_OPENED.log(JSON.stringify(i)),null==(a=null==(r=window.performance)?void 0:r.mark)||a.call(r,"fee_inclusive_dialog_closed_duration_start")}},[w]);const ce=(0,r.useRef)(!1),se=(0,r.useCallback)(e=>{var t,n,r;if(!ce.current){ce.current=!0;const a={type:e,duration:null==(r=null==(n=null==(t=window.performance)?void 0:t.measure)?void 0:n.call(t,"fee_inclusive_dialog_closed_duration","fee_inclusive_dialog_closed_duration_start"))?void 0:r.duration,variant:ie};le.FEE_INCLUSIVE_DIALOG_CLOSED.log(JSON.stringify(a))}},[]);if(0===e.length||!(e=>["USFTC_SRP_BOTTOM_SHEET_URL","USFTC_SRP_BOTTOM_SHEET_HEADER","USFTC_SRP_BOTTOM_SHEET_SUBTEXT","USFTC_SRP_BOTTOM_SHEET_PRIMARY_BUTTON_LABEL","USFTC_SRP_BOTTOM_SHEET_LEARN_MORE_HEADER","USFTC_SRP_BOTTOM_SHEET_LEARN_MORE_BUTTON_LABEL","USFTC_SRP_BOTTOM_SHEET_LEARN_MORE_BULLET_1","USFTC_SRP_BOTTOM_SHEET_LEARN_MORE_BULLET_2","USFTC_SRP_BOTTOM_SHEET_LEARN_MORE_BULLET_3"].every(t=>{var n;return t in e&&""!==(null==(n=e[t])?void 0:n.trim())}))(u))return null;const ue=[ne,re,ae].filter(e=>null!=e),de=Z,me={autoFocus:!1,isVisible:w,triggerRef:p,...G?{type:"bottom",isExpanded:!1,hasModal:!0,tall:!0}:{type:"centered",centeredSheetSize:"small"}},pe=G?"six":"eight";return r.createElement(r.Fragment,null,r.createElement(s.K,{isVisible:w},r.createElement(j,null,r.createElement(C.c,{...me},r.createElement(g.p,{id:"fee-inclusive-pricing-sheet-toolbar",elevation:"default",navigationContent:{id:"fee-inclusive-pricing-sheet-toolbar-navigation",onClick:()=>{Y()},navIconLabel:"Close fee inclusive pricing dialog",navType:"close",navButtonId:"close-fee-inclusive-pricing-sheet"}}),r.createElement(d.Y,{padded:!1},r.createElement(m.N,{padding:{blockend:pe,inline:pe}},r.createElement("div",null,r.createElement(c.X,{direction:"column"},r.createElement(_.C,{maxWidth:"40x",alignSelf:"center"},r.createElement(o.M,{ratio:o.l.R1_1},r.createElement(l.F,{alt:"Fee inclusive pictogram",src:te}))),r.createElement(m.N,{margin:{blockstart:"four",blockend:"eight"}},r.createElement("div",null,r.createElement(f.M,{tag:"h2",align:"center",typeStyle:{customStyle:"headline-medium"}},X),r.createElement(f.M,{typeStyle:{customTheme:"standard",customStyle:"display-small"},align:"center",size:1},W))),r.createElement(a.y,{size:i.V.LARGE,isFullWidth:!0,onClick:Y},J),r.createElement(m.N,{margin:{blockstart:"four",blockend:G?"four":"unset"}},r.createElement(k.i,{inline:!0,size:"large",theme:"default",onClick:Q,align:"center"},r.createElement("button",{type:"button"},ee)))))))))),r.createElement($,{ariaLabel:de,bulletPoints:ue,isCenteredSheet:!G}))};U.displayName="sharedui-FeeInclusivePricingSheet"},19098:function(e,t,n){n.d(t,{v:function(){return G}});var r=n(56195),a=n(64097),i=n(26690),o=n(24558),l=n(46559),c=n(522),s=n(37292),u=n(42534),d=n(97778),m=n(20637),p=n(8724),f=n(64341),g=n(87818),y=n(52302),v=n(32462),E=n(96384),h=n(99828),b=n(87698),S=n(96394),I=n(74071),_=n(69287),k=n(80043),C=Object.defineProperty,O=Object.defineProperties,P=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,w=(e,t,n)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,A=(e,t)=>{for(var n in t||(t={}))D.call(t,n)&&w(e,n,t[n]);if(T)for(var n of T(t))x.call(t,n)&&w(e,n,t[n]);return e},N=(e,t)=>O(e,P(t)),R=i.gql`
  fragment MultiListingAdCallToActionFragment on SponsoredContentMultiListingAd {
    callToAction(context: $context, searchCriteriaInput: $searchCriteriaInput) {
      text
      action {
        accessibility
        resource {
          value
        }
        target
        analytics {
          linkName
          referrerId
        }
      }
    }
  }
`,L=({data:e,onClickCallback:t})=>{const n=(0,d.useClickTracker)(),{callToAction:a}=e,{accessibility:i,resource:o,target:l,analytics:p}=a.action,f=((e,t)=>({id:e.referrerId,description:e.linkName,callback:(e,n)=>t(e,n,!0)}))(p,n),g={rel:"noopener",target:l&&m.EHA[l]};return r.createElement(c.X,{alignItems:"start",direction:"column"},r.createElement(u.N,{margin:{blockstart:"four"}},r.createElement("div",null,r.createElement(s.i,{analytics:f,onClick:t},r.createElement("a",N(A({},g),{href:o.value}),a.text,!!i&&r.createElement("span",{className:"is-visually-hidden"},i))))))};L.fragment=R,L.displayName="MultiListingAdCallToAction";var F=i.gql`
  fragment MultiListingAdCarouselFragment on SponsoredContentMultiListingAd {
    brandProperties(context: $context, searchCriteriaInput: $searchCriteriaInput) {
      ...LodgingCardFragment
    }
    carouselAnalytics {
      linkName
      referrerId
    }
  }

  ${m.jjC.fragment}
`,M=({data:e,name:t,lodgingCardSelected:n,onHoverChanged:a})=>{var i;const{brandProperties:o,carouselAnalytics:l}=e,c=(0,d.useClickTracker)(),s=((e,t)=>{const n={};if(e){const r={id:e.referrerId,description:e.linkName,callback:(e,n)=>{t(e,n)}};n.analytics=r}return n})(l,c),f=o?null==(i=o[0])?void 0:i.mediaSection.gallery:null,g=N(A({},s),{buttonText:{nextButton:(null==f?void 0:f.nextButtonText)||"",prevButton:(null==f?void 0:f.previousButtonText)||""},navigationIconId:{next:`${t}-next`,prev:`${t}-prev`},carouselName:t,pageBy:1,peek:!0,itemsVisible:{xl:2,lg:2,md:2,sm:1},useContainerSizing:!1,itemsMaxHeight:!0,pagingInset:!0}),y=(e,t)=>N(A({},e),{impressionAnalytics:{referrerId:`${null==l?void 0:l.referrerId}.impression.${t}`,linkName:null==l?void 0:l.linkName,url:null,uisPrimeMessages:[{schemaName:"hotelProduct",messageContent:`{ "productId": ${e.id} }`}]}});return r.createElement(p._N,A({},g),null==o?void 0:o.map((e,t)=>e&&r.createElement(u.N,{key:`mla-${e.id}`,className:"uitk-card-roundcorner-all uitk-card-has-primary-theme"},l&&r.createElement(m.jjC,{data:y(e,t),view:m.K_G.COMPACT,onClickCallback:()=>null==n?void 0:n(e.id),onHoverChanged:a,border:!0}),!l&&r.createElement(m.jjC,{data:e,view:m.K_G.COMPACT}))))};M.fragment=F,M.displayName="MultiListingAdCarousel";var j=i.gql`
  fragment MultiListingAdHeadFragment on SponsoredContentMultiListingAd {
    paragraph
    logo {
      standard {
        url {
          value
        }
        description
        size
      }
    }
    badge {
      accessibility
      text
    }
    adTransparencyTrigger {
      adTransparencyId
      adTransparencyButton {
        ...AdTransparencyButtonFragment
      }
      adTransparencyOverlaySkeleton {
        ...TransparencyOverlaySkeletonFragment
      }
    }
    heading
    callToAction(context: $context, searchCriteriaInput: $searchCriteriaInput) {
      action {
        target
        accessibility
        resource {
          value
        }
        analytics {
          linkName
          referrerId
        }
      }
    }
  }

  fragment AdTransparencyButtonFragment on AdTransparencyButton {
    __typename
    primary
    accessibility
    disabled
    size
    icon {
      description
      id
      title
    }
    analyticsPayload
  }
  fragment TransparencyOverlaySkeletonFragment on TransparencyOverlaySkeleton {
    title
    error {
      icon {
        id
        size
      }
      description
      button {
        primary
      }
      allowedRetryAttempts
      exceededAttemptsMessage
    }
  }
`,$=({data:e,onClickCallback:t})=>{var n,a;const{logo:i,badge:o,paragraph:s,heading:d,adTransparencyTrigger:m}=e;if(!(i&&s&&d))return null;const p=i.standard&&r.createElement(b.D,{url:null==(n=i.standard.url)?void 0:n.value,size:S.G[i.standard.size||"5"],description:i.standard.description}),f=r.createElement(I.M,{tag:"h2",size:5},d),g=r.createElement(_.u,null,s),y=(null==o?void 0:o.text)&&r.createElement(v.G,{text:o.text,size:E.IA.SMALL,a11yText:null!=(a=o.accessibility)?a:void 0}),C=(null==m?void 0:m.adTransparencyButton)?r.createElement(k.x,{data:m}):y;return r.createElement(l.LM,null,r.createElement(l.NP,null,r.createElement(c.X,{direction:"column"},r.createElement(h.C,null,r.createElement(c.X,{wrap:"nowrap",justifyContent:"space-between",alignItems:"start"},r.createElement(h.C,{grow:0,alignSelf:"start"},p),r.createElement(h.C,{grow:0,alignSelf:"start"},C))),r.createElement(u.N,{margin:{blockend:"two",blockstart:"two"}},r.createElement(h.C,null,f)),r.createElement(u.N,{margin:{blockend:"three"}},r.createElement(h.C,{minWidth:"full_width"},g)))),r.createElement(l.rw,null,r.createElement(u.N,{margin:{blockend:"three"}},r.createElement(c.X,{space:"three",wrap:"nowrap",justifyContent:"space-between",alignContent:"center",alignItems:"center"},r.createElement(h.C,{maxWidth:100},p),r.createElement(h.C,{grow:4},r.createElement(c.X,{direction:"column",alignContent:"start"},r.createElement(h.C,{grow:1,minWidth:"full_width"},f),r.createElement(h.C,{grow:1,minWidth:"full_width",alignSelf:"start"},r.createElement(u.N,{margin:{blockstart:"half"}},g)))),r.createElement(h.C,{grow:0,alignSelf:"start"},C)))))};$.fragment=j,$.displayName="MultiListingAdHead";var B=({multiListingAd:e,name:t,onCardClickCallback:n,onHoverChanged:a})=>{const{resource:i,analytics:o}=e.link,l=(0,y.by)();(0,y.ii)(e.beacons);const c=()=>{var e;null==(e=null==o?void 0:o.urls)||e.forEach(e=>{l(e)}),"HttpURI"===(null==i?void 0:i.__typename)&&i.value&&l(i.value)},s=r.createElement(g.P,{type:"relative"},r.createElement(u.N,{padding:{blockstart:"six",blockend:"six"},border:["blockstart","blockend"]},r.createElement("div",null,r.createElement($,{data:e,onClickCallback:c}),r.createElement(M,{data:e,name:t,lodgingCardSelected:e=>{null==c||c(),null==n||n(e)},onHoverChanged:a}),r.createElement(L,{data:e,onClickCallback:c})))),m=(p=e.carouselAnalytics)?{referrerId:`${p.referrerId}.viewability`,linkName:p.linkName,minTime:1e3,intersectionOptions:{threshold:.3}}:null;var p;return m?r.createElement(d.IntersectionTimeTracker,A({},m)," ",s," "):s};B.displayName="MultiListingAdContent";var U=e=>{var t;const{inputs:n,skipSsr:a,name:o,onCardClickCallback:l,onHoverChanged:c}=e,{context:s}=(0,f.R)(),u=N(A({},n),{context:s}),{data:d,error:m,loading:p}=(0,i.useQuery)(z,{context:{shouldLogPerformance:!0},variables:u,ssr:!a,fetchPolicy:"no-cache"});if(p||m)return null;const g=null==d?void 0:d.sponsoredContent.multiListingAd;return(null==(t=null==g?void 0:g.brandProperties)?void 0:t.length)?r.createElement(B,{multiListingAd:g,name:o,onCardClickCallback:l,onHoverChanged:c}):null};U.displayName="sharedui-MultiListingAdComponent";var z=i.gql`
  query MultiListingAdQuery(
    $context: ContextInput!
    $sponsoredContentContextInput: SponsoredContentContextInput!
    $searchCriteriaInput: MultiItemSearchContextInput!
  ) {
    sponsoredContent {
      multiListingAd(context: $context, searchCriteriaInput: $searchCriteriaInput, sponsoredContentContextInput: $sponsoredContentContextInput) {
        ...MultiListingAdHeadFragment
        ...MultiListingAdCarouselFragment
        ...MultiListingAdCallToActionFragment
        carouselAnalytics {
          linkName
          referrerId
        }
        beacons {
          renderBeacons
        }
        link {
          resource {
            ... on HttpURI {
              value
            }
          }
          analytics {
            urls
          }
          target
        }
      }
    }
  }

  ${M.fragment}
  ${$.fragment}
  ${L.fragment}
`,H=e=>{var t=e,{inputs:n}=t,i=((e,t)=>{var n={};for(var r in e)D.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&T)for(var r of T(e))t.indexOf(r)<0&&x.call(e,r)&&(n[r]=e[r]);return n})(t,["inputs"]);const[o,c]=r.useState(0);return r.useEffect(()=>{c(window.innerHeight)},[]),r.createElement(l.LM,null,r.createElement(l.NP,null,r.createElement(a.A,{offset:o},r.createElement(U,A({inputs:n},i)))),r.createElement(l.rw,null,r.createElement(a.A,{offset:o/2},r.createElement(U,A({inputs:n},i)))))};H.displayName="sharedui-LazyMultiListingAd";var G=(0,o.P)(H);G.displayName="sharedui-MultiListingAd"},1630:function(e,t,n){n.d(t,{M:function(){return p},V:function(){return f}});var r=n(56195),a=n(26690),i=n(64341),o=n(51213),l=n(20637),c=n(32178),s=n(68638),u=a.gql`
  fragment AlmostLongStayCardFragment on OfferDetails {
    tnlFields {
      key
      value
    }
  }
`,d="Monthly Discount",m=(e,t)=>t===d?28-e:7-e,p=({daysBetween:e,endDate:t,startDate:n})=>{var a;const{context:s}=(0,i.R)(),{formatText:u}=(0,o.useLocalization)(),p=(e=>e>=5&&e<=6?"Weekly Discount":d)(e),f=m(e,p),g=new Date(t.year,t.month-1,t.day);g.setDate(g.getDate()+f);const y=u("propertyDetails.upsell.longStay.message.monthly"),v=u("propertyDetails.upsell.longStay.message.weekly"),E=null==(a=(0,c.m9)("EXPERIMENTAL_UPSELL_DISCOUNT_SIGNAL"))?void 0:a.value;if(!E)return null;const h=m(e,E);return r.createElement(r.Fragment,null,h>0&&r.createElement(l.T5e,{data:((e=1,t=d)=>({__typename:"EGDSStandardMessagingCard",heading:u("propertyDetails.upsell.longStay.heading",e),message:t===d?y:v,graphic:{__typename:"Illustration",description:"",id:"dark__calendar_clock",link:"https://a.travel-assets.com/travel-assets-manager/pictogram-vrbo/dark__calendar_clock.svg"},links:[{__typename:"EGDSStandardLink",action:{__typename:"UILinkAction",accessibility:null,analytics:{__typename:"ClientSideAnalytics",linkName:"Banner Open Calendar CTA",referrerId:t===d?"HOT.HIS.AlmostLongStayBanner.Monthly.Clicked":"HOT.HIS.AlmostLongStayBanner.Weekly.Clicked"},resource:{__typename:"SelfReferencedURI",value:""},target:l.iLS.INTERNAL,useRelativePath:!1},disabled:!1,size:l.fDl.MEDIUM,text:u("propertyDetails.upsell.longStay.action",e),iconPosition:null,standardLinkIcon:null}],background:"highlight",themes:null,dismiss:null,rightIcon:null,buttons:null,impressionTracking:null,themeProvider:null}))(h,E),onClickCBLink:()=>{const e={day:(r=new Date(t.year,t.month,t.day+h)).getDate(),month:r.getMonth(),year:r.getFullYear()};var r;window.dispatchEvent(new CustomEvent("availabilityChangeDates",{detail:{dateRangeInput:{checkInDate:n,checkOutDate:e},days:h}}))},preventDefaultLink:!0,columnAlignment:!0,dataStid:"property-offers-almost-long-stay",markSize:11,showBorder:!1}))};p.fragment=u,p.displayName="sharedui-AlmostLongStay";var f=()=>{const{formatText:e}=(0,o.useLocalization)(),[t,n]=(0,r.useState)({visible:!1,message:""});return(0,r.useEffect)(()=>{const t=t=>{const{days:r}=t.detail;if(null!=r){const t=e("propertyDetails.upsell.longStay.toast",r);n({visible:!0,message:t})}};return window.addEventListener("availabilityChangeDates",t),()=>{window.removeEventListener("availabilityChangeDates",t)}},[]),((e,t,n)=>{(0,r.useEffect)(()=>{if(e.visible){const e=setTimeout(()=>{t({visible:!1,message:""})},n);return()=>{clearTimeout(e)}}},[e.visible,n,t])})(t,n,4e3),r.createElement(s.N,{show:t.visible,verticalOffset:50},t.message)};f.displayName="sharedui-AlmostLongStayToast"},99409:function(e,t,n){n.d(t,{SU:function(){return E},U7:function(){return b},gb:function(){return f},pC:function(){return h}});var r=n(56195),a=n(26690),i=n(64341),o=n(68478),l=n(20637),c=n(79963),s=n(1675),u=n(31009),d=n(54662),m=n(99828),p=(0,r.createContext)({data:null,error:void 0,loading:!0,previousData:null}),f=()=>(0,r.useContext)(p);function g(e,t){return(null==e?void 0:e.categorizedProductOffers)&&(null==t?void 0:t.categorizedProductOffers)?{...e.categorizedProductOffers,categorizedListings:t.categorizedProductOffers.categorizedListings}:null}var y=a.gql`
  query CategorizedProductListingsQuery(
    $context: ContextInput!
    $marketing: PropertyMarketingInfoInput
    $productIdentifier: ProductIdentifierInput!
    $referrer: String
    $searchOffer: SearchOfferInput
    $selectedSavedQuoteInput: SelectedSavedQuoteInput
    $travelAdTrackingInfo: PropertyTravelAdTrackingInfoInput
  ) {
    categorizedProductOffers(
      context: $context
      marketing: $marketing
      productIdentifier: $productIdentifier
      referrer: $referrer
      searchOffer: $searchOffer
      selectedSavedQuoteInput: $selectedSavedQuoteInput
      travelAdTrackingInfo: $travelAdTrackingInfo
    ) {
      categorizedListings {
        ...LodgingSectionHeaderFragment
        ...MessageResultFragment
        ...PropertyUnitCategorizationFragment
      }
    }
  }

  ${s.JR.fragment}
  ${l.LBk.fragment}
  ${c.xE.fragment}
`,v=a.gql`
  query CategorizedProductAncillaryQuery(
    $context: ContextInput!
    $marketing: PropertyMarketingInfoInput
    $productIdentifier: ProductIdentifierInput!
    $referrer: String
    $searchOffer: SearchOfferInput
    $selectedSavedQuoteInput: SelectedSavedQuoteInput
    $travelAdTrackingInfo: PropertyTravelAdTrackingInfoInput
  ) {
    categorizedProductOffers(
      context: $context
      marketing: $marketing
      productIdentifier: $productIdentifier
      referrer: $referrer
      searchOffer: $searchOffer
      selectedSavedQuoteInput: $selectedSavedQuoteInput
      travelAdTrackingInfo: $travelAdTrackingInfo
    ) {
      clickstreamEvents
      id
      insurtechPrimingCardCategorizedListing {
        ...InsurtechPrimingCardCategorizedListingFragment
      }
      listingsHeader {
        ...LodgingHeaderFragment
      }
      offerAdaptExSuccessEvents {
        ...LodgingAdaptExAnalyticsEventFragment
      }
      offerLevelMessages {
        ...MessageResultFragment
      }
      offerFilters {
        ...LodgingOfferFiltersFragment
      }
      partnerPropertySearchLink {
        ...OffersLodgingLinkMessageFragment
      }
      propertySearchLink {
        ...OffersLodgingLinkMessageFragment
      }
      stickyBar {
        ...BaseStickyBookBarFragment
      }
      contents {
        ...ShoppingOfferDetailsContentContainerFragment
      }
      shoppingJoinListContainer {
        ...ShoppingJoinListContainerFragment
      }
    }
  }

  ${l.AKj}
  ${s.J7.fragment}
  ${l.uZW.fragment}
  ${s.qZ.fragment}
  ${d.Wt.fragment}
  ${l.LBk.fragment}
  ${u._Q}
  ${s.$r}
  ${s.bn}
`,E=({children:e,inputs:t,rum:n,skipSsr:l})=>{var c;const{context:u}=(0,i.R)(),d=null==(c=t.productIdentifier.travelSearchCriteria)?void 0:c.property,m=(0,s.Px)(d),f=JSON.stringify(m),E=(0,r.useMemo)(()=>({...t,context:u}),[f]),{trackEvent:h}=(0,o.eS)(),{data:b,previousData:S,error:I,loading:_}=(0,a.useQuery)(y,{variables:E,context:{batchKey:"lodging-property-offers",shouldLogPerformance:!0},ssr:!l,notifyOnNetworkStatusChange:!0,fetchPolicy:"no-cache"}),{data:k,previousData:C}=(0,a.useQuery)(v,{variables:E,context:{batchKey:"lodging-property-offers",shouldLogPerformance:!1},ssr:!l,notifyOnNetworkStatusChange:!0,fetchPolicy:"cache-first"}),O=(0,r.useRef)(!0),P=n&&O.current&&!0;O.current=!1,P&&(h("timing",{name:"propertyOffersInitialLoad"}),h("action",{action:"propertyOffersQueryExecuted"}));const T=(0,r.useMemo)(()=>({data:g(k,b),error:I,loading:_,previousData:g(C,S)}),[b,k,I,_,S,C]);return r.createElement(p.Provider,{value:T},e)};E.displayName="sharedui-CategorizedProductOffers";var h=({partnerPropertySearchLink:e,propertySearchLink:t,...n})=>t?r.createElement(s.vf,{...n,data:t,isPartnerLink:!1}):e?r.createElement(s.vf,{...n,data:e,isPartnerLink:!0}):null;h.displayName="sharedui-PropertySearchLink";var b=e=>{var t;const{clickTargetRef:n,focusTargetRef:a,scrollSectionRef:i,isSticky:o=!0,align:c="end",hideCtaButton:u=!1,hidePrice:d=!1,data:p,className:f,priceSummaryJustifyContent:g,overlayContent:y}=e,[v,E]=r.useState(!1),h=r.useRef(null),b=`dateless-price-${(0,l.vjX)()}`;if(!(null==(t=p.stickyButton)?void 0:t.text))return null;const{subText:S,price:I,propertyPrice:_,pricePresentation:k,pricePresentationDialog:C}=p,{formattedDisplayPrice:O}=I||{},P=O||S||_,T=r.createElement(r.Fragment,null,!d&&r.createElement("div",{className:f},r.createElement(s.O2,{data:p,wrapLeadPriceQualifier:!1,dialogId:b,align:c,justifyContent:g,triggerRef:h},k&&C&&r.createElement(s.I1,{data:p}))),r.createElement(m.C,null,(v||!o)&&!u&&r.createElement(s.x9,{data:p,isFullWidth:!P||d,clickTargetRef:n,focusTargetRef:a,scrollSectionRef:i,overlayContent:y}))),D=r.createElement(s.x9,{data:p,isFullWidth:!1,clickTargetRef:n,focusTargetRef:a,scrollSectionRef:i,overlayContent:y});return r.createElement(s.J7,{...e,data:p,dialogId:b,triggerRef:h,setStickyVisible:E,stickyVisible:v,priceComponent:T,stickyCtaComponent:D})};b.displayName="StickyBookBar",b.fragment=s.J7.fragment},79893:function(e,t,n){n.d(t,{a:function(){return Ie}});var r=n(56195),a=n(79963),i=n(8724),o=n(522),l=n(99828),c=n(1226),s=n(47540),u=n(42534),d=n(74071),m=n(68638),p=n(26690),f=n(64341),g=n(97778),y=n(51213),v=n(71514),E=n(31009),h=n(95519),b=n(2557),S=n(7484),I=n(89438),_=n(69287),k=n(34446),C=n(13301),O=n(92919),P=n(18174),T=n(22214),D=Object.defineProperty,x=Object.defineProperties,w=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable,L=(e,t,n)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,F=(e,t)=>{for(var n in t||(t={}))N.call(t,n)&&L(e,n,t[n]);if(A)for(var n of A(t))R.call(t,n)&&L(e,n,t[n]);return e},M=(e,t)=>x(e,w(t)),j={event_category:"cheaper_dates_module",event_name:"cheaper_dates_module_scroll.initiated",event_type:"Interaction",event_version:"1.0.0"},$={event_category:"cheaper_dates_module",event_name:"cheaper_dates_module.failed",event_type:"Outcome",event_version:"1.0.0"},B=p.gql`
  fragment CheaperDatesContentFragment on CheaperDatesContent {
    ... on CheaperDatesDisclaimer {
      description
      footer
      rangeIndicator {
        accessibility
        milestones {
          label {
            accessibility
            size
            text
            weight
          }
        }
        segments {
          pins {
            badge {
              accessibility
              text
            }
            percentage
          }
          style
          theme
        }
      }
      title {
        accessibility
        size
        text
        weight
      }
    }
  }
`,U=e=>r.createElement(_.u,M(F({},e),{size:3}),e.children),z=({actionId:e,data:t})=>{const{title:n,footer:a,rangeIndicator:i,description:c}=t,s=(0,E.pC)(e),u=null==i?void 0:i.milestones,m=null==i?void 0:i.segments;return(null==n?void 0:n.text)&&a&&c?r.createElement(r.Fragment,null,r.createElement(o.X,{justifyContent:"center",alignItems:"center"},r.createElement(l.C,null,r.createElement(S.t,null,r.createElement(h.q,{type:"button",onClick:s},r.createElement(b.LD,{name:"close",size:b.So.MEDIUM,title:"Close Sheet",id:"sheet-close-button-"})))),r.createElement(l.C,{grow:1,style:{paddingRight:48}},r.createElement(d.M,{align:"center","aria-label":n.accessibility||""},n.text))),r.createElement(o.X,null,r.createElement(l.C,null,r.createElement(I.Y,null,r.createElement(_.u,{size:2},c),i&&m&&u&&r.createElement(C.v,{accessibility:i.accessibility,segments:m,milestones:u}),a&&r.createElement(k.Q,{elementsToReplace:{p:U},htmlToParse:a}))))):null};z.fragment=B,z.displayName="LodgingCheaperDatesContent";var H=({data:e,actionId:t,handleToast:n,presentedAnalytics:a,selectedAnalytics:i,accessibilityLabel:o})=>{var l,c;const s=(0,E.pC)(t),u=(0,g.useEgClickstream)(),d=null==(c=null==(l=JSON.parse(a).events["cheaper_dates_card.presented"])?void 0:l.v1)?void 0:c.event_data,m=r.useRef(null);return r.createElement(O.g,{border:!0,padded:!0},r.createElement("button",{type:"button","data-testid":"cheaper-dates-list",ref:m,onClick:()=>{var e,t;s(),n(!0),u(null==(t=null==(e=JSON.parse(i).events["cheaper_dates_card.selected"])?void 0:e.v1)?void 0:t.event_data)},"aria-label":o},r.createElement(g.EgClickstreamImpressionTracker,{eventData:d},r.createElement("div",{style:{width:"186px"}},r.createElement(v._,{data:e,flexAlignment:"start",enableInlineLink:!0,isCheaperDates:!0})))))},G=({infoTrigger:e,contents:t,infoIconAnalytics:n})=>{var a,i;const o=null==e?void 0:e.actionId,l=(0,E.pC)(null!=o?o:""),c=(0,E.RN)(null!=o?o:""),s=r.useRef(null),d=(0,g.useEgClickstream)();if(!c)return null;const{contentId:m}=c,p=null==t?void 0:t.find(e=>e.contentId===m);if("CheaperDatesDisclaimer"!==(null==p?void 0:p.content.__typename))return null;return r.createElement(r.Fragment,null,(null==e?void 0:e.icon)&&r.createElement(u.N,{margin:{inlinestart:"one"}},r.createElement("div",null,r.createElement(P.t,{onClick:()=>{var e,t;l(),d(null==(t=null==(e=JSON.parse(n).events["cheaper_dates_module_info.selected"])?void 0:e.v1)?void 0:t.event_data)}},r.createElement("button",{type:"button","data-testid":"more-info-cheaper-dates",ref:s,"aria-label":null==(a=null==e?void 0:e.icon)?void 0:a.description},(null==e?void 0:e.icon)&&r.createElement(b.LD,{name:e.icon.id,size:b.So.EXTRA_SMALL,theme:null!=(i=e.icon.theme)?i:"emphasis",id:e.icon.id}))))),r.createElement(E.e3,{actionId:null!=o?o:"",renderNavigateBar:!1,useToolbar:!1,ref:s,hasModal:!0},r.createElement(z,{actionId:null!=o?o:"",data:p.content})))},V=(e,t)=>{var n;return null==(n=null==e?void 0:e.filter(e=>e.key===t)[0])?void 0:n.value};function q(e){const[t,n,r]=e.split("-"),a=Number(t),i=Number(n),o=Number(r);if(!t||!n||!r||Number.isNaN(a)||Number.isNaN(i)||Number.isNaN(o))throw new Error(`Invalid date string provided to stringToDateInput: "${e}"`);return{year:a,month:i,day:o}}var K=e=>{const t=(0,T.g$)();return(n,r,a)=>{const i=null==e?void 0:e.find(e=>e.paramsId===a);((e,t,n)=>{var r,a;if("selectCheaperDates"!==t||null==n)return;const i=q(null!=(r=V(n,"checkInDate"))?r:""),o=q(null!=(a=V(n,"checkOutDate"))?a:"");null!==i&&"object"==typeof i&&null!==o&&"object"==typeof o&&e({type:"change",field:"dates",value:{dates:{checkInDate:i,checkOutDate:o}}})})(t,r,null==i?void 0:i.keyValueParams)}},Y=p.gql`
  query LodgingCheaperDates(
    $cheapestLeadPrice: Float!
    $context: ContextInput!
    $maxSegmentLabel: String!
    $minSegmentLabel: String!
    $pinLabel: String!
    $pinPosition: Int!
    $productIdentifier: ProductIdentifierInput!
  ) {
    cheaperDates(
      cheapestLeadPrice: $cheapestLeadPrice
      context: $context
      maxSegmentLabel: $maxSegmentLabel
      minSegmentLabel: $minSegmentLabel
      pinLabel: $pinLabel
      pinPosition: $pinPosition
      productIdentifier: $productIdentifier
    ) {
      title
      subtitle
      cheaperDatesCarouselContainer {
        carousel {
          nextButton {
            accessibility
          }
          previousButton {
            accessibility
          }
        }
        items {
          accessibilityLabel
          actionId
          id
          presentedAnalytics
          selectedAnalytics
          cheaperDateSummary {
            ...PriceSummaryFragment
          }
        }
      }
      contents {
        contentId
        content {
          ...CheaperDatesContentFragment
        }
      }
      infoIconAnalytics
      infoTrigger {
        actionId
        icon {
          description
          id
          size
          theme
          token
        }
      }
      presentedAnalytics
      shoppingInvokeFunctionParams {
        keyValueParams {
          key
          value
        }
        paramsId
      }
      shoppingJoinListContainer {
        ...ShoppingJoinListContainerFragment
      }
    }
  }
  ${z.fragment}
  ${E._Q}
  ${v._.fragment}
`,Q=({inputs:e,skipSsr:t})=>{var n,a,v,h,b,S,I,_;const{context:k}=(0,f.R)(),[C,O]=r.useState(!1),{formatText:P}=(0,y.useLocalization)(),T=P("hotels.infosite.cheaperDates.toast.message"),D=(0,g.useEgClickstream)(),x=r.useRef(!0),w=M(F({},e),{context:k}),A=e=>{O(e)},{data:N,error:R,loading:L}=(0,p.useQuery)(Y,{context:{shouldLogPerformance:!0},variables:w,ssr:t}),B=(0,r.useCallback)(()=>{if(!x.current){D({event:j})}},[D]);if((0,r.useEffect)(()=>{var e,t,n;const r={event:$};if(null==N?void 0:N.cheaperDates){const{cheaperDates:{cheaperDatesCarouselContainer:a,presentedAnalytics:i}}=N;if(0===(null==(e=null==a?void 0:a.items)?void 0:e.length)||R)D(r);else{const e=null==(n=null==(t=JSON.parse(i).events["cheaper_dates_module.presented"])?void 0:t.v1)?void 0:n.event_data;D(e),x.current=!1}}else void 0!==N&&D(r)},[N,R,D]),L||R||!(null==N?void 0:N.cheaperDates))return null;const{cheaperDates:{title:U,cheaperDatesCarouselContainer:z,contents:V,infoTrigger:q,shoppingJoinListContainer:Q,shoppingInvokeFunctionParams:X,infoIconAnalytics:W}}=N,J=K(X);return 0===((null==(n=null==z?void 0:z.items)?void 0:n.length)||0)?null:r.createElement(E._T,{id:"cheaper-dates",shoppingJoinListContainer:Q,shoppingInvokeFunctionCallBack:J},r.createElement(u.N,{padding:{block:"one"}},r.createElement(c.w,{alignItems:"center",columns:1,space:{column:"six",row:"three"}},r.createElement(s.T,null,r.createElement("div",null,r.createElement(o.X,null,r.createElement(l.C,null,U&&r.createElement(d.M,{size:6},U)),r.createElement(l.C,null,(null==q?void 0:q.actionId)&&r.createElement(G,{infoTrigger:q,contents:V,infoIconAnalytics:W}))))),r.createElement(s.T,null,r.createElement(i._N,{navigationIconId:{next:"next-button",prev:"prev-button"},buttonText:{nextButton:null!=(h=null==(v=null==(a=null==z?void 0:z.carousel)?void 0:a.nextButton)?void 0:v.accessibility)?h:"",prevButton:null!=(I=null==(S=null==(b=null==z?void 0:z.carousel)?void 0:b.nextButton)?void 0:S.accessibility)?I:""},naturalWidthItems:!0,peek:!0,onIndexChange:B},null==(_=null==z?void 0:z.items)?void 0:_.map((e,t)=>r.createElement(H,{key:`lodging-cheaper-dates-price-summary-${t}`,data:e.cheaperDateSummary,actionId:e.actionId,handleToast:A,presentedAnalytics:e.presentedAnalytics,selectedAnalytics:e.selectedAnalytics,accessibilityLabel:e.accessibilityLabel||""})))),r.createElement(m.N,{show:C},T))))};Q.displayName="sharedui-LodgingCheaperDates";var X,W=n(16984),J=n(53017),Z=n(20637),ee=n(1675),te=n(64612),ne=n(27102),re=n(70882),ae=n(46559),ie=n(47073),oe=Object.defineProperty,le=Object.getOwnPropertyDescriptor,ce=Object.getOwnPropertyNames,se=Object.prototype.hasOwnProperty,ue=e=>((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of ce(t))se.call(e,a)||a===n||oe(e,a,{get:()=>t[a],enumerable:!(r=le(t,a))||r.enumerable});return e})(oe({},"__esModule",{value:!0}),e),de={};((e,t)=>{for(var n in t)oe(e,n,{get:t[n],enumerable:!0})})(de,{CheaperDatesWrapper:()=>X});var me,pe,fe=(me={"src/components/cheaper-dates-wrapper.tsx"(){X=({tnlFields:e})=>{var t,n,i,o,l;const c=new Map((null!=e?e:[]).map(({key:e,value:t})=>[e,t])),{propertyId:s,searchCriteria:u,shoppingContext:d}=(0,a.rU)(),m={cheapestLeadPrice:parseFloat(null!=(t=c.get("egtnl53927_cheapest_lead_price"))?t:"0"),maxSegmentLabel:null!=(n=c.get("egtnl53927_price_insight_max_label"))?n:"",minSegmentLabel:null!=(i=c.get("egtnl53927_price_insight_min_label"))?i:"",pinLabel:null!=(o=c.get("egtnl53927_price_insight_pin_label"))?o:"",pinPosition:parseInt(null!=(l=c.get("egtnl53927_price_insight_pin_position"))?l:"0",10),productIdentifier:{id:s,type:W.Wx.PROPERTY_ID,travelSearchCriteria:{property:u},shoppingContext:d}};return r.createElement("div",{"data-stid":"cheaper-dates-wrapper"},r.createElement(Q,{inputs:m,skipSsr:!0}))}}},function(){return me&&(pe=(0,me[ce(me)[0]])(me=0)),pe}),ge=p.gql`
  fragment PriceInsightDisclaimerFragment on PriceInsightDisclaimer {
    title {
      text
      theme
      weight
      size
      decorative
      accessibility
    }
    description {
      text
      theme
      weight
      size
      decorative
      accessibility
    }
    openEvent {
      ...ClientSideAnalyticsFragment
    }
    closeEvent {
      ...ClientSideAnalyticsFragment
    }
  }
  ${Z.hth}
`,ye=e=>r.createElement(_.u,{size:2},e.children),ve=({data:e,actionId:t})=>{const n=(0,ae.eg)({viewSizes:ae.pf})===ae.pf.SMALL,a=(0,E.pC)(t);if(!(null==e?void 0:e.description)||!(null==e?void 0:e.title))return null;const{description:i,title:c}=e;return r.createElement(r.Fragment,null,r.createElement(o.X,{alignItems:"center"},r.createElement(l.C,null,r.createElement(S.t,null,r.createElement("div",{style:{paddingLeft:10}},r.createElement(h.q,{type:"button",onClick:a},r.createElement(b.LD,{name:"close",size:b.So.EXTRA_SMALL,title:"close",id:"close"}))))),r.createElement(l.C,{grow:1},r.createElement(d.M,{"aria-label":c.accessibility||"",tag:"h4",size:n?6:7},c.text))),r.createElement(o.X,null,r.createElement(l.C,null,r.createElement(I.Y,null,r.createElement(k.Q,{htmlToParse:i.text,elementsToReplace:{p:ye}})))))};ve.displayName="PriceInsightDisclaimer",ve.fragment=ge;var Ee=({detailsLink:e,contents:t})=>{const{actionId:n,text:a}=e||{},i=(0,E.pC)(null!=n?n:""),o=(0,E.RN)(null!=n?n:""),l=r.useRef(null);if(!n||!o)return null;const{contentId:c}=o,s=null==t?void 0:t.find(e=>e.contentId===c);return"PriceInsightDisclaimer"!==(null==s?void 0:s.content.__typename)?null:r.createElement(r.Fragment,null,r.createElement(ie.x,{onClick:i,inline:!0},r.createElement("button",{type:"button",ref:l},r.createElement(ne.D,{size:200},a))),r.createElement(E.e3,{actionId:n,renderNavigateBar:!1,useToolbar:!1,ref:l,hasModal:!0},r.createElement(ve,{data:s.content,actionId:n})))},he=p.gql`
  fragment PriceInsightCardFragment on PriceInsightCard {
    expando {
      ...EGDSExpandoCardFragment
    }
    footer {
      text
    }
    rangeIndicator {
      accessibility
      milestones {
        label {
          size
          text
          weight
        }
      }
      segments {
        pins {
          badge {
            accessibility
            text
          }
          percentage
        }
        style
        theme
      }
    }
  }
  ${Z.J$P.fragment}
`,be=({data:e,oneColumnDisplay:t,detailsLink:n,contents:a,tnlFields:i})=>{const[,o]=(0,re.useDialog)("price-insight-dialog"),l=1===(0,J.useExperiment)("App_Shell_Property_Requirement_Web",!0).exposure.bucket,d=1===(0,J.useExperiment)("App_Shell_Property_Requirement_Web_Dateless",!0).exposure.bucket,m=l||d,{rangeIndicator:p,footer:f}=e,{accessibility:g}=p,y=(0,ae.eg)({viewSizes:ae.pf})===ae.pf.SMALL||t,v=y?1:2,E=2===(0,J.useExperiment)("PriceInsight_Discoverability",!0).exposure.bucket,h=E&&Boolean(null==i?void 0:i.find(({key:e})=>e.startsWith("egtnl59564_priceInsightImprovement"))),b=E&&y,S=p.milestones,I=p.segments,k=(0,r.useMemo)(()=>(null==i?void 0:i.reduce((e,t)=>{let{value:n,key:r}=t;if(!r.startsWith("egtnl59564_priceInsightImprovement"))return e;if(r.includes("icon_theme"))r="iconTheme";else if(r.includes("icon_spotlight"))r="spotLight";else{if(!r.includes("icon_id"))return e;r="id",n=n.toLowerCase()}return{...e,[r]:n}},{__typename:"Icon"}))||null,[i]),P=Object.assign({hasBorder:!E},y&&{padding:"four"},E&&{backgroundTheme:te.g5.SECONDARY,padding:"three"}),T=h?{...e.expando,headingGraphic:k}:e.expando;let D;return D=E?"two":y?"six":void 0,r.createElement(Z.J$P,{data:{...T,subtitle:null},isIndented:!1,titleSize:m||E||t?6:5,titleTag:"h3",titleWeight:"medium",...P},r.createElement(O.g,{padded:E,overflow:!0},r.createElement(c.w,{columns:v},r.createElement(s.T,{colStart:1},r.createElement(_.u,{size:3},r.createElement(u.N,{padding:{inlineend:"one",blockstart:E&&!y?"two":void 0}},r.createElement("div",null,r.createElement(ne.D,{size:200},T.subtitle," ",r.createElement(Ee,{detailsLink:n,contents:a})))))),r.createElement(s.T,{rowSpan:v,rowStart:E&&y?1:void 0},r.createElement(u.N,{padding:{inlinestart:y?void 0:"four",blockstart:D,blockend:E&&y?"two":void 0}},r.createElement("div",null,I&&S&&r.createElement(C.v,{accessibility:g,segments:I,milestones:S})))),f&&r.createElement(s.T,{colStart:1,rowStart:b?3:2},r.createElement(_.u,{size:3},f.text)))))};be.displayName="PriceInsight",be.fragment=he;var Se=p.gql`
  fragment PriceInsightFragment on OfferDetails {
    priceInsight {
      analyticsPayload
      impressionAnalytics {
        referrerId
        linkName
      }
      card {
        ...PriceInsightCardFragment
      }
      contents {
        contentId
        content {
          ...PriceInsightDisclaimerFragment
        }
      }
      detailsLink {
        ...ShoppingLinkFragment
      }
      shoppingJoinListContainer {
        ...ShoppingJoinListContainerFragment
      }
      tnlFields {
        key
        value
      }
    }
  }

  ${be.fragment}
  ${ve.fragment}
  ${Z.B8m.fragment}
  ${E._Q}
`,Ie=({data:e,oneColumnDisplay:t})=>{var n,a,i,o,l;const c=(0,g.useEgClickstream)(),s=null==(a=null==(n=null==e?void 0:e.priceInsight)?void 0:n.tnlFields)?void 0:a.some(e=>"egtnl53927_price_insight_status"===e.key&&"high"===e.value),u=(0,J.useExperiment)("Cheaper_dates_client_toggle_web").exposure.bucket>0,d=null!=(o=null==(i=null==e?void 0:e.priceInsight)?void 0:i.tnlFields)?o:[];if((0,r.useEffect)(()=>{var t,n,r,a;if(null==e?void 0:e.priceInsight){const{priceInsight:{analyticsPayload:i,card:o}}=e,l=JSON.parse(i);c(o?null==(n=null==(t=l.events[ee.ts.PRICE_INSIGHT_MODULE_PRESENTED])?void 0:t.v1)?void 0:n.event_data:null==(a=null==(r=l.events[ee.ts.PRICE_INSIGHT_MODULE_FAILED])?void 0:r.v1)?void 0:a.event_data)}},[]),s&&d.length>0&&u){const{CheaperDatesWrapper:e}=(fe(),ue(de));return r.createElement(e,{tnlFields:d})}if(!(null==(l=null==e?void 0:e.priceInsight)?void 0:l.card))return null;const{priceInsight:{card:m,impressionAnalytics:p,detailsLink:f,shoppingJoinListContainer:y,contents:v,tnlFields:h}}=e;return r.createElement(E._T,{id:"price-insight",shoppingJoinListContainer:y},r.createElement(J.Experiment,{name:"PriceInsight_Discoverability"},r.createElement(J.ExperimentControl,null,r.createElement(be,{data:m,oneColumnDisplay:t,detailsLink:f,contents:v})),r.createElement(J.ExperimentVariant,{bucket:1},r.createElement(be,{data:m,oneColumnDisplay:t,detailsLink:f,contents:v})),r.createElement(J.ExperimentVariant,{bucket:2},r.createElement(be,{data:m,tnlFields:h,oneColumnDisplay:t,detailsLink:f,contents:v}))))};Ie.displayName="PriceInsight",Ie.fragment=Se},15037:function(e,t,n){n.d(t,{_j:function(){return V},wr:function(){return $}});var r=n(56195),a=n(26690),i=n(10799),o=n(32112),l=n(96384),c=n(92919),s=n(24109),u=n(522),d=n(99828),m=n(1226),p=n(47540),f=n(32380),g=n(89962),y=n(87698),v=n(96394),E=n(42534),h=n(27102),b=n(74071),S=n(97778),I=n(2557),_=n(37292),k=n(77913),C=n(20637),O=n(28662),P=n(90072),T=n(51537),D=n(1675),x=a.gql`
  fragment PropertyContentItemLodgingLinkMessageFragment on LodgingLinkMessage {
    icon {
      __typename
      id
      description
      withBackground
    }
    link {
      clientSideAnalytics {
        linkName
        referrerId
      }
      uri {
        relativePath
        value
        __typename
      }
      referrerId
      target
      __typename
    }
    value
    accessibilityLabel
    __typename
  }
`,w=({data:e,onClick:t,spacing:n})=>{const{icon:a,link:i,value:o,accessibilityLabel:l}=e,c=(0,S.useClickTracker)();return s=r.createElement(_.i,{onClick:t||(()=>{var e,t;(null==(e=i.clientSideAnalytics)?void 0:e.referrerId)&&(null==(t=i.clientSideAnalytics)?void 0:t.linkName)&&c(i.clientSideAnalytics.referrerId,i.clientSideAnalytics.linkName)})},r.createElement("a",{href:i.uri.value,target:i.target||"","aria-hidden":"false"},o,r.createElement("span",{className:"is-visually-hidden"},l),(null==a?void 0:a.id)&&r.createElement(I.LD,{name:a.id}))),n?r.createElement(E.N,{...n},r.createElement("div",null,s)):r.createElement("div",null,s);var s};w.fragment=x,w.displayName="PropertyContentItemLodgingLinkMessage";var A=a.gql`
  fragment OffersPropertyContentItemTextFragment on PropertyContentItemText {
    content {
      primary {
        value
        badge {
          icon_temp {
            id
            description
            title
            __typename
          }
          mark {
            id
            description
            __typename
          }
          text
          theme_temp
          __typename
        }
        __typename
      }
      __typename
    }
  }
`,N=({data:e,badgeSize:t})=>{var n;const{primary:a}=e.content;return r.createElement(r.Fragment,null,a.badge&&r.createElement(p.T,null,r.createElement(E.N,{margin:{inlineend:"two"}},r.createElement(h.D,{"aria-hidden":"VIP Access"===a.badge.text?"true":"false"},r.createElement(k.V,{text:null!=(n=a.badge.text)?n:void 0,theme:a.badge.theme_temp?C.x2D[a.badge.theme_temp]:void 0,size:t,a11yText:"VIP Access"===a.badge.text?void 0:`${a.badge.text} tier member`})))),a.value&&r.createElement(p.T,null,r.createElement(E.N,{padding:{small:{inlineend:"unset"},medium:{inlineend:"four"}}},r.createElement(h.D,{theme:"standard",size:300},a.value))))};N.displayName="PropertyContentItemText",N.fragment=A;var R=a.gql`
  fragment VipAccessModuleDetailFragment on PropertyContentSectionGroup {
    sections {
      sectionName
      header {
        text
      }
      bodySubSections {
        elementsV2 {
          elements {
            __typename
            ... on PropertyContent {
              items {
                __typename
                ...OffersPropertyContentItemTextFragment
                ...PropertyContentItemLodgingLinkMessageFragment
              }
            }
          }
        }
      }
    }
    themeProvider {
      lightMode {
        themeProviderColor
      }
    }
    impressionAnalytics {
      event
      linkName
      referrerId
      uisPrimeMessages {
        messageContent
        schemaName
      }
    }
    expando {
      collapseButton {
        text
        accessibilityLabel
        analytics {
          linkName
          referrerId
        }
      }
      expandButton {
        text
        accessibilityLabel
        analytics {
          linkName
          referrerId
        }
      }
    }
  }
  ${N.fragment}
  ${w.fragment}
`,L=({data:e,hasExpando:t=!1})=>{var n,a,i,o;const{sections:y,impressionAnalytics:v,themeProvider:I,expando:_}=e,k=(0,S.useClickTracker)(),[x,A]=r.useState(!1);if(!y||!(null==y?void 0:y.length)||y.some(e=>{var t;return null===e.bodySubSections||!(null==(t=null==e?void 0:e.bodySubSections)?void 0:t.length)}))return null;const R=y.some(e=>"rightSection"===e.sectionName),L=y.map((e,n)=>{var a,i,o,c;if(!e.bodySubSections||!(null==(a=e.bodySubSections)?void 0:a.length))return null;const y=null==(o=null==(i=e.bodySubSections[0])?void 0:i.elementsV2[0])?void 0:o.elements[0],v="PropertyContent"===(null==y?void 0:y.__typename)?y.items:null;if(!(null==v?void 0:v.length))return null;const S=v.map((e,t)=>"PropertyContentItemText"===e.__typename?r.createElement(N,{key:`content-item-text-${t}`,data:e}):null);switch(e.sectionName){case"headerSection":{const a=r.createElement(p.T,{colSpan:{small:1,medium:3}},r.createElement(s.E,{border:I?void 0:"bottom",padded:!1},r.createElement(E.N,{padding:{blockend:"three"}},r.createElement(u.X,null,S)))),i=r.createElement(p.T,{colSpan:{small:1,medium:3}},r.createElement(s.E,{padded:!1},r.createElement(E.N,{padding:{blockend:"one"}},r.createElement(u.X,{space:"two",alignItems:"center",wrap:"wrap"},r.createElement(u.X,null,S),e.header&&r.createElement(u.X,null,r.createElement(d.C,null,r.createElement(b.M,{tag:"h3",size:5,key:`header-title-${n}`},r.createElement(h.D,{weight:"bold"},e.header.text))))))));return t?i:a}case"leftSection":return r.createElement(p.T,{colSpan:R?void 0:{small:1,medium:3}},r.createElement(E.N,{padding:{block:"four"}},r.createElement(u.X,{direction:"column",space:"two"},r.createElement(d.C,null,e.header&&r.createElement(b.M,{tag:"h3",size:5},r.createElement(h.D,{weight:"bold"},e.header.text))),R?r.createElement(d.C,null,S):r.createElement(d.C,null,r.createElement(f.y,null,v.map((e,t)=>"PropertyContentItemText"===e.__typename?r.createElement(g.x,{key:`property-content-list-item-${t}`},e.content.primary.value):null))))));case"rightSection":return r.createElement(p.T,{colSpan:{small:1,medium:2}},r.createElement(E.N,{padding:{small:{blockend:"four"},medium:{block:"three",inlinestart:"twelve"}}},r.createElement(u.X,{direction:"column",space:"two"},r.createElement(E.N,{margin:{small:{blockstart:"two",blockend:"two"},medium:{blockstart:"one"}}},r.createElement(d.C,null,r.createElement(u.X,{space:"two",alignItems:"center"},r.createElement(d.C,null,e.header&&r.createElement(b.M,{tag:"h3",size:7},r.createElement(h.D,{weight:"bold"},e.header.text)))))),r.createElement(d.C,null,r.createElement(m.w,{space:"two",columns:["max-content","auto"]},v.map((e,t)=>"PropertyContentItemText"===e.__typename?r.createElement(N,{data:e,badgeSize:l.IA.SMALL,key:t}):null))))));case"footerSection":if("LodgingLinkMessage"===(null==(c=v[0])?void 0:c.__typename)){const e=r.createElement(p.T,{colSpan:{small:1,medium:3}},r.createElement(E.N,null,r.createElement(d.C,null,r.createElement(E.N,{margin:{small:{block:"unset"},medium:{block:"two"}}},r.createElement("div",null,v&&r.createElement(w,{data:v[0]})))))),n=r.createElement(p.T,{colSpan:{small:1,medium:3}},r.createElement(E.N,null,r.createElement(d.C,null,r.createElement(E.N,{margin:{small:{blockstart:"unset",blockend:"three"},medium:{blockstart:"two",blockend:"one"}}},r.createElement("div",null,v&&r.createElement(w,{data:v[0]}))))));return t?n:e}return null;default:return null}}),F=r.createElement(E.N,{padding:{blockstart:"four",small:{blockend:"six",inline:"four"},medium:{blockend:"two",inline:"six"}}},r.createElement(s.E,null,r.createElement(m.w,{columns:{medium:["1fr","2fr"]},rows:{small:["1fr"],medium:["1fr"]}},L))),M=r.createElement(E.N,{padding:{blockstart:"four",small:{blockend:"three",inline:"four"},medium:{blockend:"three",inline:"six"}}},r.createElement(s.E,null,r.createElement(O.f,null,r.createElement(P.U,{isVisible:x,expandoTitle:r.createElement(m.w,{columns:{medium:["1fr","2fr"]},rows:{small:["1fr"],medium:["1fr"]}},L[0]),expandoDescription:r.createElement(s.E,{border:I?void 0:"top",padded:!1},r.createElement(m.w,{columns:{medium:["1fr","2fr"]},rows:{small:["1fr"],medium:["1fr"]}},L.slice(1))),triggerPosition:"trailing",onToggle:()=>A(!x),isIndented:!1,analytics:(()=>{var e,t;const n=null==(e=null==_?void 0:_.collapseButton)?void 0:e.analytics,r=null==(t=null==_?void 0:_.expandButton)?void 0:t.analytics;if(!n||!r)return;const a=x?n:r;return{id:a.referrerId,description:a.linkName,callback:(e,t)=>{k(e,t)}}})(),key:"expandoListItem_0"}))));let j=t?M:F;if(I){const e=null!=(a=null==(n=I.lightMode)?void 0:n.themeProviderColor)?a:C.FFL.NONE,t={lightMode:{colorTheme:C.GV5[e],isGradient:!0}};j=r.createElement(T.EGDSThemeProvider,{isColorThemeContainer:!0,config:t},r.createElement(c.g,{"data-stid":"vip-access-card"},r.createElement("div",null,j)))}else j=r.createElement(c.g,{"data-stid":"vip-access-card",border:!0},r.createElement("div",null,j));return v?r.createElement(S.IntersectionTracker,{trackOnce:!0,referrerId:null!=(i=null==v?void 0:v.referrerId)?i:"",linkName:null!=(o=null==v?void 0:v.linkName)?o:"",additionalUisPrimeMicroMessages:(0,D.RY)(v.uisPrimeMessages)||[],intersectionOptions:{threshold:.5}},j):j};L.fragment=R,L.displayName="VipAccessModuleDetail";var F=a.gql`
  fragment VipModuleFragment on PropertyHighlightSection {
    label
    header {
      mark {
        id
        description
      }
      text
    }
    subSections {
      title {
        badge {
          theme_temp
          text
        }
        value
        state
      }
      description
      contents {
        badge {
          text
          theme_temp
        }
        value
      }
      footerLink {
        ...PropertyContentItemLodgingLinkMessageFragment
      }
    }
  }

  ${w.fragment}
`,M=({data:e})=>{var t,n,a,I,_,k,C,O,P,T;const{label:D,header:x,subSections:A}=e,N=(0,S.useClickTracker)();if(!(null==A?void 0:A.length))return null;const R=A[0],L=A[1];if(!(null==(t=null==L?void 0:L.contents)?void 0:t.length))return null;const{contents:F}=L,M=(0,m.I)(e=>{var t;return(null==(t=L.title)?void 0:t.badge)?r.createElement(f.y,{...e},F.map((e,t)=>{const{value:n}=e;return r.createElement(g.x,{key:`property-highlight-list-item-${t}`},n)})):r.createElement(m.w,{columns:["max-content","auto"],"data-stid":"contentList",space:"two"},F.map((e,t)=>{const{badge:n,value:a}=e;return r.createElement(r.Fragment,{key:`property-highlight-list-item-${t}`},r.createElement(p.T,null,r.createElement(h.D,null,r.createElement(i.l,{text:(null==n?void 0:n.text)||"",theme:(null==n?void 0:n.theme_temp)&&o._[n.theme_temp]||"",size:l.IA.LARGE}))),r.createElement(p.T,null,r.createElement(h.D,null,a)))}))}),j=Math.ceil(F.length/2);return r.createElement("div",null,r.createElement(c.g,null,r.createElement(E.N,{padding:{blockstart:"four",small:{blockend:"six",inline:"four"},medium:{blockend:"one",inline:"six"}}},r.createElement(s.E,null,r.createElement(m.w,{columns:{medium:["1fr","2fr"]},rows:{small:["1fr"],medium:["1fr"]}},r.createElement(p.T,{colSpan:{small:1,medium:3}},r.createElement(s.E,{border:"bottom",padded:!1},r.createElement(E.N,{padding:{blockend:"three"}},r.createElement("div",null,r.createElement(h.D,{className:"is-visually-hidden"},D),(null==x?void 0:x.mark)&&r.createElement(E.N,{margin:{inlineend:"three"}},r.createElement(y.D,{name:x.mark.id,size:v.K.MEDIUM_LARGE})))))),r.createElement(p.T,null,r.createElement(E.N,{padding:{block:"four"}},r.createElement(u.X,{direction:"column",space:"two"},r.createElement(d.C,null,r.createElement(b.M,{tag:"h3",size:7},r.createElement(h.D,{weight:"bold"},null==(n=null==R?void 0:R.title)?void 0:n.value))),r.createElement(d.C,null,r.createElement(E.N,{padding:{small:{inlineend:"unset"},medium:{inlineend:"six"}}},r.createElement(h.D,null,null==R?void 0:R.description))),r.createElement(d.C,null,(null==R?void 0:R.footerLink)&&r.createElement(w,{data:R.footerLink,onClick:()=>{var e;(null==(e=null==R?void 0:R.footerLink)?void 0:e.link.referrerId)&&N(R.footerLink.link.referrerId,D||"Clicked Learn More Link of VipModule")},spacing:{margin:{blockstart:"three"}}}))))),r.createElement(p.T,{colSpan:{small:1,medium:2}},r.createElement(E.N,{padding:{small:{block:"unset"},medium:{block:"three",inlinestart:"twelve"}}},r.createElement(u.X,{direction:"column",space:"two"},r.createElement(E.N,{margin:{small:{blockstart:"four",blockend:"two"},medium:{blockstart:"one"}}},r.createElement(d.C,null,r.createElement(u.X,{space:"two",alignItems:"center"},(null==(a=L.title)?void 0:a.badge)&&r.createElement(d.C,null,r.createElement(i.l,{text:(null==(_=null==(I=L.title)?void 0:I.badge)?void 0:_.text)||"",theme:(null==(C=null==(k=L.title)?void 0:k.badge)?void 0:C.theme_temp)&&o._[null==(P=null==(O=L.title)?void 0:O.badge)?void 0:P.theme_temp]||"",size:l.IA.LARGE})),r.createElement(d.C,null,r.createElement(b.M,{tag:"h3",size:7},r.createElement(h.D,{weight:"regular"},null==(T=L.title)?void 0:T.value)))))),r.createElement(d.C,null,r.createElement(u.X,null,r.createElement(M,{rows:j}))),r.createElement(d.C,null,L.footerLink&&r.createElement(w,{data:L.footerLink,onClick:()=>{var e;(null==(e=L.footerLink)?void 0:e.link.referrerId)&&N(L.footerLink.link.referrerId,D||"Clicked Sign In Sign Up Link of VipModule")},spacing:{margin:{small:{block:"unset"},medium:{block:"two"}}}}))))))))))};M.fragment=F,M.displayName="VipModule";var j=a.gql`
  fragment NewVipModuleFragment on OfferDetails {
    propertyHighlightSection {
      ...VipModuleFragment
    }
  }
  ${M.fragment}
`,$=({data:e})=>{const{propertyHighlightSection:t}=e;return t?r.createElement(M,{data:t}):null};$.fragment=j,$.displayName="NewVipModule";var B=a.gql`
  fragment PropertyHighlightSectionFragment on PropertyHighlightSection {
    label
    header {
      badge {
        text
        theme_temp
      }
      mark {
        id
        description
      }
      text
    }
    subSections {
      description
      contents {
        icon {
          id
          withBackground
          description
        }
        value
      }
    }
    footerLink {
      icon {
        id
      }
      link {
        referrerId
        uri {
          relativePath
          value
        }
        target
      }
      value
      accessibilityLabel
    }
  }
`,U=({data:e})=>{var t;const{label:n,header:a,subSections:k,footerLink:C}=e,O=(0,S.useClickTracker)();if(!(null==k?void 0:k.length)||!k[0])return null;const{contents:P,description:T}=k[0];if(!(null==P?void 0:P.length))return null;const D=(0,m.I)(e=>r.createElement(f.y,{...e,bullet:"icon-alternate",spacing:!0},P.map((e,t)=>{const{icon:n,value:a}=e;return r.createElement(g.x,{key:`property-highlight-list-item-${t}`},(null==n?void 0:n.id)&&r.createElement(I.LD,{name:n.id}),r.createElement(u.X,{space:"two"},r.createElement(h.D,null,a)))}))),x=Math.ceil(P.length/2);return r.createElement("div",null,r.createElement(c.g,null,r.createElement(s.E,{padded:!0},r.createElement(m.w,{columns:{small:1,medium:2,large:3}},r.createElement(p.T,{colStart:1,colSpan:"all"},r.createElement("div",null,r.createElement(h.D,{className:"is-visually-hidden"},n),(null==a?void 0:a.mark)&&r.createElement(E.N,{margin:{inlineend:"three"}},r.createElement(y.D,{name:a.mark.id,size:v.K.MEDIUM_LARGE})),(null==a?void 0:a.badge)&&r.createElement(i.l,{text:a.badge.text||"",theme:a.badge.theme_temp&&o._[a.badge.theme_temp],size:l.IA.LARGE}),(null==a?void 0:a.text)&&r.createElement(b.M,{tag:"h2",size:5},a.text))),r.createElement(E.N,{padding:{blockstart:"two"},margin:{inlineend:"three"}},r.createElement(p.T,{colSpan:{medium:2,large:1}},r.createElement(h.D,null,T))),r.createElement(E.N,{padding:{blockstart:"two",inlinestart:"two"},margin:{inlineend:"three"}},r.createElement(p.T,{colSpan:{medium:2,large:2}},r.createElement(D,{rows:x,autoFlow:"column"})))),C&&r.createElement(E.N,{margin:{blockstart:"four"}},r.createElement(u.X,{alignItems:"end",direction:"column",wrap:"nowrap"},r.createElement(d.C,null,r.createElement(_.i,{inline:!0,onClick:()=>{(null==C?void 0:C.link.referrerId)&&O(C.link.referrerId,n||"Clicked footer link of PropertyHighlightSection")}},r.createElement("a",{href:C.link.uri.value,target:C.link.target||""},C.value,r.createElement("span",{className:"is-visually-hidden"},C.accessibilityLabel),r.createElement(I.LD,{name:(null==(t=C.icon)?void 0:t.id)||""})))))))))};U.fragment=B,U.displayName="PropertyHighlightSection";var z=a.gql`
  fragment VipMessagingFragment on OfferDetails {
    propertyHighlightSection {
      ...PropertyHighlightSectionFragment
    }
  }

  ${U.fragment}
`,H=({data:e})=>{const{propertyHighlightSection:t}=e;return t?r.createElement(U,{data:t}):null};H.fragment=z,H.displayName="sharedui-VipMessaging";var G=a.gql`
  fragment VipMessagingCardFragment on OfferDetails {
    propertyHighlightSection {
      ...PropertyHighlightSectionFragment
    }
    propertyContentSectionGroup {
      ...VipAccessModuleDetailFragment
    }
  }
  ${L.fragment}
  ${U.fragment}
`,V=({data:e,hasExpando:t=!1})=>{const{propertyHighlightSection:n,propertyContentSectionGroup:a}=e;return n||a?n?r.createElement(U,{data:n}):a?r.createElement(L,{data:a,hasExpando:t}):null:null};V.fragment=G,V.displayName="sharedui-VipMessagingCard"},45831:function(e,t,n){n.d(t,{Lw:function(){return J},RR:function(){return Q},fi:function(){return Y}});var r=n(56195),a=n(522),i=n(99828),o=n(1226),l=n(47540),c=n(43888),s=n(934),u=n(89438),d=n(42534),m=n(26690),p=n(64341),f=n(97778),g=n(20637),y=n(37965),v=n(46559),E=n(2557),h=n(37292),b=n(27102),S=n(74071),I=n(24924),_=n(23726),k=n(70882),C=n(59518),O=n(25229),P=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,N=(e,t,n)=>t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,R=(e,t)=>{for(var n in t||(t={}))w.call(t,n)&&N(e,n,t[n]);if(x)for(var n of x(t))A.call(t,n)&&N(e,n,t[n]);return e},L=(e,t)=>T(e,D(t)),F=m.gql`
  fragment PropertyActivitiesCrossSellActionFragment on PropertyActivitiesCrossSellLinkButton {
    action {
      actionType
      activityId
      analytics {
        eventType
        linkName
        referrerId
      }
    }
    button {
      accessibility
      iconPosition
      text
      icon {
        id
      }
    }
  }
`,M=({data:e,onActionClick:t})=>{const{action:n,button:a}=e;return r.createElement(r.Fragment,null,n.map((e,n)=>{var i;return r.createElement(l.T,{key:`property-activities-cross-sell-action-${n}`},r.createElement(h.i,{onClick:()=>t(e.actionType,e.analytics)},r.createElement("button",{type:"button","aria-expanded":"false"},a.text,(null==a?void 0:a.icon)&&r.createElement(E.LD,{name:null==(i=null==a?void 0:a.icon)?void 0:i.id}))))}))};M.displayName="PropertyActivitiesCrossSellAction",M.fragment=F;var j=m.gql`
  fragment PropertyActivitiesCrossSellDescriptionFragment on EGDSPlainText {
    text
  }
`,$=({data:e})=>{const{text:t}=e;return r.createElement(d.N,{margin:{blockstart:"one"}},r.createElement(b.D,null,t))};$.displayName="PropertyActivitiesCrossSellDescription",$.fragment=j;var B=m.gql`
  fragment PropertyActivitiesCrossSellHeadingFragment on LodgingHeader {
    accessibilityLabel
    icon {
      id
      token
    }
    text
  }
`,U=({data:e})=>{const{icon:t,text:n}=e;return r.createElement(a.X,null,t&&r.createElement(i.C,null,r.createElement(d.N,{padding:{inlineend:"two"}},r.createElement(E.LD,{name:t.id}))),r.createElement(i.C,null,r.createElement(S.M,{size:6},n)))};U.displayName="PropertyActivitiesCrossSellHeading",U.fragment=B;var z=m.gql`
  fragment PropertyActivitiesCrossSellPriceFragment on DisplayPrice {
    price {
      accessibilityLabel
      formatted
    }
  }
`,H=({data:e})=>{const{accessibilityLabel:t,formatted:n}=e.price;return r.createElement(b.D,{weight:"bold","aria-label":t},n)};H.displayName="PropertyActivitiesCrossSellHeading",H.fragment=z;var G=({heading:e,subHeading:t})=>r.createElement(r.Fragment,null,e&&r.createElement(d.N,{margin:{blockstart:"four",inline:"three"}},r.createElement(S.M,{tag:"h3"},e)),t&&r.createElement(d.N,{margin:{block:"one",inline:"three"}},r.createElement(b.D,{whiteSpace:"pre-line"},t)),(e||t)&&r.createElement(O.j,null)),V=({selectedOffers:e,activityId:t,dateRange:n,visible:a,offerSheetHeading:i,offerSheetSubHeading:o,dismissButtonAccessibility:l,onTripClickHandler:u,onDismiss:d})=>{const[m,p,f]=(0,k.useDialog)(`activity-offer-dialog-${g.vjX}`,"nestedOfferDialog");if(r.useEffect(()=>{a&&p.openDialog()},[a]),!t)return null;return r.createElement(c.K,{isVisible:m},r.createElement(f,null,r.createElement(s.t,{type:"full",isVisible:m,returnFocusOnClose:!0,triggerRef:null},r.createElement(_.p,{navigationContent:{onClick:()=>{d&&(p.closeDialog(),d())},navType:"close",navIconLabel:l}}),r.createElement(I.h,null,r.createElement(G,{heading:i,subHeading:o}),r.createElement(C.o7,{inputs:{selectedOffers:e,activityId:t,dateRange:n,shoppingPath:C.aV.PACKAGE,packageType:C.Rn.HOTEL_ACTIVITY},onTripClickHandler:u})))))},q=({visible:e,selectedOffers:t,activityId:n,dateRange:a,offerSheetHeading:i,offerSheetSubHeading:o,dismissButtonAccessibility:l,onTripClickHandler:d,onDismiss:m})=>{if(!n)return null;return r.createElement(c.K,{isVisible:e},r.createElement(s.t,{isVisible:e,triggerRef:null,type:"side",sideSheetLayout:{position:"trailing",columns:4}},r.createElement(_.p,{navigationContent:{onClick:()=>{m&&m()},navIconLabel:l}}),r.createElement(u.Y,{padded:!1},r.createElement(G,{heading:i,subHeading:o}),r.createElement(C.o7,{inputs:{selectedOffers:t,activityId:n,dateRange:a,shoppingPath:C.aV.PACKAGE,packageType:C.Rn.HOTEL_ACTIVITY},onTripClickHandler:d}))))},K=r.createContext({dateRange:"",setDateRange:()=>{},triggerRefetch:!1,setTriggerRefetch:()=>{},activityNaturalKey:{offerToken:"",productToken:""},setActivityNaturalKey:()=>{},hasAvailableListings:!1,setHasAvailableListings:()=>{},propertyOffersMountRef:{current:!1}}),Y=({children:e})=>{const t=r.useRef(!1),n=r.useRef(!1),[a,i]=r.useState(""),[o,l]=r.useState(!1),[c,s]=r.useState({offerToken:"",productToken:""}),[u,d]=r.useState(!1);r.useEffect(()=>{t.current&&l(!0)},[c.offerToken]),r.useEffect(()=>{t.current=!0},[]);const m={dateRange:a,setDateRange:i,triggerRefetch:o,setTriggerRefetch:l,activityNaturalKey:c,setActivityNaturalKey:s,hasAvailableListings:u,setHasAvailableListings:d,propertyOffersMountRef:n},p=r.useMemo(()=>R({},m),[m]);return r.createElement(K.Provider,{value:p},e)},Q=()=>r.useContext(K),X=m.gql`
  query PropertyActivitiesCrossSellQuery(
    $context: ContextInput!
    $propertyId: String!
    $searchCriteria: PropertySearchCriteriaInput!
    $shoppingContext: ShoppingContextInput
    $activityNaturalKey: ActivityNaturalKeyInput
  ) {
    propertyActivitiesCrossSell(
      context: $context
      propertyId: $propertyId
      searchCriteria: $searchCriteria
      shoppingContext: $shoppingContext
      activityNaturalKey: $activityNaturalKey
    ) {
      actions {
        ...PropertyActivitiesCrossSellActionFragment
      }
      activityId
      description {
        ...PropertyActivitiesCrossSellDescriptionFragment
      }
      heading {
        ...PropertyActivitiesCrossSellHeadingFragment
      }
      liveAnnounceMessage
      offerActivityDescription {
        ...EGDSSpannableTextFragment
      }
      price {
        ...PropertyActivitiesCrossSellPriceFragment
      }
      showTracking {
        referrerId
        linkName
        eventType
      }
      sideSheet {
        dismissButtonAccessibilityText
        heading
        subtitle
      }
    }
  }

  ${$.fragment}
  ${U.fragment}
  ${M.fragment}
  ${H.fragment}
  ${g.$BV.fragment}
`,W=({wrapElement:e,children:t})=>e?r.createElement(v.LM,null,r.createElement(v.zQ,null,t)):t,J=({inputs:e,skipSsr:t,sectionRef:n})=>{const{searchCriteria:E}=e,{context:h}=(0,p.R)(),{getTargets:b}=(0,y.OK)(),S=(0,f.useClickTracker)(),[I,_]=r.useState(!1),[k,C]=r.useState({}),{hasAvailableListings:O,triggerRefetch:P,setTriggerRefetch:T,activityNaturalKey:D,setActivityNaturalKey:x}=Q(),[w,A]=r.useState(!1),N=r.useRef(!0),F=r.useRef(!0),j=r.useRef(null),B=n||"Offers",{[B]:z}=b([B]),G=(null==z?void 0:z.current)&&z.current.clientHeight>window.innerHeight?.6*window.innerHeight/z.current.clientHeight:.3,K=[{id:B,ref:z||{current:null}}],Y=r.useCallback(async e=>{var t;switch(e.__typename){case"ActivityAddOfferToTripAction":{const{offerNaturalKey:t}=e;_(!1),"function"==typeof x&&(x({offerToken:t.offerProductNaturalKey,productToken:""}),S("HOT.HIS.HotelActivity.Sidesheet.AddToTrip","AddToTrip"));break}case"ActivityUpdateOfferInTripAction":{const{newOfferNaturalKey:t}=e;_(!1),"function"==typeof x&&(x({offerToken:t.offerProductNaturalKey,productToken:""}),S("HOT.HIS.HotelActivity.Sidesheet.UpdateTrip","UpdateTrip"));break}case"ActivityRemoveOffersFromTripAction":_(!1),"function"==typeof x&&(x({offerToken:"",productToken:""}),S("HOT.HIS.HotelActivity.Sidesheet.RemoveFromTrip","RemoveFromTrip"))}A(!0),null==(t=j.current)||t.focus()},[e,I]),J=r.useCallback(e=>{let t=!1;Object.keys(e).forEach(n=>{t=n===B&&e[n]===y.h1.PARTIAL_TOP||e[n]===y.h1.PARTIAL_BOTTOM||e[n]===y.h1.ENTER_COMPLETE}),N.current&&A(t)},[B]);(0,y.c5)(K,J,{thresholds:[G]});const Z=L(R({},e),{context:h}),{data:ee,error:te,loading:ne,refetch:re}=(0,m.useQuery)(X,{context:{shouldLogPerformance:!0},variables:Z,ssr:!t,fetchPolicy:"no-cache",nextFetchPolicy:"no-cache"});if(r.useEffect(()=>{P&&T&&re(L(R({},Z),{activityNaturalKey:(null==D?void 0:D.offerToken)?R({},D):null})).then(()=>{T(!1)})},[P]),ne||te||!(null==ee?void 0:ee.propertyActivitiesCrossSell)||!O)return null;const{actions:ae,description:ie,heading:oe,liveAnnounceMessage:le,offerActivityDescription:ce,price:se,showTracking:ue,sideSheet:de,activityId:me}=ee.propertyActivitiesCrossSell;if(w&&F.current&&ue){const{referrerId:e,linkName:t}=ue;F.current=!1,S(`${e}`,`${t}`)}const pe=()=>{var e;_(!1),A(!0),null==(e=j.current)||e.focus()},fe=(e,t)=>{var n,r,a,i,o,l;if(t){const{referrerId:e,linkName:n}=t;S(`${e}`,`${n}`)}const c={startDate:{day:null==(n=E.primary.dateRange)?void 0:n.checkInDate.day,month:null==(r=E.primary.dateRange)?void 0:r.checkInDate.month,year:null==(a=E.primary.dateRange)?void 0:a.checkInDate.year},endDate:{day:null==(i=E.primary.dateRange)?void 0:i.checkOutDate.day,month:null==(o=E.primary.dateRange)?void 0:o.checkOutDate.month,year:null==(l=E.primary.dateRange)?void 0:l.checkOutDate.year}};switch(e){case"OPEN":case"EDIT":C({selectedOffers:(null==D?void 0:D.offerToken)?[{offerProductNaturalKey:D.offerToken}]:[],activityId:me,dateRange:c,dismissButtonAccessibility:null==de?void 0:de.dismissButtonAccessibilityText,offerSheetHeading:null==de?void 0:de.heading,offerSheetSubHeading:null==de?void 0:de.subtitle,onDismiss:pe}),j.current=document.activeElement,I||(_(!0),A(!1));break;case"DISMISS":N.current=!1,A(!1);break;case"REMOVE":"function"==typeof x&&x({offerToken:"",productToken:""})}};return r.createElement(r.Fragment,null,r.createElement(c.K,{isVisible:w&&!I},r.createElement(s.t,{isVisible:w&&!I,type:"bottom",triggerRef:null},r.createElement(u.Y,null,r.createElement(W,{wrapElement:!!(null==D?void 0:D.offerToken)},r.createElement(r.Fragment,null,r.createElement(U,{data:oe}),r.createElement($,{data:ie}))),ce&&se&&r.createElement(d.N,{margin:{blockstart:"one"}},r.createElement(o.w,{columns:["auto","max-content"]},r.createElement(d.N,{margin:{small:{inlineend:"three"},medium:{inlineend:"unset"}}},r.createElement(l.T,null,r.createElement(a.X,{alignItems:"center"},r.createElement(i.C,null,r.createElement(a.X,{alignItems:"center"},r.createElement(i.C,null,r.createElement(g.$BV,{data:ce}))))))),r.createElement(l.T,null,r.createElement(H,{data:se})))),r.createElement(d.N,{margin:{blockstart:"three"}},r.createElement(o.w,{columns:["max-content","auto"],space:{column:"twelve"}},ae.map((e,t)=>r.createElement(l.T,{key:`property-activities-cross-sell-action-${t}`},r.createElement(M,{data:e,onActionClick:fe})))))))),I&&r.createElement("div",{"data-stid":"activity-offer-side-sheet"},r.createElement(v.LM,null,r.createElement(v.NP,null,r.createElement(V,L(R({},k),{visible:I,onTripClickHandler:Y}))),r.createElement(v.zQ,null,r.createElement(q,L(R({},k),{visible:I,onTripClickHandler:Y}))))))};J.displayName="sharedui-PropertyActivitiesCrossSell"},75739:function(e,t,n){n.d(t,{D2:function(){return w},DX:function(){return O},zr:function(){return P}});var r=n(56195),a=n(95026),i=n(92919),o=n(14986),l=n(1226),c=n(47540),s=n(63081),u=n(42534),d=n(26690),m=n(64341),p=n(97778),f=n(51213),g=n(24640),y=n(11116),v=n(27102),E=Object.defineProperty,h=Object.defineProperties,b=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,k=(e,t,n)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C=(e,t)=>{for(var n in t||(t={}))I.call(t,n)&&k(e,n,t[n]);if(S)for(var n of S(t))_.call(t,n)&&k(e,n,t[n]);return e},O="yyyy-MM-dd",P=e=>new Date(e.year,e.month-1,e.day),T=(e,t)=>{const{isSelectable:n}=e||{},{isPastMaxDate:r}=t;return!!n&&!r},D=e=>{const{day:t,dayData:n}=e,{day:a,isPast:i,isPastMaxDate:o,isToday:l}=t,{availability:c,isSelectable:s,rate:u}=n||{},d=Boolean(u);return r.createElement(g.h,{availability:i||o?"available":c||"unavailable"},r.createElement(y.f,{theme:l?"today":i||o?"muted":s?"action":"default",size:300,weight:"regular",disabled:Boolean(i)||!s},a),d&&r.createElement(v.D,null,u))};D.canClick=T,D.canSpan=T,D.getAriaLabel=(e,t,n)=>{const{availability:r}=e||{},{localeDateString:a,isPast:i}=t;return"available"===r?a:"unavailable"===r||i?n.formatText("hotels.infosite.availability.unavailable.a11yLabel",a):"am-unavailable"===r?n.formatText("hotels.infosite.availability.unavailableAm.a11yLabel",a):n.formatText("hotels.infosite.availability.unavailablePm.a11yLabel",a)};var x=d.gql`
  query PropertyAvailabilityQuery($context: ContextInput!, $eid: ID!, $dateRange: DateRangeInput) {
    propertyAvailabilityCalendars(context: $context, eid: $eid, dateRange: $dateRange) {
      configuration {
        currentDate {
          ...DateFragment
        }
        beginDate {
          ...DateFragment
        }
        endDate {
          ...DateFragment
        }
        availableByDefault
        defaultStayConstraints {
          stayIncrementInDays
          minimumStayInDays
          maximumStayInDays
        }
        defaultCheckinValidityAfterEndDate
        defaultCheckoutValidityWhenWithinConstraints
      }
      days {
        ...DayFragment
      }
    }
  }

  fragment DayFragment on AvailabilityCalendarDay {
    date {
      ...DateFragment
    }
    available
    stayConstraints {
      minimumStayInDays
      maximumStayInDays
      stayIncrementInDays
    }
    checkinValidity
    checkoutValidity
  }

  fragment DateFragment on Date {
    day
    month
    year
  }
`,w=e=>{var t,n,g,y;const{inputs:v,onSubmit:E,skipSsr:k,startDateRef:T,endDateRef:w,isNestDialog:A=!1}=e,{context:N}=(0,m.R)(),{formatDateString:R}=(0,f.useLocalization)(),L=(0,p.useClickTracker)(),[F,M]=(0,r.useState)((null==(t=v.dateRange)?void 0:t.start)?R(P(null==(n=v.dateRange)?void 0:n.start),{raw:O}):null),[j,$]=(0,r.useState)((null==(g=v.dateRange)?void 0:g.end)?R(P(null==(y=v.dateRange)?void 0:y.end),{raw:O}):null),B=(new Date).setDate(735),U=(0,r.useRef)(F),z=(0,r.useRef)(j);(0,r.useEffect)(()=>{var e,t;v.dateRange&&(null==(e=v.dateRange)?void 0:e.start)&&(null==(t=v.dateRange)?void 0:t.end)||(M(null),$(null))},[v.dateRange]),(0,r.useEffect)(()=>{const e=e=>{const{dateRangeInput:t}=e.detail;if(null!=t){const e=t.checkInDate?R(P(t.checkInDate),{raw:O}):null,n=t.checkOutDate?R(P(t.checkOutDate),{raw:O}):null;U.current=e,M(e),z.current=n,$(n)}};return null==window||window.addEventListener("availabilityChangeDates",e),()=>{null==window||window.removeEventListener("availabilityChangeDates",e)}},[]);const[H,G]=(0,r.useState)(!0),V=r.useCallback(()=>{L("HOT.HIS:ChangeDatesCheckIn","Open calendar")},[]),q=(e,t)=>{const n=e?new Date(e.replace(/-/g,"/")):null,r=t?new Date(t.replace(/-/g,"/")):null;U.current=e,z.current=t,E&&(L("HOT.HIS:SubmitDateChange","Submit date change"),E(n,r))},[K,Y]=(0,r.useState)(),[Q,X]=(0,r.useState)(),W=v,{dateRange:J}=W,Z=((e,t)=>{var n={};for(var r in e)I.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&S)for(var r of S(e))t.indexOf(r)<0&&_.call(e,r)&&(n[r]=e[r]);return n})(W,["dateRange"]),ee=(te=C({},Z),h(te,b({context:N})));var te;const{data:ne,loading:re}=(0,d.useQuery)(x,{context:{shouldLogPerformance:!0},variables:ee,ssr:!k});if((0,r.useEffect)(()=>{var e,t;if((null==(e=null==ne?void 0:ne.propertyAvailabilityCalendars)?void 0:e[0])&&(!K||F&&!(null==Q?void 0:Q[F]))){const e=ne.propertyAvailabilityCalendars[0],{configuration:n}=e,r=[...null!=(t=e.days)?t:[]],i=(0,a.R)({configuration:n,days:r});Y(i),F&&X(e=>C({[F]:(0,a.R)({configuration:n,days:r,checkInDate:F})},e))}},[ne,F,K,Q]),re)return r.createElement(l.w,{columns:2,space:"two"},r.createElement(c.T,null,r.createElement(i.g,{padded:!0,border:!0},r.createElement(u.N,{margin:{inlinestart:"one"}},r.createElement(s.l,{animation:!0,type:"secondary"})),r.createElement(u.N,{margin:{blockstart:"three"}},r.createElement(s.l,{animation:!0,type:"primary"})))),r.createElement(c.T,null,r.createElement(i.g,{padded:!0,border:!0},r.createElement(u.N,{margin:{inlinestart:"one"}},r.createElement(s.l,{animation:!0,type:"secondary"})),r.createElement(u.N,{margin:{blockstart:"three"}},r.createElement(s.l,{animation:!0,type:"primary"})))));const ae=!F&&!F,ie=ae||!ae&&H?K:null==Q?void 0:Q[F],oe=N.locale.replace("_","-");return r.createElement(p.IntersectionTracker,{referrerId:"HOT.HIS:AvailabilityCalendar",linkName:"Availability Calendar"},r.createElement(o.L,{dateFormatOptions:{month:"short",day:"numeric"},dayData:ie,dayTemplateComponent:ie?D:void 0,endDate:j,endDateRef:w,inputName1:"startDate",inputName2:"endDate",onOpen:V,onClose:()=>{const e=U.current!==F&&z.current!==j;(e&&j||null===F&&null===j&&e||z.current!==j&&j)&&q(F,j),e&&!j&&F&&q(null,null)},locale:oe,onDateRangeChange:(e,t)=>{H&&e&&L("HOT.HIS:StartDatePicked","start date change"),M(e),t&&L("HOT.HIS:EndDatePicked","end date change"),$(t),e&&t&&(L("HOT.HIS:ChangeDatesDone","change dates"),G(!0))},onDateRangeClear:()=>{L("HOT.HIS:ClearDates","Clear dates"),M(null),$(null)},onNextClicked:({month:e,year:t})=>{L("HOT.HIS:NextMonth","next month button clicked")},onPrevClicked:({month:e,year:t})=>{L("HOT.HIS:PreviousMonth","previous month button clicked")},onSubmit:q,onSelectionModeChange:e=>{G(!e)},startDate:F,startDateRef:T,handleShape:"circle",navType:"inset",isNestDialog:A,maxDate:B?new Date(B):void 0}))};w.displayName="sharedui-PropertyAvailability"},25644:function(e,t,n){n.d(t,{Ni:function(){return v},fU:function(){return b},oX:function(){return E}});var r=n(56195),a=n(4611),i=n(10554),o=n(42534),l=n(64341),c=n(97778),s=n(20637);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(){var e,t,n=(e=["\n  query SponsoredPropertiesCarouselQuery($context: ContextInput!, $criteria: PropertySearchCriteriaInput, $shoppingContext: ShoppingContextInput) {\n    sponsoredPropertiesCarousel(context: $context, criteria: $criteria, shoppingContext: $shoppingContext) {\n      ...LodgingCarouselContainerFragment\n    }\n  }\n  ","\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return f=function(){return n},n}var g={MOBILE_PHONE:"sm",APP_PHONE:"sm",MOBILE_TABLET:"md",APP_TABLET:"md",DESKTOP:"lg"},y=r.createContext({setIsProperties:function(){},isProperties:!1}),v=function(){return r.useContext(y)},E=function(e){var t=e.children,n=p(r.useState(!1),2),a=n[0],i=n[1];return r.createElement(y.Provider,{value:(0,r.useMemo)(function(){return{isProperties:a,setIsProperties:i}},[a,i])},t)},h=(0,a.J1)(f(),s.sZj.fragment),b=function(e){var t,n,a,u=e.skipSsr,p=e.itemsVisible,f=e.onClickCallback,y=e.onHoverChanged,E=(0,l.R)().context,b=v().setIsProperties,S=JSON.parse(JSON.stringify(e.inputs));null===(a=S.criteria)||void 0===a||null===(n=a.secondary)||void 0===n||null===(t=n.selections)||void 0===t||t.push(function(e){return{id:"minCarouselAds",value:((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{lg:3,md:2,sm:1})[g[e]]+1).toString()}}(E.device.type,p));var I=m(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){d(e,t,n[t])})}return e}({},S),{context:E}),_=(0,i.I)(h,{variables:I,ssr:!u,fetchPolicy:"no-cache"}),k=_.data,C=_.error,O=_.loading,P=(0,c.useClickTracker)(),T=r.useCallback(function(e){var t,n,r,a=(null==k||null===(r=k.sponsoredPropertiesCarousel)||void 0===r||null===(n=r.carousel)||void 0===n||null===(t=n.nextButton)||void 0===t?void 0:t.analytics)||{},i=a.referrerId,o=a.linkName;i&&o&&P("".concat(i,".Carousel.scroll").concat(e.charAt(0).toUpperCase()+e.slice(1)),"".concat(o))},[k]);return O||C||!(null==k?void 0:k.sponsoredPropertiesCarousel)?null:(b(Boolean(k.sponsoredPropertiesCarousel.items)),r.createElement(o.N,{border:["blockstart","blockend"],padding:{block:"six"}},r.createElement("div",{"data-stid":"meso-similar-properties-carousel"},r.createElement(o.N,{margin:{small:{inline:"three"},medium:{inline:"unset"}}},r.createElement("div",null,r.createElement(s.xqy,null,r.createElement(s.sZj,{data:k.sponsoredPropertiesCarousel,peek:!0,pageBy:1,headingSize:5,tag:"h4",margin:{blockstart:"three"},navigationIconId:{next:"similar-hotels-next",prev:"similar-hotels-prev"},fireCardsImpression:!1,enableInlineLink:!0,itemsVisible:p,fireNextPrevNavEvent:T,onClickCallback:f,useContainerSizing:!1,onHoverChanged:y})))))))};b.displayName="sharedui-SponsoredPropertiesCarousel"},83509:function(e,t,n){n.d(t,{D:function(){return L}});var r=n(56195),a=n(92919),i=n(24109),o=n(99828),l=n(522),c=n(42534),s=n(26690),u=n(97778),d=n(53017),m=n(2557),p=n(22142),f=n(87698),g=n(96394),y=n(42048),v=n(27102),E=Object.defineProperty,h=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,I=(e,t,n)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_=s.gql`
  fragment EGDSIconFragment on Icon {
    description
    id
    size
    theme
    title
    withBackground
  }
`,k=({className:e,theme:t,isAriaHidden:n=!1,data:a})=>{var i;const o=(null==a?void 0:a.withBackground)?"info":void 0;return r.createElement(m.LD,{className:e,description:n||null==a?void 0:a.description,id:null==a?void 0:a.id,name:null!==a?a.id:"",size:(null==a?void 0:a.size)?m.So[a.size]:void 0,title:n?void 0:null!=(i=null==a?void 0:a.title)?i:void 0,theme:t||(null==a?void 0:a.theme)||void 0,spotlight:o})};k.displayName="LoyaltyEGDSIcon",k.fragment=_;var C=s.gql`
  fragment EGDSIllustrationFragment on Illustration {
    description
    id
    link: url
  }
`,O=({data:e})=>r.createElement(p.r,{alt:e.description,url:e.link});O.displayName="Illustration",O.fragment=C;var P=s.gql`
  fragment EGDSMarkFragment on Mark {
    description
    id
    markSize: size
    url {
      ... on HttpURI {
        __typename
        relativePath
        value
      }
    }
  }
`,T=({className:e,markSize:t,data:n})=>{var a;return r.createElement(f.D,{className:e,description:n.description,id:n.id,name:n.id,size:t||n.markSize&&g.K[n.markSize],url:null==(a=n.url)?void 0:a.value})};T.displayName="LoyaltyEGDSMark",T.fragment=P;var D=s.gql`
  fragment EGDSGraphicFragment on UIGraphic {
    ... on Icon {
      ...EGDSIconFragment
    }

    ... on Mark {
      ...EGDSMarkFragment
    }

    ... on Illustration {
      ...EGDSIllustrationFragment
    }
  }

  ${k.fragment}
  ${T.fragment}
  ${O.fragment}
`,x=({className:e,markSize:t,iconProps:n,data:a})=>{switch(a.__typename){case"Icon":return r.createElement(k,((e,t)=>{for(var n in t||(t={}))b.call(t,n)&&I(e,n,t[n]);if(h)for(var n of h(t))S.call(t,n)&&I(e,n,t[n]);return e})({className:e,data:a},n));case"Mark":return r.createElement(T,{className:e,data:a,markSize:t});case"Illustration":return r.createElement(O,{data:a});default:return null}};x.displayName="EGDSGraphic",x.fragment=D;var w=s.gql`
  fragment EGDSSwitchFragment on EGDSStandardSwitch {
    id
    enabled
    checked
    checkedLabel
    uncheckedLabel
    checkedDescription
    uncheckedDescription
    checkedAccessibilityLabel
    uncheckedAccessibilityLabel
    checkedAnalytics {
      linkName
      referrerId
    }
    uncheckedAnalytics {
      linkName
      referrerId
    }
  }
`,A=({switchHandler:e,isEnabled:t,id:n,switchPosition:a,weight:i,size:o,data:l,onUpdate:c,children:s})=>{var d;const{enabled:m,checked:p,checkedLabel:f,uncheckedLabel:g,checkedAnalytics:E,uncheckedAnalytics:h,checkedDescription:b,uncheckedDescription:S,checkedAccessibilityLabel:I,uncheckedAccessibilityLabel:_}=l,[k,C]=r.useState(p);(0,r.useEffect)(()=>{C(p),null==c||c(C)},[p,c]);const O=(0,u.useClickTracker)(),P=k?f:g,T=k?I:_,D=k?b:S,x=null!=t?t:m;return r.createElement(y.Y,{id:n,checked:k,onChange:()=>{C(!k),e(!k),E&&!k?O(E.referrerId,E.linkName):h&&k&&O(h.referrerId,h.linkName)},switchPosition:a||"trailing",disabled:!x,a11yLabel:null!=(d=null!=T?T:P)?d:void 0,description:null!=D?D:void 0},s||r.createElement(v.D,{weight:i||"medium",size:o||400},null!=P?P:""))};A.fragment=w,A.displayName="LoyaltyEGDSSwitch";var N=s.gql`
  fragment ClientSideAnalyticsFragment on ClientSideAnalytics {
    eventType
    linkName
    referrerId
    uisPrimeMessages {
      messageContent
      schemaName
    }
  }
`,R=s.gql`
  fragment OneKeyBurnSwitchFragment on OneKeyBurnSwitch {
    burnSwitchGraphic: graphic {
      ...EGDSGraphicFragment
    }
    switch {
      ...EGDSSwitchFragment
    }
    impressionTracking {
      ...ClientSideAnalyticsFragment
    }
  }
  ${x.fragment}
  ${A.fragment}
  ${N}
`,L=({data:e,markSize:t=11,handler:n,className:s})=>{const{burnSwitchGraphic:m,impressionTracking:p}=e,f=(0,d.useExperiment)("Vrbo_Price_Block_Redesign_on_Web").exposure.bucket>0,g=m&&r.createElement(o.C,null,r.createElement(x,{data:m,markSize:t})),y=e.switch&&r.createElement(o.C,null,r.createElement(c.N,{margin:{inlinestart:m?"three":"unset"}},r.createElement("div",{"data-stid":"one-key-burn-switch"},r.createElement(A,{data:e.switch,id:"loyalty-switch",switchPosition:"trailing",weight:f?"regular":"medium",size:f?300:400,switchHandler:null!=n?n:()=>null})))),v=r.createElement(a.g,{className:s,border:!0},r.createElement(i.E,null,r.createElement(c.N,{padding:{block:m?"one":"unset",inline:m?"one":"unset"}},r.createElement(l.X,{alignItems:"center"},g,y))));if(p){const{referrerId:e,linkName:t}=p;return r.createElement(u.IntersectionTracker,{referrerId:e,linkName:t,intersectionOptions:{threshold:.5}},v)}return r.createElement(r.Fragment,null,v)};L.fragment=R,L.displayName="sharedui-OneKeyBurnSwitch"},97103:function(e,t,n){n.d(t,{I:function(){return i},U:function(){return o}});var r=n(56195),a=(0,r.createContext)({version:void 0}),i=function(){return(0,r.useContext)(a)};function o(e){var t=e.version,n=e.children,i=(0,r.useMemo)(function(){return{version:t}},[t]);return r.createElement(a.Provider,{value:i},n)}o.displayName="sharedui-GoogleMapsSdkVersionProvider"},20978:function(e,t,n){n.d(t,{p:function(){return R}});var r=n(56195),a=n(522),i=n(99828),o=n(42534),l=n(26690),c=n(64341),s=n(97778),u=n(37292),d=n(96394),m=n(60800),p=n(27102),f=n(1226),g=n(47540),y=n(63081),v=Object.defineProperty,E=Object.defineProperties,h=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,_=(e,t,n)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k=(e,t)=>{for(var n in t||(t={}))S.call(t,n)&&_(e,n,t[n]);if(b)for(var n of b(t))I.call(t,n)&&_(e,n,t[n]);return e},C=(e,t)=>E(e,h(t)),O=l.gql`
  fragment AffirmContentDetailsFragment on AffirmContentDetails {
    elementAttributes {
      key
      value
    }
    link {
      analytics {
        linkName
        referrerId
      }
      label
    }
    text {
      ...EGDSStylizedTextFragment
    }
    logo {
      ...UIGraphicFragment
    }
  }

  ${m.EGDSStylizedText.fragment}
  ${m.UIGraphic.fragment}
`,P=({data:{elementAttributes:e,link:{analytics:t,label:n},text:l,logo:c}})=>{const p=(0,s.useClickTracker)(),f=Object.fromEntries(e.map(e=>[e.key,e.value]));return r.createElement(a.X,{alignItems:"start",space:"one",justifyContent:"start",style:{blockSize:"12px"}},r.createElement(i.C,null,r.createElement(m.EGDSStylizedText,{data:l,textProps:{size:200}})),r.createElement(i.C,null,r.createElement(m.UIGraphic,{data:c,markProps:{size:d.K.EXTRA_SMALL}})),r.createElement(i.C,null,r.createElement(o.N,{margin:{inlinestart:"one"}},r.createElement(u.i,{inline:!0,onClick:()=>{p(t.referrerId,t.linkName)},size:"small"},r.createElement("button",{type:"button"},r.createElement("div",k({},f),n))))))};P.fragment=O,P.displayName="AffirmContentDetails";var T=l.gql`
  fragment AffirmDetailsFragment on AffirmDetails {
    elementAttributes {
      key
      value
    }
    analytics {
      linkName
      referrerId
    }
  }
`,D=({data:{elementAttributes:e,analytics:t}})=>{const n=(0,s.useClickTracker)(),a=Object.fromEntries(e.map(e=>[e.key,e.value]));return r.createElement(p.D,{size:100,weight:"regular"},r.createElement("div",C(k({},a),{onClick:()=>{n(t.referrerId,t.linkName)},"aria-hidden":"true",role:"link"})))};D.fragment=T,D.displayName="AffirmDetails";var x=l.gql`
  fragment KlarnaDetailsFragment on KlarnaDetails {
    elementAttributes {
      key
      value
    }
    scriptAttributes {
      ...InstallmentPlanAttributeFragment
    }
    analytics {
      linkName
      referrerId
    }
  }

  fragment InstallmentPlanAttributeFragment on InstallmentPlanAttribute {
    key
    value
  }
`,w=({data:{elementAttributes:e,analytics:t}})=>{const n=(0,s.useClickTracker)(),a=Object.fromEntries(e.map(e=>[e.key,e.value]));return r.createElement("klarna-placement",C(k({},a),{onClick:()=>{n(t.referrerId,t.linkName)}}))};w.fragment=x,w.displayName="KlarnaDetails";var A=({legalTextAlignment:e,secondPlaceholderRequired:t,margin:n})=>t?r.createElement(f.w,{space:"half",justifyItems:null!=e?e:"start"},r.createElement(g.T,null,r.createElement(o.N,{margin:null!=n?n:{blockstart:"one",blockend:"half"}},r.createElement(y.l,null))),r.createElement(g.T,null,r.createElement(y.l,{type:"secondary"}))):r.createElement(o.N,{margin:null!=n?n:{blockstart:"one",blockend:"half"}},r.createElement(y.l,null)),N=l.gql`
  query InstallmentPlanQuery($context: ContextInput!, $multiItemSessionId: String, $amount: String) {
    installmentPlan(context: $context, multiItemSessionId: $multiItemSessionId, installmentPriceAmount: $amount) {
      installmentPlanDetails {
        ...KlarnaDetailsFragment
        ...AffirmDetailsFragment
        ...AffirmContentDetailsFragment
      }
      impressionAnalytics {
        linkName
        referrerId
      }
    }
  }

  ${w.fragment}
  ${D.fragment}
  ${P.fragment}
`,R=e=>{const{inputs:t,skipSsr:n,margin:u,placeholderMargin:d,alignment:m,legalText:p,minWidth:f}=e,{context:g}=(0,c.R)(),[y,v]=(0,r.useState)(!0),E=C(k({},t),{context:g}),{data:h,error:b,loading:S}=(0,l.useQuery)(N,{context:{shouldLogPerformance:!0},variables:E,ssr:!n}),I=null==h?void 0:h.installmentPlan,_=()=>{v(!1)};if((0,r.useEffect)(()=>{const{affirm:e,Klarna:t}=window;"KlarnaDetails"===(null==I?void 0:I.installmentPlanDetails.__typename)?(((e,t)=>{const n=document.createElement("script");n.type="text/javascript",n.onload=t,document.head.appendChild(n),n.src="https://osm.klarnaservices.com/lib.js",n.async=!0,e.map(({key:e,value:t})=>n.setAttribute(e,t)),n.crossOrigin="anonymous"})(I.installmentPlanDetails.scriptAttributes,_),null==t||t.OnsiteMessaging.refresh()):"AffirmContentDetails"===(null==I?void 0:I.installmentPlanDetails.__typename)||"AffirmDetails"===(null==I?void 0:I.installmentPlanDetails.__typename)?((e=>{if(document.getElementById("affirm-script"))e();else{const t="affirm-external-script",n=document.createElement("script");n.type="text/javascript";const r=document.createTextNode(`_affirm_config = {\n    public_api_key:  "QIMSOFSMVEEZ1CXA",\n    script:          "https://cdn1.affirm.com/js/v2/affirm.js",\n    id: "${t}"\n  };\n(function(l,g,m,e,a,f,b,p){var d,c=l[m]||{},h=document.createElement(f),n=document.getElementsByTagName(f)[0],k=function(a,b,c){return function(){a[b]._.push([c,arguments])}};c[e]=k(c,e,"set");d=c[e];c[a]={};c[a]._=[];d._=[];c[a][b]=k(c,a,b);a=0;for(b="set add save post open empty reset on off trigger ready setProduct".split(" ");a<b.length;a++)d[b[a]]=k(c,e,b[a]);a=0;for(b=["get","token","url","items"];a<b.length;a++)d[b[a]]=function(){};h.async=!0;h.src=g[f];h.id=g[p];n.parentNode.insertBefore(h,n);delete g[f];d(g);l[m]=c})(window,_affirm_config,"affirm","checkout","ui","script","ready", "id");`);n.appendChild(r),document.head.appendChild(n),n.setAttribute("data-stid","affirm-script"),n.setAttribute("id","affirm-script");const a=document.getElementById(t);a&&(a.onload=()=>{e()})}})(_),null==e||e.ui.ready(()=>{v(!1),e.ui.refresh()})):v(!1)},[I]),S||y)return r.createElement(A,{legalTextAlignment:m,secondPlaceholderRequired:p,margin:d});if(b||!I)return null;const{installmentPlanDetails:O}=I;return r.createElement(o.N,{margin:u},r.createElement(a.X,{direction:"column"},r.createElement(i.C,{minWidth:null!=f?f:"4x__half"},r.createElement(s.IntersectionTracker,{trackOnce:!0,referrerId:I.impressionAnalytics.referrerId,linkName:I.impressionAnalytics.linkName},r.createElement("div",null,(()=>{switch(O.__typename){case"AffirmContentDetails":return r.createElement(P,{data:O});case"AffirmDetails":return r.createElement(D,{data:O});case"KlarnaDetails":return r.createElement(w,{data:O});default:return null}})())))))};R.displayName="sharedui-InstallmentPlan"},21093:function(e,t,n){n.d(t,{v:function(){return y}});var r=n(56195),a=n(49858),i=n(27102),o=n(26690),l=n(64341),c=Object.defineProperty,s=Object.defineProperties,u=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=o.gql`
  query PropertyCancellationInfoQuery($context: ContextInput!, $propertyNaturalKeyInput: PropertyNaturalKeyInput!) {
    packageDetails(context: $context) {
      propertyCancellationInfo(propertyNaturalKeyInput: $propertyNaturalKeyInput) {
        ... on MishopUIText {
          text
          theme
        }
        __typename
      }
      __typename
    }
  }
`,y=({inputs:e,skipSsr:t})=>{const{context:n}=(0,l.R)(),c=(y=((e,t)=>{for(var n in t||(t={}))m.call(t,n)&&f(e,n,t[n]);if(d)for(var n of d(t))p.call(t,n)&&f(e,n,t[n]);return e})({},e),s(y,u({context:n})));var y;const{data:v,error:E,loading:h}=(0,o.useQuery)(g,{context:{shouldLogPerformance:!0},variables:c,ssr:!t});if(h)return r.createElement(a.R,{type:"line"});if(E||!v)return null;const b=v.packageDetails.propertyCancellationInfo.map(e=>{if("MishopUIText"===e.__typename){let t;switch(e.theme){case"POSITIVE":t="positive";break;case"NEGATIVE":t="negative";break;default:t=void 0}return r.createElement(i.D,{key:e.text,theme:t},e.text)}return null});return r.createElement(r.Fragment,null,b)};y.displayName="sharedui-PropertyCancellationInfo"},64937:function(e,t,n){n.d(t,{N:function(){return J}});var r=n(56195),a=n(522),i=n(99828),o=n(49858),l=n(26690),c=n(64341),s=n(46286),u=n(31009),d=n(32462),m=n(92919),p=n(24109),f=n(2557),g=n(47540),y=n(1226),v=n(37292),E=n(42534),h=n(27102),b=n(74071),S=n(53017),I=n(31993),_=n(96384),k=n(22142),C=n(79066),O=n(78914),P=n(87698),T=n(96394),D=n(34446),x=n(89438),w=n(4988),A=n(25229),N={standard:"standard",emphasis:"emphasis",info:"info",featured:"featured",brand:"brand",warning:"warning",positive:"positive"},R={[_.IA.SMALL]:"small",[_.IA.LARGE]:"large"},L={NEGATIVE:"negative",POSITIVE:"positive",PRIMARY:"default",EMPHASIS:"emphasis",LOYALTY:"loyalty",SECONDARY:"default",INVERSE:"inverse"},F={BOLD:"bold",MEDIUM:"medium",REGULAR:"regular"},M=l.gql`
  fragment AboutTheHostGraphicFragment on AboutTheHostGraphic {
    avatar {
      icon {
        id
      }
      image {
        url
        description
      }
      border
    }
    mark {
      description
      id
      size
      url {
        relativePath
        value
      }
    }
  }
`,j=({data:e,isSmallerView:t})=>{var n,a,i;const{avatar:o,mark:l}=e;return o.image||o.icon?r.createElement("div",null,r.createElement(E.N,{margin:{inlineend:"three"}},r.createElement(O.k,{border:!1,...(null==o?void 0:o.image)?{image:{alt:null!=(n=o.image.description)?n:"",src:o.image.url}}:{icon:null==(a=null==o?void 0:o.icon)?void 0:a.id},size:t?"large":"extra_large"})),l&&r.createElement("div",{style:{margin:t?"-20px 0 0 35px":"-24px 0 0 40px",width:"24px"}},r.createElement(P.D,{description:l.description,url:null==(i=null==l?void 0:l.url)?void 0:i.value,size:t?T.K.SMALL:void 0}))):null};j.fragment=M,j.displayName="AboutTheHostGraphic";var $=l.gql`
  fragment ShoppingProductContentStylizedTextsFragment on ShoppingProductContentStylizedTexts {
    subtext {
      size
      text
      theme
      weight
    }
    shoppingProductIcon {
      token
      size
    }
    subtextPlacement
    title {
      size
      text
      theme
      weight
    }
    shoppingProductTitle {
      ... on EGDSStylizedText {
        size
        text
        theme
        weight
      }
      ... on ShoppingProductHeader {
        text
      }
    }
  }
`,B=({data:e,titleAlign:t,flexAlignItems:n,headingSize:o,headingTag:l})=>{if(!e)return null;const{shoppingProductTitle:c,subtext:s,subtextPlacement:u,title:d}=e,m=o&&[3,4].includes(o)?{customStyle:4===o?"headline-large":"headline-extra-large"}:void 0,p=e=>r.createElement(C.Z3,{data:{...e,decorative:null,accessibility:null},align:null!=t?t:"left"}),f=c?"ShoppingProductHeader"===c.__typename?(g=c,r.createElement(b.M,{tag:l,size:o,typeStyle:m},g.text)):p(c):d?p(d):null;var g;return r.createElement(a.X,{direction:"BOTTOM"===u?"column":"row",alignItems:n||"start",space:"BOTTOM"===u?"three":"four"},r.createElement(i.C,null,f),r.createElement(i.C,null,s&&r.createElement(D.Q,{htmlToParse:s.text,plainTextElement:e=>{var t,n;const a=L[null!=(t=null==s?void 0:s.theme)?t:"default"],i=F[null!=(n=null==s?void 0:s.weight)?n:"regular"];return r.createElement("span",null,r.createElement(h.D,{weight:i,theme:a},e.children))}})))};B.fragment=$,B.displayName="AboutTheHostStyledText";var U=l.gql`
  fragment AboutTheHostFraudMessageFragment on EGDSStandardMessagingCard {
    graphic {
      ... on Illustration {
        description
        id
        url
      }
    }
    heading
    links {
      ...EGDSStandardLinkFragment
    }
    message
  }
  ${j.fragment}
  ${B.fragment}
  ${C.ZC.fragment}
`,z=({data:e})=>{const{graphic:t,heading:n,message:o,links:l}=e,c=(0,r.useMemo)(()=>r.createElement(i.C,null,null==l?void 0:l.map((e,t)=>r.createElement(E.N,{margin:{blockstart:"two"},key:t},r.createElement("div",null,r.createElement(C.ZC,{data:e}))))),[l]);return r.createElement(g.T,{colSpan:{small:1,medium:2,large:2}},r.createElement(g.T,{colSpan:{small:1,medium:2,large:2}},r.createElement(m.g,{border:!0,padded:!0},r.createElement(p.E,null,r.createElement(E.N,{padding:{block:"one",inline:"one"}},r.createElement(a.X,{alignItems:"center",space:"small"},r.createElement(i.C,null,t&&"Illustration"===t.__typename&&r.createElement(E.N,{margin:{inlineend:"three"}},r.createElement(k.r,{alt:t.description,url:t.url}))),r.createElement(i.C,{grow:1},r.createElement(p.E,{padded:!1},r.createElement(a.X,{direction:"row",alignItems:"center",justifyContent:"space-between",space:"two",wrap:"wrap"},r.createElement(i.C,{grow:1,minWidth:"88x"},r.createElement(a.X,{direction:"column"},n&&r.createElement(i.C,null,r.createElement(b.M,null,n)),r.createElement(i.C,null,r.createElement(E.N,{margin:{blockstart:"half"}},r.createElement(h.D,null,o))))),c)))))))))};z.fragment=U,z.displayName="AboutTheHostFraudMessage";var H=l.gql`
  fragment AboutTheHostSummaryFragment on AboutTheHostSummary {
    action {
      actionId
      text
    }
    badges {
      text
      theme
      size
    }
    fraudMessage {
      ...AboutTheHostFraudMessageFragment
    }
    header {
      text
    }
    highlightScoreCard {
      ...ShoppingProductContentStylizedTextsFragment
    }
    hostFeaturedInfo {
      ...ShoppingProductContentStylizedTextsFragment
    }
    hostGraphic {
      ...AboutTheHostGraphicFragment
    }
    hostName
    primaryHostFeaturedInfo {
      ...ShoppingProductContentStylizedTextsFragment
    }
    scoreCardTheme
  }
  ${j.fragment}
  ${B.fragment}
  ${z.fragment}
`,G=(e,t,n)=>null==e?void 0:e.map((e,o)=>r.createElement(i.C,{key:o},r.createElement(a.X,{direction:"column"},r.createElement(B,{data:e,headingSize:t,headingTag:n})))),V=({data:e,showBorder:t,contactHostInputs:n,showTopOfPDPVariant:o})=>{var l,s;const{context:_}=(0,c.R)(),{action:k,badges:C,fraudMessage:O,header:P,highlightScoreCard:T,hostFeaturedInfo:D,hostGraphic:x,hostName:w,primaryHostFeaturedInfo:A,scoreCardTheme:M}=e,$="MOBILE_PHONE"===(null==(l=null==_?void 0:_.device)?void 0:l.type),B=1===(0,S.useExperiment)("App_Shell_Property_Requirement_Web",!0).exposure.bucket,U=1===(0,S.useExperiment)("App_Shell_Property_Requirement_Web_Dateless",!0).exposure.bucket,H=B||U,V=!(t||H&&!$),{contactHostCTAInputs:q,contactHostCTAOptions:K}=n||{},Y=(0,u.pC)(null!=(s=null==k?void 0:k.actionId)?s:""),Q=null==C?void 0:C.map((e,t)=>{const{text:n,theme:a,size:o}=e,l=N[null!=a?a:"standard"],c=R[null!=o?o:"standard"];return n?r.createElement(E.N,{margin:{blockend:"one",inlineend:"one"},key:t},r.createElement(i.C,null,r.createElement(d.G,{text:n,theme:l,size:c}))):null}),X=e=>{var t,n;const a=L[null!=(t=e.theme)?t:"standard"],i=F[null!=(n=e.weight)?n:"regular"];return r.createElement(h.D,{weight:i,size:500,theme:a,align:"center"},e.text)},W=null==T?void 0:T.map((e,t)=>{var n;const{shoppingProductIcon:o}=e;return r.createElement(g.T,{key:t,colSpan:1},r.createElement(y.w,{columns:1,space:"two"},r.createElement(g.T,null,r.createElement(a.X,{space:"half",justifyContent:"center"},r.createElement(i.C,null,(e=>{const{shoppingProductTitle:t,title:n}=e;return t?X(t):n?X(n):null})(e)),o&&r.createElement(i.C,null,r.createElement("span",null,r.createElement(f.LD,{name:o.token,size:f.So[null!=(n=o.size)?n:"SMALL"]}))))),r.createElement(g.T,null,e.subtext&&r.createElement(h.D,{weight:"regular",size:200,theme:"standard",align:"center"},e.subtext.text))))}),J=G(D,7,"h5"),Z=G(A,6,"h4"),ee=r.createElement(E.N,null,r.createElement(a.X,{direction:"row",alignItems:"center"},r.createElement(j,{data:x,isSmallerView:o}),r.createElement("div",null,r.createElement(a.X,null,Q),r.createElement(b.M,{tag:"h3",size:6},w))));return r.createElement(m.g,null,r.createElement(p.E,{padded:V},o?ee:r.createElement(E.N,{padding:{block:"three",large:{inline:H?void 0:"three"},extra_large:{inline:H?void 0:"three"}}},r.createElement(a.X,{direction:"column",space:"medium"},r.createElement(i.C,null,P&&r.createElement(b.M,{tag:"h2",size:H?5:4,typeStyle:H?void 0:{customStyle:"headline-large"}},P.text)),r.createElement(i.C,null,r.createElement(y.w,{columns:T?{small:1,medium:["1fr","325px"],large:["1fr","325px"]}:1,space:"four"},r.createElement(g.T,null,r.createElement(E.N,null,r.createElement(a.X,{direction:"row"},r.createElement(j,{data:x}),r.createElement(a.X,{direction:"column",justifyContent:(null==k?void 0:k.actionId)?"start":"center"},r.createElement(a.X,null,Q),r.createElement(b.M,{tag:"h3",size:6},w),(null==k?void 0:k.actionId)&&r.createElement(E.N,{margin:{blockstart:"two"}},r.createElement(v.i,{onClick:Y},r.createElement("button",{type:"button"},null==k?void 0:k.text))))))),T&&(null==T?void 0:T.length)>1&&r.createElement(g.T,null,r.createElement(y.w,{space:"three",columns:1},r.createElement(m.g,{backgroundTheme:"HIGHLIGHT"===M?"highlight":"secondary",padded:!0},r.createElement(y.w,{space:"xlarge",columns:null==T?void 0:T.length},W)))),r.createElement(g.T,{colSpan:{small:1,medium:2,large:2}},r.createElement(a.X,{space:"four",direction:"column"},Z,J)),q&&K&&r.createElement("div",null,r.createElement(I.t,{inputs:q,skipSsr:K.skipSsr,...K})),O&&r.createElement(g.T,{colSpan:{small:1,medium:2,large:2}},r.createElement(z,{data:O}))))))))};V.fragment=H,V.displayName="AboutTheHostSummary";var q=l.gql`
  fragment AboutTheHostSubSectionFragment on AboutTheHostSubSection {
    hostGraphic {
      ...AboutTheHostGraphicFragment
    }
    expandoPeek {
      collapsedLabel
      expandedLabel
      items
    }
    items {
      ...ShoppingProductContentStylizedTextsFragment
    }
    title
  }
  ${j.fragment}
  ${B.fragment}
`,K=({isLastSection:e=!1,data:t})=>{const{hostGraphic:n,items:o,title:l,expandoPeek:c}=t,[s,u]=r.useState(!1),d=r.useCallback(()=>{u(!s)},[s]),m=null==o?void 0:o.map((e,t)=>r.createElement(E.N,{margin:{block:"four"},key:t},r.createElement("div",null,r.createElement(B,{data:e,headingSize:7,headingTag:"h3"}))));return r.createElement(r.Fragment,null,n&&r.createElement(a.X,{justifyContent:"center"},r.createElement(i.C,null,r.createElement(j,{data:n}))),l&&r.createElement(E.N,{margin:{block:"two"}},r.createElement(b.M,{tag:"h2",size:6},l)),c&&m&&(null==m?void 0:m.length)>1?r.createElement(w.A,{handleClick:d,...c.items&&{items:c.items},isVisible:s,expandLabel:c.collapsedLabel,collapseLabel:c.expandedLabel},r.createElement(r.Fragment,null,m)):r.createElement("div",null,m),!e&&r.createElement(A.j,{blockMargin:"six"}))};K.fragment=q,K.displayName="AboutTheHostSubSection";var Y=l.gql`
  fragment AboutTheHostContentContainerFragment on AboutTheHostContentContainer {
    content {
      header {
        text
      }
      impressionAnalytics {
        event
        linkName
        referrerId
      }
      sectionId
      subSections {
        ...AboutTheHostSubSectionFragment
      }
    }
    contentId
  }
  ${K.fragment}
`,Q=({data:e,actionId:t})=>{var n;const a=null==(n=e.content)?void 0:n[0],i=null==a?void 0:a.subSections;return a&&i?r.createElement(u.e3,{actionId:t,useToolbar:!0,renderNavigateBar:!0,centeredSheetSize:"medium",sheetToolbar:{title:a.header.text,subtitle:null}},r.createElement(x.Y,null,i.map((e,t)=>r.createElement(K,{key:t,data:e,isLastSection:t===i.length-1})))):null};Q.fragment=Y,Q.displayName="AboutTheHostContentContainer";var X=l.gql`
  query AboutTheHostQuery($productIdentifier: ProductIdentifierInput!, $context: ContextInput!) {
    aboutTheHost(productIdentifier: $productIdentifier, context: $context) {
      hostContents {
        ...AboutTheHostContentContainerFragment
      }
      hostSummary {
        ...AboutTheHostSummaryFragment
      }
      shoppingJoinListContainer {
        actions {
          actionId
          ... on ShoppingNavigateToOverlay {
            overlayId
          }
          analytics {
            linkName
            referrerId
          }
        }
        overlays {
          contentId
          overlay {
            ... on EGDSSheet {
              sheetType
              closeAnalytics {
                linkName
                referrerId
              }
              closeText
            }
          }
          overlayId
        }
      }
    }
  }
  ${Q.fragment}
  ${V.fragment}
`,W=()=>r.createElement(a.X,{direction:"column",alignItems:"center",space:"two"},r.createElement(i.C,null,r.createElement(o.R,{type:"line"})),r.createElement(i.C,null,r.createElement(o.R,{type:"line"}))),J=({inputs:e,skipSsr:t,contactHostInputs:n,showTopOfPDPVariant:a})=>{var i,o,d,m,p;const{context:f}=(0,c.R)(),g={...e,context:f},y=(0,s.kY)(),{data:v,error:E,loading:h}=(0,l.useQuery)(X,{context:{shouldLogPerformance:!0},variables:g,ssr:!t,skip:null==(i=null==y?void 0:y.product)?void 0:i.aboutTheHost}),b=(null==v?void 0:v.aboutTheHost)||(null==(o=null==y?void 0:y.product)?void 0:o.aboutTheHost);if(h)return a?r.createElement(W,null):null;if(E||!b)return null;const{hostSummary:S,hostContents:I,shoppingJoinListContainer:_}=b,k=null!=(p=null==(m=null==(d=null==_?void 0:_.actions)?void 0:d[0])?void 0:m.actionId)?p:"";return r.createElement(u._T,{id:"about-the-host",shoppingJoinListContainer:_},r.createElement(V,{data:S,contactHostInputs:n,showTopOfPDPVariant:a}),(null==I?void 0:I[0])&&r.createElement(Q,{data:I[0],actionId:k}))};J.displayName="sharedui-AboutTheHost"},79379:function(e,t,n){n.d(t,{W:function(){return B},w:function(){return $}});var r=n(56195),a=n(92919),i=n(24109),o=n(71224),l=n(1226),c=n(47540),s=n(42534),u=n(69287),d=n(26690),m=n(64341),p=n(53017),f=n(46559),g=n(2557),y=n(62926),v=n(522),E=n(99828),h=n(89962),b=n(32380),S=n(27102),I=n(74071),_=Object.defineProperty,k=Object.defineProperties,C=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,D=(e,t,n)=>t in e?_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x=d.gql`
  fragment AccessibilityHeadingFragment on LodgingHeader {
    text
    subText
    icon {
      title
    }
  }
`,w=({data:e,heading:t})=>{const n=1===(0,p.useExperiment)("App_Shell_Property_Requirement_Web",!0).exposure.bucket,a=1===(0,p.useExperiment)("App_Shell_Property_Requirement_Web_Dateless",!0).exposure.bucket,i=n||a;return e?e.icon?r.createElement(s.N,{padding:{inlineend:"two"}},r.createElement(I.M,{tag:t,size:i?6:5,tabIndex:-1},e.text)):r.createElement(s.N,{padding:{inlineend:"two"}},r.createElement(I.M,{tag:t,size:i?5:4,typeStyle:i?void 0:{customStyle:"headline-large"},tabIndex:-1},e.text)):null};w.displayName="AccessibilityHeading",w.fragment=x;var A=d.gql`
  fragment AccessibilityElementsFragment on PropertyContent {
    header {
      text
      subText
      icon {
        title
      }
    }
    items {
      ... on PropertyContentItemTexts {
        contents {
          primary {
            value
          }
        }
      }
    }
    maxColumns
  }
`,N=({data:e,heading:t,key:n})=>{var a,i;const l=1===(0,p.useExperiment)("App_Shell_Property_Requirement_Web",!0).exposure.bucket,u=1===(0,p.useExperiment)("App_Shell_Property_Requirement_Web_Dateless",!0).exposure.bucket,d=l||u;if(!(null==(i=null==(a=null==e?void 0:e.header)?void 0:a.icon)?void 0:i.title)||0===e.items.length)return null;const m=({items:e})=>e.map(e=>e.contents.map((e,t)=>r.createElement(s.N,{margin:{inlinestart:d?"unset":"four"},key:t},r.createElement(h.x,{key:t},r.createElement(S.D,{size:300,theme:"standard"},e.primary.value),r.createElement("meta",{itemProp:"value",content:e.text})))));return r.createElement(c.T,{colSpan:n+1},r.createElement(o.f,{minWidth:"half_width",space:"twelve"},r.createElement(s.N,{margin:{blockend:"twelve"}},r.createElement(y.S,{forceNoBreak:!0},r.createElement(r.Fragment,null,r.createElement(v.X,{space:"two"},!d&&r.createElement(E.C,null,r.createElement(s.N,{padding:{inlineend:"one"}},r.createElement(g.LD,{name:e.header.icon.title,size:g.So.MEDIUM}))),r.createElement(w,{data:e.header,heading:t})),r.createElement(s.N,{padding:{inlinestart:d?"unset":"six",blockend:"four",blockstart:"two"}},r.createElement(b.y,{bullet:"no-bullet"},r.createElement(m,{items:e.items}))))))))};N.displayName="AccessibilityElements",N.fragment=A;var R=d.gql`
  fragment AccessibilityContentFragment on PropertyContentSubSection {
    elementsV2 {
      elements {
        ...AccessibilityElementsFragment
      }
    }
    maxColumns
  }
  ${N.fragment}
`,L=({data:e,heading:t})=>e&&e.elementsV2&&0!==e.elementsV2[0].elements.length?r.createElement(r.Fragment,null,e.elementsV2[0].elements.map((e,n)=>"PropertyContent"===e.__typename?r.createElement(N,{data:e,heading:t,key:n}):null)):null;L.displayName="AccessibilityContent",L.fragment=R;var F=d.gql`
  query AccessibilityAttributeQuery($context: ContextInput!, $productIdentifier: ProductIdentifierInput!) {
    accessibilityContent(context: $context, productIdentifier: $productIdentifier) {
      accessibilitySection {
        sections {
          header {
            ...AccessibilityHeadingFragment
          }
          bodySubSections {
            ...AccessibilityContentFragment
          }
        }
        sectionName
      }
    }
  }
  ${w.fragment}
  ${L.fragment}
`,M=({data:e})=>r.createElement(r.Fragment,null,r.createElement(w,{data:e,heading:"h2"}),r.createElement(s.N,{padding:{blockstart:"one",blockend:"three"}},r.createElement(u.u,null,e.subText))),j=({data:e})=>e.map((e,t)=>r.createElement(L,{data:e,heading:"h3",key:t})),$=e=>{var t,n;const{inputs:g,skipSsr:y,batchKey:v}=e,{context:E}=(0,m.R)(),h=1===(0,p.useExperiment)("App_Shell_Property_Requirement_Web",!0).exposure.bucket,b=1===(0,p.useExperiment)("App_Shell_Property_Requirement_Web_Dateless",!0).exposure.bucket,S=h||b,I=(_=((e,t)=>{for(var n in t||(t={}))P.call(t,n)&&D(e,n,t[n]);if(O)for(var n of O(t))T.call(t,n)&&D(e,n,t[n]);return e})({},g),k(_,C({context:E})));var _;const{data:x,error:A,loading:N}=(0,d.useQuery)(F,{context:{batchKey:null!=v?v:"default-product-details-experience-batch-key",shouldLogPerformance:!0},variables:I,ssr:!y});if(N||A||!(null==(t=null==x?void 0:x.accessibilityContent)?void 0:t.accessibilitySection.sections))return null;const{header:R,bodySubSections:L}=x.accessibilityContent.accessibilitySection.sections[0];if(!R)return null;const $=null==(n=L[0])?void 0:n.elementsV2[0].elements;return r.createElement(s.N,{padding:{blockstart:S?"four":"six",blockend:S?void 0:"six",small:{inline:S?"three":void 0},medium:{inline:S?"unset":"three"},large:{inline:S?"unset":"six"}},"aria-label":"accessibility"},r.createElement(a.g,{className:"uitk-card-roundcorner-all"},r.createElement(i.E,{padded:!S},r.createElement(f.LM,null,r.createElement(f.zQ,null,0===$.length?r.createElement(l.w,{columns:2,space:"three"},r.createElement(c.T,{colSpan:1,rowStart:1},r.createElement(o.f,null,r.createElement(w,{data:R,heading:"h2"}))),r.createElement(c.T,{colSpan:2,rowStart:1},r.createElement(o.f,null,r.createElement(s.N,null,r.createElement(u.u,null,R.subText))))):r.createElement(l.w,{columns:{medium:3},space:"six"},r.createElement(c.T,{colSpan:1},r.createElement(o.f,null,r.createElement(M,{data:R}))),r.createElement(j,{data:L}))),r.createElement(f.NP,null,r.createElement(r.Fragment,null,r.createElement(M,{data:R}),r.createElement(j,{data:L})))))))};$.displayName="sharedUI-AccessibilityAttributes";var B=(e=>(e.ACTIVITY_ID="ACTIVITY_ID",e.CART_ID="CART_ID",e.CHECKOUT_SESSION_ID="CHECKOUT_SESSION_ID",e.ENTITY_ID="ENTITY_ID",e.LEGACY_ORDER_ID="LEGACY_ORDER_ID",e.OFFER_ID="OFFER_ID",e.ORDER_ID="ORDER_ID",e.PROPERTY_ID="PROPERTY_ID",e))(B||{})},16984:function(e,t,n){n.d(t,{Wx:function(){return T},_:function(){return F},oT:function(){return j}});var r=n(56195),a=n(26690),i=n(64341),o=n(53017),l=n(37965),c=n(84530),s=n(46286),u=n(42534),d=n(97778),m=n(79066),p=n(1226),f=n(2557),g=n(522),y=n(99828),v=n(74071),E=n(27102),h=n(47540),b=n(49858),S=Object.defineProperty,I=Object.defineProperties,_=Object.getOwnPropertyDescriptors,k=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,P=(e,t,n)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T=(e=>(e.ACTIVITY_ID="ACTIVITY_ID",e.CART_ID="CART_ID",e.CAR_OFFER_TOKEN="CAR_OFFER_TOKEN",e.CHECKOUT_SESSION_ID="CHECKOUT_SESSION_ID",e.ENTITY_ID="ENTITY_ID",e.LEGACY_ORDER_ID="LEGACY_ORDER_ID",e.OFFER_ID="OFFER_ID",e.ORDER_ID="ORDER_ID",e.PROPERTY_ID="PROPERTY_ID",e.SAILING_TOKEN="SAILING_TOKEN",e))(T||{}),D=a.gql`
  fragment AmenitiesHeaderFragment on ShoppingProductHeader {
    text
    impressionAnalytics {
      referrerId
      linkName
    }
    icon {
      id
      description
      token
      size
      spotLight
    }
    subText
    additionalText
    link {
      accessibility
      clickStreamAnalytics
      actionId
      text
      trailingIcon {
        id
      }
    }
  }
`,x=({data:e,headingTag:t="h2",headingSize:n=5,disableIcon:a=!1,isVisuallyHidden:i,linkEventName:l,isDesktopOrTablet:c,isInTopPDPRedesignVariant:s})=>{const{text:p,impressionAnalytics:h,subText:b,icon:S,link:I}=e,{referrerId:_,linkName:k}=h||{},C=1===(0,o.useExperiment)("App_Shell_Property_Requirement_Web",!0).exposure.bucket,O=1===(0,o.useExperiment)("App_Shell_Property_Requirement_Web_Dateless",!0).exposure.bucket,P=C||O,T=c?s?"530px":"70%":"100%";if(!(null==e?void 0:e.text))return null;const D=n&&[3,4].includes(n)?{customStyle:4===n?"headline-large":"headline-extra-large"}:void 0,x=r.createElement(g.X,{space:"two",alignItems:(null==S?void 0:S.spotLight)?"center":"start"},S&&!P&&!a&&r.createElement(y.C,null,r.createElement(f.LD,{id:S.id,name:S.id,description:S.description,size:S.size?f.So[S.size]:void 0,spotlight:(null==S?void 0:S.spotLight)?m.nX[null==S?void 0:S.spotLight]:void 0,theme:"primary"})),r.createElement(y.C,null,r.createElement(v.M,{tag:t,size:n,"data-testid":"sp-header",typeStyle:D,tabIndex:-1,className:i?"is-visually-hidden":""},p))),w=b?r.createElement(u.N,{padding:{blockstart:i?"unset":"two"}},r.createElement("div",{"data-testid":"sp-subtext",style:{maxWidth:T}},r.createElement(E.D,{size:300,overflow:I?"truncate-4-lines":void 0,hyphens:"auto"},b))):null,A=I?r.createElement(u.N,{padding:{blockstart:"two"}},r.createElement("div",null,r.createElement(m.B8,{data:I,inline:!1,isSectionDivider:!0,isIconHeader:!0,isBulletedList:!1,eventName:l}))):null;return _&&k?r.createElement(d.IntersectionTracker,{trackOnce:!0,linkName:k,referrerId:_},x,w,A):r.createElement(r.Fragment,null,x,w,A)};x.fragment=D,x.displayName="AmenitiesHeader";var w=a.gql`
  fragment AmenitiesContentSectionFragment on ShoppingProductContentSection {
    header {
      ...AmenitiesHeaderFragment
    }
    subSections {
      header {
        ...AmenitiesHeaderFragment
      }
      ...ShoppingProductContentSubSectionFragment
    }
    action {
      ...ShoppingProductContentSectionActionFragment
    }
    impressionAnalytics {
      event
      referrerId
      linkName
    }
  }

  ${x.fragment}
  ${m.Wi.fragment}
  ${m.Ic.fragment}
`,A=({data:e,inputs:t,isModal:n,reviewScoreData:a})=>{var l,s,f,g;const y=1===(0,o.useExperiment)("App_Shell_Property_Requirement_Web",!0).exposure.bucket,v=1===(0,o.useExperiment)("App_Shell_Property_Requirement_Web_Dateless",!0).exposure.bucket,E=y||v,h=1===(0,o.useExperiment)("Top_of_PDP_Redesign",!1).exposure.bucket,{context:b}=(0,i.R)(),S="DESKTOP"===(null==(l=null==b?void 0:b.device)?void 0:l.type)||"MOBILE_TABLET"===(null==(s=null==b?void 0:b.device)?void 0:s.type),{header:I,subSections:_,action:k,impressionAnalytics:C}=e,{referrerId:O,linkName:P}=C||{},T=(null==(f=null==t?void 0:t.productIdentifier)?void 0:f.id)||"",D=(null==(g=null==t?void 0:t.productIdentifier)?void 0:g.travelSearchCriteria)||void 0,w=r.createElement("div",{"data-stid":"amenity-review-score"},r.createElement(c.ug,{inputs:{featureId:"amenity_review_score_tpl",productIdentifier:{id:T,type:"PROPERTY_ID",travelSearchCriteria:D}},mockData:a})),A=n||E&&n,N=r.createElement(u.N,{padding:A?{blockend:"four"}:void 0},r.createElement(p.w,{space:h&&S?"six":"four",columns:{medium:1,large:1}},I&&r.createElement(r.Fragment,null,r.createElement(x,{data:I,headingSize:4,headingTag:"h2",isVisuallyHidden:h&&!!I.subText,linkEventName:"see_more.selected"}),w),(null==_?void 0:_.length)>0&&_.map((e,t)=>{var n;return r.createElement("div",{key:`sp-content-sub-section-${t}`},(null==e?void 0:e.header)&&r.createElement(r.Fragment,null,r.createElement(x,{data:e.header,isVisuallyHidden:h&&!!e.header.subText,linkEventName:"see_more.selected",isDesktopOrTablet:S,isInTopPDPRedesignVariant:h}),w),r.createElement(m.Wi,{data:e,padding:h&&(null==(n=null==e?void 0:e.header)?void 0:n.subText)?{blockstart:"six"}:void 0}))}),k&&r.createElement(m.Ic,{data:k,isSectionDivider:!0,isIconHeader:!0,isBulletedList:!1})));return O&&P?r.createElement(d.IntersectionTracker,{trackOnce:!0,referrerId:O,linkName:P},N):r.createElement(r.Fragment,null,N)};A.displayName="AmenitiesContentSection",A.fragment=w;var N=a.gql`
  fragment AmenitiesContentSectionGroupFragment on ShoppingProductContentSectionGroup {
    shoppingJoinListContainer {
      actions {
        accessibility
        event {
          ...EGClickstreamEventFragment
        }
        analytics {
          linkName
          referrerId
          uisPrimeMessages {
            schemaName
            messageContent
          }
        }
        actionId
        ... on ShoppingNavigateToOverlay {
          overlayId
        }
        ... on ShoppingScrollsToView {
          targetRef
        }
        ... on ShoppingNavigateToURI {
          resource {
            value
            ... on HttpURI {
              relativePath
            }
          }
          target
          useRelativePath
        }
        ... on ShoppingScrollsToView {
          targetRef
        }
      }
      overlays {
        ...ShoppingProductContentSectionGroupOverlayFragment
      }
    }
    contents {
      ...ShoppingProductContentSectionGroupContentFragment
    }
    sections {
      ...AmenitiesContentSectionFragment
    }
    impressionAnalytics {
      event
      referrerId
      linkName
    }
  }
  ${m.O0.fragment}
  ${m.U9.fragment}
  ${A.fragment}
  ${m.Rw}
`,R=({data:e,padding:t={blockend:"four"},inputs:n,reviewScoreData:a})=>{const{sections:i,impressionAnalytics:l}=e,{referrerId:c,linkName:s}=l||{},p=1===(0,o.useExperiment)("App_Shell_Property_Requirement_Web",!0).exposure.bucket,f=1===(0,o.useExperiment)("App_Shell_Property_Requirement_Web_Dateless",!0).exposure.bucket,g=p||f;if(!i||0===i.length)return null;const y=r.createElement(m.Kl,{data:e},r.createElement(u.N,{padding:t,margin:{block:g?"eight":void 0}},r.createElement("div",null,i.map((e,t)=>r.createElement(A,{data:e,key:`sp-content-section-${t}`,inputs:n,reviewScoreData:a})))));return c&&s?r.createElement(d.IntersectionTracker,{trackOnce:!0,linkName:s,referrerId:c},y):r.createElement(r.Fragment,null,y)};R.displayName="AmenitiesContentSectionGroup",R.fragment=N;var L=r.createElement(p.w,{columns:2,space:"two"},r.createElement(h.T,null,r.createElement(u.N,{margin:{blockend:"two"}},r.createElement(b.R,{type:"line",animation:!0}))),r.createElement(h.T,null,r.createElement(u.N,{margin:{block:"two"}},r.createElement(b.R,{type:"line",animation:!0})))),F=()=>r.createElement(u.N,{margin:{blockend:"three"}},r.createElement("div",null,r.createElement(u.N,{margin:{blockend:"six"}},r.createElement("div",null,r.createElement(b.R,{type:"line",lineHeight:18}))),Array.from({length:3}).map((e,t)=>r.createElement("div",{key:t},L)),r.createElement(u.N,{margin:{block:"three"}},r.createElement("div",null,r.createElement(b.R,{type:"line"}))))),M=a.gql`
  query AmenitiesQuery($productIdentifier: ProductIdentifierInput!, $context: ContextInput!) {
    amenities(productIdentifier: $productIdentifier, context: $context) {
      ...AmenitiesContentSectionGroupFragment
    }
  }
  ${R.fragment}
`,j=e=>{var t,n,u;const{inputs:d,batchKey:m,skipSsr:p,refTargetName:f="PopularAmenities",prefetchedData:g}=e,{context:y}=(0,i.R)(),v="default-product-details-experience-batch-key",E=(h=((e,t)=>{for(var n in t||(t={}))C.call(t,n)&&P(e,n,t[n]);if(k)for(var n of k(t))O.call(t,n)&&P(e,n,t[n]);return e})({},d),I(h,_({context:y})));var h;const b=(0,s.kY)(),{data:S,error:T,loading:D}=(0,a.useQuery)(M,{context:{useApq:!0,batchKey:null!=m?m:v,shouldLogPerformance:!0},variables:E,ssr:!p,skip:(null==(t=null==b?void 0:b.product)?void 0:t.amenities)||g}),{id:x,shoppingContext:w,travelSearchCriteria:A}=d.productIdentifier;(0,o.useExperiment)("App_Shell_Property_Requirement_Web",!0).exposure.bucket,(0,o.useExperiment)("App_Shell_Property_Requirement_Web_Dateless",!0).exposure.bucket;const{data:N}=(0,a.useQuery)(c.dy,{variables:(L="amenity_review_score_tpl",{context:y,featureId:L,productIdentifier:{id:x,type:c.Wx.PROPERTY_ID,shoppingContext:w,travelSearchCriteria:A}}),ssr:!p,errorPolicy:"all",context:{batchKey:null!=m?m:v,shouldLogPerformance:!0}});var L;const j=null!=(u=null!=g?g:null==S?void 0:S.amenities)?u:null==(n=null==b?void 0:b.product)?void 0:n.amenities;return T?null:r.createElement(r.Fragment,null,D&&r.createElement(F,null),j&&r.createElement(l.Rn,{name:f},r.createElement(R,{data:j,padding:{blockend:"unset"},inputs:d,reviewScoreData:N})))};j.displayName="sharedui-Amenities"},7647:function(e,t,n){n.d(t,{T:function(){return h},W:function(){return b}});var r=n(56195),a=n(26690),i=n(64341),o=n(79066),l=n(49858),c=n(42534),s=Object.defineProperty,u=Object.defineProperties,d=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y=()=>r.createElement(c.N,{margin:{blockend:"two"}},r.createElement("div",null,r.createElement(l.R,{type:"line",lineHeight:"heading-2",lineLength:"secondary",animation:!0}),r.createElement(c.N,{margin:{blockstart:"one"}},r.createElement(l.R,{type:"line",lineHeight:"paragraph-1",animation:!0})))),v=a.gql`
  query LuxuryContentQuery($context: ContextInput!, $productIdentifier: ProductIdentifierInput!) {
    luxuryContent(context: $context, productIdentifier: $productIdentifier) {
      contents {
        ...ShoppingProductContentFragment
      }
    }
  }
  ${o.zx.fragment}
`,E=(e,t,n)=>{const{context:r}=(0,i.R)(),o=(l=((e,t)=>{for(var n in t||(t={}))p.call(t,n)&&g(e,n,t[n]);if(m)for(var n of m(t))f.call(t,n)&&g(e,n,t[n]);return e})({},e),u(l,d({context:r})));var l;return(0,a.useQuery)(v,{context:{shouldLogPerformance:!0},variables:o,ssr:!t,skip:void 0!==n})},h=({inputs:e,skipSsr:t,prefetchedData:n})=>{const{data:a,error:i,loading:l}=E(e,t,n),c=((e,t)=>(0,r.useMemo)(()=>null!=t?t:e,[e,t]))(null==a?void 0:a.luxuryContent,n),{contents:s}=c||{};return l?r.createElement(y,null):i||!(null==s?void 0:s.length)?null:r.createElement(r.Fragment,null,null==s?void 0:s.map((e,t)=>{var n;return r.createElement("div",{key:`luxury-content-${t}`},r.createElement(o.zx,{data:e,isIconHeader:null!==(null==(n=e.header)?void 0:n.icon),itemSize:400,headingTag:"h3",headingSize:6,listItemPadding:"two"}))}))};h.displayName="sharedui-LuxuryContent";var b=(e=>(e.ACTIVITY_ID="ACTIVITY_ID",e.CART_ID="CART_ID",e.CAR_OFFER_TOKEN="CAR_OFFER_TOKEN",e.CHECKOUT_SESSION_ID="CHECKOUT_SESSION_ID",e.ENTITY_ID="ENTITY_ID",e.LEGACY_ORDER_ID="LEGACY_ORDER_ID",e.OFFER_ID="OFFER_ID",e.ORDER_ID="ORDER_ID",e.PROPERTY_ID="PROPERTY_ID",e.SAILING_TOKEN="SAILING_TOKEN",e))(b||{})},56463:function(e,t,n){n.d(t,{Hh:function(){return I},Wx:function(){return C},yk:function(){return k}});var r=n(56195),a=n(26690),i=n(64341),o=n(37965),l=n(46286),c=n(12389),s=n(53877),u=n(97778),d=n(46559),m=Object.defineProperty,p=Object.defineProperties,f=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,E=(e,t,n)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h={rootMargin:-60,thresholds:new Array(51).fill(0).map((e,t)=>.02*t)},b=a.gql`
  fragment NavigationBarTabsFragment on ProductNavigationBar {
    tabs {
      text
      sectionName
      analytics {
        linkName
        referrerId
        uisPrimeMessages {
          schemaName
          messageContent
        }
      }
    }
  }
`,S=e=>{const{data:t,targets:n,isPageLazyLoaded:a}=e,i=t.tabs||[],l=(0,u.useClickTracker)(),[m,p]=r.useState(0),[f,g]=r.useState(-1),y=(0,d.s5)({[d.OB.SMALL]:!0,[d.OB.MEDIUM]:!1,[d.OB.LARGE]:!1}),v=r.useMemo(()=>i.map(e=>({id:e.sectionName,ref:n[e.sectionName]||{current:null}})),[i,n]);(0,r.useEffect)(()=>{var e,t;const r=null==(t=n[null==(e=i[f])?void 0:e.sectionName])?void 0:t.current,a=setInterval(()=>{null==r||r.scrollIntoView({behavior:"smooth",block:"start"})},750),o=new IntersectionObserver(([e])=>{e.isIntersecting&&setTimeout(()=>{e.isIntersecting&&(y||window.scrollBy(0,-100),clearInterval(a),o.disconnect())},1500)},{root:null,rootMargin:"0px"});r&&o.observe(r)},[f>-1]);const E=r.useCallback(e=>{let t=-1;Object.keys(e).forEach(n=>{e[n]!==o.h1.PARTIAL_TOP&&e[n]!==o.h1.SPAN_VIEWPORT||(t=i.findIndex(e=>e.sectionName===n))}),t>=0&&p(t)},[i]),{disableObserver:b,enableObserver:S}=(0,o.c5)(v,E,h);return r.createElement(c.IN,{navigationType:c.so.JUMPLINK,onTabSelect:e=>{if(e===m)return;b(),setTimeout(S,1500);i[e]&&p(e)},onTabClickCB:e=>{if(e===m)return;const t=i[e];if(null==t?void 0:t.analytics){const{referrerId:e,linkName:n,uisPrimeMessages:r}=(null==t?void 0:t.analytics)||{},a=r.map(({messageContent:e,schemaName:t})=>({messageContent:JSON.parse(e),schemaName:t}));l(e,n,void 0,a)}a&&g(e)},selectedTab:m,tabsType:c.Ah.NATURAL,scrollOffsetSelf:!0,"data-stid":"navigation-tabs"},i.map(e=>r.createElement(s.X,{id:e.sectionName,key:`uitk-tab-key-${e.sectionName}`,name:e.text,targetRef:n[e.sectionName],targetURI:`#${e.sectionName}`,tabLinkAttr:{"aria-label":e.text}})))};S.displayName="sharedui-NavigationBarTabs",S.fragment=b;var I=()=>r.createElement(c.IN,null),_=a.gql`
  query NavigationBarQuery($context: ContextInput!, $productIdentifier: ProductIdentifierInput!) {
    productNavigationBar(context: $context, productIdentifier: $productIdentifier) {
      ...NavigationBarTabsFragment
    }
  }

  ${S.fragment}
`,k=({inputs:e,skipSsr:t,batchKey:n,prefetchedData:c,isPageLazyLoaded:s=!1})=>{var u,d,m;const{context:h}=(0,i.R)(),{getTargets:b}=(0,o.OK)(),k=(C=((e,t)=>{for(var n in t||(t={}))y.call(t,n)&&E(e,n,t[n]);if(g)for(var n of g(t))v.call(t,n)&&E(e,n,t[n]);return e})({},e),p(C,f({context:h})));var C;const O=(0,l.kY)(),{data:P,error:T,loading:D}=(0,a.useQuery)(_,{context:{useApq:!0,batchKey:null!=n?n:"default-product-details-experience-batch-key",shouldLogPerformance:!0},variables:k,ssr:!t,skip:(null==(u=null==O?void 0:O.product)?void 0:u.productNavigationBar)||c});if(D)return r.createElement(I,null);const x=null!=(m=null!=c?c:null==(d=null==O?void 0:O.product)?void 0:d.productNavigationBar)?m:null==P?void 0:P.productNavigationBar;if(T||!x)return null;const{tabs:w}=x,A=b(null==w?void 0:w.map(e=>e.sectionName));return r.createElement(S,{data:x,targets:A,isPageLazyLoaded:s})};k.displayName="sharedui-NavigationBar";var C=(e=>(e.ACTIVITY_ID="ACTIVITY_ID",e.CART_ID="CART_ID",e.CAR_OFFER_TOKEN="CAR_OFFER_TOKEN",e.CHECKOUT_SESSION_ID="CHECKOUT_SESSION_ID",e.ENTITY_ID="ENTITY_ID",e.LEGACY_ORDER_ID="LEGACY_ORDER_ID",e.OFFER_ID="OFFER_ID",e.ORDER_ID="ORDER_ID",e.PROPERTY_ID="PROPERTY_ID",e.SAILING_TOKEN="SAILING_TOKEN",e))(C||{})},95796:function(e,t,n){n.d(t,{W:function(){return h}});var r=n(56195),a=n(32380),i=n(89962),o=n(42534),l=n(74071),c=n(26690),s=n(64341),u=n(97778),d=Object.defineProperty,m=Object.defineProperties,p=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,v=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E=c.gql`
  query RelevantContentQuery($productIdentifier: ProductIdentifierInput!, $context: ContextInput!) {
    relevantContent(productIdentifier: $productIdentifier, context: $context) {
      __typename
      content {
        ... on ProductAmenitiesSection {
          elementID
          title {
            __typename
            text
          }
          list {
            __typename
            ... on EGDSBulletedList {
              __typename
              listItems {
                ... on EGDSTextStandardListItem {
                  __typename
                  text
                }
              }
            }
          }
        }
      }
      impressionAnalytics {
        __typename
        referrerId
        linkName
      }
    }
  }
`;(e=>{var t,n,d;const{inputs:h,skipSsr:b,batchKey:S}=e,{context:I}=(0,s.R)(),_=(k=((e,t)=>{for(var n in t||(t={}))g.call(t,n)&&v(e,n,t[n]);if(f)for(var n of f(t))y.call(t,n)&&v(e,n,t[n]);return e})({},h),m(k,p({context:I})));var k;const{data:C,error:O,loading:P}=(0,c.useQuery)(E,{context:{batchKey:null!=S?S:"default-product-details-experience-batch-key",shouldLogPerformance:!0},variables:_,ssr:!b});if(P||O||!C||!C.relevantContent)return null;const{content:T,impressionAnalytics:D}=C.relevantContent,{title:x,list:w}=T,A=r.createElement(r.Fragment,null,x&&r.createElement(o.N,{margin:{blockend:"two"}},r.createElement(l.M,{tag:"h3",size:6},null==x?void 0:x.text)),"EGDSBulletedList"===(null==w?void 0:w.__typename)&&(null==(t=null==w?void 0:w.listItems)?void 0:t.length)&&r.createElement(a.y,{spacing:!1,size:2},null==(n=null==w?void 0:w.listItems)?void 0:n.map((e,t)=>"EGDSTextStandardListItem"===e.__typename&&r.createElement(i.x,{key:`listitems-${t}`},e.text))));return D?r.createElement(u.IntersectionTracker,{trackOnce:!0,referrerId:D.referrerId,linkName:null!=(d=null==D?void 0:D.linkName)?d:""},A):A}).displayName="sharedui-RelevantContent";var h=(e=>(e.ACTIVITY_ID="ACTIVITY_ID",e.CART_ID="CART_ID",e.CAR_OFFER_TOKEN="CAR_OFFER_TOKEN",e.CHECKOUT_SESSION_ID="CHECKOUT_SESSION_ID",e.ENTITY_ID="ENTITY_ID",e.LEGACY_ORDER_ID="LEGACY_ORDER_ID",e.OFFER_ID="OFFER_ID",e.ORDER_ID="ORDER_ID",e.PROPERTY_ID="PROPERTY_ID",e.SAILING_TOKEN="SAILING_TOKEN",e))(h||{})},87658:function(e,t,n){n.d(t,{W:function(){return F},j:function(){return L}});var r=n(56195),a=n(92919),i=n(522),o=n(42534),l=n(26690),c=n(64341),s=n(53017),u=n(79066),d=n(24109),m=n(99828),p=n(74071),f=n(97778),g=n(32380),y=n(89962),v=n(2557),E=n(96394),h=n(27102),b=Object.defineProperty,S=Object.defineProperties,I=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,O=(e,t,n)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,P=(e,t)=>{var n,r;let a;try{a=JSON.parse(t)}catch(c){return{clientPayload:void 0,serverPayload:t}}const{events:i}=a,o=Object.keys((null==i?void 0:i[e])||{});o.sort((e,t)=>parseInt(t.slice(1),10)-parseInt(e.slice(1),10));const l=o[0];return{clientPayload:l?null==(r=null==(n=i[e])?void 0:n[l])?void 0:r.event_data:void 0,serverPayload:t}},T=l.gql`
  fragment SummarizedReviewsContentListFragment on ProductAmenitiesSection {
    list {
      __typename
      ... on EGDSBulletedList {
        __typename
        listItems {
          ... on EGDSTextStandardListItem {
            __typename
            text
          }
        }
      }
    }
  }
`,D=({data:e})=>{const{list:t}=e;return"EGDSBulletedList"===(null==t?void 0:t.__typename)?r.createElement(g.y,{spacing:!0},t.listItems.map((e,t)=>r.createElement(y.x,{key:t},"EGDSTextStandardListItem"===(null==e?void 0:e.__typename)&&(null==e?void 0:e.text)))):null};D.fragment=T,D.displayName="SummarizedReviewsContentList";var x=l.gql`
  fragment SummarizedReviewsContentFragment on ReviewSummaryInfo {
    __typename
    content {
      ... on ProductAmenitiesSection {
        title {
          __typename
          text
        }
        ...SummarizedReviewsContentListFragment
      }
    }
    impressionAnalytics {
      __typename
      referrerId
      linkName
    }
    clickStreamAnalytics
    theme {
      ...EGDSLocalThemeProviderFragment
    }
  }
  ${D.fragment}
  ${u.dy.fragment}
`,w=({data:e})=>{var t;const{content:n,impressionAnalytics:a,clickStreamAnalytics:i}=e;if(!(null==n?void 0:n.list))return null;const o=(null==a?void 0:a.referrerId)||"",l=(null==a?void 0:a.linkName)||"",c=r.createElement(m.C,null,r.createElement(d.E,{padded:!1},r.createElement(p.M,{tag:"h3",size:7},null==(t=null==n?void 0:n.title)?void 0:t.text),r.createElement(D,{data:n})));return i?r.createElement(f.EgClickstreamImpressionTracker,{eventData:P("review_summarisation.presented",i)},c):r.createElement(f.IntersectionTracker,{trackOnce:!0,referrerId:o,linkName:l},c)};w.fragment=x,w.displayName="SummarizedReviewsContent";var A=l.gql`
  fragment SummarizedReviewsDisclaimerFragment on EGDSGraphicText {
    __typename
    text
    graphic {
      ... on Icon {
        __typename
        title
        token
        id
        description
      }
      ...EGDSMarkFragment
    }
  }

  ${u.qU.fragment}
`,N=({data:e})=>{const{text:t,graphic:n}=e,a=1===(0,s.useExperiment)("PDP_Explore_AI_Updates",!1).exposure.bucket;return t?r.createElement("div",null,"Icon"!==(null==n?void 0:n.__typename)||a?null:r.createElement(o.N,{padding:{inlineend:"one"}},r.createElement(v.LD,{id:n.id,name:n.token,size:v.So.EXTRA_SMALL})),"Mark"===(null==n?void 0:n.__typename)&&a?r.createElement(o.N,{padding:{inlineend:"one"}},r.createElement(u.qU,{data:n,size:E.K.EXTRA_SMALL})):null,r.createElement(h.D,{size:100,inline:!!t},t)):null};N.fragment=A,N.displayName="SummarizedReviewsDisclaimer";var R=l.gql`
  query SummarizedReviewsQuery($context: ContextInput!, $productIdentifier: ProductIdentifierInput!) {
    productReviewSummary(context: $context, productIdentifier: $productIdentifier) {
      summary {
        ...SummarizedReviewsContentFragment
      }
      disclaimer {
        ...SummarizedReviewsDisclaimerFragment
      }
    }
  }

  ${w.fragment}
  ${N.fragment}
`,L=({inputs:e,skipSsr:t,batchKey:n})=>{var d;const{context:m}=(0,c.R)(),p=1===(0,s.useExperiment)("PDP_Explore_AI_Updates",!1).exposure.bucket,f=(g=((e,t)=>{for(var n in t||(t={}))k.call(t,n)&&O(e,n,t[n]);if(_)for(var n of _(t))C.call(t,n)&&O(e,n,t[n]);return e})({},e),S(g,I({context:m})));var g;const{data:y,error:v,loading:E}=(0,l.useQuery)(R,{context:{useApq:!0,batchKey:null!=n?n:"default-product-details-experience-batch-key",shouldLogPerformance:!0},variables:f,ssr:!t});if(E||v||!y||!y.productReviewSummary)return null;const{summary:h,disclaimer:b}=(null==y?void 0:y.productReviewSummary)||{};if(!h)return null;const P=null==(d=null==h?void 0:h[0])?void 0:d.theme,T=r.createElement(o.N,{padding:"four"},r.createElement(i.X,{space:"three",direction:"column"},null==h?void 0:h.map((e,t)=>r.createElement(w,{data:e,key:t})),b&&r.createElement(N,{data:b}))),D=r.createElement(a.g,{backgroundTheme:"secondary"},T),x=P?r.createElement(a.g,null,r.createElement("div",null,r.createElement(u.dy,{data:P},r.createElement(a.g,{backgroundTheme:"primary"},T)))):r.createElement(a.g,{backgroundTheme:"primary"},T);return r.createElement("div",{"data-stid":"product-summarized-reviews"},r.createElement(o.N,{margin:{blockstart:"two",blockend:"three"}},p?x:D))};L.displayName="sharedui-SummarizedReviews";var F=(e=>(e.ACTIVITY_ID="ACTIVITY_ID",e.CART_ID="CART_ID",e.CAR_OFFER_TOKEN="CAR_OFFER_TOKEN",e.CHECKOUT_SESSION_ID="CHECKOUT_SESSION_ID",e.ENTITY_ID="ENTITY_ID",e.LEGACY_ORDER_ID="LEGACY_ORDER_ID",e.OFFER_ID="OFFER_ID",e.ORDER_ID="ORDER_ID",e.PROPERTY_ID="PROPERTY_ID",e.SAILING_TOKEN="SAILING_TOKEN",e))(F||{})},46286:function(e,t,n){n.d(t,{R8:function(){return l},ch:function(){return a},kY:function(){return s},z:function(){return c}});var r=n(56195),a=function(e){return e.GroundTransportation="GroundTransportation",e.Lodging="Lodging",e.Activities="Activities",e.Cars="Cars",e.Unclassified="Unclassified",e}(a||{}),i=(0,r.createContext)(null),o=i.Provider,l=function(e){var t=e.productType,n=e.mockData,a=e.children;return r.createElement(o,{value:{productType:t,mockData:n}},a)},c=function(){var e,t;return null!==(t=null===(e=(0,r.useContext)(i))||void 0===e?void 0:e.productType)&&void 0!==t?t:null},s=function(){var e,t;return null!==(t=null===(e=(0,r.useContext)(i))||void 0===e?void 0:e.mockData)&&void 0!==t?t:null}},94760:function(e,t,n){n.d(t,{N:function(){return h},W:function(){return b}});var r=n(56195),a=n(26690),i=n(64341),o=n(42534),l=n(74071),c=n(27102),s=Object.defineProperty,u=Object.defineProperties,d=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y=a.gql`
  fragment UserGeneratedContentExperienceScoreRatingFragment on ExperienceScoreRating {
    __typename
    primary
    secondary
    supportingMessages
  }
`,v=({data:e})=>{const{primary:t,secondary:n,supportingMessages:a}=e,i={blockend:"two"},s=r.createElement(r.Fragment,null,n?r.createElement(l.M,{tag:"h3",size:7},n):null),u=r.createElement(r.Fragment,null,null==a?void 0:a.map((e,t)=>r.createElement(o.N,{padding:i,key:t+e},r.createElement(c.D,{weight:"regular"},e))));return r.createElement(r.Fragment,null,t?r.createElement(o.N,{padding:i},r.createElement(l.M,{tag:"h3",size:5},t)):null,s,u)};v.fragment=y,v.displayName="UserGeneratedContentExperienceScoreRating";var E=a.gql`
  query UserGeneratedContentContainerQuery($context: ContextInput!, $productIdentifier: ProductIdentifierInput!) {
    experienceScoreInfo(context: $context, productIdentifier: $productIdentifier) {
      __typename
      primary {
        __typename
        experienceScoreRating {
          ...UserGeneratedContentExperienceScoreRatingFragment
        }
      }
    }
  }

  ${v.fragment}
`,h=e=>{const{inputs:t,skipSsr:n,batchKey:o}=e,{context:l}=(0,i.R)(),c=(s=((e,t)=>{for(var n in t||(t={}))p.call(t,n)&&g(e,n,t[n]);if(m)for(var n of m(t))f.call(t,n)&&g(e,n,t[n]);return e})({},t),u(s,d({context:l})));var s;const{data:y,error:h,loading:b}=(0,a.useQuery)(E,{context:{batchKey:null!=o?o:"default-product-details-experience-batch-key",shouldLogPerformance:!0},variables:c,ssr:!n});if(b||h||!y||!y.experienceScoreInfo)return null;const{primary:S}=y.experienceScoreInfo;return r.createElement("div",{"data-stid":"user-generated-content"},(null==S?void 0:S.experienceScoreRating)&&r.createElement(v,{data:S.experienceScoreRating}))};h.displayName="sharedui-UserGeneratedContentContainer";var b=(e=>(e.ACTIVITY_ID="ACTIVITY_ID",e.CART_ID="CART_ID",e.CAR_OFFER_TOKEN="CAR_OFFER_TOKEN",e.CHECKOUT_SESSION_ID="CHECKOUT_SESSION_ID",e.ENTITY_ID="ENTITY_ID",e.LEGACY_ORDER_ID="LEGACY_ORDER_ID",e.OFFER_ID="OFFER_ID",e.ORDER_ID="ORDER_ID",e.PROPERTY_ID="PROPERTY_ID",e.SAILING_TOKEN="SAILING_TOKEN",e))(b||{})},23101:function(e,t,n){n.d(t,{kW:function(){return v},tb:function(){return y},ur:function(){return p}});var r=n(56195),a=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&u(e,n,t[n]);if(l)for(var n of l(t))s.call(t,n)&&u(e,n,t[n]);return e},m=(e,t)=>i(e,o(t)),p=e=>{if(!e)return{adultTravelerCounts:[1],childTravelerCounts:[0],childrenAges:[[]],totalTravelerCount:1,roomCount:0,petCounts:[0]};const t=(e=>"rooms"in e?e.rooms.map(e=>e.adults):[e.adults||0])(e),n=(e=>{var t;return"rooms"in e?e.rooms.map(e=>{var t;return(null==(t=e.childrenAges)?void 0:t.length)||0}):[(null==(t=e.childrenAges)?void 0:t.length)||0]})(e),r=(e=>"rooms"in e?e.rooms.map(e=>e.childrenAges):[e.childrenAges])(e),a=(e=>("rooms"in e?e.rooms:[e]).reduce((e,t)=>{var n;return e+t.adults+((null==(n=t.childrenAges)?void 0:n.length)||0)},0))(e),i=(e=>{var t;return"rooms"in e?null==(t=e.rooms)?void 0:t.length:1})(e),o=(e=>"rooms"in e?e.rooms.map(e=>e.pets?1:0):[e.pets?1:0])(e);return{adultTravelerCounts:t,childTravelerCounts:n,childrenAges:r,totalTravelerCount:a,roomCount:i,petCounts:o}},f=r.createContext({state:{},dispatch:()=>{}}),g=(e,t)=>{var n,r,a;const{type:i}=t;if("UPDATE_DATES"===i)return m(d({},e),{dates:d({},t),partialStaysDates:d({},t)});if("UPDATE_TRAVELERS"===i)return m(d({},e),{travelers:p(null==(n=t.travelers)?void 0:n.travelers)});if("UPDATE_DATES_AND_TRAVELERS"===i){const n=p(null==(r=t.travelers)?void 0:r.travelers),i=(o=null==(a=t.travelers)?void 0:a.dateRange)?{start:`${o.start.year}-${String(o.start.month).padStart(2,"0")}-${String(o.start.day).padStart(2,"0")}`,end:`${o.end.year}-${String(o.end.month).padStart(2,"0")}-${String(o.end.day).padStart(2,"0")}`}:{start:null,end:null};return m(d({},e),{travelers:n,dates:i})}var o;const{location:l}=t;return m(d({},e),{["UPDATE_DESTINATION"===i?"destination":"origin"]:l})},y=e=>{const{children:t}=e,[n,a]=r.useReducer(g,{}),i=r.useMemo(()=>({state:n,dispatch:a}),[n]);return r.createElement(f.Provider,{value:i},t)},v=()=>r.useContext(f)},11683:function(e,t,n){n.d(t,{a:function(){return d},w:function(){return l}});var r=n(13902),a=n(56195),i=n(58663),o={GENERATE_ID:"GENERATE_ID",CLEAR_ID:"CLEAR_ID"},l=()=>{var e;const[t,n]=(0,r.A9)();return[null!=(e=t.id)?e:null,{generateId:()=>{n({type:o.GENERATE_ID})},clearId:()=>{n({type:o.CLEAR_ID})}}]},c=()=>(0,i.A)(),s={data:null,stateFieldName:"id",events:Object.values(o),update:(e,t)=>{switch(e){case o.GENERATE_ID:return c();case o.CLEAR_ID:return null;default:return t}}},u=(0,r.RK)(s),d=({children:e})=>a.createElement(u,null,e)},32178:function(e,t,n){n.d(t,{m9:function(){return l},p:function(){return o}});var r=n(56195),a=n(26690),i=r.createContext(null),o=({children:e,tnlFields:t})=>{const n=r.useMemo(()=>({tnlFields:t}),[t]);return r.createElement(i.Provider,{value:n},e)},l=e=>{var t;const n=r.useContext(i);return n&&e?null==(t=n.tnlFields)?void 0:t.find(t=>(null==t?void 0:t.key)===e):(console.error("useTnlFieldsWithKey can only be used in a component inside <TnlFieldsProvider />"),null)};a.gql`
  fragment TnlFieldsFragment on GraphQLPair {
    key
    value
  }
`},57951:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function o(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return o(this,n)}}n.d(t,{Wp:function(){return s}});var s=function(e){i(n,e);var t=c(n);function n(){return r(this,n),t.apply(this,arguments)}return n}(n(80216).H)},72233:function(e,t,n){n.d(t,{GR:function(){return S},Ne:function(){return h},OM:function(){return y},PC:function(){return g},QB:function(){return v},QK:function(){return I},SE:function(){return k},TU:function(){return b},UP:function(){return p},_6:function(){return f},hz:function(){return _},mV:function(){return E}});var r=n(80216);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t,n){return t=u(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,s()?Reflect.construct(t,n||[],u(e).constructor):t.apply(e,n))}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}var p="CHANGE_OFFER_SELECTED",f=function(e){function t(){return l(this,t),c(this,t,arguments)}return d(t,e),i(t)}(r.H),g="CHANGE_OFFER_SELECTED_LOADING",y=function(e){function t(){return l(this,t),c(this,t,arguments)}return d(t,e),i(t)}(r.H),v="CHANGE_OFFERS_ERROR",E="CHANGE_CURRENT_ROOM_ERROR",h=function(e){function t(){return l(this,t),c(this,t,arguments)}return d(t,e),i(t)}(r.H),b=function(e){function t(){return l(this,t),c(this,t,arguments)}return d(t,e),i(t)}(r.H),S=function(e){function t(){return l(this,t),c(this,t,arguments)}return d(t,e),i(t)}(r.H),I=function(e){function t(){return l(this,t),c(this,t,arguments)}return d(t,e),i(t)}(r.H),_="CHANGE_SELECTED_SEGMENT_OPTION",k=function(e){function t(){return l(this,t),c(this,t,arguments)}return d(t,e),i(t)}(r.H)},33434:function(e,t,n){n.d(t,{mn:function(){return d},sD:function(){return m},v0:function(){return u}});var r=n(80216);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function l(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=i(e);if(t){var a=i(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l(this,n)}}var u=function(e){o(n,e);var t=s(n);function n(){return a(this,n),t.apply(this,arguments)}return n}(r.H),d=function(e){o(n,e);var t=s(n);function n(){return a(this,n),t.apply(this,arguments)}return n}(r.H),m=function(e){o(n,e);var t=s(n);function n(){return a(this,n),t.apply(this,arguments)}return n}(r.H)},2533:function(e,t,n){n.d(t,{IA:function(){return p},Jm:function(){return v},K2:function(){return O},KD:function(){return h},P6:function(){return _},Wj:function(){return C},_8:function(){return I},dO:function(){return k},en:function(){return P},ht:function(){return E},n6:function(){return g},tk:function(){return y},vZ:function(){return S},xy:function(){return f},z:function(){return b}});var r=n(80216);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t,n){return t=u(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,s()?Reflect.construct(t,n||[],u(e).constructor):t.apply(e,n))}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}var p="SEARCH_FORM_NEXT_PAGE",f=function(e){function t(){return l(this,t),c(this,t,arguments)}return d(t,e),i(t)}(r.H),g="SEARCH_FORM_LOCATION_FIELD_UPDATE",y=function(e){function t(){return l(this,t),c(this,t,arguments)}return d(t,e),i(t)}(r.H),v="SEARCH_TOOLS_DATES_FIELD_OPEN",E=function(e){function t(){return l(this,t),c(this,t,arguments)}return d(t,e),i(t)}(r.H),h=function(e){function t(){return l(this,t),c(this,t,arguments)}return d(t,e),i(t)}(r.H),b="SEARCH_FORM_DATES_FIELD_UPDATE",S=function(e){function t(){return l(this,t),c(this,t,arguments)}return d(t,e),i(t)}(r.H),I="SEARCH_TOOLS_LOB_CHANGE",_=function(e){function t(){return l(this,t),c(this,t,arguments)}return d(t,e),i(t)}(r.H),k="SEARCH_FORM_FLEXIBLE_DATES_FIELD_UPDATE",C=function(e){function t(){return l(this,t),c(this,t,arguments)}return d(t,e),i(t)}(r.H),O="SEARCH_TOOLS_ORIGIN_FIELD_OPEN",P=function(e){function t(){return l(this,t),c(this,t,arguments)}return d(t,e),i(t)}(r.H)},63344:function(e,t,n){n.d(t,{Kw:function(){return m},M$:function(){return p}});var r=n(80216),a=n(4611);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function c(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=o(e);if(t){var a=o(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return c(this,n)}}function d(){var e,t,n=(e=["\n  fragment SortAndFilterBasicFilterPayloadFragment on SortAndFilterBasicFilterPayload {\n    filterId\n    type\n  }\n\n  fragment SortAndFilterSelectedFilterPillPayloadFragment on SortAndFilterSelectedFilterPillPayload {\n    deselectionSignalId\n    filter {\n      ... on EGDSBasicRemovablePill {\n        name\n        accessibility\n        id\n        removeAnalytics {\n          eventType\n          linkName\n          referrerId\n          uisPrimeMessages {\n            schemaName\n            messageContent\n          }\n        }\n      }\n    }\n    filterName {\n      ... on EGDSPlainText {\n        text\n      }\n      ... on EGDSBasicLocalizedText {\n        template\n        models {\n          key\n          source\n        }\n      }\n    }\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return d=function(){return n},n}var m=function(e){l(n,e);var t=u(n);function n(){return i(this,n),t.apply(this,arguments)}return n}(r.H),p=function(e){l(n,e);var t=u(n);function n(){return i(this,n),t.apply(this,arguments)}return n}(r.H);(0,a.J1)(d())},66785:function(e,t,n){n.d(t,{Ue:function(){return y},ch:function(){return p},nD:function(){return f},z3:function(){return g}});var r=n(80216);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t,n){return t=u(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,s()?Reflect.construct(t,n||[],u(e).constructor):t.apply(e,n))}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}var p=function(e){function t(){return l(this,t),c(this,t,arguments)}return d(t,e),i(t)}(r.H),f=function(e){function t(){return l(this,t),c(this,t,arguments)}return d(t,e),i(t)}(r.H),g=function(e){function t(){return l(this,t),c(this,t,arguments)}return d(t,e),i(t)}(r.H),y=function(e){function t(){return l(this,t),c(this,t,arguments)}return d(t,e),i(t)}(r.H)},54662:function(e,t,n){n.d(t,{Dc:function(){return T},Wt:function(){return N},a_:function(){return D}});var r=n(56195),a=n(1226),i=n(47540),o=n(4664),l=n(64512),c=n(42534),s=n(27102),u=n(51537),d=n(26690),m=n(97778),p=n(46559),f=Object.defineProperty,g=Object.defineProperties,y=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,b=(e,t,n)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S=(e,t)=>{for(var n in t||(t={}))E.call(t,n)&&b(e,n,t[n]);if(v)for(var n of v(t))h.call(t,n)&&b(e,n,t[n]);return e},I="single_select_pill",_="single_unselect_pill",k=e=>e.map(e=>{return"EGDSBasicPill"===e.__typename?(t=S({},e),g(t,y({selected:!1}))):S({},e);var t});function C(e,t){return t.find(t=>"EGDSBasicPill"===t.__typename&&t.id===e.payload.pill.id)}var O=(e,t)=>{switch(t.type){case I:{const n=k(e),r=C(t,n);return"EGDSBasicPill"===(null==r?void 0:r.__typename)&&(r.selected=!0),n}case _:{const n=k(e),r=n.find(Boolean),a=C(t,n);return"EGDSBasicPill"===(null==a?void 0:a.__typename)&&(a.selected=!1),"EGDSBasicPill"===(null==r?void 0:r.__typename)&&(r.selected=!0),n}default:return e}},P=e=>e.reduce((e,t)=>("EGDSBasicPill"===t.__typename&&t.selected&&t.id&&e.push(t.id),e),[]),{Provider:T,useFiltersContext:D}=(e=>{const t=r.createContext({list:null,filteredList:null,filterPills:[],dispatchAction:e=>{},defaultRoomsLimit:null,setDefaultRoomsLimit:e=>{}});return{Provider:({children:n,value:a})=>{const{list:i,filters:o,roomsLimit:l}=a,[c,s]=r.useReducer(O,o||[]),[u,d]=r.useState(i),[m,p]=r.useState(P(c)),[f,g]=r.useState(l);r.useEffect(()=>{const e=P(c);p(e)},[c]),r.useEffect(()=>{const t=m.length>0&&i&&i.length>0?i.filter(t=>e(t,m)):i;d(t)},[m,i]);const y=r.useMemo(()=>({list:i,filteredList:u,filterPills:c,dispatchAction:s,defaultRoomsLimit:f,setDefaultRoomsLimit:g}),[i,u,c,s,f,g]);return r.createElement(t.Provider,{value:y},n)},useFiltersContext:()=>r.useContext(t)}})((e,t)=>{var n;return"LodgingCategorizedUnit"!==e.__typename||((null==(n=e.primarySelections)?void 0:n.some(({propertyUnit:e})=>t.some(t=>{var n;return null==(n=e.matchingFilterIds)?void 0:n.includes(t)})))||!1)}),x=d.gql`
  fragment FilterBasicPillAnalyticsFragment on ClientSideAnalytics {
    eventType
    linkName
    referrerId
  }
`,w=d.gql`
  fragment FilterBasicPillFragment on EGDSBasicPill {
    id
    primary
    selected
    accessibility
    selectAnalytics {
      ...FilterBasicPillAnalyticsFragment
    }
    deselectAnalytics {
      ...FilterBasicPillAnalyticsFragment
    }
  }
  ${x}
`,A=d.gql`
  fragment LodgingOfferFiltersFragment on LodgingOfferFilters {
    heading {
      text
      accessibility
    }
    impressionTracking {
      ...FilterBasicPillAnalyticsFragment
    }
    filterPills {
      ...FilterBasicPillFragment
    }
  }

  ${x}
  ${w}
`,N=({data:e})=>{var t,n,d,f;const{filteredList:g,filterPills:y,dispatchAction:v,defaultRoomsLimit:E}=D(),h=(0,m.useClickTracker)(),[b,k]=r.useState(!1),C=(0,p.s5)({[p.OB.SMALL]:!0,[p.OB.MEDIUM]:!1}),O=null==(t=null==e?void 0:e.heading)?void 0:t.accessibility,P=(null==(n=null==e?void 0:e.heading)?void 0:n.text)||"",T=null==g?void 0:g.filter(e=>"LodgingCategorizedUnit"===e.__typename);let x=0;x=E&&(null==T?void 0:T.length)&&T.length>E?E:(null==T?void 0:T.length)||0;const w=((e,t)=>{let n=e;return Object.keys(t).forEach(e=>{const r=t[e].toString();n=n.replaceAll(`\${${e}}`,r.toString())}),n})(P,{displayCount:x});if(r.useEffect(()=>{w&&b&&((0,u.liveAnnounce)(w,u.Level.POLITE),setTimeout(()=>(0,u.liveAnnounce)("",u.Level.POLITE),1e3))},[g,b]),!e||0===y.length)return null;const{impressionTracking:A}=e,N=null==y?void 0:y.map((e,t)=>{if("EGDSBasicPill"===e.__typename){const{id:n,selected:a,primary:i,accessibility:l}=e;return r.createElement(o.B,{id:n||"",checked:a,altText:l||"",onChange:()=>(e=>{if(e.selected){if(v({type:_,payload:{pill:e}}),k(!0),e.deselectAnalytics){const{referrerId:t,linkName:n}=e.deselectAnalytics;h(t,n)}}else if(v({type:I,payload:{pill:e}}),k(!0),e.selectAnalytics){const{referrerId:t,linkName:n}=e.selectAnalytics;h(t,n)}})(e),key:t},null!=i?i:"")}return null}),R={referrerId:null!=(d=null==A?void 0:A.referrerId)?d:"",linkName:null!=(f=null==A?void 0:A.linkName)?f:""};return r.createElement(c.N,{margin:{block:"four"}},r.createElement(m.IntersectionTracker,S({},R),r.createElement(a.w,{columns:C?1:["auto","max-content"],alignItems:"center",space:"four"},O&&r.createElement("span",{className:"is-visually-hidden"},O),r.createElement(l.g,null,N),r.createElement(i.T,null,r.createElement(s.D,{whiteSpace:"nowrap"},w)))))};N.displayName="PropertyFilterPills",N.fragment=A},9153:function(e,t,n){n.d(t,{w:function(){return f}});var r=n(56195),a=n(53017),i=n(24558),o=n(42534),l=n(27102),c=n(51213),s=n(80043),u={display:"meso-display-ad"},d=e=>({__typename:"AdTransparencyButton",primary:e("sponsoredContent.transparency.adButton.text"),size:"small",accessibility:e("sponsoredContent.transparency.adButton.text"),disabled:!1,icon:null,analyticsPayload:null}),m=e=>({__typename:"TransparencyOverlaySkeleton",title:e("sponsoredContent.transparency.overlaySkeleton.title"),error:{__typename:"TransparencyOverlayError",icon:{__typename:"Icon",id:"info",size:"medium"},description:e("sponsoredContent.transparency.overlaySkeleton.errorDescription"),button:{__typename:"UIPrimaryButton",primary:e("sponsoredContent.transparency.overlaySkeleton.retryButton.text")},allowedRetryAttempts:3,exceededAttemptsMessage:e("sponsoredContent.transparency.overlaySkeleton.errorExceededAttemptsMessage")}}),p=({lineItemId:e})=>{const{formatText:t}=(0,c.useLocalization)(),[n,i]=(0,r.useState)({}),[u,p]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{var e;i((e=>({__typename:"AdTransparencyTrigger",adTransparencyId:"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)).toString(),adTransparencyButton:d(e),adTransparencyOverlaySkeleton:m(e)}))(t)),p((null==(e=localStorage.getItem("eg_adblock"))?void 0:e.split("|").includes("aaa=1"))||!1)},[]),r.createElement(a.Experiment,{name:"EU_Ad_Transparency_Feature_Gate"},r.createElement(a.ExperimentControl,null,u?r.createElement(a.Experiment,{name:"IAB_Ad_Badge"},r.createElement(a.ExperimentControl,null),r.createElement(a.ExperimentVariant,{bucket:1},r.createElement(o.N,{margin:{blockstart:"two"}},r.createElement(l.D,{theme:"standard",size:200},t("sponsoredContent.transparency.adButton.text"))))):null),r.createElement(a.ExperimentVariant,{bucket:1},r.createElement(o.N,{padding:{blockstart:"two"}},r.createElement("div",null,r.createElement(s.x,{type:s.R.DISPLAY_AD,lineItemId:e,data:n})))))},f=({type:e,uci:t,displayAdRef:n,className:o,adSwapEnabled:l,isEnabled:c})=>{const[s,d]=r.useState(!1),[m,f]=r.useState(!1),[g,y]=r.useState("");r.useEffect(()=>{const e=e=>{const{slot:n,enabled:r}=e.detail;n===t&&f(r)};return window.addEventListener("OnMediaQuery",e),()=>{window.removeEventListener("OnMediaQuery",e)}},[t]),r.useEffect(()=>{const e=n.current,t=e=>{const{detail:t}=e;if("AD-LOAD-PASS"!==t.code)return y(""),void d(!1);d(!0),y(t.lineItemId)};return e&&e.addEventListener("mesoAd",t),()=>{e&&e.removeEventListener("mesoAd",t)}},[n]);const v=(e,t,n,a,i=!1,o=!1)=>r.createElement(u[e||"display"],{uci:t,slot:t,ref:n,class:a,adSwapEnabled:!!i||null,enabled:!!o||null}),E=(e,t,n)=>e&&t&&n?r.createElement(p,{lineItemId:n}):null;return r.createElement(i.A,{adBlockExperiment:"IAB_Acceptable_Ads_Enablement"},r.createElement(a.Experiment,{name:"Split_View_Side_by_side_BEXG_H",logExposure:!1},r.createElement(a.ExperimentControl,null,v(e,t,n,o),E(s,m,g)),r.createElement(a.ExperimentVariant,{bucket:1},E(s,m,g),v(e,t,n,o,l,c)),r.createElement(a.ExperimentVariant,{bucket:2},E(s,m,g),v(e,t,n,o,l,c))))};f.displayName="sharedui-AdBanner"},24558:function(e,t,n){n.d(t,{A:function(){return v},P:function(){return y}});var r=n(56195),a=n(53017),i=n(63085),o=Object.defineProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&u(e,n,t[n]);if(l)for(var n of l(t))s.call(t,n)&&u(e,n,t[n]);return e},m=new i.SystemEvent(i.SystemEventLevel.INFO,"AD_BLOCK_DETECTED"),p=()=>((0,i.useLoggerEvents)({AD_BLOCK_DETECTED_EVENT:m}).AD_BLOCK_DETECTED_EVENT.log({message:"collapsing"}),null),f=e=>{const{children:t}=e;return(0,i.useLoggerEvents)({AD_BLOCK_DETECTED_EVENT:m}).AD_BLOCK_DETECTED_EVENT.log({message:"not collapsing"}),r.createElement(r.Fragment,null,t)};function g(e){const t=t=>{var n;const{collapseWhenAdBlockDetected:i,adBlockCollapseExperiment:o}=t,l=r.createElement(f,null,r.createElement(e,d({},t)));return window.meso=null!=(n=window.meso)?n:{},!window.meso.adblock||window.meso.adblock.enabled?o?r.createElement(a.Experiment,{name:"Acceptable_Ads_Component_Enablement"},r.createElement(a.ExperimentControl,null,r.createElement(p,null)),r.createElement(a.ExperimentVariant,{bucket:1},"PG_Acceptable_Ads_Enablement"===o?r.createElement(a.Experiment,{name:"PG_Acceptable_Ads_Enablement"},r.createElement(a.ExperimentControl,null,r.createElement(p,null)),r.createElement(a.ExperimentVariant,{bucket:1},l)):"Acceptable_Ads_Component_Enablement"===o?l:r.createElement(p,null))):!1===i?l:r.createElement(p,null):r.createElement(e,d({},t))};return t.displayName="WithAdBlockDetectHOC",t}var y=e=>g(e);y.displayName="sharedui-AdBlockDetectWrapper";var v=e=>{var t,n,i;const{isSponsored:o=!0,callback:l,renderCallback:c,children:s,fallbackComponent:u=null,adBlockExperiment:d=""}=e,m=!1!==(null==(n=null==(t=window.meso)?void 0:t.adblock)?void 0:n.enabled),p=null==(i=localStorage.getItem("eg_adblock"))?void 0:i.split("|").includes("aaa=1");let f=0;"IAB_Acceptable_Ads_Enablement"===d&&p&&(f=(0,a.useExperiment)("IAB_Acceptable_Ads_Enablement",!0).exposure.bucket),"Marquee_Acceptable_Ads_Enablement"===d&&(f=(0,a.useExperiment)("Marquee_Acceptable_Ads_Enablement").exposure.bucket);const g=(0,a.useExperiment)("Acceptable_Ads_Component_Enablement").exposure.bucket;return!o||!m||1===g&&1===f?(null==l||l(),null==c||c(!0),r.createElement(r.Fragment,null,s)):(null==c||c(!1),r.createElement(r.Fragment,null,u))};v.displayName="sharedui-AdBlockerAware"},52302:function(e,t,n){n.d(t,{RL:function(){return u},ZY:function(){return d},by:function(){return c},ii:function(){return s}});var r=n(56195),a=n(26690),i=n(63085),o={FAIL_TO_SEND_BEACON_USING_BEACON_API:new i.SystemEvent(i.SystemEventLevel.WARN,"FAIL_TO_SEND_BEACON_USING_BEACON_API")},l=(a.gql`
  fragment SponsoredContentBeaconsFragment on SponsoredContentBeacons {
    renderBeacons
    viewabilityBeacon
  }
`,(e,t)=>{try{navigator.sendBeacon(encodeURI(e))||t.FAIL_TO_SEND_BEACON_USING_BEACON_API.log({})}catch(n){t.FAIL_TO_SEND_BEACON_USING_BEACON_API.log({error:n})}}),c=()=>{const e=(0,i.useLoggerEvents)(o);return t=>{t&&l(t,e)}},s=e=>{const t=(0,i.useLoggerEvents)(o);r.useEffect(()=>{var n;e&&(null==(n=e.renderBeacons)||n.forEach(e=>{l(e,t)}))},[])},u=e=>{r.useEffect(()=>{e&&e.forEach(e=>{window.meso=window.meso||{},window.meso.beacons=window.meso.beacons||[],window.meso.beacons.push({type:"beacon",url:e})})},[e])},d=(e,t)=>{const n=(0,r.useCallback)(e=>{var n;e&&window.meso&&Array.isArray(t)&&t.length>0&&(window.meso.clickaction=null!=(n=window.meso.clickaction)?n:[],window.meso.clickaction.push({type:"deregister",element:e}))},[t]),a=(0,r.useCallback)(e=>{e&&t&&t.forEach(t=>{var n,r;window.meso=null!=(n=window.meso)?n:{},window.meso.clickaction=null!=(r=window.meso.clickaction)?r:[],window.meso.clickaction.push({action:"ad-click",type:"register",element:e,url:t})})},[t]);r.useEffect(()=>{const t=e.current;return a(t),()=>{n(t)}},[e,a,n])}},3749:function(e,t,n){n.d(t,{eh:function(){return S}});var r=n(4611),a=n(56195),i=n(87993),o=n(30169),l=n(95519),c=n(2557),s=n(97778),u=n(22142);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){d(e,t,n[t])})}return e}function p(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function f(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function g(){var e=f(["\n  fragment TripsUIToastFragment on TripsUIToast {\n    analytics {\n      linkName\n      referrerId\n    }\n    text\n    actionText\n    action {\n      ...TripsUIToastActionFragment\n    }\n  }\n\n  fragment TripsUIToastActionFragment on TripsUIToastAction {\n    ...TripsUIToastUILinkActionFragment\n    ...TripsUIOpenInviteToTripSheetActionFragement\n    ...TripsUIOpenEmailAppActionFragment\n  }\n\n  fragment TripsUIOpenEmailAppActionFragment on TripsUIOpenEmailAppAction {\n    analytics {\n      linkName\n      referrerId\n    }\n  }\n\n  fragment TripsUIOpenInviteToTripSheetActionFragement on TripsUIOpenInviteToTripSheetAction {\n    analytics {\n      linkName\n      referrerId\n      uisPrimeMessages {\n        schemaName\n        messageContent\n      }\n    }\n    primer {\n      tripId\n    }\n  }\n\n  fragment TripsUIToastUILinkActionFragment on UILinkAction {\n    accessibility\n    analytics {\n      linkName\n      referrerId\n    }\n    resource {\n      value\n    }\n  }\n"]);return g=function(){return e},e}function y(){var e=f(["\n  fragment ClientSideImpressionEventAnalyticsFragment on ClientSideImpressionEventAnalytics {\n    linkName\n    referrerId\n  }\n"]);return y=function(){return e},e}function v(){var e=f(["\n  fragment EGClickStreamAnalyticsFragment on EGClickStreamAnalytics {\n    event {\n      eventCategory\n      eventName\n      eventType\n      eventVersion\n      actionLocation\n    }\n    payload\n  }\n"]);return v=function(){return e},e}function E(){var e=f(["\n  fragment TripsUIClickstreamAnalyticsFragment on TripsUIClickstreamAnalytics {\n    event {\n      ...EGClickstreamEventFragment\n    }\n    payload\n  }\n\n  fragment EGClickstreamEventFragment on EGClickstreamEvent {\n    eventName\n    eventType\n    eventVersion\n    eventCategory\n    actionLocation\n  }\n"]);return E=function(){return e},e}function h(){var e=f(["\n  fragment TripsUIButtonFragment on TripsUIButton {\n    accessibility\n    clickAnalytics: analytics {\n      linkName\n      referrerId\n    }\n    clickClickstreamAnalytics: clickstreamAnalytics {\n      ...TripsUIClickstreamAnalyticsFragment\n    }\n    disabled\n    primary\n    icon {\n      id\n      description\n      title\n    }\n  }\n\n  ","\n"]);return h=function(){return e},e}function b(){var e=f(["\n  fragment TripsUICommonGraphicFragment on UIGraphic {\n    ... on Icon {\n      id\n      description\n      title\n    }\n    ... on Illustration {\n      id\n      description\n      url\n    }\n  }\n"]);return b=function(){return e},e}var S=(0,r.J1)(g()),I=(0,r.J1)(y()),_=function(e){var t,n=e.className,r=e.cloneElement,i=e.data,o=e.children;return a.createElement(s.IntersectionTracker,{className:n,cloneElement:r,referrerId:i.referrerId,linkName:null!==(t=i.linkName)&&void 0!==t?t:i.referrerId,intersectionOptions:{threshold:.5}},o)};_.displayName="ClientSideImpressionEventAnalytics",_.fragment=I;var k=(0,r.J1)(v()),C=function(e){var t,n,r,i,o,l,c=e.data,u=e.children;return a.createElement(s.EgClickstreamImpressionTracker,{eventData:(t=c,n=t.event,r=t.payload,i=n.eventName,o=n.eventType,l={event_name:i,event_version:n.eventVersion,event_type:o,event_category:n.eventCategory,action_location:n.actionLocation},r?{clientPayload:{event:l},serverPayload:r}:{event:l})},u)};C.displayName="EGClickStreamAnalyticsImpressionTracker",C.fragment=k;var O=(0,r.J1)(E()),P=function(e){var t,n,r,i,o,l=e.data,c=e.children,u=e.className;return a.createElement(s.EgClickstreamImpressionTracker,{eventData:(t=l,n=t.event,r=t.payload,i=n.eventName,o=n.eventType,m({clientPayload:{event:{event_name:i,event_version:n.eventVersion,event_type:o,event_category:n.eventCategory,action_location:n.actionLocation}}},r&&{serverPayload:r}))},a.isValidElement(c)?a.cloneElement(c,{className:u}):c)};P.displayName="TripsUIClickstreamAnalyticsImpressionTracker",P.fragment=O;var T=(0,r.J1)(h(),O),D=function(e){var t=e.analytics,n=e.buttonProps,r=e.className,u=e.data,d=e.tag,f=u.__typename,g=u.accessibility,y=u.clickAnalytics,v=u.primary,E=u.disabled,h=u.icon,b=(0,s.useClickTracker)(),S=y?{description:y.linkName,id:y.referrerId,callback:function(e,t){b(e,t)}}:void 0;if(!v)return null;var I=m({analytics:t||S,"aria-label":null!=g?g:void 0,className:r,disabled:E},n);switch(f){case"TripsUIPrimaryButton":var _;return a.createElement(i.y,p(m({},I),{tag:d}),h&&a.createElement(c.LD,{id:h.id,name:h.id,description:h.description,title:null!==(_=h.title)&&void 0!==_?_:void 0}),v);case"TripsUISecondaryButton":var k;return a.createElement(o.y,p(m({},I),{tag:d}),h&&a.createElement(c.LD,{id:h.id,name:h.id,description:h.description,title:null!==(k=h.title)&&void 0!==k?k:void 0}),v);case"TripsUITertiaryButton":var C;return a.createElement(l.q,p(m({},I),{tag:d}),h&&a.createElement(c.LD,{id:h.id,name:h.id,description:h.description,title:null!==(C=h.title)&&void 0!==C?C:void 0}),v);default:return null}};D.displayName="TripsUIButton",D.fragment=T;var x=(0,r.J1)(b()),w=function(e){var t=e.data,n=e.iconSize;switch(t.__typename){case"Icon":var r;return a.createElement(c.LD,{name:t.id,size:n,description:t.description,id:t.id,title:null!==(r=t.title)&&void 0!==r?r:void 0});case"Illustration":return a.createElement(u.r,{url:t.url,alt:t.description});default:return null}};w.displayName="TripsUIGraphic",w.fragment=x},66407:function(e,t,n){n.d(t,{Q:function(){return G}});var r=n(56195),a=n(4611),i=n(10554),o=n(64341),l=n(70882),c=n(69772),s=n(24924),u=n(522),d=n(99828),m=n(42534),p=n(74071),f=n(69287),g=n(2557),y=n(51537),v=n(22142),E=n(87698),h=n(96394),b=n(87993),S=n(95519),I=n(30686),_=Object.defineProperty,k=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,P=(e,t,n)=>t in e?_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T=(e,t)=>{for(var n in t||(t={}))C.call(t,n)&&P(e,n,t[n]);if(k)for(var n of k(t))O.call(t,n)&&P(e,n,t[n]);return e},D=a.J1`
  fragment IconFragments on Icon {
    description
    id
    size
    spotLight
    theme
    title
    withBackground
  }
`,x={INFO:"info",POSITIVE:"positive",STANDARD:"standard",WARNING:"warning"},w=({className:e,data:t})=>{var n,a;return r.createElement(g.LD,{className:(0,y.classNames)(e,`booking-servicing-icon-${t.id}`),description:t.description,id:t.id,name:t.id,shadow:Boolean(!t.spotLight&&t.withBackground),size:t.size?g.So[t.size]:void 0,spotlight:t.spotLight?{theme:x[t.spotLight],background:t.withBackground}:void 0,title:null!=(n=t.title)?n:t.id,theme:null!=(a=null==t?void 0:t.theme)?a:void 0})};w.displayName="EGDSIcon",w.fragment=D;var A=a.J1`
  fragment IllustrationFragments on Illustration {
    description
    id
    link: url
  }
`,N=({data:e})=>r.createElement(v.r,{alt:e.description,url:e.link});N.displayName="Illustration",N.fragment=A;var R=a.J1`
  fragment MarkFragments on Mark {
    description
    id
    markSize: size
    url {
      relativePath
      value
    }
  }
`,L=({className:e,data:t})=>{var n;return r.createElement(E.D,{className:(0,y.classNames)(e,`booking-servicing-mark-${t.id}`),description:t.description,id:t.id,name:t.id,size:t.markSize?h.K[t.markSize]:void 0,url:null==(n=t.url)?void 0:n.value})};L.displayName="Mark",L.fragment=R;var F=a.J1`
  fragment UIGraphicFragment on UIGraphic {
    ... on Icon {
      ...IconFragments
    }

    ... on Mark {
      ...MarkFragments
    }

    ... on Illustration {
      ...IllustrationFragments
    }
  }

  ${w.fragment}
  ${L.fragment}
  ${N.fragment}
`,M=({className:e,data:t})=>{switch(t.__typename){case"Icon":return r.createElement(w,{className:e,data:t});case"Mark":return r.createElement(L,{className:e,data:t});case"Illustration":return r.createElement(N,{data:t})}};M.displayName="UiGraphic",M.fragment=F;var j=a.J1`
  fragment EGDSActionDialogFooterFragment on EGDSDialogFooter {
    ... on EGDSStackedDialogFooter {
      buttons {
        ...SessionActionDialogFooterButton
      }
    }
    ... on EGDSInlineDialogFooter {
      buttons {
        ...SessionActionDialogFooterButton
      }
    }
  }

  fragment SessionActionDialogFooterButton on EGDSButton {
    primary
    action {
      ... on UILinkAction {
        target
        useRelativePath
        resource {
          ... on HttpURI {
            value
            relativePath
          }
        }
      }
    }
    accessibility
    ... on UIPrimaryButton {
      accessibility
    }
  }
`,$={UIPrimaryButton:b.y,UITertiaryButton:S.q},B=({data:e,onDialogClose:t})=>{const n=((e,t)=>e.buttons.filter(e=>e.__typename in $).map((e,n)=>{var a;const i=$[e.__typename],o={key:`dialog-footer-button-${n}`,analytics:{id:`dialog-footer-button-${n}`,callback:()=>{t()}}};if("UILinkAction"===(null==(a=e.action)?void 0:a.__typename)){const n=e.action,{useRelativePath:a}=n,l=((e,t)=>{if("HttpURI"===e.resource.__typename)return t?e.resource.relativePath:e.resource.value})(n,a),c={href:l,target:"EXTERNAL"===n.target?"_blank":"_self",rel:"noopener",onClick:t};return c.href?r.createElement(i,T(T({},o),c),e.primary," "):null}{const n={onClick:t};return r.createElement(i,T(T({},o),n),e.primary)}}).filter(e=>void 0!==e))(e,t);return"EGDSInlineDialogFooter"===e.__typename?r.createElement(I.l,{stacked:!1},n):r.createElement(I.l,{stacked:!0},n)};B.fragment=j,B.displayName="SessionDialogFooter";var U=a.J1`
  fragment SessionDialogFragment on Dialog {
    actionDialog {
      ...SessionActionDialogFragment
    }
    actionEndTime
    actionStartTime
    dialogContent
    graphic {
      ...UIGraphicFragment
    }
    title
    triggerMessage {
      label
      accessibility
    }
    __typename
  }

  fragment SessionActionDialogFragment on EGDSActionDialog {
    closeAnalytics {
      referrerId
      linkName
      __typename
    }
    footer {
      ...EGDSActionDialogFooterFragment
    }
  }

  ${B.fragment}
  ${M.fragment}
`,z=({data:e,dialogId:t,onDialogClose:n})=>{const[a,i,o]=(0,l.useDialog)(t),g=(0,r.useRef)(null),{graphic:y,actionDialog:v,title:E,dialogContent:h}=e;return r.createElement(o,null,r.createElement(c.Q,{dialogShow:a,returnFocusOnClose:!0,triggerRef:g},r.createElement(s.h,null,r.createElement(u.X,{alignItems:"start",justifyContent:"start","data-stid":"signin-popup-message-result-"},y&&r.createElement(d.C,{alignSelf:"center"},r.createElement(m.N,{margin:{inlinestart:"one",inlineend:"one"}},r.createElement(M,{data:y}))),r.createElement(d.C,{minWidth:"full_width"},r.createElement(m.N,{margin:{inlinestart:"four",inlineend:"one"}},r.createElement("div",null,r.createElement(p.M,{align:"left",tag:"h2",size:5},E),r.createElement(f.u,{size:2},h),(null==v?void 0:v.footer)&&r.createElement(B,{data:v.footer,onDialogClose:()=>{i.closeDialog(),n()}}))))))))};z.fragment=U,z.displayName="SessionSignInDialog";var H=a.J1`
  query SessionManagerQuery($context: ContextInput!) {
    getSessionConfig(context: $context) {
      status
      eventPerformed
      warning {
        ...SessionDialogFragment
        time
        __typename
      }
      session {
        ...SessionDialogFragment
        time
        __typename
      }
      finalSession {
        ...SessionDialogFragment
        time
        __typename
      }
    }
  }
  ${z.fragment}
`,G=({skipSsr:e})=>{const{context:t}=(0,o.R)(),n={context:t},{data:a,error:c,loading:s}=(0,i.I)(H,{variables:n,ssr:!e}),[u,d]=(0,r.useState)(!1),m=(0,r.useRef)(u),[p,f]=(0,r.useState)(!1),g=(0,r.useRef)(p),[y,v]=(0,r.useState)(!1),E=(0,r.useRef)(y),[,h]=(0,l.useDialog)("idle-session-extension-dialog"),[,b]=(0,l.useDialog)("warning-session-extension-dialog"),[,S]=(0,l.useDialog)("final-session-extension-dialog"),I=(e,t)=>r.createElement(z,{data:t,dialogId:e,onDialogClose:_}),_=()=>{v(!1),d(!1),f(!1)},k=e=>1e3*e,C=()=>{var e,t;if(g.current||E.current)return;const n=Date.now();(null==(e=null==a?void 0:a.getSessionConfig.warning)?void 0:e.time)&&localStorage.setItem("warningTime",String(n+k(a.getSessionConfig.warning.time))),(null==(t=null==a?void 0:a.getSessionConfig.session)?void 0:t.time)&&localStorage.setItem("softLogoutTime",String(n+k(a.getSessionConfig.session.time)))},O=()=>{const e=Date.now(),t=Number(localStorage.getItem("warningTime")),n=Number(localStorage.getItem("softLogoutTime")),r=(null==(o=null==(i=null==a?void 0:a.getSessionConfig)?void 0:i.finalSession)?void 0:o.actionEndTime)?new Date(a.getSessionConfig.finalSession.actionEndTime).getTime():Number(localStorage.getItem("hardLogoutTime"));var i,o;return r&&e>=r?(d(!1),v(!1),f(!0),void S.openDialog()):n&&e>=n?(d(!1),v(!0),f(!1),void h.openDialog()):t&&e>=t?(d(!0),v(!1),f(!1),void b.openDialog()):(d(!1),v(!1),void f(!1))};return(0,r.useEffect)(()=>{const e=setInterval(()=>{O()},2e3);return()=>clearInterval(e)},[]),(0,r.useEffect)(()=>{m.current=u},[u]),(0,r.useEffect)(()=>{g.current=p},[p]),(0,r.useEffect)(()=>{E.current=y},[y]),(0,r.useEffect)(()=>{var e,t,n,r,i,o,l,c,s;if(null==(e=null==a?void 0:a.getSessionConfig)?void 0:e.eventPerformed)for(const d of a.getSessionConfig.eventPerformed)window.addEventListener(d,C);const u=Date.now();(null==(n=null==(t=null==a?void 0:a.getSessionConfig)?void 0:t.warning)?void 0:n.time)&&localStorage.setItem("warningTime",String(u+k(a.getSessionConfig.warning.time))),(null==(i=null==(r=null==a?void 0:a.getSessionConfig)?void 0:r.session)?void 0:i.time)&&localStorage.setItem("softLogoutTime",String(u+k(a.getSessionConfig.session.time))),(null==(l=null==(o=null==a?void 0:a.getSessionConfig)?void 0:o.finalSession)?void 0:l.time)&&localStorage.setItem("hardLogoutTime",String(u+k(a.getSessionConfig.finalSession.time))),(null==(s=null==(c=null==a?void 0:a.getSessionConfig)?void 0:c.finalSession)?void 0:s.actionEndTime)&&localStorage.setItem("hardLogoutTime",String(new Date(a.getSessionConfig.finalSession.actionEndTime).getTime()))},[a]),c||s||!a||"active"!==a.getSessionConfig.status?null:r.createElement(r.Fragment,null,u&&a.getSessionConfig.warning&&r.createElement("div",{"data-testid":"warning-session-extension-dialog"},I("warning-session-extension-dialog",a.getSessionConfig.warning)),y&&a.getSessionConfig.session&&r.createElement("div",{"data-testid":"idle-session-extension-dialog"},I("idle-session-extension-dialog",a.getSessionConfig.session)),p&&a.getSessionConfig.finalSession&&r.createElement("div",{"data-testid":"final-session-extension-dialog"},I("final-session-extension-dialog",a.getSessionConfig.finalSession)))};G.displayName="sharedui-PartnerSessionManager"},62467:function(e,t,n){n.d(t,{_:function(){return a}});var r=n(56195),a=({viewabilityBeacon:e})=>(({viewabilityBeacon:e})=>{const t=r.useRef(null),n=(0,r.useCallback)(e=>{var t;e&&window.meso&&(window.meso.viewability=null!=(t=window.meso.viewability)?t:[],window.meso.viewability.push({type:"deregister",element:e}))},[]),a=(0,r.useCallback)(t=>{var n,r;t&&(window.meso=null!=(n=window.meso)?n:{},window.meso.viewability=null!=(r=window.meso.viewability)?r:[],window.meso.viewability.push({type:"register",config:"image",element:t,beacon:e}))},[e]);return r.useEffect(()=>{const e=t.current;return a(e),()=>{n(e)}},[a,n]),{componentRef:t}})({viewabilityBeacon:e});a.displayName="sharedui-useMesoViewabilityWrapper"},97522:function(e,t,n){n.d(t,{UF:function(){return u}});var r=n(56195),a=n(4611);n(64341);function i(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(){var e=i(["\n  mutation RemoveShortlistItem($context: ContextInput!, $productId: String!, $productType: ProductType!) {\n    removeShortlistItem(context: $context, productId: $productId, productType: $productType) {\n      result\n    }\n  }\n"]);return o=function(){return e},e}function l(){var e=i(["\n  mutation SaveShortlistItem($context: ContextInput!, $productId: String!, $productType: ProductType!, $metadata: [ShortlistMetadataInput!]) {\n    saveShortlistItem(context: $context, productId: $productId, productType: $productType, metadata: $metadata) {\n      id\n      productId\n      productType\n    }\n  }\n"]);return l=function(){return e},e}function c(){var e=i(["\n  query LocalShortlistedItems {\n    localShortlistedItems @client {\n      id\n      productType\n      isShortlisted\n      __typename\n    }\n  }\n"]);return c=function(){return e},e}var s=r.createContext({dispatchHandler:function(){}}),u=function(e){var t=e.children,n={dispatchHandler:e.dispatchHandler};return r.createElement(s.Provider,{value:(0,r.useMemo)(function(){return n},[n])},t||null)};(0,a.J1)(o()),(0,a.J1)(l()),(0,a.J1)(c())},46559:function(e,t,n){n.d(t,{TD:function(){return _},zQ:function(){return S},rw:function(){return h},OB:function(){return r},NP:function(){return v},LM:function(){return D},k6:function(){return g},pf:function(){return i},eg:function(){return l},s5:function(){return T}});var r,a=n(56195),i={SMALL:0,MEDIUM:576,LARGE:992,EXTRA_LARGE:1200};!function(e){e.SMALL="SMALL",e.MEDIUM="MEDIUM",e.LARGE="LARGE",e.EXTRA_LARGE="EXTRA_LARGE"}(r||(r={}));var o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(l){a={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o};function l(e){var t,n=e.viewSizes,r=e.baseFontSizePx;t=Object.entries(n).map(function(e){var t=o(e,2),n=(t[0],t[1]);return[n,window.matchMedia("(min-width: ".concat(r?n*r:n,"px)"))]});var i=function(){var e=n.SMALL;if(t.length>0){var r=t[0],a=t.filter(function(e){return e[1].matches}).reduce(function(e,t){var n=o(e,2),r=n[0],a=n[1],i=o(t,2),l=i[0],c=i[1];return r>l?[r,a]:[l,c]},r);e=a[0]}return e},l=o(a.useState(i),2),c=l[0],s=l[1];return a.useEffect(function(){var e=function(){return s(i)};return t&&t.length>0&&t.forEach(function(t){return t[1].addListener(e)}),function(){t&&t.length>0&&t.forEach(function(t){return t[1].removeListener(e)})}},[]),c}var c,s=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(l){a={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o},u=function(e,t,n){if("number"==typeof t.resolutionWidth&&t.resolutionWidth>0){var r=t.resolutionWidth,a=t.physicalScreenWidth,i=r;return a&&(i=function(e,t){return Math.round(e/(e/(t/25.4))*160)}(r,a)),function(e,t){return t?e/t:e}(i,n)}return!0===t.tablet?e.MEDIUM:!0===t.mobile?e.SMALL:e.LARGE},d=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(l){a={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o},m={viewSizes:i,validViewSize:i.SMALL,setValidViewSize:function(e){return 0}},p=a.createContext(m),f=function(){return a.useContext(p)},g=function(e){var t,n=e.viewSizes,r=e.baseFontSizePx,o=e.deviceInformation,c=e.children,f=n||i;r&&(f=function(e,t){return Object.entries(e).reduce(function(e,n){var r=s(n,2),a=r[0],i=r[1];return e[a]=i/t,e},{})}(f,r)),o&&(t=u(f,o,r));var g=d(a.useState(t||m.validViewSize),2),y=g[0],v=g[1],E=l({viewSizes:f,deviceInformation:o,baseFontSizePx:r});a.useEffect(function(){v(E)},[E]);var h={baseFontSizePx:r,validViewSize:y,setValidViewSize:v,viewSizes:f};return a.createElement(p.Provider,{value:h},c)},y=(c=function(e,t){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},c(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y(t,e),t.prototype.render=function(){return a.createElement(a.Fragment,null,this.props.children||null)},Object.defineProperty(t,"viewSize",{get:function(){return r.SMALL},enumerable:!1,configurable:!0}),Object.defineProperty(t,"displayName",{get:function(){return"viewportView-small"},enumerable:!1,configurable:!0}),t}(a.Component),E=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return E(t,e),t.prototype.render=function(){return a.createElement(a.Fragment,null,this.props.children||null)},Object.defineProperty(t,"viewSize",{get:function(){return r.MEDIUM},enumerable:!1,configurable:!0}),Object.defineProperty(t,"displayName",{get:function(){return"viewportView-medium"},enumerable:!1,configurable:!0}),t}(a.Component),b=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return b(t,e),t.prototype.render=function(){return a.createElement(a.Fragment,null,this.props.children||null)},Object.defineProperty(t,"viewSize",{get:function(){return r.LARGE},enumerable:!1,configurable:!0}),Object.defineProperty(t,"displayName",{get:function(){return"viewportView-large"},enumerable:!1,configurable:!0}),t}(a.Component),I=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return I(t,e),t.prototype.render=function(){return a.createElement(a.Fragment,null,this.props.children||null)},Object.defineProperty(t,"viewSize",{get:function(){return r.EXTRA_LARGE},enumerable:!1,configurable:!0}),Object.defineProperty(t,"displayName",{get:function(){return"viewportView-extra_large"},enumerable:!1,configurable:!0}),t}(a.Component),k=a.createContext(void 0),C=function(){return a.useContext(k)},O=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(l){a={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o},P=function(e){var t=f(),n=t.viewSizes,r=t.validViewSize,i=C();return(0,a.useMemo)(function(){var t=i?n[i]:1/0,a=t<r?t:r;return e.reduce(function(e,t){var r=O(e,1)[0],i=n[t[0]];return i<=a&&(!r||i>n[r])?t:e},[null,void 0])[1]},[n,r,i,e])},T=function(e){return P((0,a.useMemo)(function(){return Object.entries(e)},[e]))},D=function(e){var t=e.children;return a.createElement(a.Fragment,null,P(a.Children.toArray(t).map(function(e){return[e.type.viewSize,e.props.children]})))}}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/shopping-pwa/shared-ui.0c282bf6c6bae8b6d791.js.map